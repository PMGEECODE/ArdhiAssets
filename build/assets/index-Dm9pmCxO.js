var gP=Object.defineProperty;var vP=(e,t,r)=>t in e?gP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var zt=(e,t,r)=>vP(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var l2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vb={exports:{}},o1={},Gb={exports:{}},ks={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LN;function yP(){if(LN)return ks;LN=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),p=Symbol.iterator;function x(ee){return ee===null||typeof ee!="object"?null:(ee=p&&ee[p]||ee["@@iterator"],typeof ee=="function"?ee:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function _(ee,B,q){this.props=ee,this.context=B,this.refs=v,this.updater=q||f}_.prototype.isReactComponent={},_.prototype.setState=function(ee,B){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,B,"setState")},_.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function k(){}k.prototype=_.prototype;function S(ee,B,q){this.props=ee,this.context=B,this.refs=v,this.updater=q||f}var M=S.prototype=new k;M.constructor=S,y(M,_.prototype),M.isPureReactComponent=!0;var T=Array.isArray,O=Object.prototype.hasOwnProperty,A={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function N(ee,B,q){var Q,K={},ae=null,ge=null;if(B!=null)for(Q in B.ref!==void 0&&(ge=B.ref),B.key!==void 0&&(ae=""+B.key),B)O.call(B,Q)&&!C.hasOwnProperty(Q)&&(K[Q]=B[Q]);var he=arguments.length-2;if(he===1)K.children=q;else if(1<he){for(var ke=Array(he),Ae=0;Ae<he;Ae++)ke[Ae]=arguments[Ae+2];K.children=ke}if(ee&&ee.defaultProps)for(Q in he=ee.defaultProps,he)K[Q]===void 0&&(K[Q]=he[Q]);return{$$typeof:e,type:ee,key:ae,ref:ge,props:K,_owner:A.current}}function E(ee,B){return{$$typeof:e,type:ee.type,key:B,ref:ee.ref,props:ee.props,_owner:ee._owner}}function z(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===e}function P(ee){var B={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(q){return B[q]})}var I=/\/+/g;function W(ee,B){return typeof ee=="object"&&ee!==null&&ee.key!=null?P(""+ee.key):B.toString(36)}function Z(ee,B,q,Q,K){var ae=typeof ee;(ae==="undefined"||ae==="boolean")&&(ee=null);var ge=!1;if(ee===null)ge=!0;else switch(ae){case"string":case"number":ge=!0;break;case"object":switch(ee.$$typeof){case e:case t:ge=!0}}if(ge)return ge=ee,K=K(ge),ee=Q===""?"."+W(ge,0):Q,T(K)?(q="",ee!=null&&(q=ee.replace(I,"$&/")+"/"),Z(K,B,q,"",function(Ae){return Ae})):K!=null&&(z(K)&&(K=E(K,q+(!K.key||ge&&ge.key===K.key?"":(""+K.key).replace(I,"$&/")+"/")+ee)),B.push(K)),1;if(ge=0,Q=Q===""?".":Q+":",T(ee))for(var he=0;he<ee.length;he++){ae=ee[he];var ke=Q+W(ae,he);ge+=Z(ae,B,q,ke,K)}else if(ke=x(ee),typeof ke=="function")for(ee=ke.call(ee),he=0;!(ae=ee.next()).done;)ae=ae.value,ke=Q+W(ae,he++),ge+=Z(ae,B,q,ke,K);else if(ae==="object")throw B=String(ee),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return ge}function Y(ee,B,q){if(ee==null)return ee;var Q=[],K=0;return Z(ee,Q,"","",function(ae){return B.call(q,ae,K++)}),Q}function te(ee){if(ee._status===-1){var B=ee._result;B=B(),B.then(function(q){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=q)},function(q){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=q)}),ee._status===-1&&(ee._status=0,ee._result=B)}if(ee._status===1)return ee._result.default;throw ee._result}var ie={current:null},le={transition:null},se={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:le,ReactCurrentOwner:A};function oe(){throw Error("act(...) is not supported in production builds of React.")}return ks.Children={map:Y,forEach:function(ee,B,q){Y(ee,function(){B.apply(this,arguments)},q)},count:function(ee){var B=0;return Y(ee,function(){B++}),B},toArray:function(ee){return Y(ee,function(B){return B})||[]},only:function(ee){if(!z(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},ks.Component=_,ks.Fragment=r,ks.Profiler=a,ks.PureComponent=S,ks.StrictMode=s,ks.Suspense=c,ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,ks.act=oe,ks.cloneElement=function(ee,B,q){if(ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ee+".");var Q=y({},ee.props),K=ee.key,ae=ee.ref,ge=ee._owner;if(B!=null){if(B.ref!==void 0&&(ae=B.ref,ge=A.current),B.key!==void 0&&(K=""+B.key),ee.type&&ee.type.defaultProps)var he=ee.type.defaultProps;for(ke in B)O.call(B,ke)&&!C.hasOwnProperty(ke)&&(Q[ke]=B[ke]===void 0&&he!==void 0?he[ke]:B[ke])}var ke=arguments.length-2;if(ke===1)Q.children=q;else if(1<ke){he=Array(ke);for(var Ae=0;Ae<ke;Ae++)he[Ae]=arguments[Ae+2];Q.children=he}return{$$typeof:e,type:ee.type,key:K,ref:ae,props:Q,_owner:ge}},ks.createContext=function(ee){return ee={$$typeof:o,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ee.Provider={$$typeof:i,_context:ee},ee.Consumer=ee},ks.createElement=N,ks.createFactory=function(ee){var B=N.bind(null,ee);return B.type=ee,B},ks.createRef=function(){return{current:null}},ks.forwardRef=function(ee){return{$$typeof:l,render:ee}},ks.isValidElement=z,ks.lazy=function(ee){return{$$typeof:u,_payload:{_status:-1,_result:ee},_init:te}},ks.memo=function(ee,B){return{$$typeof:d,type:ee,compare:B===void 0?null:B}},ks.startTransition=function(ee){var B=le.transition;le.transition={};try{ee()}finally{le.transition=B}},ks.unstable_act=oe,ks.useCallback=function(ee,B){return ie.current.useCallback(ee,B)},ks.useContext=function(ee){return ie.current.useContext(ee)},ks.useDebugValue=function(){},ks.useDeferredValue=function(ee){return ie.current.useDeferredValue(ee)},ks.useEffect=function(ee,B){return ie.current.useEffect(ee,B)},ks.useId=function(){return ie.current.useId()},ks.useImperativeHandle=function(ee,B,q){return ie.current.useImperativeHandle(ee,B,q)},ks.useInsertionEffect=function(ee,B){return ie.current.useInsertionEffect(ee,B)},ks.useLayoutEffect=function(ee,B){return ie.current.useLayoutEffect(ee,B)},ks.useMemo=function(ee,B){return ie.current.useMemo(ee,B)},ks.useReducer=function(ee,B,q){return ie.current.useReducer(ee,B,q)},ks.useRef=function(ee){return ie.current.useRef(ee)},ks.useState=function(ee){return ie.current.useState(ee)},ks.useSyncExternalStore=function(ee,B,q){return ie.current.useSyncExternalStore(ee,B,q)},ks.useTransition=function(){return ie.current.useTransition()},ks.version="18.3.1",ks}var PN;function eg(){return PN||(PN=1,Gb.exports=yP()),Gb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FN;function bP(){if(FN)return o1;FN=1;var e=eg(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var u,p={},x=null,f=null;d!==void 0&&(x=""+d),c.key!==void 0&&(x=""+c.key),c.ref!==void 0&&(f=c.ref);for(u in c)s.call(c,u)&&!i.hasOwnProperty(u)&&(p[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)p[u]===void 0&&(p[u]=c[u]);return{$$typeof:t,type:l,key:x,ref:f,props:p,_owner:a.current}}return o1.Fragment=r,o1.jsx=o,o1.jsxs=o,o1}var DN;function _P(){return DN||(DN=1,Vb.exports=bP()),Vb.exports}var n=_P(),U=eg();const Fi=Qx(U);var c2={},qb={exports:{}},Ol={},Kb={exports:{}},Yb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IN;function wP(){return IN||(IN=1,(function(e){function t(le,se){var oe=le.length;le.push(se);e:for(;0<oe;){var ee=oe-1>>>1,B=le[ee];if(0<a(B,se))le[ee]=se,le[oe]=B,oe=ee;else break e}}function r(le){return le.length===0?null:le[0]}function s(le){if(le.length===0)return null;var se=le[0],oe=le.pop();if(oe!==se){le[0]=oe;e:for(var ee=0,B=le.length,q=B>>>1;ee<q;){var Q=2*(ee+1)-1,K=le[Q],ae=Q+1,ge=le[ae];if(0>a(K,oe))ae<B&&0>a(ge,K)?(le[ee]=ge,le[ae]=oe,ee=ae):(le[ee]=K,le[Q]=oe,ee=Q);else if(ae<B&&0>a(ge,oe))le[ee]=ge,le[ae]=oe,ee=ae;else break e}}return se}function a(le,se){var oe=le.sortIndex-se.sortIndex;return oe!==0?oe:le.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,p=null,x=3,f=!1,y=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(le){for(var se=r(d);se!==null;){if(se.callback===null)s(d);else if(se.startTime<=le)s(d),se.sortIndex=se.expirationTime,t(c,se);else break;se=r(d)}}function T(le){if(v=!1,M(le),!y)if(r(c)!==null)y=!0,te(O);else{var se=r(d);se!==null&&ie(T,se.startTime-le)}}function O(le,se){y=!1,v&&(v=!1,k(N),N=-1),f=!0;var oe=x;try{for(M(se),p=r(c);p!==null&&(!(p.expirationTime>se)||le&&!P());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,x=p.priorityLevel;var B=ee(p.expirationTime<=se);se=e.unstable_now(),typeof B=="function"?p.callback=B:p===r(c)&&s(c),M(se)}else s(c);p=r(c)}if(p!==null)var q=!0;else{var Q=r(d);Q!==null&&ie(T,Q.startTime-se),q=!1}return q}finally{p=null,x=oe,f=!1}}var A=!1,C=null,N=-1,E=5,z=-1;function P(){return!(e.unstable_now()-z<E)}function I(){if(C!==null){var le=e.unstable_now();z=le;var se=!0;try{se=C(!0,le)}finally{se?W():(A=!1,C=null)}}else A=!1}var W;if(typeof S=="function")W=function(){S(I)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Y=Z.port2;Z.port1.onmessage=I,W=function(){Y.postMessage(null)}}else W=function(){_(I,0)};function te(le){C=le,A||(A=!0,W())}function ie(le,se){N=_(function(){le(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(le){le.callback=null},e.unstable_continueExecution=function(){y||f||(y=!0,te(O))},e.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<le?Math.floor(1e3/le):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(le){switch(x){case 1:case 2:case 3:var se=3;break;default:se=x}var oe=x;x=se;try{return le()}finally{x=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(le,se){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var oe=x;x=le;try{return se()}finally{x=oe}},e.unstable_scheduleCallback=function(le,se,oe){var ee=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ee+oe:ee):oe=ee,le){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=oe+B,le={id:u++,callback:se,priorityLevel:le,startTime:oe,expirationTime:B,sortIndex:-1},oe>ee?(le.sortIndex=oe,t(d,le),r(c)===null&&le===r(d)&&(v?(k(N),N=-1):v=!0,ie(T,oe-ee))):(le.sortIndex=B,t(c,le),y||f||(y=!0,te(O))),le},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(le){var se=x;return function(){var oe=x;x=se;try{return le.apply(this,arguments)}finally{x=oe}}}})(Yb)),Yb}var RN;function NP(){return RN||(RN=1,Kb.exports=wP()),Kb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ON;function kP(){if(ON)return Ol;ON=1;var e=eg(),t=NP();function r(h){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+h,w=1;w<arguments.length;w++)g+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function i(h,g){o(h,g),o(h+"Capture",g)}function o(h,g){for(a[h]=g,h=0;h<g.length;h++)s.add(g[h])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},p={};function x(h){return c.call(p,h)?!0:c.call(u,h)?!1:d.test(h)?p[h]=!0:(u[h]=!0,!1)}function f(h,g,w,D){if(w!==null&&w.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return D?!1:w!==null?!w.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function y(h,g,w,D){if(g===null||typeof g>"u"||f(h,g,w,D))return!0;if(D)return!1;if(w!==null)switch(w.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function v(h,g,w,D,G,J,me){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=D,this.attributeNamespace=G,this.mustUseProperty=w,this.propertyName=h,this.type=g,this.sanitizeURL=J,this.removeEmptyString=me}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){_[h]=new v(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var g=h[0];_[g]=new v(g,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){_[h]=new v(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){_[h]=new v(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){_[h]=new v(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){_[h]=new v(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){_[h]=new v(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){_[h]=new v(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){_[h]=new v(h,5,!1,h.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function S(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var g=h.replace(k,S);_[g]=new v(g,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var g=h.replace(k,S);_[g]=new v(g,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var g=h.replace(k,S);_[g]=new v(g,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){_[h]=new v(h,1,!1,h.toLowerCase(),null,!1,!1)}),_.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){_[h]=new v(h,1,!1,h.toLowerCase(),null,!0,!0)});function M(h,g,w,D){var G=_.hasOwnProperty(g)?_[g]:null;(G!==null?G.type!==0:D||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(y(g,w,G,D)&&(w=null),D||G===null?x(g)&&(w===null?h.removeAttribute(g):h.setAttribute(g,""+w)):G.mustUseProperty?h[G.propertyName]=w===null?G.type===3?!1:"":w:(g=G.attributeName,D=G.attributeNamespace,w===null?h.removeAttribute(g):(G=G.type,w=G===3||G===4&&w===!0?"":""+w,D?h.setAttributeNS(D,g,w):h.setAttribute(g,w))))}var T=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),P=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),le=Symbol.iterator;function se(h){return h===null||typeof h!="object"?null:(h=le&&h[le]||h["@@iterator"],typeof h=="function"?h:null)}var oe=Object.assign,ee;function B(h){if(ee===void 0)try{throw Error()}catch(w){var g=w.stack.trim().match(/\n( *(at )?)/);ee=g&&g[1]||""}return`
`+ee+h}var q=!1;function Q(h,g){if(!h||q)return"";q=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(bt){var D=bt}Reflect.construct(h,[],g)}else{try{g.call()}catch(bt){D=bt}h.call(g.prototype)}else{try{throw Error()}catch(bt){D=bt}h()}}catch(bt){if(bt&&D&&typeof bt.stack=="string"){for(var G=bt.stack.split(`
`),J=D.stack.split(`
`),me=G.length-1,$e=J.length-1;1<=me&&0<=$e&&G[me]!==J[$e];)$e--;for(;1<=me&&0<=$e;me--,$e--)if(G[me]!==J[$e]){if(me!==1||$e!==1)do if(me--,$e--,0>$e||G[me]!==J[$e]){var Ze=`
`+G[me].replace(" at new "," at ");return h.displayName&&Ze.includes("<anonymous>")&&(Ze=Ze.replace("<anonymous>",h.displayName)),Ze}while(1<=me&&0<=$e);break}}}finally{q=!1,Error.prepareStackTrace=w}return(h=h?h.displayName||h.name:"")?B(h):""}function K(h){switch(h.tag){case 5:return B(h.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return h=Q(h.type,!1),h;case 11:return h=Q(h.type.render,!1),h;case 1:return h=Q(h.type,!0),h;default:return""}}function ae(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case C:return"Fragment";case A:return"Portal";case E:return"Profiler";case N:return"StrictMode";case W:return"Suspense";case Z:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case P:return(h.displayName||"Context")+".Consumer";case z:return(h._context.displayName||"Context")+".Provider";case I:var g=h.render;return h=h.displayName,h||(h=g.displayName||g.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case Y:return g=h.displayName||null,g!==null?g:ae(h.type)||"Memo";case te:g=h._payload,h=h._init;try{return ae(h(g))}catch{}}return null}function ge(h){var g=h.type;switch(h.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=g.render,h=h.displayName||h.name||"",g.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(g);case 8:return g===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function he(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function ke(h){var g=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function Ae(h){var g=ke(h)?"checked":"value",w=Object.getOwnPropertyDescriptor(h.constructor.prototype,g),D=""+h[g];if(!h.hasOwnProperty(g)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var G=w.get,J=w.set;return Object.defineProperty(h,g,{configurable:!0,get:function(){return G.call(this)},set:function(me){D=""+me,J.call(this,me)}}),Object.defineProperty(h,g,{enumerable:w.enumerable}),{getValue:function(){return D},setValue:function(me){D=""+me},stopTracking:function(){h._valueTracker=null,delete h[g]}}}}function We(h){h._valueTracker||(h._valueTracker=Ae(h))}function fe(h){if(!h)return!1;var g=h._valueTracker;if(!g)return!0;var w=g.getValue(),D="";return h&&(D=ke(h)?h.checked?"true":"false":h.value),h=D,h!==w?(g.setValue(h),!0):!1}function ht(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function De(h,g){var w=g.checked;return oe({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??h._wrapperState.initialChecked})}function Ee(h,g){var w=g.defaultValue==null?"":g.defaultValue,D=g.checked!=null?g.checked:g.defaultChecked;w=he(g.value!=null?g.value:w),h._wrapperState={initialChecked:D,initialValue:w,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function Ue(h,g){g=g.checked,g!=null&&M(h,"checked",g,!1)}function rt(h,g){Ue(h,g);var w=he(g.value),D=g.type;if(w!=null)D==="number"?(w===0&&h.value===""||h.value!=w)&&(h.value=""+w):h.value!==""+w&&(h.value=""+w);else if(D==="submit"||D==="reset"){h.removeAttribute("value");return}g.hasOwnProperty("value")?Re(h,g.type,w):g.hasOwnProperty("defaultValue")&&Re(h,g.type,he(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(h.defaultChecked=!!g.defaultChecked)}function ft(h,g,w){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var D=g.type;if(!(D!=="submit"&&D!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+h._wrapperState.initialValue,w||g===h.value||(h.value=g),h.defaultValue=g}w=h.name,w!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,w!==""&&(h.name=w)}function Re(h,g,w){(g!=="number"||ht(h.ownerDocument)!==h)&&(w==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+w&&(h.defaultValue=""+w))}var pe=Array.isArray;function Le(h,g,w,D){if(h=h.options,g){g={};for(var G=0;G<w.length;G++)g["$"+w[G]]=!0;for(w=0;w<h.length;w++)G=g.hasOwnProperty("$"+h[w].value),h[w].selected!==G&&(h[w].selected=G),G&&D&&(h[w].defaultSelected=!0)}else{for(w=""+he(w),g=null,G=0;G<h.length;G++){if(h[G].value===w){h[G].selected=!0,D&&(h[G].defaultSelected=!0);return}g!==null||h[G].disabled||(g=h[G])}g!==null&&(g.selected=!0)}}function He(h,g){if(g.dangerouslySetInnerHTML!=null)throw Error(r(91));return oe({},g,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function ve(h,g){var w=g.value;if(w==null){if(w=g.children,g=g.defaultValue,w!=null){if(g!=null)throw Error(r(92));if(pe(w)){if(1<w.length)throw Error(r(93));w=w[0]}g=w}g==null&&(g=""),w=g}h._wrapperState={initialValue:he(w)}}function Ne(h,g){var w=he(g.value),D=he(g.defaultValue);w!=null&&(w=""+w,w!==h.value&&(h.value=w),g.defaultValue==null&&h.defaultValue!==w&&(h.defaultValue=w)),D!=null&&(h.defaultValue=""+D)}function ze(h){var g=h.textContent;g===h._wrapperState.initialValue&&g!==""&&g!==null&&(h.value=g)}function qe(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(h,g){return h==null||h==="http://www.w3.org/1999/xhtml"?qe(g):h==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var xt,Ft=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,w,D,G){MSApp.execUnsafeLocalFunction(function(){return h(g,w,D,G)})}:h})(function(h,g){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=g;else{for(xt=xt||document.createElement("div"),xt.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=xt.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;g.firstChild;)h.appendChild(g.firstChild)}});function Et(h,g){if(g){var w=h.firstChild;if(w&&w===h.lastChild&&w.nodeType===3){w.nodeValue=g;return}}h.textContent=g}var At={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ar=["Webkit","ms","Moz","O"];Object.keys(At).forEach(function(h){ar.forEach(function(g){g=g+h.charAt(0).toUpperCase()+h.substring(1),At[g]=At[h]})});function er(h,g,w){return g==null||typeof g=="boolean"||g===""?"":w||typeof g!="number"||g===0||At.hasOwnProperty(h)&&At[h]?(""+g).trim():g+"px"}function Qt(h,g){h=h.style;for(var w in g)if(g.hasOwnProperty(w)){var D=w.indexOf("--")===0,G=er(w,g[w],D);w==="float"&&(w="cssFloat"),D?h.setProperty(w,G):h[w]=G}}var Lt=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rs(h,g){if(g){if(Lt[h]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(r(137,h));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(r(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(r(61))}if(g.style!=null&&typeof g.style!="object")throw Error(r(62))}}function gr(h,g){if(h.indexOf("-")===-1)return typeof g.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zr=null;function Ir(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Ds=null,zs=null,us=null;function Fr(h){if(h=Vc(h)){if(typeof Ds!="function")throw Error(r(280));var g=h.stateNode;g&&(g=nu(g),Ds(h.stateNode,h.type,g))}}function gs(h){zs?us?us.push(h):us=[h]:zs=h}function Ni(){if(zs){var h=zs,g=us;if(us=zs=null,Fr(h),g)for(h=0;h<g.length;h++)Fr(g[h])}}function ka(h,g){return h(g)}function Oi(){}var ni=!1;function Oe(h,g,w){if(ni)return h(g,w);ni=!0;try{return ka(h,g,w)}finally{ni=!1,(zs!==null||us!==null)&&(Oi(),Ni())}}function et(h,g){var w=h.stateNode;if(w===null)return null;var D=nu(w);if(D===null)return null;w=D[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(D=!D.disabled)||(h=h.type,D=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!D;break e;default:h=!1}if(h)return null;if(w&&typeof w!="function")throw Error(r(231,g,typeof w));return w}var gt=!1;if(l)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){gt=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{gt=!1}function Xt(h,g,w,D,G,J,me,$e,Ze){var bt=Array.prototype.slice.call(arguments,3);try{g.apply(w,bt)}catch(Gt){this.onError(Gt)}}var Kt=!1,Nt=null,ce=!1,Ce=null,be={onError:function(h){Kt=!0,Nt=h}};function we(h,g,w,D,G,J,me,$e,Ze){Kt=!1,Nt=null,Xt.apply(be,arguments)}function je(h,g,w,D,G,J,me,$e,Ze){if(we.apply(this,arguments),Kt){if(Kt){var bt=Nt;Kt=!1,Nt=null}else throw Error(r(198));ce||(ce=!0,Ce=bt)}}function Me(h){var g=h,w=h;if(h.alternate)for(;g.return;)g=g.return;else{h=g;do g=h,(g.flags&4098)!==0&&(w=g.return),h=g.return;while(h)}return g.tag===3?w:null}function Xe(h){if(h.tag===13){var g=h.memoizedState;if(g===null&&(h=h.alternate,h!==null&&(g=h.memoizedState)),g!==null)return g.dehydrated}return null}function mt(h){if(Me(h)!==h)throw Error(r(188))}function nt(h){var g=h.alternate;if(!g){if(g=Me(h),g===null)throw Error(r(188));return g!==h?null:h}for(var w=h,D=g;;){var G=w.return;if(G===null)break;var J=G.alternate;if(J===null){if(D=G.return,D!==null){w=D;continue}break}if(G.child===J.child){for(J=G.child;J;){if(J===w)return mt(G),h;if(J===D)return mt(G),g;J=J.sibling}throw Error(r(188))}if(w.return!==D.return)w=G,D=J;else{for(var me=!1,$e=G.child;$e;){if($e===w){me=!0,w=G,D=J;break}if($e===D){me=!0,D=G,w=J;break}$e=$e.sibling}if(!me){for($e=J.child;$e;){if($e===w){me=!0,w=J,D=G;break}if($e===D){me=!0,D=J,w=G;break}$e=$e.sibling}if(!me)throw Error(r(189))}}if(w.alternate!==D)throw Error(r(190))}if(w.tag!==3)throw Error(r(188));return w.stateNode.current===w?h:g}function tt(h){return h=nt(h),h!==null?st(h):null}function st(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var g=st(h);if(g!==null)return g;h=h.sibling}return null}var Rt=t.unstable_scheduleCallback,Yt=t.unstable_cancelCallback,sr=t.unstable_shouldYield,$t=t.unstable_requestPaint,Ht=t.unstable_now,Pr=t.unstable_getCurrentPriorityLevel,hs=t.unstable_ImmediatePriority,ts=t.unstable_UserBlockingPriority,Rs=t.unstable_NormalPriority,Gr=t.unstable_LowPriority,Es=t.unstable_IdlePriority,Ua=null,Os=null;function Ts(h){if(Os&&typeof Os.onCommitFiberRoot=="function")try{Os.onCommitFiberRoot(Ua,h,void 0,(h.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:rc,Zs=Math.log,ma=Math.LN2;function rc(h){return h>>>=0,h===0?32:31-(Zs(h)/ma|0)|0}var _o=64,Bi=4194304;function Or(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function ws(h,g){var w=h.pendingLanes;if(w===0)return 0;var D=0,G=h.suspendedLanes,J=h.pingedLanes,me=w&268435455;if(me!==0){var $e=me&~G;$e!==0?D=Or($e):(J&=me,J!==0&&(D=Or(J)))}else me=w&~G,me!==0?D=Or(me):J!==0&&(D=Or(J));if(D===0)return 0;if(g!==0&&g!==D&&(g&G)===0&&(G=D&-D,J=g&-g,G>=J||G===16&&(J&4194240)!==0))return g;if((D&4)!==0&&(D|=w&16),g=h.entangledLanes,g!==0)for(h=h.entanglements,g&=D;0<g;)w=31-vr(g),G=1<<w,D|=h[w],g&=~G;return D}function sc(h,g){switch(h){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ja(h,g){for(var w=h.suspendedLanes,D=h.pingedLanes,G=h.expirationTimes,J=h.pendingLanes;0<J;){var me=31-vr(J),$e=1<<me,Ze=G[me];Ze===-1?(($e&w)===0||($e&D)!==0)&&(G[me]=sc($e,g)):Ze<=g&&(h.expiredLanes|=$e),J&=~$e}}function kn(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function $u(){var h=_o;return _o<<=1,(_o&4194240)===0&&(_o=64),h}function Dc(h){for(var g=[],w=0;31>w;w++)g.push(h);return g}function ro(h,g,w){h.pendingLanes|=g,g!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,g=31-vr(g),h[g]=w}function Us(h,g){var w=h.pendingLanes&~g;h.pendingLanes=g,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=g,h.mutableReadLanes&=g,h.entangledLanes&=g,g=h.entanglements;var D=h.eventTimes;for(h=h.expirationTimes;0<w;){var G=31-vr(w),J=1<<G;g[G]=0,D[G]=-1,h[G]=-1,w&=~J}}function wo(h,g){var w=h.entangledLanes|=g;for(h=h.entanglements;w;){var D=31-vr(w),G=1<<D;G&g|h[D]&g&&(h[D]|=g),w&=~G}}var vs=0;function so(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var Ic,ac,n0,i0,nc,al=!1,ao=[],no=null,ki=null,zi=null,Br=new Map,Ur=new Map,cn=[],Xs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Q0(h,g){switch(h){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Br.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(g.pointerId)}}function ji(h,g,w,D,G,J){return h===null||h.nativeEvent!==J?(h={blockedOn:g,domEventName:w,eventSystemFlags:D,nativeEvent:J,targetContainers:[G]},g!==null&&(g=Vc(g),g!==null&&ac(g)),h):(h.eventSystemFlags|=D,g=h.targetContainers,G!==null&&g.indexOf(G)===-1&&g.push(G),h)}function nl(h,g,w,D,G){switch(g){case"focusin":return no=ji(no,h,g,w,D,G),!0;case"dragenter":return ki=ji(ki,h,g,w,D,G),!0;case"mouseover":return zi=ji(zi,h,g,w,D,G),!0;case"pointerover":var J=G.pointerId;return Br.set(J,ji(Br.get(J)||null,h,g,w,D,G)),!0;case"gotpointercapture":return J=G.pointerId,Ur.set(J,ji(Ur.get(J)||null,h,g,w,D,G)),!0}return!1}function o0(h){var g=Hc(h.target);if(g!==null){var w=Me(g);if(w!==null){if(g=w.tag,g===13){if(g=Xe(w),g!==null){h.blockedOn=g,nc(h.priority,function(){n0(w)});return}}else if(g===3&&w.stateNode.current.memoizedState.isDehydrated){h.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}h.blockedOn=null}function No(h){if(h.blockedOn!==null)return!1;for(var g=h.targetContainers;0<g.length;){var w=Rc(h.domEventName,h.eventSystemFlags,g[0],h.nativeEvent);if(w===null){w=h.nativeEvent;var D=new w.constructor(w.type,w);zr=D,w.target.dispatchEvent(D),zr=null}else return g=Vc(w),g!==null&&ac(g),h.blockedOn=w,!1;g.shift()}return!0}function ic(h,g,w){No(h)&&w.delete(g)}function oc(){al=!1,no!==null&&No(no)&&(no=null),ki!==null&&No(ki)&&(ki=null),zi!==null&&No(zi)&&(zi=null),Br.forEach(ic),Ur.forEach(ic)}function na(h,g){h.blockedOn===g&&(h.blockedOn=null,al||(al=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oc)))}function ii(h){function g(G){return na(G,h)}if(0<ao.length){na(ao[0],h);for(var w=1;w<ao.length;w++){var D=ao[w];D.blockedOn===h&&(D.blockedOn=null)}}for(no!==null&&na(no,h),ki!==null&&na(ki,h),zi!==null&&na(zi,h),Br.forEach(g),Ur.forEach(g),w=0;w<cn.length;w++)D=cn[w],D.blockedOn===h&&(D.blockedOn=null);for(;0<cn.length&&(w=cn[0],w.blockedOn===null);)o0(w),w.blockedOn===null&&cn.shift()}var ko=T.ReactCurrentBatchConfig,yd=!0;function eu(h,g,w,D){var G=vs,J=ko.transition;ko.transition=null;try{vs=1,il(h,g,w,D)}finally{vs=G,ko.transition=J}}function l0(h,g,w,D){var G=vs,J=ko.transition;ko.transition=null;try{vs=4,il(h,g,w,D)}finally{vs=G,ko.transition=J}}function il(h,g,w,D){if(yd){var G=Rc(h,g,w,D);if(G===null)m(h,g,D,Nl,w),Q0(h,D);else if(nl(G,h,g,w,D))D.stopPropagation();else if(Q0(h,D),g&4&&-1<Xs.indexOf(h)){for(;G!==null;){var J=Vc(G);if(J!==null&&Ic(J),J=Rc(h,g,w,D),J===null&&m(h,g,D,Nl,w),J===G)break;G=J}G!==null&&D.stopPropagation()}else m(h,g,D,null,w)}}var Nl=null;function Rc(h,g,w,D){if(Nl=null,h=Ir(D),h=Hc(h),h!==null)if(g=Me(h),g===null)h=null;else if(w=g.tag,w===13){if(h=Xe(g),h!==null)return h;h=null}else if(w===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;h=null}else g!==h&&(h=null);return Nl=h,null}function as(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pr()){case hs:return 1;case ts:return 4;case Rs:case Gr:return 16;case Es:return 536870912;default:return 16}default:return 16}}var jo=null,dn=null,ol=null;function c0(){if(ol)return ol;var h,g=dn,w=g.length,D,G="value"in jo?jo.value:jo.textContent,J=G.length;for(h=0;h<w&&g[h]===G[h];h++);var me=w-h;for(D=1;D<=me&&g[w-D]===G[J-D];D++);return ol=G.slice(h,1<D?1-D:void 0)}function Co(h){var g=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&g===13&&(h=13)):h=g,h===10&&(h=13),32<=h||h===13?h:0}function Ui(){return!0}function tu(){return!1}function zn(h){function g(w,D,G,J,me){this._reactName=w,this._targetInst=G,this.type=D,this.nativeEvent=J,this.target=me,this.currentTarget=null;for(var $e in h)h.hasOwnProperty($e)&&(w=h[$e],this[$e]=w?w(J):J[$e]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?Ui:tu,this.isPropagationStopped=tu,this}return oe(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),g}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d0=zn(So),H=oe({},So,{view:0,detail:0}),de=zn(H),Pe,Ge,at,jt=oe({},H,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eo,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==at&&(at&&h.type==="mousemove"?(Pe=h.screenX-at.screenX,Ge=h.screenY-at.screenY):Ge=Pe=0,at=h),Pe)},movementY:function(h){return"movementY"in h?h.movementY:Ge}}),Ut=zn(jt),mr=oe({},jt,{dataTransfer:0}),br=zn(mr),qr=oe({},H,{relatedTarget:0}),Hr=zn(qr),Ms=oe({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),Aa=zn(Ms),Qa=oe({},So,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Js=zn(Qa),un=oe({},So,{data:0}),Fa=zn(un),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ci={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},en={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(h){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(h):(h=en[h])?!!g[h]:!1}function Eo(){return Wu}var Cn=oe({},H,{key:function(h){if(h.key){var g=jn[h.key]||h.key;if(g!=="Unidentified")return g}return h.type==="keypress"?(h=Co(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Ci[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eo,charCode:function(h){return h.type==="keypress"?Co(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Co(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),lc=zn(Cn),Oc=oe({},jt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bc=zn(Oc),cc=oe({},H,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eo}),Sn=zn(cc),bd=oe({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),_d=zn(bd),u0=oe({},jt,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),ru=zn(u0),Ls=[9,13,27,32],oi=l&&"CompositionEvent"in window,kl=null;l&&"documentMode"in document&&(kl=document.documentMode);var Ao=l&&"TextEvent"in window&&!kl,io=l&&(!oi||kl&&8<kl&&11>=kl),oo=" ",h0=!1;function jl(h,g){switch(h){case"keyup":return Ls.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cl(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Si=!1;function lo(h,g){switch(h){case"compositionend":return Cl(g);case"keypress":return g.which!==32?null:(h0=!0,oo);case"textInput":return h=g.data,h===oo&&h0?null:h;default:return null}}function tn(h,g){if(Si)return h==="compositionend"||!oi&&jl(h,g)?(h=c0(),ol=dn=jo=null,Si=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return io&&g.locale!=="ko"?null:g.data;default:return null}}var ll={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sl(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g==="input"?!!ll[h.type]:g==="textarea"}function cl(h,g,w,D){gs(D),g=F(g,"onChange"),0<g.length&&(w=new d0("onChange","change",null,w,D),h.push({event:w,listeners:g}))}var dc=null,En=null;function $a(h){x0(h,0)}function To(h){var g=Gc(h);if(fe(g))return h}function El(h,g){if(h==="change")return g}var hn=!1;if(l){var Al;if(l){var zc="oninput"in document;if(!zc){var Uc=document.createElement("div");Uc.setAttribute("oninput","return;"),zc=typeof Uc.oninput=="function"}Al=zc}else Al=!1;hn=Al&&(!document.documentMode||9<document.documentMode)}function uc(){dc&&(dc.detachEvent("onpropertychange",dl),En=dc=null)}function dl(h){if(h.propertyName==="value"&&To(En)){var g=[];cl(g,En,h,Ir(h)),Oe($a,g)}}function ul(h,g,w){h==="focusin"?(uc(),dc=g,En=w,dc.attachEvent("onpropertychange",dl)):h==="focusout"&&uc()}function co(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return To(En)}function Tl(h,g){if(h==="click")return To(g)}function Ml(h,g){if(h==="input"||h==="change")return To(g)}function $c(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var Da=typeof Object.is=="function"?Object.is:$c;function Un(h,g){if(Da(h,g))return!0;if(typeof h!="object"||h===null||typeof g!="object"||g===null)return!1;var w=Object.keys(h),D=Object.keys(g);if(w.length!==D.length)return!1;for(D=0;D<w.length;D++){var G=w[D];if(!c.call(g,G)||!Da(h[G],g[G]))return!1}return!0}function Is(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function $s(h,g){var w=Is(h);h=0;for(var D;w;){if(w.nodeType===3){if(D=h+w.textContent.length,h<=g&&D>=g)return{node:w,offset:g-h};h=D}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=Is(w)}}function Ia(h,g){return h&&g?h===g?!0:h&&h.nodeType===3?!1:g&&g.nodeType===3?Ia(h,g.parentNode):"contains"in h?h.contains(g):h.compareDocumentPosition?!!(h.compareDocumentPosition(g)&16):!1:!1}function Wa(){for(var h=window,g=ht();g instanceof h.HTMLIFrameElement;){try{var w=typeof g.contentWindow.location.href=="string"}catch{w=!1}if(w)h=g.contentWindow;else break;g=ht(h.document)}return g}function hl(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g&&(g==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||g==="textarea"||h.contentEditable==="true")}function $i(h){var g=Wa(),w=h.focusedElem,D=h.selectionRange;if(g!==w&&w&&w.ownerDocument&&Ia(w.ownerDocument.documentElement,w)){if(D!==null&&hl(w)){if(g=D.start,h=D.end,h===void 0&&(h=g),"selectionStart"in w)w.selectionStart=g,w.selectionEnd=Math.min(h,w.value.length);else if(h=(g=w.ownerDocument||document)&&g.defaultView||window,h.getSelection){h=h.getSelection();var G=w.textContent.length,J=Math.min(D.start,G);D=D.end===void 0?J:Math.min(D.end,G),!h.extend&&J>D&&(G=D,D=J,J=G),G=$s(w,J);var me=$s(w,D);G&&me&&(h.rangeCount!==1||h.anchorNode!==G.node||h.anchorOffset!==G.offset||h.focusNode!==me.node||h.focusOffset!==me.offset)&&(g=g.createRange(),g.setStart(G.node,G.offset),h.removeAllRanges(),J>D?(h.addRange(g),h.extend(me.node,me.offset)):(g.setEnd(me.node,me.offset),h.addRange(g)))}}for(g=[],h=w;h=h.parentNode;)h.nodeType===1&&g.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<g.length;w++)h=g[w],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var hc=l&&"documentMode"in document&&11>=document.documentMode,fc=null,wd=null,f0=null,su=!1;function Xh(h,g,w){var D=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;su||fc==null||fc!==ht(D)||(D=fc,"selectionStart"in D&&hl(D)?D={start:D.selectionStart,end:D.selectionEnd}:(D=(D.ownerDocument&&D.ownerDocument.defaultView||window).getSelection(),D={anchorNode:D.anchorNode,anchorOffset:D.anchorOffset,focusNode:D.focusNode,focusOffset:D.focusOffset}),f0&&Un(f0,D)||(f0=D,D=F(wd,"onSelect"),0<D.length&&(g=new d0("onSelect","select",null,g,w),h.push({event:g,listeners:D}),g.target=fc)))}function mc(h,g){var w={};return w[h.toLowerCase()]=g.toLowerCase(),w["Webkit"+h]="webkit"+g,w["Moz"+h]="moz"+g,w}var Nd={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},Mo={},Hu={};l&&(Hu=document.createElement("div").style,"AnimationEvent"in window||(delete Nd.animationend.animation,delete Nd.animationiteration.animation,delete Nd.animationstart.animation),"TransitionEvent"in window||delete Nd.transitionend.transition);function m0(h){if(Mo[h])return Mo[h];if(!Nd[h])return h;var g=Nd[h],w;for(w in g)if(g.hasOwnProperty(w)&&w in Hu)return Mo[h]=g[w];return h}var Jh=m0("animationend"),fl=m0("animationiteration"),Vu=m0("animationstart"),Gu=m0("transitionend"),kd=new Map,Qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uo(h,g){kd.set(h,g),i(g,[h])}for(var Ll=0;Ll<Qh.length;Ll++){var li=Qh[Ll],ho=li.toLowerCase(),qu=li[0].toUpperCase()+li.slice(1);uo(ho,"on"+qu)}uo(Jh,"onAnimationEnd"),uo(fl,"onAnimationIteration"),uo(Vu,"onAnimationStart"),uo("dblclick","onDoubleClick"),uo("focusin","onFocus"),uo("focusout","onBlur"),uo(Gu,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ef=new Set("cancel close invalid load scroll toggle".split(" ").concat(pc));function p0(h,g,w){var D=h.type||"unknown-event";h.currentTarget=w,je(D,g,void 0,h),h.currentTarget=null}function x0(h,g){g=(g&4)!==0;for(var w=0;w<h.length;w++){var D=h[w],G=D.event;D=D.listeners;e:{var J=void 0;if(g)for(var me=D.length-1;0<=me;me--){var $e=D[me],Ze=$e.instance,bt=$e.currentTarget;if($e=$e.listener,Ze!==J&&G.isPropagationStopped())break e;p0(G,$e,bt),J=Ze}else for(me=0;me<D.length;me++){if($e=D[me],Ze=$e.instance,bt=$e.currentTarget,$e=$e.listener,Ze!==J&&G.isPropagationStopped())break e;p0(G,$e,bt),J=Ze}}}if(ce)throw h=Ce,ce=!1,Ce=null,h}function Qs(h,g){var w=g[Wn];w===void 0&&(w=g[Wn]=new Set);var D=h+"__bubble";w.has(D)||(au(g,h,2,!1),w.add(D))}function Ku(h,g,w){var D=0;g&&(D|=4),au(w,h,D,g)}var jd="_reactListening"+Math.random().toString(36).slice(2);function Wc(h){if(!h[jd]){h[jd]=!0,s.forEach(function(w){w!=="selectionchange"&&(ef.has(w)||Ku(w,!1,h),Ku(w,!0,h))});var g=h.nodeType===9?h:h.ownerDocument;g===null||g[jd]||(g[jd]=!0,Ku("selectionchange",!1,g))}}function au(h,g,w,D){switch(as(g)){case 1:var G=eu;break;case 4:G=l0;break;default:G=il}w=G.bind(null,g,w,h),G=void 0,!gt||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(G=!0),D?G!==void 0?h.addEventListener(g,w,{capture:!0,passive:G}):h.addEventListener(g,w,!0):G!==void 0?h.addEventListener(g,w,{passive:G}):h.addEventListener(g,w,!1)}function m(h,g,w,D,G){var J=D;if((g&1)===0&&(g&2)===0&&D!==null)e:for(;;){if(D===null)return;var me=D.tag;if(me===3||me===4){var $e=D.stateNode.containerInfo;if($e===G||$e.nodeType===8&&$e.parentNode===G)break;if(me===4)for(me=D.return;me!==null;){var Ze=me.tag;if((Ze===3||Ze===4)&&(Ze=me.stateNode.containerInfo,Ze===G||Ze.nodeType===8&&Ze.parentNode===G))return;me=me.return}for(;$e!==null;){if(me=Hc($e),me===null)return;if(Ze=me.tag,Ze===5||Ze===6){D=J=me;continue e}$e=$e.parentNode}}D=D.return}Oe(function(){var bt=J,Gt=Ir(w),Jt=[];e:{var Vt=kd.get(h);if(Vt!==void 0){var hr=d0,wr=h;switch(h){case"keypress":if(Co(w)===0)break e;case"keydown":case"keyup":hr=lc;break;case"focusin":wr="focus",hr=Hr;break;case"focusout":wr="blur",hr=Hr;break;case"beforeblur":case"afterblur":hr=Hr;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":hr=Ut;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":hr=br;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":hr=Sn;break;case Jh:case fl:case Vu:hr=Aa;break;case Gu:hr=_d;break;case"scroll":hr=de;break;case"wheel":hr=ru;break;case"copy":case"cut":case"paste":hr=Js;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":hr=Bc}var kr=(g&4)!==0,Gn=!kr&&h==="scroll",dt=kr?Vt!==null?Vt+"Capture":null:Vt;kr=[];for(var Qe=bt,vt;Qe!==null;){vt=Qe;var tr=vt.stateNode;if(vt.tag===5&&tr!==null&&(vt=tr,dt!==null&&(tr=et(Qe,dt),tr!=null&&kr.push(b(Qe,tr,vt)))),Gn)break;Qe=Qe.return}0<kr.length&&(Vt=new hr(Vt,wr,null,w,Gt),Jt.push({event:Vt,listeners:kr}))}}if((g&7)===0){e:{if(Vt=h==="mouseover"||h==="pointerover",hr=h==="mouseout"||h==="pointerout",Vt&&w!==zr&&(wr=w.relatedTarget||w.fromElement)&&(Hc(wr)||wr[ys]))break e;if((hr||Vt)&&(Vt=Gt.window===Gt?Gt:(Vt=Gt.ownerDocument)?Vt.defaultView||Vt.parentWindow:window,hr?(wr=w.relatedTarget||w.toElement,hr=bt,wr=wr?Hc(wr):null,wr!==null&&(Gn=Me(wr),wr!==Gn||wr.tag!==5&&wr.tag!==6)&&(wr=null)):(hr=null,wr=bt),hr!==wr)){if(kr=Ut,tr="onMouseLeave",dt="onMouseEnter",Qe="mouse",(h==="pointerout"||h==="pointerover")&&(kr=Bc,tr="onPointerLeave",dt="onPointerEnter",Qe="pointer"),Gn=hr==null?Vt:Gc(hr),vt=wr==null?Vt:Gc(wr),Vt=new kr(tr,Qe+"leave",hr,w,Gt),Vt.target=Gn,Vt.relatedTarget=vt,tr=null,Hc(Gt)===bt&&(kr=new kr(dt,Qe+"enter",wr,w,Gt),kr.target=vt,kr.relatedTarget=Gn,tr=kr),Gn=tr,hr&&wr)t:{for(kr=hr,dt=wr,Qe=0,vt=kr;vt;vt=V(vt))Qe++;for(vt=0,tr=dt;tr;tr=V(tr))vt++;for(;0<Qe-vt;)kr=V(kr),Qe--;for(;0<vt-Qe;)dt=V(dt),vt--;for(;Qe--;){if(kr===dt||dt!==null&&kr===dt.alternate)break t;kr=V(kr),dt=V(dt)}kr=null}else kr=null;hr!==null&&ne(Jt,Vt,hr,kr,!1),wr!==null&&Gn!==null&&ne(Jt,Gn,wr,kr,!0)}}e:{if(Vt=bt?Gc(bt):window,hr=Vt.nodeName&&Vt.nodeName.toLowerCase(),hr==="select"||hr==="input"&&Vt.type==="file")var Er=El;else if(Sl(Vt))if(hn)Er=Ml;else{Er=co;var $r=ul}else(hr=Vt.nodeName)&&hr.toLowerCase()==="input"&&(Vt.type==="checkbox"||Vt.type==="radio")&&(Er=Tl);if(Er&&(Er=Er(h,bt))){cl(Jt,Er,w,Gt);break e}$r&&$r(h,Vt,bt),h==="focusout"&&($r=Vt._wrapperState)&&$r.controlled&&Vt.type==="number"&&Re(Vt,"number",Vt.value)}switch($r=bt?Gc(bt):window,h){case"focusin":(Sl($r)||$r.contentEditable==="true")&&(fc=$r,wd=bt,f0=null);break;case"focusout":f0=wd=fc=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,Xh(Jt,w,Gt);break;case"selectionchange":if(hc)break;case"keydown":case"keyup":Xh(Jt,w,Gt)}var Wr;if(oi)e:{switch(h){case"compositionstart":var Qr="onCompositionStart";break e;case"compositionend":Qr="onCompositionEnd";break e;case"compositionupdate":Qr="onCompositionUpdate";break e}Qr=void 0}else Si?jl(h,w)&&(Qr="onCompositionEnd"):h==="keydown"&&w.keyCode===229&&(Qr="onCompositionStart");Qr&&(io&&w.locale!=="ko"&&(Si||Qr!=="onCompositionStart"?Qr==="onCompositionEnd"&&Si&&(Wr=c0()):(jo=Gt,dn="value"in jo?jo.value:jo.textContent,Si=!0)),$r=F(bt,Qr),0<$r.length&&(Qr=new Fa(Qr,h,null,w,Gt),Jt.push({event:Qr,listeners:$r}),Wr?Qr.data=Wr:(Wr=Cl(w),Wr!==null&&(Qr.data=Wr)))),(Wr=Ao?lo(h,w):tn(h,w))&&(bt=F(bt,"onBeforeInput"),0<bt.length&&(Gt=new Fa("onBeforeInput","beforeinput",null,w,Gt),Jt.push({event:Gt,listeners:bt}),Gt.data=Wr))}x0(Jt,g)})}function b(h,g,w){return{instance:h,listener:g,currentTarget:w}}function F(h,g){for(var w=g+"Capture",D=[];h!==null;){var G=h,J=G.stateNode;G.tag===5&&J!==null&&(G=J,J=et(h,w),J!=null&&D.unshift(b(h,J,G)),J=et(h,g),J!=null&&D.push(b(h,J,G))),h=h.return}return D}function V(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function ne(h,g,w,D,G){for(var J=g._reactName,me=[];w!==null&&w!==D;){var $e=w,Ze=$e.alternate,bt=$e.stateNode;if(Ze!==null&&Ze===D)break;$e.tag===5&&bt!==null&&($e=bt,G?(Ze=et(w,J),Ze!=null&&me.unshift(b(w,Ze,$e))):G||(Ze=et(w,J),Ze!=null&&me.push(b(w,Ze,$e)))),w=w.return}me.length!==0&&h.push({event:g,listeners:me})}var ye=/\r\n?/g,Ve=/\u0000|\uFFFD/g;function lt(h){return(typeof h=="string"?h:""+h).replace(ye,`
`).replace(Ve,"")}function yt(h,g,w){if(g=lt(g),lt(h)!==g&&w)throw Error(r(425))}function Ot(){}var lr=null,Tr=null;function ns(h,g){return h==="textarea"||h==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var $n=typeof setTimeout=="function"?setTimeout:void 0,fn=typeof clearTimeout=="function"?clearTimeout:void 0,fo=typeof Promise=="function"?Promise:void 0,Wi=typeof queueMicrotask=="function"?queueMicrotask:typeof fo<"u"?function(h){return fo.resolve(null).then(h).catch(g0)}:$n;function g0(h){setTimeout(function(){throw h})}function tf(h,g){var w=g,D=0;do{var G=w.nextSibling;if(h.removeChild(w),G&&G.nodeType===8)if(w=G.data,w==="/$"){if(D===0){h.removeChild(G),ii(g);return}D--}else w!=="$"&&w!=="$?"&&w!=="$!"||D++;w=G}while(w);ii(g)}function Ei(h){for(;h!=null;h=h.nextSibling){var g=h.nodeType;if(g===1||g===3)break;if(g===8){if(g=h.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return h}function Lo(h){h=h.previousSibling;for(var g=0;h;){if(h.nodeType===8){var w=h.data;if(w==="$"||w==="$!"||w==="$?"){if(g===0)return h;g--}else w==="/$"&&g++}h=h.previousSibling}return null}var Ai=Math.random().toString(36).slice(2),Pl="__reactFiber$"+Ai,Cd="__reactProps$"+Ai,ys="__reactContainer$"+Ai,Wn="__reactEvents$"+Ai,Gp="__reactListeners$"+Ai,qp="__reactHandles$"+Ai;function Hc(h){var g=h[Pl];if(g)return g;for(var w=h.parentNode;w;){if(g=w[ys]||w[Pl]){if(w=g.alternate,g.child!==null||w!==null&&w.child!==null)for(h=Lo(h);h!==null;){if(w=h[Pl])return w;h=Lo(h)}return g}h=w,w=h.parentNode}return null}function Vc(h){return h=h[Pl]||h[ys],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function Gc(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(r(33))}function nu(h){return h[Cd]||null}var Kp=[],Sd=-1;function xc(h){return{current:h}}function ia(h){0>Sd||(h.current=Kp[Sd],Kp[Sd]=null,Sd--)}function ca(h,g){Sd++,Kp[Sd]=h.current,h.current=g}var v0={},Ti=xc(v0),Po=xc(!1),iu=v0;function Yu(h,g){var w=h.type.contextTypes;if(!w)return v0;var D=h.stateNode;if(D&&D.__reactInternalMemoizedUnmaskedChildContext===g)return D.__reactInternalMemoizedMaskedChildContext;var G={},J;for(J in w)G[J]=g[J];return D&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=g,h.__reactInternalMemoizedMaskedChildContext=G),G}function Fo(h){return h=h.childContextTypes,h!=null}function lm(){ia(Po),ia(Ti)}function Pg(h,g,w){if(Ti.current!==v0)throw Error(r(168));ca(Ti,g),ca(Po,w)}function Yp(h,g,w){var D=h.stateNode;if(g=g.childContextTypes,typeof D.getChildContext!="function")return w;D=D.getChildContext();for(var G in D)if(!(G in g))throw Error(r(108,ge(h)||"Unknown",G));return oe({},w,D)}function ou(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||v0,iu=Ti.current,ca(Ti,h),ca(Po,Po.current),!0}function Fg(h,g,w){var D=h.stateNode;if(!D)throw Error(r(169));w?(h=Yp(h,g,iu),D.__reactInternalMemoizedMergedChildContext=h,ia(Po),ia(Ti),ca(Ti,h)):ia(Po),ca(Po,w)}var Ed=null,rf=!1,j=!1;function R(h){Ed===null?Ed=[h]:Ed.push(h)}function X(h){rf=!0,R(h)}function re(){if(!j&&Ed!==null){j=!0;var h=0,g=vs;try{var w=Ed;for(vs=1;h<w.length;h++){var D=w[h];do D=D(!0);while(D!==null)}Ed=null,rf=!1}catch(G){throw Ed!==null&&(Ed=Ed.slice(h+1)),Rt(hs,re),G}finally{vs=g,j=!1}}return null}var ue=[],xe=0,_e=null,Se=0,Te=[],Fe=0,Ye=null,ct=1,Ie="";function Je(h,g){ue[xe++]=Se,ue[xe++]=_e,_e=h,Se=g}function ot(h,g,w){Te[Fe++]=ct,Te[Fe++]=Ie,Te[Fe++]=Ye,Ye=h;var D=ct;h=Ie;var G=32-vr(D)-1;D&=~(1<<G),w+=1;var J=32-vr(g)+G;if(30<J){var me=G-G%5;J=(D&(1<<me)-1).toString(32),D>>=me,G-=me,ct=1<<32-vr(g)+G|w<<G|D,Ie=J+h}else ct=1<<J|w<<G|D,Ie=h}function St(h){h.return!==null&&(Je(h,1),ot(h,1,0))}function ut(h){for(;h===_e;)_e=ue[--xe],ue[xe]=null,Se=ue[--xe],ue[xe]=null;for(;h===Ye;)Ye=Te[--Fe],Te[Fe]=null,Ie=Te[--Fe],Te[Fe]=null,ct=Te[--Fe],Te[Fe]=null}var kt=null,Ct=null,Mt=!1,It=null;function Cr(h,g){var w=Xc(5,null,null,0);w.elementType="DELETED",w.stateNode=g,w.return=h,g=h.deletions,g===null?(h.deletions=[w],h.flags|=16):g.push(w)}function pr(h,g){switch(h.tag){case 5:var w=h.type;return g=g.nodeType!==1||w.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(h.stateNode=g,kt=h,Ct=Ei(g.firstChild),!0):!1;case 6:return g=h.pendingProps===""||g.nodeType!==3?null:g,g!==null?(h.stateNode=g,kt=h,Ct=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(w=Ye!==null?{id:ct,overflow:Ie}:null,h.memoizedState={dehydrated:g,treeContext:w,retryLane:1073741824},w=Xc(18,null,null,0),w.stateNode=g,w.return=h,h.child=w,kt=h,Ct=null,!0):!1;default:return!1}}function ss(h){return(h.mode&1)!==0&&(h.flags&128)===0}function _r(h){if(Mt){var g=Ct;if(g){var w=g;if(!pr(h,g)){if(ss(h))throw Error(r(418));g=Ei(w.nextSibling);var D=kt;g&&pr(h,g)?Cr(D,w):(h.flags=h.flags&-4097|2,Mt=!1,kt=h)}}else{if(ss(h))throw Error(r(418));h.flags=h.flags&-4097|2,Mt=!1,kt=h}}}function Ns(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;kt=h}function rn(h){if(h!==kt)return!1;if(!Mt)return Ns(h),Mt=!0,!1;var g;if((g=h.tag!==3)&&!(g=h.tag!==5)&&(g=h.type,g=g!=="head"&&g!=="body"&&!ns(h.type,h.memoizedProps)),g&&(g=Ct)){if(ss(h))throw is(),Error(r(418));for(;g;)Cr(h,g),g=Ei(g.nextSibling)}if(Ns(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));e:{for(h=h.nextSibling,g=0;h;){if(h.nodeType===8){var w=h.data;if(w==="/$"){if(g===0){Ct=Ei(h.nextSibling);break e}g--}else w!=="$"&&w!=="$!"&&w!=="$?"||g++}h=h.nextSibling}Ct=null}}else Ct=kt?Ei(h.stateNode.nextSibling):null;return!0}function is(){for(var h=Ct;h;)h=Ei(h.nextSibling)}function xr(){Ct=kt=null,Mt=!1}function or(h){It===null?It=[h]:It.push(h)}var mn=T.ReactCurrentBatchConfig;function Zr(h,g,w){if(h=w.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(r(309));var D=w.stateNode}if(!D)throw Error(r(147,h));var G=D,J=""+h;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===J?g.ref:(g=function(me){var $e=G.refs;me===null?delete $e[J]:$e[J]=me},g._stringRef=J,g)}if(typeof h!="string")throw Error(r(284));if(!w._owner)throw Error(r(290,h))}return h}function bs(h,g){throw h=Object.prototype.toString.call(g),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":h))}function Ca(h){var g=h._init;return g(h._payload)}function ci(h){function g(dt,Qe){if(h){var vt=dt.deletions;vt===null?(dt.deletions=[Qe],dt.flags|=16):vt.push(Qe)}}function w(dt,Qe){if(!h)return null;for(;Qe!==null;)g(dt,Qe),Qe=Qe.sibling;return null}function D(dt,Qe){for(dt=new Map;Qe!==null;)Qe.key!==null?dt.set(Qe.key,Qe):dt.set(Qe.index,Qe),Qe=Qe.sibling;return dt}function G(dt,Qe){return dt=nh(dt,Qe),dt.index=0,dt.sibling=null,dt}function J(dt,Qe,vt){return dt.index=vt,h?(vt=dt.alternate,vt!==null?(vt=vt.index,vt<Qe?(dt.flags|=2,Qe):vt):(dt.flags|=2,Qe)):(dt.flags|=1048576,Qe)}function me(dt){return h&&dt.alternate===null&&(dt.flags|=2),dt}function $e(dt,Qe,vt,tr){return Qe===null||Qe.tag!==6?(Qe=Bb(vt,dt.mode,tr),Qe.return=dt,Qe):(Qe=G(Qe,vt),Qe.return=dt,Qe)}function Ze(dt,Qe,vt,tr){var Er=vt.type;return Er===C?Gt(dt,Qe,vt.props.children,tr,vt.key):Qe!==null&&(Qe.elementType===Er||typeof Er=="object"&&Er!==null&&Er.$$typeof===te&&Ca(Er)===Qe.type)?(tr=G(Qe,vt.props),tr.ref=Zr(dt,Qe,vt),tr.return=dt,tr):(tr=e2(vt.type,vt.key,vt.props,null,dt.mode,tr),tr.ref=Zr(dt,Qe,vt),tr.return=dt,tr)}function bt(dt,Qe,vt,tr){return Qe===null||Qe.tag!==4||Qe.stateNode.containerInfo!==vt.containerInfo||Qe.stateNode.implementation!==vt.implementation?(Qe=zb(vt,dt.mode,tr),Qe.return=dt,Qe):(Qe=G(Qe,vt.children||[]),Qe.return=dt,Qe)}function Gt(dt,Qe,vt,tr,Er){return Qe===null||Qe.tag!==7?(Qe=uf(vt,dt.mode,tr,Er),Qe.return=dt,Qe):(Qe=G(Qe,vt),Qe.return=dt,Qe)}function Jt(dt,Qe,vt){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return Qe=Bb(""+Qe,dt.mode,vt),Qe.return=dt,Qe;if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case O:return vt=e2(Qe.type,Qe.key,Qe.props,null,dt.mode,vt),vt.ref=Zr(dt,null,Qe),vt.return=dt,vt;case A:return Qe=zb(Qe,dt.mode,vt),Qe.return=dt,Qe;case te:var tr=Qe._init;return Jt(dt,tr(Qe._payload),vt)}if(pe(Qe)||se(Qe))return Qe=uf(Qe,dt.mode,vt,null),Qe.return=dt,Qe;bs(dt,Qe)}return null}function Vt(dt,Qe,vt,tr){var Er=Qe!==null?Qe.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number")return Er!==null?null:$e(dt,Qe,""+vt,tr);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case O:return vt.key===Er?Ze(dt,Qe,vt,tr):null;case A:return vt.key===Er?bt(dt,Qe,vt,tr):null;case te:return Er=vt._init,Vt(dt,Qe,Er(vt._payload),tr)}if(pe(vt)||se(vt))return Er!==null?null:Gt(dt,Qe,vt,tr,null);bs(dt,vt)}return null}function hr(dt,Qe,vt,tr,Er){if(typeof tr=="string"&&tr!==""||typeof tr=="number")return dt=dt.get(vt)||null,$e(Qe,dt,""+tr,Er);if(typeof tr=="object"&&tr!==null){switch(tr.$$typeof){case O:return dt=dt.get(tr.key===null?vt:tr.key)||null,Ze(Qe,dt,tr,Er);case A:return dt=dt.get(tr.key===null?vt:tr.key)||null,bt(Qe,dt,tr,Er);case te:var $r=tr._init;return hr(dt,Qe,vt,$r(tr._payload),Er)}if(pe(tr)||se(tr))return dt=dt.get(vt)||null,Gt(Qe,dt,tr,Er,null);bs(Qe,tr)}return null}function wr(dt,Qe,vt,tr){for(var Er=null,$r=null,Wr=Qe,Qr=Qe=0,Ki=null;Wr!==null&&Qr<vt.length;Qr++){Wr.index>Qr?(Ki=Wr,Wr=null):Ki=Wr.sibling;var ea=Vt(dt,Wr,vt[Qr],tr);if(ea===null){Wr===null&&(Wr=Ki);break}h&&Wr&&ea.alternate===null&&g(dt,Wr),Qe=J(ea,Qe,Qr),$r===null?Er=ea:$r.sibling=ea,$r=ea,Wr=Ki}if(Qr===vt.length)return w(dt,Wr),Mt&&Je(dt,Qr),Er;if(Wr===null){for(;Qr<vt.length;Qr++)Wr=Jt(dt,vt[Qr],tr),Wr!==null&&(Qe=J(Wr,Qe,Qr),$r===null?Er=Wr:$r.sibling=Wr,$r=Wr);return Mt&&Je(dt,Qr),Er}for(Wr=D(dt,Wr);Qr<vt.length;Qr++)Ki=hr(Wr,dt,Qr,vt[Qr],tr),Ki!==null&&(h&&Ki.alternate!==null&&Wr.delete(Ki.key===null?Qr:Ki.key),Qe=J(Ki,Qe,Qr),$r===null?Er=Ki:$r.sibling=Ki,$r=Ki);return h&&Wr.forEach(function(ih){return g(dt,ih)}),Mt&&Je(dt,Qr),Er}function kr(dt,Qe,vt,tr){var Er=se(vt);if(typeof Er!="function")throw Error(r(150));if(vt=Er.call(vt),vt==null)throw Error(r(151));for(var $r=Er=null,Wr=Qe,Qr=Qe=0,Ki=null,ea=vt.next();Wr!==null&&!ea.done;Qr++,ea=vt.next()){Wr.index>Qr?(Ki=Wr,Wr=null):Ki=Wr.sibling;var ih=Vt(dt,Wr,ea.value,tr);if(ih===null){Wr===null&&(Wr=Ki);break}h&&Wr&&ih.alternate===null&&g(dt,Wr),Qe=J(ih,Qe,Qr),$r===null?Er=ih:$r.sibling=ih,$r=ih,Wr=Ki}if(ea.done)return w(dt,Wr),Mt&&Je(dt,Qr),Er;if(Wr===null){for(;!ea.done;Qr++,ea=vt.next())ea=Jt(dt,ea.value,tr),ea!==null&&(Qe=J(ea,Qe,Qr),$r===null?Er=ea:$r.sibling=ea,$r=ea);return Mt&&Je(dt,Qr),Er}for(Wr=D(dt,Wr);!ea.done;Qr++,ea=vt.next())ea=hr(Wr,dt,Qr,ea.value,tr),ea!==null&&(h&&ea.alternate!==null&&Wr.delete(ea.key===null?Qr:ea.key),Qe=J(ea,Qe,Qr),$r===null?Er=ea:$r.sibling=ea,$r=ea);return h&&Wr.forEach(function(xP){return g(dt,xP)}),Mt&&Je(dt,Qr),Er}function Gn(dt,Qe,vt,tr){if(typeof vt=="object"&&vt!==null&&vt.type===C&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case O:e:{for(var Er=vt.key,$r=Qe;$r!==null;){if($r.key===Er){if(Er=vt.type,Er===C){if($r.tag===7){w(dt,$r.sibling),Qe=G($r,vt.props.children),Qe.return=dt,dt=Qe;break e}}else if($r.elementType===Er||typeof Er=="object"&&Er!==null&&Er.$$typeof===te&&Ca(Er)===$r.type){w(dt,$r.sibling),Qe=G($r,vt.props),Qe.ref=Zr(dt,$r,vt),Qe.return=dt,dt=Qe;break e}w(dt,$r);break}else g(dt,$r);$r=$r.sibling}vt.type===C?(Qe=uf(vt.props.children,dt.mode,tr,vt.key),Qe.return=dt,dt=Qe):(tr=e2(vt.type,vt.key,vt.props,null,dt.mode,tr),tr.ref=Zr(dt,Qe,vt),tr.return=dt,dt=tr)}return me(dt);case A:e:{for($r=vt.key;Qe!==null;){if(Qe.key===$r)if(Qe.tag===4&&Qe.stateNode.containerInfo===vt.containerInfo&&Qe.stateNode.implementation===vt.implementation){w(dt,Qe.sibling),Qe=G(Qe,vt.children||[]),Qe.return=dt,dt=Qe;break e}else{w(dt,Qe);break}else g(dt,Qe);Qe=Qe.sibling}Qe=zb(vt,dt.mode,tr),Qe.return=dt,dt=Qe}return me(dt);case te:return $r=vt._init,Gn(dt,Qe,$r(vt._payload),tr)}if(pe(vt))return wr(dt,Qe,vt,tr);if(se(vt))return kr(dt,Qe,vt,tr);bs(dt,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"?(vt=""+vt,Qe!==null&&Qe.tag===6?(w(dt,Qe.sibling),Qe=G(Qe,vt),Qe.return=dt,dt=Qe):(w(dt,Qe),Qe=Bb(vt,dt.mode,tr),Qe.return=dt,dt=Qe),me(dt)):w(dt,Qe)}return Gn}var An=ci(!0),Ha=ci(!1),Hn=xc(null),di=null,Ra=null,As=null;function Ws(){As=Ra=di=null}function Oa(h){var g=Hn.current;ia(Hn),h._currentValue=g}function Hs(h,g,w){for(;h!==null;){var D=h.alternate;if((h.childLanes&g)!==g?(h.childLanes|=g,D!==null&&(D.childLanes|=g)):D!==null&&(D.childLanes&g)!==g&&(D.childLanes|=g),h===w)break;h=h.return}}function sn(h,g){di=h,As=Ra=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&g)!==0&&(Dl=!0),h.firstContext=null)}function an(h){var g=h._currentValue;if(As!==h)if(h={context:h,memoizedValue:g,next:null},Ra===null){if(di===null)throw Error(r(308));Ra=h,di.dependencies={lanes:0,firstContext:h}}else Ra=Ra.next=h;return g}var pa=null;function Hi(h){pa===null?pa=[h]:pa.push(h)}function da(h,g,w,D){var G=g.interleaved;return G===null?(w.next=w,Hi(g)):(w.next=G.next,G.next=w),g.interleaved=w,xa(h,D)}function xa(h,g){h.lanes|=g;var w=h.alternate;for(w!==null&&(w.lanes|=g),w=h,h=h.return;h!==null;)h.childLanes|=g,w=h.alternate,w!==null&&(w.childLanes|=g),w=h,h=h.return;return w.tag===3?w.stateNode:null}var Tn=!1;function Mi(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(h,g){h=h.updateQueue,g.updateQueue===h&&(g.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function pn(h,g){return{eventTime:h,lane:g,tag:0,payload:null,callback:null,next:null}}function xn(h,g,w){var D=h.updateQueue;if(D===null)return null;if(D=D.shared,(Vs&2)!==0){var G=D.pending;return G===null?g.next=g:(g.next=G.next,G.next=g),D.pending=g,xa(h,w)}return G=D.interleaved,G===null?(g.next=g,Hi(D)):(g.next=G.next,G.next=g),D.interleaved=g,xa(h,w)}function Vi(h,g,w){if(g=g.updateQueue,g!==null&&(g=g.shared,(w&4194240)!==0)){var D=g.lanes;D&=h.pendingLanes,w|=D,g.lanes=w,wo(h,w)}}function ga(h,g){var w=h.updateQueue,D=h.alternate;if(D!==null&&(D=D.updateQueue,w===D)){var G=null,J=null;if(w=w.firstBaseUpdate,w!==null){do{var me={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};J===null?G=J=me:J=J.next=me,w=w.next}while(w!==null);J===null?G=J=g:J=J.next=g}else G=J=g;w={baseState:D.baseState,firstBaseUpdate:G,lastBaseUpdate:J,shared:D.shared,effects:D.effects},h.updateQueue=w;return}h=w.lastBaseUpdate,h===null?w.firstBaseUpdate=g:h.next=g,w.lastBaseUpdate=g}function Gi(h,g,w,D){var G=h.updateQueue;Tn=!1;var J=G.firstBaseUpdate,me=G.lastBaseUpdate,$e=G.shared.pending;if($e!==null){G.shared.pending=null;var Ze=$e,bt=Ze.next;Ze.next=null,me===null?J=bt:me.next=bt,me=Ze;var Gt=h.alternate;Gt!==null&&(Gt=Gt.updateQueue,$e=Gt.lastBaseUpdate,$e!==me&&($e===null?Gt.firstBaseUpdate=bt:$e.next=bt,Gt.lastBaseUpdate=Ze))}if(J!==null){var Jt=G.baseState;me=0,Gt=bt=Ze=null,$e=J;do{var Vt=$e.lane,hr=$e.eventTime;if((D&Vt)===Vt){Gt!==null&&(Gt=Gt.next={eventTime:hr,lane:0,tag:$e.tag,payload:$e.payload,callback:$e.callback,next:null});e:{var wr=h,kr=$e;switch(Vt=g,hr=w,kr.tag){case 1:if(wr=kr.payload,typeof wr=="function"){Jt=wr.call(hr,Jt,Vt);break e}Jt=wr;break e;case 3:wr.flags=wr.flags&-65537|128;case 0:if(wr=kr.payload,Vt=typeof wr=="function"?wr.call(hr,Jt,Vt):wr,Vt==null)break e;Jt=oe({},Jt,Vt);break e;case 2:Tn=!0}}$e.callback!==null&&$e.lane!==0&&(h.flags|=64,Vt=G.effects,Vt===null?G.effects=[$e]:Vt.push($e))}else hr={eventTime:hr,lane:Vt,tag:$e.tag,payload:$e.payload,callback:$e.callback,next:null},Gt===null?(bt=Gt=hr,Ze=Jt):Gt=Gt.next=hr,me|=Vt;if($e=$e.next,$e===null){if($e=G.shared.pending,$e===null)break;Vt=$e,$e=Vt.next,Vt.next=null,G.lastBaseUpdate=Vt,G.shared.pending=null}}while(!0);if(Gt===null&&(Ze=Jt),G.baseState=Ze,G.firstBaseUpdate=bt,G.lastBaseUpdate=Gt,g=G.shared.interleaved,g!==null){G=g;do me|=G.lane,G=G.next;while(G!==g)}else J===null&&(G.shared.lanes=0);of|=me,h.lanes=me,h.memoizedState=Jt}}function Fl(h,g,w){if(h=g.effects,g.effects=null,h!==null)for(g=0;g<h.length;g++){var D=h[g],G=D.callback;if(G!==null){if(D.callback=null,D=w,typeof G!="function")throw Error(r(191,G));G.call(D)}}}var gc={},ui=xc(gc),gn=xc(gc),y0=xc(gc);function Ad(h){if(h===gc)throw Error(r(174));return h}function Zu(h,g){switch(ca(y0,g),ca(gn,h),ca(ui,gc),h=g.nodeType,h){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:pt(null,"");break;default:h=h===8?g.parentNode:g,g=h.namespaceURI||null,h=h.tagName,g=pt(g,h)}ia(ui),ca(ui,g)}function qc(){ia(ui),ia(gn),ia(y0)}function Dg(h){Ad(y0.current);var g=Ad(ui.current),w=pt(g,h.type);g!==w&&(ca(gn,h),ca(ui,w))}function Zp(h){gn.current===h&&(ia(ui),ia(gn))}var Ta=xc(0);function vc(h){for(var g=h;g!==null;){if(g.tag===13){var w=g.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Xp=[];function Jp(){for(var h=0;h<Xp.length;h++)Xp[h]._workInProgressVersionPrimary=null;Xp.length=0}var cm=T.ReactCurrentDispatcher,dm=T.ReactCurrentBatchConfig,Kc=0,Ba=null,Mn=null,vn=null,Xu=!1,Td=!1,Ju=0,ub=0;function Vn(){throw Error(r(321))}function um(h,g){if(g===null)return!1;for(var w=0;w<g.length&&w<h.length;w++)if(!Da(h[w],g[w]))return!1;return!0}function sf(h,g,w,D,G,J){if(Kc=J,Ba=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,cm.current=h===null||h.memoizedState===null?$L:WL,h=w(D,G),Td){J=0;do{if(Td=!1,Ju=0,25<=J)throw Error(r(301));J+=1,vn=Mn=null,g.updateQueue=null,cm.current=HL,h=w(D,G)}while(Td)}if(cm.current=zg,g=Mn!==null&&Mn.next!==null,Kc=0,vn=Mn=Ba=null,Xu=!1,g)throw Error(r(300));return h}function Yc(){var h=Ju!==0;return Ju=0,h}function yc(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Ba.memoizedState=vn=h:vn=vn.next=h,vn}function ml(){if(Mn===null){var h=Ba.alternate;h=h!==null?h.memoizedState:null}else h=Mn.next;var g=vn===null?Ba.memoizedState:vn.next;if(g!==null)vn=g,Mn=h;else{if(h===null)throw Error(r(310));Mn=h,h={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},vn===null?Ba.memoizedState=vn=h:vn=vn.next=h}return vn}function af(h,g){return typeof g=="function"?g(h):g}function hm(h){var g=ml(),w=g.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=h;var D=Mn,G=D.baseQueue,J=w.pending;if(J!==null){if(G!==null){var me=G.next;G.next=J.next,J.next=me}D.baseQueue=G=J,w.pending=null}if(G!==null){J=G.next,D=D.baseState;var $e=me=null,Ze=null,bt=J;do{var Gt=bt.lane;if((Kc&Gt)===Gt)Ze!==null&&(Ze=Ze.next={lane:0,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null}),D=bt.hasEagerState?bt.eagerState:h(D,bt.action);else{var Jt={lane:Gt,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null};Ze===null?($e=Ze=Jt,me=D):Ze=Ze.next=Jt,Ba.lanes|=Gt,of|=Gt}bt=bt.next}while(bt!==null&&bt!==J);Ze===null?me=D:Ze.next=$e,Da(D,g.memoizedState)||(Dl=!0),g.memoizedState=D,g.baseState=me,g.baseQueue=Ze,w.lastRenderedState=D}if(h=w.interleaved,h!==null){G=h;do J=G.lane,Ba.lanes|=J,of|=J,G=G.next;while(G!==h)}else G===null&&(w.lanes=0);return[g.memoizedState,w.dispatch]}function b0(h){var g=ml(),w=g.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=h;var D=w.dispatch,G=w.pending,J=g.memoizedState;if(G!==null){w.pending=null;var me=G=G.next;do J=h(J,me.action),me=me.next;while(me!==G);Da(J,g.memoizedState)||(Dl=!0),g.memoizedState=J,g.baseQueue===null&&(g.baseState=J),w.lastRenderedState=J}return[J,D]}function Ig(){}function Qp(h,g){var w=Ba,D=ml(),G=g(),J=!Da(D.memoizedState,G);if(J&&(D.memoizedState=G,Dl=!0),D=D.queue,pm(Og.bind(null,w,D,h),[h]),D.getSnapshot!==g||J||vn!==null&&vn.memoizedState.tag&1){if(w.flags|=2048,pl(9,e1.bind(null,w,D,G,g),void 0,null),qi===null)throw Error(r(349));(Kc&30)!==0||Rg(w,g,G)}return G}function Rg(h,g,w){h.flags|=16384,h={getSnapshot:g,value:w},g=Ba.updateQueue,g===null?(g={lastEffect:null,stores:null},Ba.updateQueue=g,g.stores=[h]):(w=g.stores,w===null?g.stores=[h]:w.push(h))}function e1(h,g,w,D){g.value=w,g.getSnapshot=D,Qu(g)&&fm(h)}function Og(h,g,w){return w(function(){Qu(g)&&fm(h)})}function Qu(h){var g=h.getSnapshot;h=h.value;try{var w=g();return!Da(h,w)}catch{return!0}}function fm(h){var g=xa(h,1);g!==null&&Dd(g,h,1,-1)}function nf(h){var g=yc();return typeof h=="function"&&(h=h()),g.memoizedState=g.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:af,lastRenderedState:h},g.queue=h,h=h.dispatch=UL.bind(null,Ba,h),[g.memoizedState,h]}function pl(h,g,w,D){return h={tag:h,create:g,destroy:w,deps:D,next:null},g=Ba.updateQueue,g===null?(g={lastEffect:null,stores:null},Ba.updateQueue=g,g.lastEffect=h.next=h):(w=g.lastEffect,w===null?g.lastEffect=h.next=h:(D=w.next,w.next=h,h.next=D,g.lastEffect=h)),h}function Md(){return ml().memoizedState}function bc(h,g,w,D){var G=yc();Ba.flags|=h,G.memoizedState=pl(1|g,w,void 0,D===void 0?null:D)}function lu(h,g,w,D){var G=ml();D=D===void 0?null:D;var J=void 0;if(Mn!==null){var me=Mn.memoizedState;if(J=me.destroy,D!==null&&um(D,me.deps)){G.memoizedState=pl(g,w,J,D);return}}Ba.flags|=h,G.memoizedState=pl(1|g,w,J,D)}function mm(h,g){return bc(8390656,8,h,g)}function pm(h,g){return lu(2048,8,h,g)}function Bg(h,g){return lu(4,2,h,g)}function xm(h,g){return lu(4,4,h,g)}function gm(h,g){if(typeof g=="function")return h=h(),g(h),function(){g(null)};if(g!=null)return h=h(),g.current=h,function(){g.current=null}}function T3(h,g,w){return w=w!=null?w.concat([h]):null,lu(4,4,gm.bind(null,g,h),w)}function hb(){}function M3(h,g){var w=ml();g=g===void 0?null:g;var D=w.memoizedState;return D!==null&&g!==null&&um(g,D[1])?D[0]:(w.memoizedState=[h,g],h)}function L3(h,g){var w=ml();g=g===void 0?null:g;var D=w.memoizedState;return D!==null&&g!==null&&um(g,D[1])?D[0]:(h=h(),w.memoizedState=[h,g],h)}function P3(h,g,w){return(Kc&21)===0?(h.baseState&&(h.baseState=!1,Dl=!0),h.memoizedState=w):(Da(w,g)||(w=$u(),Ba.lanes|=w,of|=w,h.baseState=!0),g)}function BL(h,g){var w=vs;vs=w!==0&&4>w?w:4,h(!0);var D=dm.transition;dm.transition={};try{h(!1),g()}finally{vs=w,dm.transition=D}}function F3(){return ml().memoizedState}function zL(h,g,w){var D=sh(h);if(w={lane:D,action:w,hasEagerState:!1,eagerState:null,next:null},D3(h))I3(g,w);else if(w=da(h,g,w,D),w!==null){var G=gl();Dd(w,h,D,G),R3(w,g,D)}}function UL(h,g,w){var D=sh(h),G={lane:D,action:w,hasEagerState:!1,eagerState:null,next:null};if(D3(h))I3(g,G);else{var J=h.alternate;if(h.lanes===0&&(J===null||J.lanes===0)&&(J=g.lastRenderedReducer,J!==null))try{var me=g.lastRenderedState,$e=J(me,w);if(G.hasEagerState=!0,G.eagerState=$e,Da($e,me)){var Ze=g.interleaved;Ze===null?(G.next=G,Hi(g)):(G.next=Ze.next,Ze.next=G),g.interleaved=G;return}}catch{}finally{}w=da(h,g,G,D),w!==null&&(G=gl(),Dd(w,h,D,G),R3(w,g,D))}}function D3(h){var g=h.alternate;return h===Ba||g!==null&&g===Ba}function I3(h,g){Td=Xu=!0;var w=h.pending;w===null?g.next=g:(g.next=w.next,w.next=g),h.pending=g}function R3(h,g,w){if((w&4194240)!==0){var D=g.lanes;D&=h.pendingLanes,w|=D,g.lanes=w,wo(h,w)}}var zg={readContext:an,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},$L={readContext:an,useCallback:function(h,g){return yc().memoizedState=[h,g===void 0?null:g],h},useContext:an,useEffect:mm,useImperativeHandle:function(h,g,w){return w=w!=null?w.concat([h]):null,bc(4194308,4,gm.bind(null,g,h),w)},useLayoutEffect:function(h,g){return bc(4194308,4,h,g)},useInsertionEffect:function(h,g){return bc(4,2,h,g)},useMemo:function(h,g){var w=yc();return g=g===void 0?null:g,h=h(),w.memoizedState=[h,g],h},useReducer:function(h,g,w){var D=yc();return g=w!==void 0?w(g):g,D.memoizedState=D.baseState=g,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:g},D.queue=h,h=h.dispatch=zL.bind(null,Ba,h),[D.memoizedState,h]},useRef:function(h){var g=yc();return h={current:h},g.memoizedState=h},useState:nf,useDebugValue:hb,useDeferredValue:function(h){return yc().memoizedState=h},useTransition:function(){var h=nf(!1),g=h[0];return h=BL.bind(null,h[1]),yc().memoizedState=h,[g,h]},useMutableSource:function(){},useSyncExternalStore:function(h,g,w){var D=Ba,G=yc();if(Mt){if(w===void 0)throw Error(r(407));w=w()}else{if(w=g(),qi===null)throw Error(r(349));(Kc&30)!==0||Rg(D,g,w)}G.memoizedState=w;var J={value:w,getSnapshot:g};return G.queue=J,mm(Og.bind(null,D,J,h),[h]),D.flags|=2048,pl(9,e1.bind(null,D,J,w,g),void 0,null),w},useId:function(){var h=yc(),g=qi.identifierPrefix;if(Mt){var w=Ie,D=ct;w=(D&~(1<<32-vr(D)-1)).toString(32)+w,g=":"+g+"R"+w,w=Ju++,0<w&&(g+="H"+w.toString(32)),g+=":"}else w=ub++,g=":"+g+"r"+w.toString(32)+":";return h.memoizedState=g},unstable_isNewReconciler:!1},WL={readContext:an,useCallback:M3,useContext:an,useEffect:pm,useImperativeHandle:T3,useInsertionEffect:Bg,useLayoutEffect:xm,useMemo:L3,useReducer:hm,useRef:Md,useState:function(){return hm(af)},useDebugValue:hb,useDeferredValue:function(h){var g=ml();return P3(g,Mn.memoizedState,h)},useTransition:function(){var h=hm(af)[0],g=ml().memoizedState;return[h,g]},useMutableSource:Ig,useSyncExternalStore:Qp,useId:F3,unstable_isNewReconciler:!1},HL={readContext:an,useCallback:M3,useContext:an,useEffect:pm,useImperativeHandle:T3,useInsertionEffect:Bg,useLayoutEffect:xm,useMemo:L3,useReducer:b0,useRef:Md,useState:function(){return b0(af)},useDebugValue:hb,useDeferredValue:function(h){var g=ml();return Mn===null?g.memoizedState=h:P3(g,Mn.memoizedState,h)},useTransition:function(){var h=b0(af)[0],g=ml().memoizedState;return[h,g]},useMutableSource:Ig,useSyncExternalStore:Qp,useId:F3,unstable_isNewReconciler:!1};function Ld(h,g){if(h&&h.defaultProps){g=oe({},g),h=h.defaultProps;for(var w in h)g[w]===void 0&&(g[w]=h[w]);return g}return g}function fb(h,g,w,D){g=h.memoizedState,w=w(D,g),w=w==null?g:oe({},g,w),h.memoizedState=w,h.lanes===0&&(h.updateQueue.baseState=w)}var Ug={isMounted:function(h){return(h=h._reactInternals)?Me(h)===h:!1},enqueueSetState:function(h,g,w){h=h._reactInternals;var D=gl(),G=sh(h),J=pn(D,G);J.payload=g,w!=null&&(J.callback=w),g=xn(h,J,G),g!==null&&(Dd(g,h,G,D),Vi(g,h,G))},enqueueReplaceState:function(h,g,w){h=h._reactInternals;var D=gl(),G=sh(h),J=pn(D,G);J.tag=1,J.payload=g,w!=null&&(J.callback=w),g=xn(h,J,G),g!==null&&(Dd(g,h,G,D),Vi(g,h,G))},enqueueForceUpdate:function(h,g){h=h._reactInternals;var w=gl(),D=sh(h),G=pn(w,D);G.tag=2,g!=null&&(G.callback=g),g=xn(h,G,D),g!==null&&(Dd(g,h,D,w),Vi(g,h,D))}};function O3(h,g,w,D,G,J,me){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(D,J,me):g.prototype&&g.prototype.isPureReactComponent?!Un(w,D)||!Un(G,J):!0}function B3(h,g,w){var D=!1,G=v0,J=g.contextType;return typeof J=="object"&&J!==null?J=an(J):(G=Fo(g)?iu:Ti.current,D=g.contextTypes,J=(D=D!=null)?Yu(h,G):v0),g=new g(w,J),h.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ug,h.stateNode=g,g._reactInternals=h,D&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=G,h.__reactInternalMemoizedMaskedChildContext=J),g}function z3(h,g,w,D){h=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(w,D),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(w,D),g.state!==h&&Ug.enqueueReplaceState(g,g.state,null)}function mb(h,g,w,D){var G=h.stateNode;G.props=w,G.state=h.memoizedState,G.refs={},Mi(h);var J=g.contextType;typeof J=="object"&&J!==null?G.context=an(J):(J=Fo(g)?iu:Ti.current,G.context=Yu(h,J)),G.state=h.memoizedState,J=g.getDerivedStateFromProps,typeof J=="function"&&(fb(h,g,J,w),G.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(g=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),g!==G.state&&Ug.enqueueReplaceState(G,G.state,null),Gi(h,w,G,D),G.state=h.memoizedState),typeof G.componentDidMount=="function"&&(h.flags|=4194308)}function vm(h,g){try{var w="",D=g;do w+=K(D),D=D.return;while(D);var G=w}catch(J){G=`
Error generating stack: `+J.message+`
`+J.stack}return{value:h,source:g,stack:G,digest:null}}function pb(h,g,w){return{value:h,source:null,stack:w??null,digest:g??null}}function xb(h,g){try{console.error(g.value)}catch(w){setTimeout(function(){throw w})}}var VL=typeof WeakMap=="function"?WeakMap:Map;function U3(h,g,w){w=pn(-1,w),w.tag=3,w.payload={element:null};var D=g.value;return w.callback=function(){Kg||(Kg=!0,Mb=D),xb(h,g)},w}function $3(h,g,w){w=pn(-1,w),w.tag=3;var D=h.type.getDerivedStateFromError;if(typeof D=="function"){var G=g.value;w.payload=function(){return D(G)},w.callback=function(){xb(h,g)}}var J=h.stateNode;return J!==null&&typeof J.componentDidCatch=="function"&&(w.callback=function(){xb(h,g),typeof D!="function"&&(th===null?th=new Set([this]):th.add(this));var me=g.stack;this.componentDidCatch(g.value,{componentStack:me!==null?me:""})}),w}function W3(h,g,w){var D=h.pingCache;if(D===null){D=h.pingCache=new VL;var G=new Set;D.set(g,G)}else G=D.get(g),G===void 0&&(G=new Set,D.set(g,G));G.has(w)||(G.add(w),h=nP.bind(null,h,g,w),g.then(h,h))}function H3(h){do{var g;if((g=h.tag===13)&&(g=h.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return h;h=h.return}while(h!==null);return null}function V3(h,g,w,D,G){return(h.mode&1)===0?(h===g?h.flags|=65536:(h.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(g=pn(-1,1),g.tag=2,xn(w,g,1))),w.lanes|=1),h):(h.flags|=65536,h.lanes=G,h)}var GL=T.ReactCurrentOwner,Dl=!1;function xl(h,g,w,D){g.child=h===null?Ha(g,null,w,D):An(g,h.child,w,D)}function G3(h,g,w,D,G){w=w.render;var J=g.ref;return sn(g,G),D=sf(h,g,w,D,J,G),w=Yc(),h!==null&&!Dl?(g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~G,cu(h,g,G)):(Mt&&w&&St(g),g.flags|=1,xl(h,g,D,G),g.child)}function q3(h,g,w,D,G){if(h===null){var J=w.type;return typeof J=="function"&&!Ob(J)&&J.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(g.tag=15,g.type=J,K3(h,g,J,D,G)):(h=e2(w.type,null,D,g,g.mode,G),h.ref=g.ref,h.return=g,g.child=h)}if(J=h.child,(h.lanes&G)===0){var me=J.memoizedProps;if(w=w.compare,w=w!==null?w:Un,w(me,D)&&h.ref===g.ref)return cu(h,g,G)}return g.flags|=1,h=nh(J,D),h.ref=g.ref,h.return=g,g.child=h}function K3(h,g,w,D,G){if(h!==null){var J=h.memoizedProps;if(Un(J,D)&&h.ref===g.ref)if(Dl=!1,g.pendingProps=D=J,(h.lanes&G)!==0)(h.flags&131072)!==0&&(Dl=!0);else return g.lanes=h.lanes,cu(h,g,G)}return gb(h,g,w,D,G)}function Y3(h,g,w){var D=g.pendingProps,G=D.children,J=h!==null?h.memoizedState:null;if(D.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},ca(bm,_c),_c|=w;else{if((w&1073741824)===0)return h=J!==null?J.baseLanes|w:w,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:h,cachePool:null,transitions:null},g.updateQueue=null,ca(bm,_c),_c|=h,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},D=J!==null?J.baseLanes:w,ca(bm,_c),_c|=D}else J!==null?(D=J.baseLanes|w,g.memoizedState=null):D=w,ca(bm,_c),_c|=D;return xl(h,g,G,w),g.child}function Z3(h,g){var w=g.ref;(h===null&&w!==null||h!==null&&h.ref!==w)&&(g.flags|=512,g.flags|=2097152)}function gb(h,g,w,D,G){var J=Fo(w)?iu:Ti.current;return J=Yu(g,J),sn(g,G),w=sf(h,g,w,D,J,G),D=Yc(),h!==null&&!Dl?(g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~G,cu(h,g,G)):(Mt&&D&&St(g),g.flags|=1,xl(h,g,w,G),g.child)}function X3(h,g,w,D,G){if(Fo(w)){var J=!0;ou(g)}else J=!1;if(sn(g,G),g.stateNode===null)Wg(h,g),B3(g,w,D),mb(g,w,D,G),D=!0;else if(h===null){var me=g.stateNode,$e=g.memoizedProps;me.props=$e;var Ze=me.context,bt=w.contextType;typeof bt=="object"&&bt!==null?bt=an(bt):(bt=Fo(w)?iu:Ti.current,bt=Yu(g,bt));var Gt=w.getDerivedStateFromProps,Jt=typeof Gt=="function"||typeof me.getSnapshotBeforeUpdate=="function";Jt||typeof me.UNSAFE_componentWillReceiveProps!="function"&&typeof me.componentWillReceiveProps!="function"||($e!==D||Ze!==bt)&&z3(g,me,D,bt),Tn=!1;var Vt=g.memoizedState;me.state=Vt,Gi(g,D,me,G),Ze=g.memoizedState,$e!==D||Vt!==Ze||Po.current||Tn?(typeof Gt=="function"&&(fb(g,w,Gt,D),Ze=g.memoizedState),($e=Tn||O3(g,w,$e,D,Vt,Ze,bt))?(Jt||typeof me.UNSAFE_componentWillMount!="function"&&typeof me.componentWillMount!="function"||(typeof me.componentWillMount=="function"&&me.componentWillMount(),typeof me.UNSAFE_componentWillMount=="function"&&me.UNSAFE_componentWillMount()),typeof me.componentDidMount=="function"&&(g.flags|=4194308)):(typeof me.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=D,g.memoizedState=Ze),me.props=D,me.state=Ze,me.context=bt,D=$e):(typeof me.componentDidMount=="function"&&(g.flags|=4194308),D=!1)}else{me=g.stateNode,Do(h,g),$e=g.memoizedProps,bt=g.type===g.elementType?$e:Ld(g.type,$e),me.props=bt,Jt=g.pendingProps,Vt=me.context,Ze=w.contextType,typeof Ze=="object"&&Ze!==null?Ze=an(Ze):(Ze=Fo(w)?iu:Ti.current,Ze=Yu(g,Ze));var hr=w.getDerivedStateFromProps;(Gt=typeof hr=="function"||typeof me.getSnapshotBeforeUpdate=="function")||typeof me.UNSAFE_componentWillReceiveProps!="function"&&typeof me.componentWillReceiveProps!="function"||($e!==Jt||Vt!==Ze)&&z3(g,me,D,Ze),Tn=!1,Vt=g.memoizedState,me.state=Vt,Gi(g,D,me,G);var wr=g.memoizedState;$e!==Jt||Vt!==wr||Po.current||Tn?(typeof hr=="function"&&(fb(g,w,hr,D),wr=g.memoizedState),(bt=Tn||O3(g,w,bt,D,Vt,wr,Ze)||!1)?(Gt||typeof me.UNSAFE_componentWillUpdate!="function"&&typeof me.componentWillUpdate!="function"||(typeof me.componentWillUpdate=="function"&&me.componentWillUpdate(D,wr,Ze),typeof me.UNSAFE_componentWillUpdate=="function"&&me.UNSAFE_componentWillUpdate(D,wr,Ze)),typeof me.componentDidUpdate=="function"&&(g.flags|=4),typeof me.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof me.componentDidUpdate!="function"||$e===h.memoizedProps&&Vt===h.memoizedState||(g.flags|=4),typeof me.getSnapshotBeforeUpdate!="function"||$e===h.memoizedProps&&Vt===h.memoizedState||(g.flags|=1024),g.memoizedProps=D,g.memoizedState=wr),me.props=D,me.state=wr,me.context=Ze,D=bt):(typeof me.componentDidUpdate!="function"||$e===h.memoizedProps&&Vt===h.memoizedState||(g.flags|=4),typeof me.getSnapshotBeforeUpdate!="function"||$e===h.memoizedProps&&Vt===h.memoizedState||(g.flags|=1024),D=!1)}return vb(h,g,w,D,J,G)}function vb(h,g,w,D,G,J){Z3(h,g);var me=(g.flags&128)!==0;if(!D&&!me)return G&&Fg(g,w,!1),cu(h,g,J);D=g.stateNode,GL.current=g;var $e=me&&typeof w.getDerivedStateFromError!="function"?null:D.render();return g.flags|=1,h!==null&&me?(g.child=An(g,h.child,null,J),g.child=An(g,null,$e,J)):xl(h,g,$e,J),g.memoizedState=D.state,G&&Fg(g,w,!0),g.child}function J3(h){var g=h.stateNode;g.pendingContext?Pg(h,g.pendingContext,g.pendingContext!==g.context):g.context&&Pg(h,g.context,!1),Zu(h,g.containerInfo)}function Q3(h,g,w,D,G){return xr(),or(G),g.flags|=256,xl(h,g,w,D),g.child}var yb={dehydrated:null,treeContext:null,retryLane:0};function bb(h){return{baseLanes:h,cachePool:null,transitions:null}}function eN(h,g,w){var D=g.pendingProps,G=Ta.current,J=!1,me=(g.flags&128)!==0,$e;if(($e=me)||($e=h!==null&&h.memoizedState===null?!1:(G&2)!==0),$e?(J=!0,g.flags&=-129):(h===null||h.memoizedState!==null)&&(G|=1),ca(Ta,G&1),h===null)return _r(g),h=g.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((g.mode&1)===0?g.lanes=1:h.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(me=D.children,h=D.fallback,J?(D=g.mode,J=g.child,me={mode:"hidden",children:me},(D&1)===0&&J!==null?(J.childLanes=0,J.pendingProps=me):J=t2(me,D,0,null),h=uf(h,D,w,null),J.return=g,h.return=g,J.sibling=h,g.child=J,g.child.memoizedState=bb(w),g.memoizedState=yb,h):_b(g,me));if(G=h.memoizedState,G!==null&&($e=G.dehydrated,$e!==null))return qL(h,g,me,D,$e,G,w);if(J){J=D.fallback,me=g.mode,G=h.child,$e=G.sibling;var Ze={mode:"hidden",children:D.children};return(me&1)===0&&g.child!==G?(D=g.child,D.childLanes=0,D.pendingProps=Ze,g.deletions=null):(D=nh(G,Ze),D.subtreeFlags=G.subtreeFlags&14680064),$e!==null?J=nh($e,J):(J=uf(J,me,w,null),J.flags|=2),J.return=g,D.return=g,D.sibling=J,g.child=D,D=J,J=g.child,me=h.child.memoizedState,me=me===null?bb(w):{baseLanes:me.baseLanes|w,cachePool:null,transitions:me.transitions},J.memoizedState=me,J.childLanes=h.childLanes&~w,g.memoizedState=yb,D}return J=h.child,h=J.sibling,D=nh(J,{mode:"visible",children:D.children}),(g.mode&1)===0&&(D.lanes=w),D.return=g,D.sibling=null,h!==null&&(w=g.deletions,w===null?(g.deletions=[h],g.flags|=16):w.push(h)),g.child=D,g.memoizedState=null,D}function _b(h,g){return g=t2({mode:"visible",children:g},h.mode,0,null),g.return=h,h.child=g}function $g(h,g,w,D){return D!==null&&or(D),An(g,h.child,null,w),h=_b(g,g.pendingProps.children),h.flags|=2,g.memoizedState=null,h}function qL(h,g,w,D,G,J,me){if(w)return g.flags&256?(g.flags&=-257,D=pb(Error(r(422))),$g(h,g,me,D)):g.memoizedState!==null?(g.child=h.child,g.flags|=128,null):(J=D.fallback,G=g.mode,D=t2({mode:"visible",children:D.children},G,0,null),J=uf(J,G,me,null),J.flags|=2,D.return=g,J.return=g,D.sibling=J,g.child=D,(g.mode&1)!==0&&An(g,h.child,null,me),g.child.memoizedState=bb(me),g.memoizedState=yb,J);if((g.mode&1)===0)return $g(h,g,me,null);if(G.data==="$!"){if(D=G.nextSibling&&G.nextSibling.dataset,D)var $e=D.dgst;return D=$e,J=Error(r(419)),D=pb(J,D,void 0),$g(h,g,me,D)}if($e=(me&h.childLanes)!==0,Dl||$e){if(D=qi,D!==null){switch(me&-me){case 4:G=2;break;case 16:G=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:G=32;break;case 536870912:G=268435456;break;default:G=0}G=(G&(D.suspendedLanes|me))!==0?0:G,G!==0&&G!==J.retryLane&&(J.retryLane=G,xa(h,G),Dd(D,h,G,-1))}return Rb(),D=pb(Error(r(421))),$g(h,g,me,D)}return G.data==="$?"?(g.flags|=128,g.child=h.child,g=iP.bind(null,h),G._reactRetry=g,null):(h=J.treeContext,Ct=Ei(G.nextSibling),kt=g,Mt=!0,It=null,h!==null&&(Te[Fe++]=ct,Te[Fe++]=Ie,Te[Fe++]=Ye,ct=h.id,Ie=h.overflow,Ye=g),g=_b(g,D.children),g.flags|=4096,g)}function tN(h,g,w){h.lanes|=g;var D=h.alternate;D!==null&&(D.lanes|=g),Hs(h.return,g,w)}function wb(h,g,w,D,G){var J=h.memoizedState;J===null?h.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:D,tail:w,tailMode:G}:(J.isBackwards=g,J.rendering=null,J.renderingStartTime=0,J.last=D,J.tail=w,J.tailMode=G)}function rN(h,g,w){var D=g.pendingProps,G=D.revealOrder,J=D.tail;if(xl(h,g,D.children,w),D=Ta.current,(D&2)!==0)D=D&1|2,g.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=g.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&tN(h,w,g);else if(h.tag===19)tN(h,w,g);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===g)break e;for(;h.sibling===null;){if(h.return===null||h.return===g)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}D&=1}if(ca(Ta,D),(g.mode&1)===0)g.memoizedState=null;else switch(G){case"forwards":for(w=g.child,G=null;w!==null;)h=w.alternate,h!==null&&vc(h)===null&&(G=w),w=w.sibling;w=G,w===null?(G=g.child,g.child=null):(G=w.sibling,w.sibling=null),wb(g,!1,G,w,J);break;case"backwards":for(w=null,G=g.child,g.child=null;G!==null;){if(h=G.alternate,h!==null&&vc(h)===null){g.child=G;break}h=G.sibling,G.sibling=w,w=G,G=h}wb(g,!0,w,null,J);break;case"together":wb(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Wg(h,g){(g.mode&1)===0&&h!==null&&(h.alternate=null,g.alternate=null,g.flags|=2)}function cu(h,g,w){if(h!==null&&(g.dependencies=h.dependencies),of|=g.lanes,(w&g.childLanes)===0)return null;if(h!==null&&g.child!==h.child)throw Error(r(153));if(g.child!==null){for(h=g.child,w=nh(h,h.pendingProps),g.child=w,w.return=g;h.sibling!==null;)h=h.sibling,w=w.sibling=nh(h,h.pendingProps),w.return=g;w.sibling=null}return g.child}function KL(h,g,w){switch(g.tag){case 3:J3(g),xr();break;case 5:Dg(g);break;case 1:Fo(g.type)&&ou(g);break;case 4:Zu(g,g.stateNode.containerInfo);break;case 10:var D=g.type._context,G=g.memoizedProps.value;ca(Hn,D._currentValue),D._currentValue=G;break;case 13:if(D=g.memoizedState,D!==null)return D.dehydrated!==null?(ca(Ta,Ta.current&1),g.flags|=128,null):(w&g.child.childLanes)!==0?eN(h,g,w):(ca(Ta,Ta.current&1),h=cu(h,g,w),h!==null?h.sibling:null);ca(Ta,Ta.current&1);break;case 19:if(D=(w&g.childLanes)!==0,(h.flags&128)!==0){if(D)return rN(h,g,w);g.flags|=128}if(G=g.memoizedState,G!==null&&(G.rendering=null,G.tail=null,G.lastEffect=null),ca(Ta,Ta.current),D)break;return null;case 22:case 23:return g.lanes=0,Y3(h,g,w)}return cu(h,g,w)}var sN,Nb,aN,nN;sN=function(h,g){for(var w=g.child;w!==null;){if(w.tag===5||w.tag===6)h.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===g)break;for(;w.sibling===null;){if(w.return===null||w.return===g)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},Nb=function(){},aN=function(h,g,w,D){var G=h.memoizedProps;if(G!==D){h=g.stateNode,Ad(ui.current);var J=null;switch(w){case"input":G=De(h,G),D=De(h,D),J=[];break;case"select":G=oe({},G,{value:void 0}),D=oe({},D,{value:void 0}),J=[];break;case"textarea":G=He(h,G),D=He(h,D),J=[];break;default:typeof G.onClick!="function"&&typeof D.onClick=="function"&&(h.onclick=Ot)}rs(w,D);var me;w=null;for(bt in G)if(!D.hasOwnProperty(bt)&&G.hasOwnProperty(bt)&&G[bt]!=null)if(bt==="style"){var $e=G[bt];for(me in $e)$e.hasOwnProperty(me)&&(w||(w={}),w[me]="")}else bt!=="dangerouslySetInnerHTML"&&bt!=="children"&&bt!=="suppressContentEditableWarning"&&bt!=="suppressHydrationWarning"&&bt!=="autoFocus"&&(a.hasOwnProperty(bt)?J||(J=[]):(J=J||[]).push(bt,null));for(bt in D){var Ze=D[bt];if($e=G!=null?G[bt]:void 0,D.hasOwnProperty(bt)&&Ze!==$e&&(Ze!=null||$e!=null))if(bt==="style")if($e){for(me in $e)!$e.hasOwnProperty(me)||Ze&&Ze.hasOwnProperty(me)||(w||(w={}),w[me]="");for(me in Ze)Ze.hasOwnProperty(me)&&$e[me]!==Ze[me]&&(w||(w={}),w[me]=Ze[me])}else w||(J||(J=[]),J.push(bt,w)),w=Ze;else bt==="dangerouslySetInnerHTML"?(Ze=Ze?Ze.__html:void 0,$e=$e?$e.__html:void 0,Ze!=null&&$e!==Ze&&(J=J||[]).push(bt,Ze)):bt==="children"?typeof Ze!="string"&&typeof Ze!="number"||(J=J||[]).push(bt,""+Ze):bt!=="suppressContentEditableWarning"&&bt!=="suppressHydrationWarning"&&(a.hasOwnProperty(bt)?(Ze!=null&&bt==="onScroll"&&Qs("scroll",h),J||$e===Ze||(J=[])):(J=J||[]).push(bt,Ze))}w&&(J=J||[]).push("style",w);var bt=J;(g.updateQueue=bt)&&(g.flags|=4)}},nN=function(h,g,w,D){w!==D&&(g.flags|=4)};function t1(h,g){if(!Mt)switch(h.tailMode){case"hidden":g=h.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?h.tail=null:w.sibling=null;break;case"collapsed":w=h.tail;for(var D=null;w!==null;)w.alternate!==null&&(D=w),w=w.sibling;D===null?g||h.tail===null?h.tail=null:h.tail.sibling=null:D.sibling=null}}function Io(h){var g=h.alternate!==null&&h.alternate.child===h.child,w=0,D=0;if(g)for(var G=h.child;G!==null;)w|=G.lanes|G.childLanes,D|=G.subtreeFlags&14680064,D|=G.flags&14680064,G.return=h,G=G.sibling;else for(G=h.child;G!==null;)w|=G.lanes|G.childLanes,D|=G.subtreeFlags,D|=G.flags,G.return=h,G=G.sibling;return h.subtreeFlags|=D,h.childLanes=w,g}function YL(h,g,w){var D=g.pendingProps;switch(ut(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Io(g),null;case 1:return Fo(g.type)&&lm(),Io(g),null;case 3:return D=g.stateNode,qc(),ia(Po),ia(Ti),Jp(),D.pendingContext&&(D.context=D.pendingContext,D.pendingContext=null),(h===null||h.child===null)&&(rn(g)?g.flags|=4:h===null||h.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,It!==null&&(Fb(It),It=null))),Nb(h,g),Io(g),null;case 5:Zp(g);var G=Ad(y0.current);if(w=g.type,h!==null&&g.stateNode!=null)aN(h,g,w,D,G),h.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!D){if(g.stateNode===null)throw Error(r(166));return Io(g),null}if(h=Ad(ui.current),rn(g)){D=g.stateNode,w=g.type;var J=g.memoizedProps;switch(D[Pl]=g,D[Cd]=J,h=(g.mode&1)!==0,w){case"dialog":Qs("cancel",D),Qs("close",D);break;case"iframe":case"object":case"embed":Qs("load",D);break;case"video":case"audio":for(G=0;G<pc.length;G++)Qs(pc[G],D);break;case"source":Qs("error",D);break;case"img":case"image":case"link":Qs("error",D),Qs("load",D);break;case"details":Qs("toggle",D);break;case"input":Ee(D,J),Qs("invalid",D);break;case"select":D._wrapperState={wasMultiple:!!J.multiple},Qs("invalid",D);break;case"textarea":ve(D,J),Qs("invalid",D)}rs(w,J),G=null;for(var me in J)if(J.hasOwnProperty(me)){var $e=J[me];me==="children"?typeof $e=="string"?D.textContent!==$e&&(J.suppressHydrationWarning!==!0&&yt(D.textContent,$e,h),G=["children",$e]):typeof $e=="number"&&D.textContent!==""+$e&&(J.suppressHydrationWarning!==!0&&yt(D.textContent,$e,h),G=["children",""+$e]):a.hasOwnProperty(me)&&$e!=null&&me==="onScroll"&&Qs("scroll",D)}switch(w){case"input":We(D),ft(D,J,!0);break;case"textarea":We(D),ze(D);break;case"select":case"option":break;default:typeof J.onClick=="function"&&(D.onclick=Ot)}D=G,g.updateQueue=D,D!==null&&(g.flags|=4)}else{me=G.nodeType===9?G:G.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=qe(w)),h==="http://www.w3.org/1999/xhtml"?w==="script"?(h=me.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof D.is=="string"?h=me.createElement(w,{is:D.is}):(h=me.createElement(w),w==="select"&&(me=h,D.multiple?me.multiple=!0:D.size&&(me.size=D.size))):h=me.createElementNS(h,w),h[Pl]=g,h[Cd]=D,sN(h,g,!1,!1),g.stateNode=h;e:{switch(me=gr(w,D),w){case"dialog":Qs("cancel",h),Qs("close",h),G=D;break;case"iframe":case"object":case"embed":Qs("load",h),G=D;break;case"video":case"audio":for(G=0;G<pc.length;G++)Qs(pc[G],h);G=D;break;case"source":Qs("error",h),G=D;break;case"img":case"image":case"link":Qs("error",h),Qs("load",h),G=D;break;case"details":Qs("toggle",h),G=D;break;case"input":Ee(h,D),G=De(h,D),Qs("invalid",h);break;case"option":G=D;break;case"select":h._wrapperState={wasMultiple:!!D.multiple},G=oe({},D,{value:void 0}),Qs("invalid",h);break;case"textarea":ve(h,D),G=He(h,D),Qs("invalid",h);break;default:G=D}rs(w,G),$e=G;for(J in $e)if($e.hasOwnProperty(J)){var Ze=$e[J];J==="style"?Qt(h,Ze):J==="dangerouslySetInnerHTML"?(Ze=Ze?Ze.__html:void 0,Ze!=null&&Ft(h,Ze)):J==="children"?typeof Ze=="string"?(w!=="textarea"||Ze!=="")&&Et(h,Ze):typeof Ze=="number"&&Et(h,""+Ze):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(a.hasOwnProperty(J)?Ze!=null&&J==="onScroll"&&Qs("scroll",h):Ze!=null&&M(h,J,Ze,me))}switch(w){case"input":We(h),ft(h,D,!1);break;case"textarea":We(h),ze(h);break;case"option":D.value!=null&&h.setAttribute("value",""+he(D.value));break;case"select":h.multiple=!!D.multiple,J=D.value,J!=null?Le(h,!!D.multiple,J,!1):D.defaultValue!=null&&Le(h,!!D.multiple,D.defaultValue,!0);break;default:typeof G.onClick=="function"&&(h.onclick=Ot)}switch(w){case"button":case"input":case"select":case"textarea":D=!!D.autoFocus;break e;case"img":D=!0;break e;default:D=!1}}D&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Io(g),null;case 6:if(h&&g.stateNode!=null)nN(h,g,h.memoizedProps,D);else{if(typeof D!="string"&&g.stateNode===null)throw Error(r(166));if(w=Ad(y0.current),Ad(ui.current),rn(g)){if(D=g.stateNode,w=g.memoizedProps,D[Pl]=g,(J=D.nodeValue!==w)&&(h=kt,h!==null))switch(h.tag){case 3:yt(D.nodeValue,w,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&yt(D.nodeValue,w,(h.mode&1)!==0)}J&&(g.flags|=4)}else D=(w.nodeType===9?w:w.ownerDocument).createTextNode(D),D[Pl]=g,g.stateNode=D}return Io(g),null;case 13:if(ia(Ta),D=g.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(Mt&&Ct!==null&&(g.mode&1)!==0&&(g.flags&128)===0)is(),xr(),g.flags|=98560,J=!1;else if(J=rn(g),D!==null&&D.dehydrated!==null){if(h===null){if(!J)throw Error(r(318));if(J=g.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(r(317));J[Pl]=g}else xr(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Io(g),J=!1}else It!==null&&(Fb(It),It=null),J=!0;if(!J)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=w,g):(D=D!==null,D!==(h!==null&&h.memoizedState!==null)&&D&&(g.child.flags|=8192,(g.mode&1)!==0&&(h===null||(Ta.current&1)!==0?Li===0&&(Li=3):Rb())),g.updateQueue!==null&&(g.flags|=4),Io(g),null);case 4:return qc(),Nb(h,g),h===null&&Wc(g.stateNode.containerInfo),Io(g),null;case 10:return Oa(g.type._context),Io(g),null;case 17:return Fo(g.type)&&lm(),Io(g),null;case 19:if(ia(Ta),J=g.memoizedState,J===null)return Io(g),null;if(D=(g.flags&128)!==0,me=J.rendering,me===null)if(D)t1(J,!1);else{if(Li!==0||h!==null&&(h.flags&128)!==0)for(h=g.child;h!==null;){if(me=vc(h),me!==null){for(g.flags|=128,t1(J,!1),D=me.updateQueue,D!==null&&(g.updateQueue=D,g.flags|=4),g.subtreeFlags=0,D=w,w=g.child;w!==null;)J=w,h=D,J.flags&=14680066,me=J.alternate,me===null?(J.childLanes=0,J.lanes=h,J.child=null,J.subtreeFlags=0,J.memoizedProps=null,J.memoizedState=null,J.updateQueue=null,J.dependencies=null,J.stateNode=null):(J.childLanes=me.childLanes,J.lanes=me.lanes,J.child=me.child,J.subtreeFlags=0,J.deletions=null,J.memoizedProps=me.memoizedProps,J.memoizedState=me.memoizedState,J.updateQueue=me.updateQueue,J.type=me.type,h=me.dependencies,J.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),w=w.sibling;return ca(Ta,Ta.current&1|2),g.child}h=h.sibling}J.tail!==null&&Ht()>_m&&(g.flags|=128,D=!0,t1(J,!1),g.lanes=4194304)}else{if(!D)if(h=vc(me),h!==null){if(g.flags|=128,D=!0,w=h.updateQueue,w!==null&&(g.updateQueue=w,g.flags|=4),t1(J,!0),J.tail===null&&J.tailMode==="hidden"&&!me.alternate&&!Mt)return Io(g),null}else 2*Ht()-J.renderingStartTime>_m&&w!==1073741824&&(g.flags|=128,D=!0,t1(J,!1),g.lanes=4194304);J.isBackwards?(me.sibling=g.child,g.child=me):(w=J.last,w!==null?w.sibling=me:g.child=me,J.last=me)}return J.tail!==null?(g=J.tail,J.rendering=g,J.tail=g.sibling,J.renderingStartTime=Ht(),g.sibling=null,w=Ta.current,ca(Ta,D?w&1|2:w&1),g):(Io(g),null);case 22:case 23:return Ib(),D=g.memoizedState!==null,h!==null&&h.memoizedState!==null!==D&&(g.flags|=8192),D&&(g.mode&1)!==0?(_c&1073741824)!==0&&(Io(g),g.subtreeFlags&6&&(g.flags|=8192)):Io(g),null;case 24:return null;case 25:return null}throw Error(r(156,g.tag))}function ZL(h,g){switch(ut(g),g.tag){case 1:return Fo(g.type)&&lm(),h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 3:return qc(),ia(Po),ia(Ti),Jp(),h=g.flags,(h&65536)!==0&&(h&128)===0?(g.flags=h&-65537|128,g):null;case 5:return Zp(g),null;case 13:if(ia(Ta),h=g.memoizedState,h!==null&&h.dehydrated!==null){if(g.alternate===null)throw Error(r(340));xr()}return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 19:return ia(Ta),null;case 4:return qc(),null;case 10:return Oa(g.type._context),null;case 22:case 23:return Ib(),null;case 24:return null;default:return null}}var Hg=!1,Ro=!1,XL=typeof WeakSet=="function"?WeakSet:Set,yr=null;function ym(h,g){var w=h.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(D){Ln(h,g,D)}else w.current=null}function kb(h,g,w){try{w()}catch(D){Ln(h,g,D)}}var iN=!1;function JL(h,g){if(lr=yd,h=Wa(),hl(h)){if("selectionStart"in h)var w={start:h.selectionStart,end:h.selectionEnd};else e:{w=(w=h.ownerDocument)&&w.defaultView||window;var D=w.getSelection&&w.getSelection();if(D&&D.rangeCount!==0){w=D.anchorNode;var G=D.anchorOffset,J=D.focusNode;D=D.focusOffset;try{w.nodeType,J.nodeType}catch{w=null;break e}var me=0,$e=-1,Ze=-1,bt=0,Gt=0,Jt=h,Vt=null;t:for(;;){for(var hr;Jt!==w||G!==0&&Jt.nodeType!==3||($e=me+G),Jt!==J||D!==0&&Jt.nodeType!==3||(Ze=me+D),Jt.nodeType===3&&(me+=Jt.nodeValue.length),(hr=Jt.firstChild)!==null;)Vt=Jt,Jt=hr;for(;;){if(Jt===h)break t;if(Vt===w&&++bt===G&&($e=me),Vt===J&&++Gt===D&&(Ze=me),(hr=Jt.nextSibling)!==null)break;Jt=Vt,Vt=Jt.parentNode}Jt=hr}w=$e===-1||Ze===-1?null:{start:$e,end:Ze}}else w=null}w=w||{start:0,end:0}}else w=null;for(Tr={focusedElem:h,selectionRange:w},yd=!1,yr=g;yr!==null;)if(g=yr,h=g.child,(g.subtreeFlags&1028)!==0&&h!==null)h.return=g,yr=h;else for(;yr!==null;){g=yr;try{var wr=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(wr!==null){var kr=wr.memoizedProps,Gn=wr.memoizedState,dt=g.stateNode,Qe=dt.getSnapshotBeforeUpdate(g.elementType===g.type?kr:Ld(g.type,kr),Gn);dt.__reactInternalSnapshotBeforeUpdate=Qe}break;case 3:var vt=g.stateNode.containerInfo;vt.nodeType===1?vt.textContent="":vt.nodeType===9&&vt.documentElement&&vt.removeChild(vt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(tr){Ln(g,g.return,tr)}if(h=g.sibling,h!==null){h.return=g.return,yr=h;break}yr=g.return}return wr=iN,iN=!1,wr}function r1(h,g,w){var D=g.updateQueue;if(D=D!==null?D.lastEffect:null,D!==null){var G=D=D.next;do{if((G.tag&h)===h){var J=G.destroy;G.destroy=void 0,J!==void 0&&kb(g,w,J)}G=G.next}while(G!==D)}}function Vg(h,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&h)===h){var D=w.create;w.destroy=D()}w=w.next}while(w!==g)}}function jb(h){var g=h.ref;if(g!==null){var w=h.stateNode;switch(h.tag){case 5:h=w;break;default:h=w}typeof g=="function"?g(h):g.current=h}}function oN(h){var g=h.alternate;g!==null&&(h.alternate=null,oN(g)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(g=h.stateNode,g!==null&&(delete g[Pl],delete g[Cd],delete g[Wn],delete g[Gp],delete g[qp])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function lN(h){return h.tag===5||h.tag===3||h.tag===4}function cN(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||lN(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Cb(h,g,w){var D=h.tag;if(D===5||D===6)h=h.stateNode,g?w.nodeType===8?w.parentNode.insertBefore(h,g):w.insertBefore(h,g):(w.nodeType===8?(g=w.parentNode,g.insertBefore(h,w)):(g=w,g.appendChild(h)),w=w._reactRootContainer,w!=null||g.onclick!==null||(g.onclick=Ot));else if(D!==4&&(h=h.child,h!==null))for(Cb(h,g,w),h=h.sibling;h!==null;)Cb(h,g,w),h=h.sibling}function Sb(h,g,w){var D=h.tag;if(D===5||D===6)h=h.stateNode,g?w.insertBefore(h,g):w.appendChild(h);else if(D!==4&&(h=h.child,h!==null))for(Sb(h,g,w),h=h.sibling;h!==null;)Sb(h,g,w),h=h.sibling}var mo=null,Pd=!1;function eh(h,g,w){for(w=w.child;w!==null;)dN(h,g,w),w=w.sibling}function dN(h,g,w){if(Os&&typeof Os.onCommitFiberUnmount=="function")try{Os.onCommitFiberUnmount(Ua,w)}catch{}switch(w.tag){case 5:Ro||ym(w,g);case 6:var D=mo,G=Pd;mo=null,eh(h,g,w),mo=D,Pd=G,mo!==null&&(Pd?(h=mo,w=w.stateNode,h.nodeType===8?h.parentNode.removeChild(w):h.removeChild(w)):mo.removeChild(w.stateNode));break;case 18:mo!==null&&(Pd?(h=mo,w=w.stateNode,h.nodeType===8?tf(h.parentNode,w):h.nodeType===1&&tf(h,w),ii(h)):tf(mo,w.stateNode));break;case 4:D=mo,G=Pd,mo=w.stateNode.containerInfo,Pd=!0,eh(h,g,w),mo=D,Pd=G;break;case 0:case 11:case 14:case 15:if(!Ro&&(D=w.updateQueue,D!==null&&(D=D.lastEffect,D!==null))){G=D=D.next;do{var J=G,me=J.destroy;J=J.tag,me!==void 0&&((J&2)!==0||(J&4)!==0)&&kb(w,g,me),G=G.next}while(G!==D)}eh(h,g,w);break;case 1:if(!Ro&&(ym(w,g),D=w.stateNode,typeof D.componentWillUnmount=="function"))try{D.props=w.memoizedProps,D.state=w.memoizedState,D.componentWillUnmount()}catch($e){Ln(w,g,$e)}eh(h,g,w);break;case 21:eh(h,g,w);break;case 22:w.mode&1?(Ro=(D=Ro)||w.memoizedState!==null,eh(h,g,w),Ro=D):eh(h,g,w);break;default:eh(h,g,w)}}function uN(h){var g=h.updateQueue;if(g!==null){h.updateQueue=null;var w=h.stateNode;w===null&&(w=h.stateNode=new XL),g.forEach(function(D){var G=oP.bind(null,h,D);w.has(D)||(w.add(D),D.then(G,G))})}}function Fd(h,g){var w=g.deletions;if(w!==null)for(var D=0;D<w.length;D++){var G=w[D];try{var J=h,me=g,$e=me;e:for(;$e!==null;){switch($e.tag){case 5:mo=$e.stateNode,Pd=!1;break e;case 3:mo=$e.stateNode.containerInfo,Pd=!0;break e;case 4:mo=$e.stateNode.containerInfo,Pd=!0;break e}$e=$e.return}if(mo===null)throw Error(r(160));dN(J,me,G),mo=null,Pd=!1;var Ze=G.alternate;Ze!==null&&(Ze.return=null),G.return=null}catch(bt){Ln(G,g,bt)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)hN(g,h),g=g.sibling}function hN(h,g){var w=h.alternate,D=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Fd(g,h),_0(h),D&4){try{r1(3,h,h.return),Vg(3,h)}catch(kr){Ln(h,h.return,kr)}try{r1(5,h,h.return)}catch(kr){Ln(h,h.return,kr)}}break;case 1:Fd(g,h),_0(h),D&512&&w!==null&&ym(w,w.return);break;case 5:if(Fd(g,h),_0(h),D&512&&w!==null&&ym(w,w.return),h.flags&32){var G=h.stateNode;try{Et(G,"")}catch(kr){Ln(h,h.return,kr)}}if(D&4&&(G=h.stateNode,G!=null)){var J=h.memoizedProps,me=w!==null?w.memoizedProps:J,$e=h.type,Ze=h.updateQueue;if(h.updateQueue=null,Ze!==null)try{$e==="input"&&J.type==="radio"&&J.name!=null&&Ue(G,J),gr($e,me);var bt=gr($e,J);for(me=0;me<Ze.length;me+=2){var Gt=Ze[me],Jt=Ze[me+1];Gt==="style"?Qt(G,Jt):Gt==="dangerouslySetInnerHTML"?Ft(G,Jt):Gt==="children"?Et(G,Jt):M(G,Gt,Jt,bt)}switch($e){case"input":rt(G,J);break;case"textarea":Ne(G,J);break;case"select":var Vt=G._wrapperState.wasMultiple;G._wrapperState.wasMultiple=!!J.multiple;var hr=J.value;hr!=null?Le(G,!!J.multiple,hr,!1):Vt!==!!J.multiple&&(J.defaultValue!=null?Le(G,!!J.multiple,J.defaultValue,!0):Le(G,!!J.multiple,J.multiple?[]:"",!1))}G[Cd]=J}catch(kr){Ln(h,h.return,kr)}}break;case 6:if(Fd(g,h),_0(h),D&4){if(h.stateNode===null)throw Error(r(162));G=h.stateNode,J=h.memoizedProps;try{G.nodeValue=J}catch(kr){Ln(h,h.return,kr)}}break;case 3:if(Fd(g,h),_0(h),D&4&&w!==null&&w.memoizedState.isDehydrated)try{ii(g.containerInfo)}catch(kr){Ln(h,h.return,kr)}break;case 4:Fd(g,h),_0(h);break;case 13:Fd(g,h),_0(h),G=h.child,G.flags&8192&&(J=G.memoizedState!==null,G.stateNode.isHidden=J,!J||G.alternate!==null&&G.alternate.memoizedState!==null||(Tb=Ht())),D&4&&uN(h);break;case 22:if(Gt=w!==null&&w.memoizedState!==null,h.mode&1?(Ro=(bt=Ro)||Gt,Fd(g,h),Ro=bt):Fd(g,h),_0(h),D&8192){if(bt=h.memoizedState!==null,(h.stateNode.isHidden=bt)&&!Gt&&(h.mode&1)!==0)for(yr=h,Gt=h.child;Gt!==null;){for(Jt=yr=Gt;yr!==null;){switch(Vt=yr,hr=Vt.child,Vt.tag){case 0:case 11:case 14:case 15:r1(4,Vt,Vt.return);break;case 1:ym(Vt,Vt.return);var wr=Vt.stateNode;if(typeof wr.componentWillUnmount=="function"){D=Vt,w=Vt.return;try{g=D,wr.props=g.memoizedProps,wr.state=g.memoizedState,wr.componentWillUnmount()}catch(kr){Ln(D,w,kr)}}break;case 5:ym(Vt,Vt.return);break;case 22:if(Vt.memoizedState!==null){pN(Jt);continue}}hr!==null?(hr.return=Vt,yr=hr):pN(Jt)}Gt=Gt.sibling}e:for(Gt=null,Jt=h;;){if(Jt.tag===5){if(Gt===null){Gt=Jt;try{G=Jt.stateNode,bt?(J=G.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none"):($e=Jt.stateNode,Ze=Jt.memoizedProps.style,me=Ze!=null&&Ze.hasOwnProperty("display")?Ze.display:null,$e.style.display=er("display",me))}catch(kr){Ln(h,h.return,kr)}}}else if(Jt.tag===6){if(Gt===null)try{Jt.stateNode.nodeValue=bt?"":Jt.memoizedProps}catch(kr){Ln(h,h.return,kr)}}else if((Jt.tag!==22&&Jt.tag!==23||Jt.memoizedState===null||Jt===h)&&Jt.child!==null){Jt.child.return=Jt,Jt=Jt.child;continue}if(Jt===h)break e;for(;Jt.sibling===null;){if(Jt.return===null||Jt.return===h)break e;Gt===Jt&&(Gt=null),Jt=Jt.return}Gt===Jt&&(Gt=null),Jt.sibling.return=Jt.return,Jt=Jt.sibling}}break;case 19:Fd(g,h),_0(h),D&4&&uN(h);break;case 21:break;default:Fd(g,h),_0(h)}}function _0(h){var g=h.flags;if(g&2){try{e:{for(var w=h.return;w!==null;){if(lN(w)){var D=w;break e}w=w.return}throw Error(r(160))}switch(D.tag){case 5:var G=D.stateNode;D.flags&32&&(Et(G,""),D.flags&=-33);var J=cN(h);Sb(h,J,G);break;case 3:case 4:var me=D.stateNode.containerInfo,$e=cN(h);Cb(h,$e,me);break;default:throw Error(r(161))}}catch(Ze){Ln(h,h.return,Ze)}h.flags&=-3}g&4096&&(h.flags&=-4097)}function QL(h,g,w){yr=h,fN(h)}function fN(h,g,w){for(var D=(h.mode&1)!==0;yr!==null;){var G=yr,J=G.child;if(G.tag===22&&D){var me=G.memoizedState!==null||Hg;if(!me){var $e=G.alternate,Ze=$e!==null&&$e.memoizedState!==null||Ro;$e=Hg;var bt=Ro;if(Hg=me,(Ro=Ze)&&!bt)for(yr=G;yr!==null;)me=yr,Ze=me.child,me.tag===22&&me.memoizedState!==null?xN(G):Ze!==null?(Ze.return=me,yr=Ze):xN(G);for(;J!==null;)yr=J,fN(J),J=J.sibling;yr=G,Hg=$e,Ro=bt}mN(h)}else(G.subtreeFlags&8772)!==0&&J!==null?(J.return=G,yr=J):mN(h)}}function mN(h){for(;yr!==null;){var g=yr;if((g.flags&8772)!==0){var w=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:Ro||Vg(5,g);break;case 1:var D=g.stateNode;if(g.flags&4&&!Ro)if(w===null)D.componentDidMount();else{var G=g.elementType===g.type?w.memoizedProps:Ld(g.type,w.memoizedProps);D.componentDidUpdate(G,w.memoizedState,D.__reactInternalSnapshotBeforeUpdate)}var J=g.updateQueue;J!==null&&Fl(g,J,D);break;case 3:var me=g.updateQueue;if(me!==null){if(w=null,g.child!==null)switch(g.child.tag){case 5:w=g.child.stateNode;break;case 1:w=g.child.stateNode}Fl(g,me,w)}break;case 5:var $e=g.stateNode;if(w===null&&g.flags&4){w=$e;var Ze=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":Ze.autoFocus&&w.focus();break;case"img":Ze.src&&(w.src=Ze.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var bt=g.alternate;if(bt!==null){var Gt=bt.memoizedState;if(Gt!==null){var Jt=Gt.dehydrated;Jt!==null&&ii(Jt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ro||g.flags&512&&jb(g)}catch(Vt){Ln(g,g.return,Vt)}}if(g===h){yr=null;break}if(w=g.sibling,w!==null){w.return=g.return,yr=w;break}yr=g.return}}function pN(h){for(;yr!==null;){var g=yr;if(g===h){yr=null;break}var w=g.sibling;if(w!==null){w.return=g.return,yr=w;break}yr=g.return}}function xN(h){for(;yr!==null;){var g=yr;try{switch(g.tag){case 0:case 11:case 15:var w=g.return;try{Vg(4,g)}catch(Ze){Ln(g,w,Ze)}break;case 1:var D=g.stateNode;if(typeof D.componentDidMount=="function"){var G=g.return;try{D.componentDidMount()}catch(Ze){Ln(g,G,Ze)}}var J=g.return;try{jb(g)}catch(Ze){Ln(g,J,Ze)}break;case 5:var me=g.return;try{jb(g)}catch(Ze){Ln(g,me,Ze)}}}catch(Ze){Ln(g,g.return,Ze)}if(g===h){yr=null;break}var $e=g.sibling;if($e!==null){$e.return=g.return,yr=$e;break}yr=g.return}}var eP=Math.ceil,Gg=T.ReactCurrentDispatcher,Eb=T.ReactCurrentOwner,Zc=T.ReactCurrentBatchConfig,Vs=0,qi=null,hi=null,po=0,_c=0,bm=xc(0),Li=0,s1=null,of=0,qg=0,Ab=0,a1=null,Il=null,Tb=0,_m=1/0,du=null,Kg=!1,Mb=null,th=null,Yg=!1,rh=null,Zg=0,n1=0,Lb=null,Xg=-1,Jg=0;function gl(){return(Vs&6)!==0?Ht():Xg!==-1?Xg:Xg=Ht()}function sh(h){return(h.mode&1)===0?1:(Vs&2)!==0&&po!==0?po&-po:mn.transition!==null?(Jg===0&&(Jg=$u()),Jg):(h=vs,h!==0||(h=window.event,h=h===void 0?16:as(h.type)),h)}function Dd(h,g,w,D){if(50<n1)throw n1=0,Lb=null,Error(r(185));ro(h,w,D),((Vs&2)===0||h!==qi)&&(h===qi&&((Vs&2)===0&&(qg|=w),Li===4&&ah(h,po)),Rl(h,D),w===1&&Vs===0&&(g.mode&1)===0&&(_m=Ht()+500,rf&&re()))}function Rl(h,g){var w=h.callbackNode;ja(h,g);var D=ws(h,h===qi?po:0);if(D===0)w!==null&&Yt(w),h.callbackNode=null,h.callbackPriority=0;else if(g=D&-D,h.callbackPriority!==g){if(w!=null&&Yt(w),g===1)h.tag===0?X(vN.bind(null,h)):R(vN.bind(null,h)),Wi(function(){(Vs&6)===0&&re()}),w=null;else{switch(so(D)){case 1:w=hs;break;case 4:w=ts;break;case 16:w=Rs;break;case 536870912:w=Es;break;default:w=Rs}w=CN(w,gN.bind(null,h))}h.callbackPriority=g,h.callbackNode=w}}function gN(h,g){if(Xg=-1,Jg=0,(Vs&6)!==0)throw Error(r(327));var w=h.callbackNode;if(wm()&&h.callbackNode!==w)return null;var D=ws(h,h===qi?po:0);if(D===0)return null;if((D&30)!==0||(D&h.expiredLanes)!==0||g)g=Qg(h,D);else{g=D;var G=Vs;Vs|=2;var J=bN();(qi!==h||po!==g)&&(du=null,_m=Ht()+500,cf(h,g));do try{sP();break}catch($e){yN(h,$e)}while(!0);Ws(),Gg.current=J,Vs=G,hi!==null?g=0:(qi=null,po=0,g=Li)}if(g!==0){if(g===2&&(G=kn(h),G!==0&&(D=G,g=Pb(h,G))),g===1)throw w=s1,cf(h,0),ah(h,D),Rl(h,Ht()),w;if(g===6)ah(h,D);else{if(G=h.current.alternate,(D&30)===0&&!tP(G)&&(g=Qg(h,D),g===2&&(J=kn(h),J!==0&&(D=J,g=Pb(h,J))),g===1))throw w=s1,cf(h,0),ah(h,D),Rl(h,Ht()),w;switch(h.finishedWork=G,h.finishedLanes=D,g){case 0:case 1:throw Error(r(345));case 2:df(h,Il,du);break;case 3:if(ah(h,D),(D&130023424)===D&&(g=Tb+500-Ht(),10<g)){if(ws(h,0)!==0)break;if(G=h.suspendedLanes,(G&D)!==D){gl(),h.pingedLanes|=h.suspendedLanes&G;break}h.timeoutHandle=$n(df.bind(null,h,Il,du),g);break}df(h,Il,du);break;case 4:if(ah(h,D),(D&4194240)===D)break;for(g=h.eventTimes,G=-1;0<D;){var me=31-vr(D);J=1<<me,me=g[me],me>G&&(G=me),D&=~J}if(D=G,D=Ht()-D,D=(120>D?120:480>D?480:1080>D?1080:1920>D?1920:3e3>D?3e3:4320>D?4320:1960*eP(D/1960))-D,10<D){h.timeoutHandle=$n(df.bind(null,h,Il,du),D);break}df(h,Il,du);break;case 5:df(h,Il,du);break;default:throw Error(r(329))}}}return Rl(h,Ht()),h.callbackNode===w?gN.bind(null,h):null}function Pb(h,g){var w=a1;return h.current.memoizedState.isDehydrated&&(cf(h,g).flags|=256),h=Qg(h,g),h!==2&&(g=Il,Il=w,g!==null&&Fb(g)),h}function Fb(h){Il===null?Il=h:Il.push.apply(Il,h)}function tP(h){for(var g=h;;){if(g.flags&16384){var w=g.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var D=0;D<w.length;D++){var G=w[D],J=G.getSnapshot;G=G.value;try{if(!Da(J(),G))return!1}catch{return!1}}}if(w=g.child,g.subtreeFlags&16384&&w!==null)w.return=g,g=w;else{if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function ah(h,g){for(g&=~Ab,g&=~qg,h.suspendedLanes|=g,h.pingedLanes&=~g,h=h.expirationTimes;0<g;){var w=31-vr(g),D=1<<w;h[w]=-1,g&=~D}}function vN(h){if((Vs&6)!==0)throw Error(r(327));wm();var g=ws(h,0);if((g&1)===0)return Rl(h,Ht()),null;var w=Qg(h,g);if(h.tag!==0&&w===2){var D=kn(h);D!==0&&(g=D,w=Pb(h,D))}if(w===1)throw w=s1,cf(h,0),ah(h,g),Rl(h,Ht()),w;if(w===6)throw Error(r(345));return h.finishedWork=h.current.alternate,h.finishedLanes=g,df(h,Il,du),Rl(h,Ht()),null}function Db(h,g){var w=Vs;Vs|=1;try{return h(g)}finally{Vs=w,Vs===0&&(_m=Ht()+500,rf&&re())}}function lf(h){rh!==null&&rh.tag===0&&(Vs&6)===0&&wm();var g=Vs;Vs|=1;var w=Zc.transition,D=vs;try{if(Zc.transition=null,vs=1,h)return h()}finally{vs=D,Zc.transition=w,Vs=g,(Vs&6)===0&&re()}}function Ib(){_c=bm.current,ia(bm)}function cf(h,g){h.finishedWork=null,h.finishedLanes=0;var w=h.timeoutHandle;if(w!==-1&&(h.timeoutHandle=-1,fn(w)),hi!==null)for(w=hi.return;w!==null;){var D=w;switch(ut(D),D.tag){case 1:D=D.type.childContextTypes,D!=null&&lm();break;case 3:qc(),ia(Po),ia(Ti),Jp();break;case 5:Zp(D);break;case 4:qc();break;case 13:ia(Ta);break;case 19:ia(Ta);break;case 10:Oa(D.type._context);break;case 22:case 23:Ib()}w=w.return}if(qi=h,hi=h=nh(h.current,null),po=_c=g,Li=0,s1=null,Ab=qg=of=0,Il=a1=null,pa!==null){for(g=0;g<pa.length;g++)if(w=pa[g],D=w.interleaved,D!==null){w.interleaved=null;var G=D.next,J=w.pending;if(J!==null){var me=J.next;J.next=G,D.next=me}w.pending=D}pa=null}return h}function yN(h,g){do{var w=hi;try{if(Ws(),cm.current=zg,Xu){for(var D=Ba.memoizedState;D!==null;){var G=D.queue;G!==null&&(G.pending=null),D=D.next}Xu=!1}if(Kc=0,vn=Mn=Ba=null,Td=!1,Ju=0,Eb.current=null,w===null||w.return===null){Li=1,s1=g,hi=null;break}e:{var J=h,me=w.return,$e=w,Ze=g;if(g=po,$e.flags|=32768,Ze!==null&&typeof Ze=="object"&&typeof Ze.then=="function"){var bt=Ze,Gt=$e,Jt=Gt.tag;if((Gt.mode&1)===0&&(Jt===0||Jt===11||Jt===15)){var Vt=Gt.alternate;Vt?(Gt.updateQueue=Vt.updateQueue,Gt.memoizedState=Vt.memoizedState,Gt.lanes=Vt.lanes):(Gt.updateQueue=null,Gt.memoizedState=null)}var hr=H3(me);if(hr!==null){hr.flags&=-257,V3(hr,me,$e,J,g),hr.mode&1&&W3(J,bt,g),g=hr,Ze=bt;var wr=g.updateQueue;if(wr===null){var kr=new Set;kr.add(Ze),g.updateQueue=kr}else wr.add(Ze);break e}else{if((g&1)===0){W3(J,bt,g),Rb();break e}Ze=Error(r(426))}}else if(Mt&&$e.mode&1){var Gn=H3(me);if(Gn!==null){(Gn.flags&65536)===0&&(Gn.flags|=256),V3(Gn,me,$e,J,g),or(vm(Ze,$e));break e}}J=Ze=vm(Ze,$e),Li!==4&&(Li=2),a1===null?a1=[J]:a1.push(J),J=me;do{switch(J.tag){case 3:J.flags|=65536,g&=-g,J.lanes|=g;var dt=U3(J,Ze,g);ga(J,dt);break e;case 1:$e=Ze;var Qe=J.type,vt=J.stateNode;if((J.flags&128)===0&&(typeof Qe.getDerivedStateFromError=="function"||vt!==null&&typeof vt.componentDidCatch=="function"&&(th===null||!th.has(vt)))){J.flags|=65536,g&=-g,J.lanes|=g;var tr=$3(J,$e,g);ga(J,tr);break e}}J=J.return}while(J!==null)}wN(w)}catch(Er){g=Er,hi===w&&w!==null&&(hi=w=w.return);continue}break}while(!0)}function bN(){var h=Gg.current;return Gg.current=zg,h===null?zg:h}function Rb(){(Li===0||Li===3||Li===2)&&(Li=4),qi===null||(of&268435455)===0&&(qg&268435455)===0||ah(qi,po)}function Qg(h,g){var w=Vs;Vs|=2;var D=bN();(qi!==h||po!==g)&&(du=null,cf(h,g));do try{rP();break}catch(G){yN(h,G)}while(!0);if(Ws(),Vs=w,Gg.current=D,hi!==null)throw Error(r(261));return qi=null,po=0,Li}function rP(){for(;hi!==null;)_N(hi)}function sP(){for(;hi!==null&&!sr();)_N(hi)}function _N(h){var g=jN(h.alternate,h,_c);h.memoizedProps=h.pendingProps,g===null?wN(h):hi=g,Eb.current=null}function wN(h){var g=h;do{var w=g.alternate;if(h=g.return,(g.flags&32768)===0){if(w=YL(w,g,_c),w!==null){hi=w;return}}else{if(w=ZL(w,g),w!==null){w.flags&=32767,hi=w;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Li=6,hi=null;return}}if(g=g.sibling,g!==null){hi=g;return}hi=g=h}while(g!==null);Li===0&&(Li=5)}function df(h,g,w){var D=vs,G=Zc.transition;try{Zc.transition=null,vs=1,aP(h,g,w,D)}finally{Zc.transition=G,vs=D}return null}function aP(h,g,w,D){do wm();while(rh!==null);if((Vs&6)!==0)throw Error(r(327));w=h.finishedWork;var G=h.finishedLanes;if(w===null)return null;if(h.finishedWork=null,h.finishedLanes=0,w===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0;var J=w.lanes|w.childLanes;if(Us(h,J),h===qi&&(hi=qi=null,po=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||Yg||(Yg=!0,CN(Rs,function(){return wm(),null})),J=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||J){J=Zc.transition,Zc.transition=null;var me=vs;vs=1;var $e=Vs;Vs|=4,Eb.current=null,JL(h,w),hN(w,h),$i(Tr),yd=!!lr,Tr=lr=null,h.current=w,QL(w),$t(),Vs=$e,vs=me,Zc.transition=J}else h.current=w;if(Yg&&(Yg=!1,rh=h,Zg=G),J=h.pendingLanes,J===0&&(th=null),Ts(w.stateNode),Rl(h,Ht()),g!==null)for(D=h.onRecoverableError,w=0;w<g.length;w++)G=g[w],D(G.value,{componentStack:G.stack,digest:G.digest});if(Kg)throw Kg=!1,h=Mb,Mb=null,h;return(Zg&1)!==0&&h.tag!==0&&wm(),J=h.pendingLanes,(J&1)!==0?h===Lb?n1++:(n1=0,Lb=h):n1=0,re(),null}function wm(){if(rh!==null){var h=so(Zg),g=Zc.transition,w=vs;try{if(Zc.transition=null,vs=16>h?16:h,rh===null)var D=!1;else{if(h=rh,rh=null,Zg=0,(Vs&6)!==0)throw Error(r(331));var G=Vs;for(Vs|=4,yr=h.current;yr!==null;){var J=yr,me=J.child;if((yr.flags&16)!==0){var $e=J.deletions;if($e!==null){for(var Ze=0;Ze<$e.length;Ze++){var bt=$e[Ze];for(yr=bt;yr!==null;){var Gt=yr;switch(Gt.tag){case 0:case 11:case 15:r1(8,Gt,J)}var Jt=Gt.child;if(Jt!==null)Jt.return=Gt,yr=Jt;else for(;yr!==null;){Gt=yr;var Vt=Gt.sibling,hr=Gt.return;if(oN(Gt),Gt===bt){yr=null;break}if(Vt!==null){Vt.return=hr,yr=Vt;break}yr=hr}}}var wr=J.alternate;if(wr!==null){var kr=wr.child;if(kr!==null){wr.child=null;do{var Gn=kr.sibling;kr.sibling=null,kr=Gn}while(kr!==null)}}yr=J}}if((J.subtreeFlags&2064)!==0&&me!==null)me.return=J,yr=me;else e:for(;yr!==null;){if(J=yr,(J.flags&2048)!==0)switch(J.tag){case 0:case 11:case 15:r1(9,J,J.return)}var dt=J.sibling;if(dt!==null){dt.return=J.return,yr=dt;break e}yr=J.return}}var Qe=h.current;for(yr=Qe;yr!==null;){me=yr;var vt=me.child;if((me.subtreeFlags&2064)!==0&&vt!==null)vt.return=me,yr=vt;else e:for(me=Qe;yr!==null;){if($e=yr,($e.flags&2048)!==0)try{switch($e.tag){case 0:case 11:case 15:Vg(9,$e)}}catch(Er){Ln($e,$e.return,Er)}if($e===me){yr=null;break e}var tr=$e.sibling;if(tr!==null){tr.return=$e.return,yr=tr;break e}yr=$e.return}}if(Vs=G,re(),Os&&typeof Os.onPostCommitFiberRoot=="function")try{Os.onPostCommitFiberRoot(Ua,h)}catch{}D=!0}return D}finally{vs=w,Zc.transition=g}}return!1}function NN(h,g,w){g=vm(w,g),g=U3(h,g,1),h=xn(h,g,1),g=gl(),h!==null&&(ro(h,1,g),Rl(h,g))}function Ln(h,g,w){if(h.tag===3)NN(h,h,w);else for(;g!==null;){if(g.tag===3){NN(g,h,w);break}else if(g.tag===1){var D=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(th===null||!th.has(D))){h=vm(w,h),h=$3(g,h,1),g=xn(g,h,1),h=gl(),g!==null&&(ro(g,1,h),Rl(g,h));break}}g=g.return}}function nP(h,g,w){var D=h.pingCache;D!==null&&D.delete(g),g=gl(),h.pingedLanes|=h.suspendedLanes&w,qi===h&&(po&w)===w&&(Li===4||Li===3&&(po&130023424)===po&&500>Ht()-Tb?cf(h,0):Ab|=w),Rl(h,g)}function kN(h,g){g===0&&((h.mode&1)===0?g=1:(g=Bi,Bi<<=1,(Bi&130023424)===0&&(Bi=4194304)));var w=gl();h=xa(h,g),h!==null&&(ro(h,g,w),Rl(h,w))}function iP(h){var g=h.memoizedState,w=0;g!==null&&(w=g.retryLane),kN(h,w)}function oP(h,g){var w=0;switch(h.tag){case 13:var D=h.stateNode,G=h.memoizedState;G!==null&&(w=G.retryLane);break;case 19:D=h.stateNode;break;default:throw Error(r(314))}D!==null&&D.delete(g),kN(h,w)}var jN;jN=function(h,g,w){if(h!==null)if(h.memoizedProps!==g.pendingProps||Po.current)Dl=!0;else{if((h.lanes&w)===0&&(g.flags&128)===0)return Dl=!1,KL(h,g,w);Dl=(h.flags&131072)!==0}else Dl=!1,Mt&&(g.flags&1048576)!==0&&ot(g,Se,g.index);switch(g.lanes=0,g.tag){case 2:var D=g.type;Wg(h,g),h=g.pendingProps;var G=Yu(g,Ti.current);sn(g,w),G=sf(null,g,D,h,G,w);var J=Yc();return g.flags|=1,typeof G=="object"&&G!==null&&typeof G.render=="function"&&G.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Fo(D)?(J=!0,ou(g)):J=!1,g.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,Mi(g),G.updater=Ug,g.stateNode=G,G._reactInternals=g,mb(g,D,h,w),g=vb(null,g,D,!0,J,w)):(g.tag=0,Mt&&J&&St(g),xl(null,g,G,w),g=g.child),g;case 16:D=g.elementType;e:{switch(Wg(h,g),h=g.pendingProps,G=D._init,D=G(D._payload),g.type=D,G=g.tag=cP(D),h=Ld(D,h),G){case 0:g=gb(null,g,D,h,w);break e;case 1:g=X3(null,g,D,h,w);break e;case 11:g=G3(null,g,D,h,w);break e;case 14:g=q3(null,g,D,Ld(D.type,h),w);break e}throw Error(r(306,D,""))}return g;case 0:return D=g.type,G=g.pendingProps,G=g.elementType===D?G:Ld(D,G),gb(h,g,D,G,w);case 1:return D=g.type,G=g.pendingProps,G=g.elementType===D?G:Ld(D,G),X3(h,g,D,G,w);case 3:e:{if(J3(g),h===null)throw Error(r(387));D=g.pendingProps,J=g.memoizedState,G=J.element,Do(h,g),Gi(g,D,null,w);var me=g.memoizedState;if(D=me.element,J.isDehydrated)if(J={element:D,isDehydrated:!1,cache:me.cache,pendingSuspenseBoundaries:me.pendingSuspenseBoundaries,transitions:me.transitions},g.updateQueue.baseState=J,g.memoizedState=J,g.flags&256){G=vm(Error(r(423)),g),g=Q3(h,g,D,w,G);break e}else if(D!==G){G=vm(Error(r(424)),g),g=Q3(h,g,D,w,G);break e}else for(Ct=Ei(g.stateNode.containerInfo.firstChild),kt=g,Mt=!0,It=null,w=Ha(g,null,D,w),g.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(xr(),D===G){g=cu(h,g,w);break e}xl(h,g,D,w)}g=g.child}return g;case 5:return Dg(g),h===null&&_r(g),D=g.type,G=g.pendingProps,J=h!==null?h.memoizedProps:null,me=G.children,ns(D,G)?me=null:J!==null&&ns(D,J)&&(g.flags|=32),Z3(h,g),xl(h,g,me,w),g.child;case 6:return h===null&&_r(g),null;case 13:return eN(h,g,w);case 4:return Zu(g,g.stateNode.containerInfo),D=g.pendingProps,h===null?g.child=An(g,null,D,w):xl(h,g,D,w),g.child;case 11:return D=g.type,G=g.pendingProps,G=g.elementType===D?G:Ld(D,G),G3(h,g,D,G,w);case 7:return xl(h,g,g.pendingProps,w),g.child;case 8:return xl(h,g,g.pendingProps.children,w),g.child;case 12:return xl(h,g,g.pendingProps.children,w),g.child;case 10:e:{if(D=g.type._context,G=g.pendingProps,J=g.memoizedProps,me=G.value,ca(Hn,D._currentValue),D._currentValue=me,J!==null)if(Da(J.value,me)){if(J.children===G.children&&!Po.current){g=cu(h,g,w);break e}}else for(J=g.child,J!==null&&(J.return=g);J!==null;){var $e=J.dependencies;if($e!==null){me=J.child;for(var Ze=$e.firstContext;Ze!==null;){if(Ze.context===D){if(J.tag===1){Ze=pn(-1,w&-w),Ze.tag=2;var bt=J.updateQueue;if(bt!==null){bt=bt.shared;var Gt=bt.pending;Gt===null?Ze.next=Ze:(Ze.next=Gt.next,Gt.next=Ze),bt.pending=Ze}}J.lanes|=w,Ze=J.alternate,Ze!==null&&(Ze.lanes|=w),Hs(J.return,w,g),$e.lanes|=w;break}Ze=Ze.next}}else if(J.tag===10)me=J.type===g.type?null:J.child;else if(J.tag===18){if(me=J.return,me===null)throw Error(r(341));me.lanes|=w,$e=me.alternate,$e!==null&&($e.lanes|=w),Hs(me,w,g),me=J.sibling}else me=J.child;if(me!==null)me.return=J;else for(me=J;me!==null;){if(me===g){me=null;break}if(J=me.sibling,J!==null){J.return=me.return,me=J;break}me=me.return}J=me}xl(h,g,G.children,w),g=g.child}return g;case 9:return G=g.type,D=g.pendingProps.children,sn(g,w),G=an(G),D=D(G),g.flags|=1,xl(h,g,D,w),g.child;case 14:return D=g.type,G=Ld(D,g.pendingProps),G=Ld(D.type,G),q3(h,g,D,G,w);case 15:return K3(h,g,g.type,g.pendingProps,w);case 17:return D=g.type,G=g.pendingProps,G=g.elementType===D?G:Ld(D,G),Wg(h,g),g.tag=1,Fo(D)?(h=!0,ou(g)):h=!1,sn(g,w),B3(g,D,G),mb(g,D,G,w),vb(null,g,D,!0,h,w);case 19:return rN(h,g,w);case 22:return Y3(h,g,w)}throw Error(r(156,g.tag))};function CN(h,g){return Rt(h,g)}function lP(h,g,w,D){this.tag=h,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xc(h,g,w,D){return new lP(h,g,w,D)}function Ob(h){return h=h.prototype,!(!h||!h.isReactComponent)}function cP(h){if(typeof h=="function")return Ob(h)?1:0;if(h!=null){if(h=h.$$typeof,h===I)return 11;if(h===Y)return 14}return 2}function nh(h,g){var w=h.alternate;return w===null?(w=Xc(h.tag,g,h.key,h.mode),w.elementType=h.elementType,w.type=h.type,w.stateNode=h.stateNode,w.alternate=h,h.alternate=w):(w.pendingProps=g,w.type=h.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=h.flags&14680064,w.childLanes=h.childLanes,w.lanes=h.lanes,w.child=h.child,w.memoizedProps=h.memoizedProps,w.memoizedState=h.memoizedState,w.updateQueue=h.updateQueue,g=h.dependencies,w.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},w.sibling=h.sibling,w.index=h.index,w.ref=h.ref,w}function e2(h,g,w,D,G,J){var me=2;if(D=h,typeof h=="function")Ob(h)&&(me=1);else if(typeof h=="string")me=5;else e:switch(h){case C:return uf(w.children,G,J,g);case N:me=8,G|=8;break;case E:return h=Xc(12,w,g,G|2),h.elementType=E,h.lanes=J,h;case W:return h=Xc(13,w,g,G),h.elementType=W,h.lanes=J,h;case Z:return h=Xc(19,w,g,G),h.elementType=Z,h.lanes=J,h;case ie:return t2(w,G,J,g);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case z:me=10;break e;case P:me=9;break e;case I:me=11;break e;case Y:me=14;break e;case te:me=16,D=null;break e}throw Error(r(130,h==null?h:typeof h,""))}return g=Xc(me,w,g,G),g.elementType=h,g.type=D,g.lanes=J,g}function uf(h,g,w,D){return h=Xc(7,h,D,g),h.lanes=w,h}function t2(h,g,w,D){return h=Xc(22,h,D,g),h.elementType=ie,h.lanes=w,h.stateNode={isHidden:!1},h}function Bb(h,g,w){return h=Xc(6,h,null,g),h.lanes=w,h}function zb(h,g,w){return g=Xc(4,h.children!==null?h.children:[],h.key,g),g.lanes=w,g.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},g}function dP(h,g,w,D,G){this.tag=g,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dc(0),this.expirationTimes=Dc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dc(0),this.identifierPrefix=D,this.onRecoverableError=G,this.mutableSourceEagerHydrationData=null}function Ub(h,g,w,D,G,J,me,$e,Ze){return h=new dP(h,g,w,$e,Ze),g===1?(g=1,J===!0&&(g|=8)):g=0,J=Xc(3,null,null,g),h.current=J,J.stateNode=h,J.memoizedState={element:D,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mi(J),h}function uP(h,g,w){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:D==null?null:""+D,children:h,containerInfo:g,implementation:w}}function SN(h){if(!h)return v0;h=h._reactInternals;e:{if(Me(h)!==h||h.tag!==1)throw Error(r(170));var g=h;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Fo(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(r(171))}if(h.tag===1){var w=h.type;if(Fo(w))return Yp(h,w,g)}return g}function EN(h,g,w,D,G,J,me,$e,Ze){return h=Ub(w,D,!0,h,G,J,me,$e,Ze),h.context=SN(null),w=h.current,D=gl(),G=sh(w),J=pn(D,G),J.callback=g??null,xn(w,J,G),h.current.lanes=G,ro(h,G,D),Rl(h,D),h}function r2(h,g,w,D){var G=g.current,J=gl(),me=sh(G);return w=SN(w),g.context===null?g.context=w:g.pendingContext=w,g=pn(J,me),g.payload={element:h},D=D===void 0?null:D,D!==null&&(g.callback=D),h=xn(G,g,me),h!==null&&(Dd(h,G,me,J),Vi(h,G,me)),me}function s2(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function AN(h,g){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var w=h.retryLane;h.retryLane=w!==0&&w<g?w:g}}function $b(h,g){AN(h,g),(h=h.alternate)&&AN(h,g)}function hP(){return null}var TN=typeof reportError=="function"?reportError:function(h){console.error(h)};function Wb(h){this._internalRoot=h}a2.prototype.render=Wb.prototype.render=function(h){var g=this._internalRoot;if(g===null)throw Error(r(409));r2(h,g,null,null)},a2.prototype.unmount=Wb.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var g=h.containerInfo;lf(function(){r2(null,h,null,null)}),g[ys]=null}};function a2(h){this._internalRoot=h}a2.prototype.unstable_scheduleHydration=function(h){if(h){var g=i0();h={blockedOn:null,target:h,priority:g};for(var w=0;w<cn.length&&g!==0&&g<cn[w].priority;w++);cn.splice(w,0,h),w===0&&o0(h)}};function Hb(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function n2(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function MN(){}function fP(h,g,w,D,G){if(G){if(typeof D=="function"){var J=D;D=function(){var bt=s2(me);J.call(bt)}}var me=EN(g,D,h,0,null,!1,!1,"",MN);return h._reactRootContainer=me,h[ys]=me.current,Wc(h.nodeType===8?h.parentNode:h),lf(),me}for(;G=h.lastChild;)h.removeChild(G);if(typeof D=="function"){var $e=D;D=function(){var bt=s2(Ze);$e.call(bt)}}var Ze=Ub(h,0,!1,null,null,!1,!1,"",MN);return h._reactRootContainer=Ze,h[ys]=Ze.current,Wc(h.nodeType===8?h.parentNode:h),lf(function(){r2(g,Ze,w,D)}),Ze}function i2(h,g,w,D,G){var J=w._reactRootContainer;if(J){var me=J;if(typeof G=="function"){var $e=G;G=function(){var Ze=s2(me);$e.call(Ze)}}r2(g,me,h,G)}else me=fP(w,g,h,G,D);return s2(me)}Ic=function(h){switch(h.tag){case 3:var g=h.stateNode;if(g.current.memoizedState.isDehydrated){var w=Or(g.pendingLanes);w!==0&&(wo(g,w|1),Rl(g,Ht()),(Vs&6)===0&&(_m=Ht()+500,re()))}break;case 13:lf(function(){var D=xa(h,1);if(D!==null){var G=gl();Dd(D,h,1,G)}}),$b(h,1)}},ac=function(h){if(h.tag===13){var g=xa(h,134217728);if(g!==null){var w=gl();Dd(g,h,134217728,w)}$b(h,134217728)}},n0=function(h){if(h.tag===13){var g=sh(h),w=xa(h,g);if(w!==null){var D=gl();Dd(w,h,g,D)}$b(h,g)}},i0=function(){return vs},nc=function(h,g){var w=vs;try{return vs=h,g()}finally{vs=w}},Ds=function(h,g,w){switch(g){case"input":if(rt(h,w),g=w.name,w.type==="radio"&&g!=null){for(w=h;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<w.length;g++){var D=w[g];if(D!==h&&D.form===h.form){var G=nu(D);if(!G)throw Error(r(90));fe(D),rt(D,G)}}}break;case"textarea":Ne(h,w);break;case"select":g=w.value,g!=null&&Le(h,!!w.multiple,g,!1)}},ka=Db,Oi=lf;var mP={usingClientEntryPoint:!1,Events:[Vc,Gc,nu,gs,Ni,Db]},i1={findFiberByHostInstance:Hc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pP={bundleType:i1.bundleType,version:i1.version,rendererPackageName:i1.rendererPackageName,rendererConfig:i1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=tt(h),h===null?null:h.stateNode},findFiberByHostInstance:i1.findFiberByHostInstance||hP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var o2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!o2.isDisabled&&o2.supportsFiber)try{Ua=o2.inject(pP),Os=o2}catch{}}return Ol.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mP,Ol.createPortal=function(h,g){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hb(g))throw Error(r(200));return uP(h,g,null,w)},Ol.createRoot=function(h,g){if(!Hb(h))throw Error(r(299));var w=!1,D="",G=TN;return g!=null&&(g.unstable_strictMode===!0&&(w=!0),g.identifierPrefix!==void 0&&(D=g.identifierPrefix),g.onRecoverableError!==void 0&&(G=g.onRecoverableError)),g=Ub(h,1,!1,null,null,w,!1,D,G),h[ys]=g.current,Wc(h.nodeType===8?h.parentNode:h),new Wb(g)},Ol.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var g=h._reactInternals;if(g===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=tt(g),h=h===null?null:h.stateNode,h},Ol.flushSync=function(h){return lf(h)},Ol.hydrate=function(h,g,w){if(!n2(g))throw Error(r(200));return i2(null,h,g,!0,w)},Ol.hydrateRoot=function(h,g,w){if(!Hb(h))throw Error(r(405));var D=w!=null&&w.hydratedSources||null,G=!1,J="",me=TN;if(w!=null&&(w.unstable_strictMode===!0&&(G=!0),w.identifierPrefix!==void 0&&(J=w.identifierPrefix),w.onRecoverableError!==void 0&&(me=w.onRecoverableError)),g=EN(g,null,h,1,w??null,G,!1,J,me),h[ys]=g.current,Wc(h),D)for(h=0;h<D.length;h++)w=D[h],G=w._getVersion,G=G(w._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[w,G]:g.mutableSourceEagerHydrationData.push(w,G);return new a2(g)},Ol.render=function(h,g,w){if(!n2(g))throw Error(r(200));return i2(null,h,g,!1,w)},Ol.unmountComponentAtNode=function(h){if(!n2(h))throw Error(r(40));return h._reactRootContainer?(lf(function(){i2(null,null,h,!1,function(){h._reactRootContainer=null,h[ys]=null})}),!0):!1},Ol.unstable_batchedUpdates=Db,Ol.unstable_renderSubtreeIntoContainer=function(h,g,w,D){if(!n2(w))throw Error(r(200));if(h==null||h._reactInternals===void 0)throw Error(r(38));return i2(h,g,w,!1,D)},Ol.version="18.3.1-next-f1338f8080-20240426",Ol}var BN;function uE(){if(BN)return qb.exports;BN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),qb.exports=kP(),qb.exports}var zN;function jP(){if(zN)return c2;zN=1;var e=uE();return c2.createRoot=e.createRoot,c2.hydrateRoot=e.hydrateRoot,c2}var CP=jP();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hE=e=>{throw TypeError(e)},SP=(e,t,r)=>t.has(e)||hE("Cannot "+r),Zb=(e,t,r)=>(SP(e,t,"read from private field"),r?r.call(e):t.get(e)),EP=(e,t,r)=>t.has(e)?hE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),UN="popstate";function AP(e={}){function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return xx("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Th(a)}return MP(t,r,null,e)}function Cs(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TP(){return Math.random().toString(36).substring(2,10)}function $N(e,t){return{usr:e.state,key:e.key,idx:t}}function xx(e,t,r=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Hh(t):t,state:r,key:t&&t.key||s||TP()}}function Th({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Hh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function MP(e,t,r,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function u(){return(o.state||{idx:null}).idx}function p(){l="POP";let _=u(),k=_==null?null:_-d;d=_,c&&c({action:l,location:v.location,delta:k})}function x(_,k){l="PUSH";let S=xx(v.location,_,k);d=u()+1;let M=$N(S,d),T=v.createHref(S);try{o.pushState(M,"",T)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(T)}i&&c&&c({action:l,location:v.location,delta:1})}function f(_,k){l="REPLACE";let S=xx(v.location,_,k);d=u();let M=$N(S,d),T=v.createHref(S);o.replaceState(M,"",T),i&&c&&c({action:l,location:v.location,delta:0})}function y(_){return fE(_)}let v={get action(){return l},get location(){return e(a,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(UN,p),c=_,()=>{a.removeEventListener(UN,p),c=null}},createHref(_){return t(a,_)},createURL:y,encodeLocation(_){let k=y(_);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:x,replace:f,go(_){return o.go(_)}};return v}function fE(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Cs(r,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Th(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=r+s),new URL(s,r)}var E1,WN=class{constructor(e){if(EP(this,E1,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(Zb(this,E1).has(e))return Zb(this,E1).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Zb(this,E1).set(e,t)}};E1=new WeakMap;var LP=new Set(["lazy","caseSensitive","path","id","index","children"]);function PP(e){return LP.has(e)}var FP=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function DP(e){return FP.has(e)}function IP(e){return e.index===!0}function gx(e,t,r=[],s={},a=!1){return e.map((i,o)=>{let l=[...r,String(o)],c=typeof i.id=="string"?i.id:l.join("-");if(Cs(i.index!==!0||!i.children,"Cannot specify children on an index route"),Cs(a||!s[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),IP(i)){let d={...i,...t(i),id:c};return s[c]=d,d}else{let d={...i,...t(i),id:c,children:void 0};return s[c]=d,i.children&&(d.children=gx(i.children,t,l,s,a)),d}})}function mh(e,t,r="/"){return av(e,t,r,!1)}function av(e,t,r,s){let a=typeof t=="string"?Hh(t):t,i=dd(a.pathname||"/",r);if(i==null)return null;let o=mE(e);OP(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=YP(i);l=qP(o[c],d,s)}return l}function RP(e,t){let{route:r,pathname:s,params:a}=e;return{id:r.id,pathname:s,params:a,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function mE(e,t=[],r=[],s="",a=!1){let i=(o,l,c=a,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(s)&&c)return;Cs(u.relativePath.startsWith(s),`Absolute route path "${u.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(s.length)}let p=U0([s,u.relativePath]),x=r.concat(u);o.children&&o.children.length>0&&(Cs(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),mE(o.children,t,x,p,c)),!(o.path==null&&!o.index)&&t.push({path:p,score:VP(p,o.index),routesMeta:x})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of pE(o.path))i(o,l,!0,d)}),t}function pE(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=pE(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function OP(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:GP(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var BP=/^:[\w-]+$/,zP=3,UP=2,$P=1,WP=10,HP=-2,HN=e=>e==="*";function VP(e,t){let r=e.split("/"),s=r.length;return r.some(HN)&&(s+=HP),t&&(s+=UP),r.filter(a=>!HN(a)).reduce((a,i)=>a+(BP.test(i)?zP:i===""?$P:WP),s)}function GP(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function qP(e,t,r=!1){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",p=Lv({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),x=c.route;if(!p&&d&&r&&!s[s.length-1].route.index&&(p=Lv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!p)return null;Object.assign(a,p.params),o.push({params:a,pathname:U0([i,p.pathname]),pathnameBase:QP(U0([i,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(i=U0([i,p.pathnameBase]))}return o}function Lv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=KP(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,{paramName:u,isOptional:p},x)=>{if(u==="*"){let y=l[x]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const f=l[x];return p&&!f?d[u]=void 0:d[u]=(f||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function KP(e,t=!1,r=!0){Rn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function YP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function dd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function ZP({basename:e,pathname:t}){return t==="/"?e:U0([e,t])}function XP(e,t="/"){let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?Hh(e):e;return{pathname:r?r.startsWith("/")?r:JP(r,t):t,search:eF(s),hash:tF(a)}}function JP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Xb(e,t,r,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xE(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ay(e){let t=xE(e);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function Ty(e,t,r,s=!1){let a;typeof e=="string"?a=Hh(e):(a={...e},Cs(!a.pathname||!a.pathname.includes("?"),Xb("?","pathname","search",a)),Cs(!a.pathname||!a.pathname.includes("#"),Xb("#","pathname","hash",a)),Cs(!a.search||!a.search.includes("#"),Xb("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let p=t.length-1;if(!s&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),p-=1;a.pathname=x.join("/")}l=p>=0?t[p]:"/"}let c=XP(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var U0=e=>e.join("/").replace(/\/\/+/g,"/"),QP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Pv=class{constructor(e,t,r,s=!1){this.status=e,this.statusText=t||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function vx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var gE=["POST","PUT","PATCH","DELETE"],rF=new Set(gE),sF=["GET",...gE],aF=new Set(sF),nF=new Set([301,302,303,307,308]),iF=new Set([307,308]),Jb={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oF={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},l1={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},lF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U4=e=>lF.test(e),cF=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),vE="remix-router-transitions",yE=Symbol("ResetLoaderData");function dF(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Cs(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],a=e.mapRouteProperties||cF,i={},o=gx(e.routes,a,void 0,i),l,c=e.basename||"/";c.startsWith("/")||(c=`/${c}`);let d=e.dataStrategy||pF,u={...e.future},p=null,x=new Set,f=null,y=null,v=null,_=e.hydrationData!=null,k=mh(o,e.history.location,c),S=!1,M=null,T;if(k==null&&!e.patchRoutesOnNavigation){let Oe=id(404,{pathname:e.history.location.pathname}),{matches:et,route:gt}=d2(o);T=!0,k=et,M={[gt.id]:Oe}}else if(k&&!e.hydrationData&&Ni(k,o,e.history.location.pathname).active&&(k=null),k)if(k.some(Oe=>Oe.route.lazy))T=!1;else if(!k.some(Oe=>$4(Oe.route)))T=!0;else{let Oe=e.hydrationData?e.hydrationData.loaderData:null,et=e.hydrationData?e.hydrationData.errors:null;if(et){let gt=k.findIndex(Dt=>et[Dt.route.id]!==void 0);T=k.slice(0,gt+1).every(Dt=>!kw(Dt.route,Oe,et))}else T=k.every(gt=>!kw(gt.route,Oe,et))}else{T=!1,k=[];let Oe=Ni(null,o,e.history.location.pathname);Oe.active&&Oe.matches&&(S=!0,k=Oe.matches)}let O,A={historyAction:e.history.action,location:e.history.location,matches:k,initialized:T,navigation:Jb,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||M,fetchers:new Map,blockers:new Map},C="POP",N=!1,E,z=!1,P=new Map,I=null,W=!1,Z=!1,Y=new Set,te=new Map,ie=0,le=-1,se=new Map,oe=new Set,ee=new Map,B=new Map,q=new Set,Q=new Map,K,ae=null;function ge(){if(p=e.history.listen(({action:Oe,location:et,delta:gt})=>{if(K){K(),K=void 0;return}Rn(Q.size===0||gt!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Dt=Ir({currentLocation:A.location,nextLocation:et,historyAction:Oe});if(Dt&&gt!=null){let Xt=new Promise(Kt=>{K=Kt});e.history.go(gt*-1),zr(Dt,{state:"blocked",location:et,proceed(){zr(Dt,{state:"proceeding",proceed:void 0,reset:void 0,location:et}),Xt.then(()=>e.history.go(gt))},reset(){let Kt=new Map(A.blockers);Kt.set(Dt,l1),Ae({blockers:Kt})}});return}return De(Oe,et)}),r){TF(t,P);let Oe=()=>MF(t,P);t.addEventListener("pagehide",Oe),I=()=>t.removeEventListener("pagehide",Oe)}return A.initialized||De("POP",A.location,{initialHydration:!0}),O}function he(){p&&p(),I&&I(),x.clear(),E&&E.abort(),A.fetchers.forEach((Oe,et)=>Et(et)),A.blockers.forEach((Oe,et)=>gr(et))}function ke(Oe){return x.add(Oe),()=>x.delete(Oe)}function Ae(Oe,et={}){Oe.matches&&(Oe.matches=Oe.matches.map(Xt=>{let Kt=i[Xt.route.id],Nt=Xt.route;return Nt.element!==Kt.element||Nt.errorElement!==Kt.errorElement||Nt.hydrateFallbackElement!==Kt.hydrateFallbackElement?{...Xt,route:Kt}:Xt})),A={...A,...Oe};let gt=[],Dt=[];A.fetchers.forEach((Xt,Kt)=>{Xt.state==="idle"&&(q.has(Kt)?gt.push(Kt):Dt.push(Kt))}),q.forEach(Xt=>{!A.fetchers.has(Xt)&&!te.has(Xt)&&gt.push(Xt)}),[...x].forEach(Xt=>Xt(A,{deletedFetchers:gt,viewTransitionOpts:et.viewTransitionOpts,flushSync:et.flushSync===!0})),gt.forEach(Xt=>Et(Xt)),Dt.forEach(Xt=>A.fetchers.delete(Xt))}function We(Oe,et,{flushSync:gt}={}){var we,je;let Dt=A.actionData!=null&&A.navigation.formMethod!=null&&Hl(A.navigation.formMethod)&&A.navigation.state==="loading"&&((we=Oe.state)==null?void 0:we._isRedirect)!==!0,Xt;et.actionData?Object.keys(et.actionData).length>0?Xt=et.actionData:Xt=null:Dt?Xt=A.actionData:Xt=null;let Kt=et.loaderData?ek(A.loaderData,et.loaderData,et.matches||[],et.errors):A.loaderData,Nt=A.blockers;Nt.size>0&&(Nt=new Map(Nt),Nt.forEach((Me,Xe)=>Nt.set(Xe,l1)));let ce=W?!1:gs(Oe,et.matches||A.matches),Ce=N===!0||A.navigation.formMethod!=null&&Hl(A.navigation.formMethod)&&((je=Oe.state)==null?void 0:je._isRedirect)!==!0;l&&(o=l,l=void 0),W||C==="POP"||(C==="PUSH"?e.history.push(Oe,Oe.state):C==="REPLACE"&&e.history.replace(Oe,Oe.state));let be;if(C==="POP"){let Me=P.get(A.location.pathname);Me&&Me.has(Oe.pathname)?be={currentLocation:A.location,nextLocation:Oe}:P.has(Oe.pathname)&&(be={currentLocation:Oe,nextLocation:A.location})}else if(z){let Me=P.get(A.location.pathname);Me?Me.add(Oe.pathname):(Me=new Set([Oe.pathname]),P.set(A.location.pathname,Me)),be={currentLocation:A.location,nextLocation:Oe}}Ae({...et,actionData:Xt,loaderData:Kt,historyAction:C,location:Oe,initialized:!0,navigation:Jb,revalidation:"idle",restoreScrollPosition:ce,preventScrollReset:Ce,blockers:Nt},{viewTransitionOpts:be,flushSync:gt===!0}),C="POP",N=!1,z=!1,W=!1,Z=!1,ae==null||ae.resolve(),ae=null}async function fe(Oe,et){if(typeof Oe=="number"){e.history.go(Oe);return}let gt=Nw(A.location,A.matches,c,Oe,et==null?void 0:et.fromRouteId,et==null?void 0:et.relative),{path:Dt,submission:Xt,error:Kt}=VN(!1,gt,et),Nt=A.location,ce=xx(A.location,Dt,et&&et.state);ce={...ce,...e.history.encodeLocation(ce)};let Ce=et&&et.replace!=null?et.replace:void 0,be="PUSH";Ce===!0?be="REPLACE":Ce===!1||Xt!=null&&Hl(Xt.formMethod)&&Xt.formAction===A.location.pathname+A.location.search&&(be="REPLACE");let we=et&&"preventScrollReset"in et?et.preventScrollReset===!0:void 0,je=(et&&et.flushSync)===!0,Me=Ir({currentLocation:Nt,nextLocation:ce,historyAction:be});if(Me){zr(Me,{state:"blocked",location:ce,proceed(){zr(Me,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),fe(Oe,et)},reset(){let Xe=new Map(A.blockers);Xe.set(Me,l1),Ae({blockers:Xe})}});return}await De(be,ce,{submission:Xt,pendingError:Kt,preventScrollReset:we,replace:et&&et.replace,enableViewTransition:et&&et.viewTransition,flushSync:je})}function ht(){ae||(ae=LF()),ze(),Ae({revalidation:"loading"});let Oe=ae.promise;return A.navigation.state==="submitting"?Oe:A.navigation.state==="idle"?(De(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),Oe):(De(C||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:z===!0}),Oe)}async function De(Oe,et,gt){E&&E.abort(),E=null,C=Oe,W=(gt&&gt.startUninterruptedRevalidation)===!0,Fr(A.location,A.matches),N=(gt&&gt.preventScrollReset)===!0,z=(gt&&gt.enableViewTransition)===!0;let Dt=l||o,Xt=gt&&gt.overrideNavigation,Kt=gt!=null&&gt.initialHydration&&A.matches&&A.matches.length>0&&!S?A.matches:mh(Dt,et,c),Nt=(gt&&gt.flushSync)===!0;if(Kt&&A.initialized&&!Z&&NF(A.location,et)&&!(gt&&gt.submission&&Hl(gt.submission.formMethod))){We(et,{matches:Kt},{flushSync:Nt});return}let ce=Ni(Kt,Dt,et.pathname);if(ce.active&&ce.matches&&(Kt=ce.matches),!Kt){let{error:nt,notFoundMatches:tt,route:st}=Ds(et.pathname);We(et,{matches:tt,loaderData:{},errors:{[st.id]:nt}},{flushSync:Nt});return}E=new AbortController;let Ce=Dm(e.history,et,E.signal,gt&&gt.submission),be=e.getContext?await e.getContext():new WN,we;if(gt&&gt.pendingError)we=[ph(Kt).route.id,{type:"error",error:gt.pendingError}];else if(gt&&gt.submission&&Hl(gt.submission.formMethod)){let nt=await Ee(Ce,et,gt.submission,Kt,be,ce.active,gt&&gt.initialHydration===!0,{replace:gt.replace,flushSync:Nt});if(nt.shortCircuited)return;if(nt.pendingActionResult){let[tt,st]=nt.pendingActionResult;if(Nc(st)&&vx(st.error)&&st.error.status===404){E=null,We(et,{matches:nt.matches,loaderData:{},errors:{[tt]:st.error}});return}}Kt=nt.matches||Kt,we=nt.pendingActionResult,Xt=Qb(et,gt.submission),Nt=!1,ce.active=!1,Ce=Dm(e.history,Ce.url,Ce.signal)}let{shortCircuited:je,matches:Me,loaderData:Xe,errors:mt}=await Ue(Ce,et,Kt,be,ce.active,Xt,gt&&gt.submission,gt&&gt.fetcherSubmission,gt&&gt.replace,gt&&gt.initialHydration===!0,Nt,we);je||(E=null,We(et,{matches:Me||Kt,...tk(we),loaderData:Xe,errors:mt}))}async function Ee(Oe,et,gt,Dt,Xt,Kt,Nt,ce={}){ze();let Ce=EF(et,gt);if(Ae({navigation:Ce},{flushSync:ce.flushSync===!0}),Kt){let je=await ka(Dt,et.pathname,Oe.signal);if(je.type==="aborted")return{shortCircuited:!0};if(je.type==="error"){if(je.partialMatches.length===0){let{matches:Xe,route:mt}=d2(o);return{matches:Xe,pendingActionResult:[mt.id,{type:"error",error:je.error}]}}let Me=ph(je.partialMatches).route.id;return{matches:je.partialMatches,pendingActionResult:[Me,{type:"error",error:je.error}]}}else if(je.matches)Dt=je.matches;else{let{notFoundMatches:Me,error:Xe,route:mt}=Ds(et.pathname);return{matches:Me,pendingActionResult:[mt.id,{type:"error",error:Xe}]}}}let be,we=nv(Dt,et);if(!we.route.action&&!we.route.lazy)be={type:"error",error:id(405,{method:Oe.method,pathname:et.pathname,routeId:we.route.id})};else{let je=Zm(a,i,Oe,Dt,we,Nt?[]:s,Xt),Me=await ve(Oe,je,Xt,null);if(be=Me[we.route.id],!be){for(let Xe of Dt)if(Me[Xe.route.id]){be=Me[Xe.route.id];break}}if(Oe.signal.aborted)return{shortCircuited:!0}}if(Nf(be)){let je;return ce&&ce.replace!=null?je=ce.replace:je=XN(be.response.headers.get("Location"),new URL(Oe.url),c)===A.location.pathname+A.location.search,await He(Oe,be,!0,{submission:gt,replace:je}),{shortCircuited:!0}}if(Nc(be)){let je=ph(Dt,we.route.id);return(ce&&ce.replace)!==!0&&(C="PUSH"),{matches:Dt,pendingActionResult:[je.route.id,be,we.route.id]}}return{matches:Dt,pendingActionResult:[we.route.id,be]}}async function Ue(Oe,et,gt,Dt,Xt,Kt,Nt,ce,Ce,be,we,je){let Me=Kt||Qb(et,Nt),Xe=Nt||ce||sk(Me),mt=!W&&!be;if(Xt){if(mt){let Es=rt(je);Ae({navigation:Me,...Es!==void 0?{actionData:Es}:{}},{flushSync:we})}let Gr=await ka(gt,et.pathname,Oe.signal);if(Gr.type==="aborted")return{shortCircuited:!0};if(Gr.type==="error"){if(Gr.partialMatches.length===0){let{matches:Ua,route:Os}=d2(o);return{matches:Ua,loaderData:{},errors:{[Os.id]:Gr.error}}}let Es=ph(Gr.partialMatches).route.id;return{matches:Gr.partialMatches,loaderData:{},errors:{[Es]:Gr.error}}}else if(Gr.matches)gt=Gr.matches;else{let{error:Es,notFoundMatches:Ua,route:Os}=Ds(et.pathname);return{matches:Ua,loaderData:{},errors:{[Os.id]:Es}}}}let nt=l||o,{dsMatches:tt,revalidatingFetchers:st}=GN(Oe,Dt,a,i,e.history,A,gt,Xe,et,be?[]:s,be===!0,Z,Y,q,ee,oe,nt,c,e.patchRoutesOnNavigation!=null,je);if(le=++ie,!e.dataStrategy&&!tt.some(Gr=>Gr.shouldLoad)&&!tt.some(Gr=>Gr.route.middleware&&Gr.route.middleware.length>0)&&st.length===0){let Gr=Qt();return We(et,{matches:gt,loaderData:{},errors:je&&Nc(je[1])?{[je[0]]:je[1].error}:null,...tk(je),...Gr?{fetchers:new Map(A.fetchers)}:{}},{flushSync:we}),{shortCircuited:!0}}if(mt){let Gr={};if(!Xt){Gr.navigation=Me;let Es=rt(je);Es!==void 0&&(Gr.actionData=Es)}st.length>0&&(Gr.fetchers=ft(st)),Ae(Gr,{flushSync:we})}st.forEach(Gr=>{ar(Gr.key),Gr.controller&&te.set(Gr.key,Gr.controller)});let Rt=()=>st.forEach(Gr=>ar(Gr.key));E&&E.signal.addEventListener("abort",Rt);let{loaderResults:Yt,fetcherResults:sr}=await Ne(tt,st,Oe,Dt);if(Oe.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",Rt),st.forEach(Gr=>te.delete(Gr.key));let $t=u2(Yt);if($t)return await He(Oe,$t.result,!0,{replace:Ce}),{shortCircuited:!0};if($t=u2(sr),$t)return oe.add($t.key),await He(Oe,$t.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:Ht,errors:Pr}=QN(A,gt,Yt,je,st,sr);be&&A.errors&&(Pr={...A.errors,...Pr});let hs=Qt(),ts=Lt(le),Rs=hs||ts||st.length>0;return{matches:gt,loaderData:Ht,errors:Pr,...Rs?{fetchers:new Map(A.fetchers)}:{}}}function rt(Oe){if(Oe&&!Nc(Oe[1]))return{[Oe[0]]:Oe[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function ft(Oe){return Oe.forEach(et=>{let gt=A.fetchers.get(et.key),Dt=c1(void 0,gt?gt.data:void 0);A.fetchers.set(et.key,Dt)}),new Map(A.fetchers)}async function Re(Oe,et,gt,Dt){ar(Oe);let Xt=(Dt&&Dt.flushSync)===!0,Kt=l||o,Nt=Nw(A.location,A.matches,c,gt,et,Dt==null?void 0:Dt.relative),ce=mh(Kt,Nt,c),Ce=Ni(ce,Kt,Nt);if(Ce.active&&Ce.matches&&(ce=Ce.matches),!ce){pt(Oe,et,id(404,{pathname:Nt}),{flushSync:Xt});return}let{path:be,submission:we,error:je}=VN(!0,Nt,Dt);if(je){pt(Oe,et,je,{flushSync:Xt});return}let Me=e.getContext?await e.getContext():new WN,Xe=(Dt&&Dt.preventScrollReset)===!0;if(we&&Hl(we.formMethod)){await pe(Oe,et,be,ce,Me,Ce.active,Xt,Xe,we);return}ee.set(Oe,{routeId:et,path:be}),await Le(Oe,et,be,ce,Me,Ce.active,Xt,Xe,we)}async function pe(Oe,et,gt,Dt,Xt,Kt,Nt,ce,Ce){ze(),ee.delete(Oe);let be=A.fetchers.get(Oe);qe(Oe,AF(Ce,be),{flushSync:Nt});let we=new AbortController,je=Dm(e.history,gt,we.signal,Ce);if(Kt){let Ts=await ka(Dt,new URL(je.url).pathname,je.signal,Oe);if(Ts.type==="aborted")return;if(Ts.type==="error"){pt(Oe,et,Ts.error,{flushSync:Nt});return}else if(Ts.matches)Dt=Ts.matches;else{pt(Oe,et,id(404,{pathname:gt}),{flushSync:Nt});return}}let Me=nv(Dt,gt);if(!Me.route.action&&!Me.route.lazy){let Ts=id(405,{method:Ce.formMethod,pathname:gt,routeId:et});pt(Oe,et,Ts,{flushSync:Nt});return}te.set(Oe,we);let Xe=ie,mt=Zm(a,i,je,Dt,Me,s,Xt),tt=(await ve(je,mt,Xt,Oe))[Me.route.id];if(je.signal.aborted){te.get(Oe)===we&&te.delete(Oe);return}if(q.has(Oe)){if(Nf(tt)||Nc(tt)){qe(Oe,pu(void 0));return}}else{if(Nf(tt))if(te.delete(Oe),le>Xe){qe(Oe,pu(void 0));return}else return oe.add(Oe),qe(Oe,c1(Ce)),He(je,tt,!1,{fetcherSubmission:Ce,preventScrollReset:ce});if(Nc(tt)){pt(Oe,et,tt.error);return}}let st=A.navigation.location||A.location,Rt=Dm(e.history,st,we.signal),Yt=l||o,sr=A.navigation.state!=="idle"?mh(Yt,A.navigation.location,c):A.matches;Cs(sr,"Didn't find any matches after fetcher action");let $t=++ie;se.set(Oe,$t);let Ht=c1(Ce,tt.data);A.fetchers.set(Oe,Ht);let{dsMatches:Pr,revalidatingFetchers:hs}=GN(Rt,Xt,a,i,e.history,A,sr,Ce,st,s,!1,Z,Y,q,ee,oe,Yt,c,e.patchRoutesOnNavigation!=null,[Me.route.id,tt]);hs.filter(Ts=>Ts.key!==Oe).forEach(Ts=>{let vr=Ts.key,Zs=A.fetchers.get(vr),ma=c1(void 0,Zs?Zs.data:void 0);A.fetchers.set(vr,ma),ar(vr),Ts.controller&&te.set(vr,Ts.controller)}),Ae({fetchers:new Map(A.fetchers)});let ts=()=>hs.forEach(Ts=>ar(Ts.key));we.signal.addEventListener("abort",ts);let{loaderResults:Rs,fetcherResults:Gr}=await Ne(Pr,hs,Rt,Xt);if(we.signal.aborted)return;if(we.signal.removeEventListener("abort",ts),se.delete(Oe),te.delete(Oe),hs.forEach(Ts=>te.delete(Ts.key)),A.fetchers.has(Oe)){let Ts=pu(tt.data);A.fetchers.set(Oe,Ts)}let Es=u2(Rs);if(Es)return He(Rt,Es.result,!1,{preventScrollReset:ce});if(Es=u2(Gr),Es)return oe.add(Es.key),He(Rt,Es.result,!1,{preventScrollReset:ce});let{loaderData:Ua,errors:Os}=QN(A,sr,Rs,void 0,hs,Gr);Lt($t),A.navigation.state==="loading"&&$t>le?(Cs(C,"Expected pending action"),E&&E.abort(),We(A.navigation.location,{matches:sr,loaderData:Ua,errors:Os,fetchers:new Map(A.fetchers)})):(Ae({errors:Os,loaderData:ek(A.loaderData,Ua,sr,Os),fetchers:new Map(A.fetchers)}),Z=!1)}async function Le(Oe,et,gt,Dt,Xt,Kt,Nt,ce,Ce){let be=A.fetchers.get(Oe);qe(Oe,c1(Ce,be?be.data:void 0),{flushSync:Nt});let we=new AbortController,je=Dm(e.history,gt,we.signal);if(Kt){let st=await ka(Dt,new URL(je.url).pathname,je.signal,Oe);if(st.type==="aborted")return;if(st.type==="error"){pt(Oe,et,st.error,{flushSync:Nt});return}else if(st.matches)Dt=st.matches;else{pt(Oe,et,id(404,{pathname:gt}),{flushSync:Nt});return}}let Me=nv(Dt,gt);te.set(Oe,we);let Xe=ie,mt=Zm(a,i,je,Dt,Me,s,Xt),tt=(await ve(je,mt,Xt,Oe))[Me.route.id];if(te.get(Oe)===we&&te.delete(Oe),!je.signal.aborted){if(q.has(Oe)){qe(Oe,pu(void 0));return}if(Nf(tt))if(le>Xe){qe(Oe,pu(void 0));return}else{oe.add(Oe),await He(je,tt,!1,{preventScrollReset:ce});return}if(Nc(tt)){pt(Oe,et,tt.error);return}qe(Oe,pu(tt.data))}}async function He(Oe,et,gt,{submission:Dt,fetcherSubmission:Xt,preventScrollReset:Kt,replace:Nt}={}){et.response.headers.has("X-Remix-Revalidate")&&(Z=!0);let ce=et.response.headers.get("Location");Cs(ce,"Expected a Location header on the redirect Response"),ce=XN(ce,new URL(Oe.url),c);let Ce=xx(A.location,ce,{_isRedirect:!0});if(r){let mt=!1;if(et.response.headers.has("X-Remix-Reload-Document"))mt=!0;else if(U4(ce)){const nt=fE(ce,!0);mt=nt.origin!==t.location.origin||dd(nt.pathname,c)==null}if(mt){Nt?t.location.replace(ce):t.location.assign(ce);return}}E=null;let be=Nt===!0||et.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:we,formAction:je,formEncType:Me}=A.navigation;!Dt&&!Xt&&we&&je&&Me&&(Dt=sk(A.navigation));let Xe=Dt||Xt;if(iF.has(et.response.status)&&Xe&&Hl(Xe.formMethod))await De(be,Ce,{submission:{...Xe,formAction:ce},preventScrollReset:Kt||N,enableViewTransition:gt?z:void 0});else{let mt=Qb(Ce,Dt);await De(be,Ce,{overrideNavigation:mt,fetcherSubmission:Xt,preventScrollReset:Kt||N,enableViewTransition:gt?z:void 0})}}async function ve(Oe,et,gt,Dt){let Xt,Kt={};try{Xt=await gF(d,Oe,et,Dt,gt,!1)}catch(Nt){return et.filter(ce=>ce.shouldLoad).forEach(ce=>{Kt[ce.route.id]={type:"error",error:Nt}}),Kt}if(Oe.signal.aborted)return Kt;for(let[Nt,ce]of Object.entries(Xt))if(CF(ce)){let Ce=ce.result;Kt[Nt]={type:"redirect",response:_F(Ce,Oe,Nt,et,c)}}else Kt[Nt]=await bF(ce);return Kt}async function Ne(Oe,et,gt,Dt){let Xt=ve(gt,Oe,Dt,null),Kt=Promise.all(et.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.request&&Ce.controller){let we=(await ve(Ce.request,Ce.matches,Dt,Ce.key))[Ce.match.route.id];return{[Ce.key]:we}}else return Promise.resolve({[Ce.key]:{type:"error",error:id(404,{pathname:Ce.path})}})})),Nt=await Xt,ce=(await Kt).reduce((Ce,be)=>Object.assign(Ce,be),{});return{loaderResults:Nt,fetcherResults:ce}}function ze(){Z=!0,ee.forEach((Oe,et)=>{te.has(et)&&Y.add(et),ar(et)})}function qe(Oe,et,gt={}){A.fetchers.set(Oe,et),Ae({fetchers:new Map(A.fetchers)},{flushSync:(gt&&gt.flushSync)===!0})}function pt(Oe,et,gt,Dt={}){let Xt=ph(A.matches,et);Et(Oe),Ae({errors:{[Xt.route.id]:gt},fetchers:new Map(A.fetchers)},{flushSync:(Dt&&Dt.flushSync)===!0})}function xt(Oe){return B.set(Oe,(B.get(Oe)||0)+1),q.has(Oe)&&q.delete(Oe),A.fetchers.get(Oe)||oF}function Ft(Oe,et){ar(Oe,et==null?void 0:et.reason),qe(Oe,pu(null))}function Et(Oe){let et=A.fetchers.get(Oe);te.has(Oe)&&!(et&&et.state==="loading"&&se.has(Oe))&&ar(Oe),ee.delete(Oe),se.delete(Oe),oe.delete(Oe),q.delete(Oe),Y.delete(Oe),A.fetchers.delete(Oe)}function At(Oe){let et=(B.get(Oe)||0)-1;et<=0?(B.delete(Oe),q.add(Oe)):B.set(Oe,et),Ae({fetchers:new Map(A.fetchers)})}function ar(Oe,et){let gt=te.get(Oe);gt&&(gt.abort(et),te.delete(Oe))}function er(Oe){for(let et of Oe){let gt=xt(et),Dt=pu(gt.data);A.fetchers.set(et,Dt)}}function Qt(){let Oe=[],et=!1;for(let gt of oe){let Dt=A.fetchers.get(gt);Cs(Dt,`Expected fetcher: ${gt}`),Dt.state==="loading"&&(oe.delete(gt),Oe.push(gt),et=!0)}return er(Oe),et}function Lt(Oe){let et=[];for(let[gt,Dt]of se)if(Dt<Oe){let Xt=A.fetchers.get(gt);Cs(Xt,`Expected fetcher: ${gt}`),Xt.state==="loading"&&(ar(gt),se.delete(gt),et.push(gt))}return er(et),et.length>0}function rs(Oe,et){let gt=A.blockers.get(Oe)||l1;return Q.get(Oe)!==et&&Q.set(Oe,et),gt}function gr(Oe){A.blockers.delete(Oe),Q.delete(Oe)}function zr(Oe,et){let gt=A.blockers.get(Oe)||l1;Cs(gt.state==="unblocked"&&et.state==="blocked"||gt.state==="blocked"&&et.state==="blocked"||gt.state==="blocked"&&et.state==="proceeding"||gt.state==="blocked"&&et.state==="unblocked"||gt.state==="proceeding"&&et.state==="unblocked",`Invalid blocker state transition: ${gt.state} -> ${et.state}`);let Dt=new Map(A.blockers);Dt.set(Oe,et),Ae({blockers:Dt})}function Ir({currentLocation:Oe,nextLocation:et,historyAction:gt}){if(Q.size===0)return;Q.size>1&&Rn(!1,"A router only supports one blocker at a time");let Dt=Array.from(Q.entries()),[Xt,Kt]=Dt[Dt.length-1],Nt=A.blockers.get(Xt);if(!(Nt&&Nt.state==="proceeding")&&Kt({currentLocation:Oe,nextLocation:et,historyAction:gt}))return Xt}function Ds(Oe){let et=id(404,{pathname:Oe}),gt=l||o,{matches:Dt,route:Xt}=d2(gt);return{notFoundMatches:Dt,route:Xt,error:et}}function zs(Oe,et,gt){if(f=Oe,v=et,y=gt||null,!_&&A.navigation===Jb){_=!0;let Dt=gs(A.location,A.matches);Dt!=null&&Ae({restoreScrollPosition:Dt})}return()=>{f=null,v=null,y=null}}function us(Oe,et){return y&&y(Oe,et.map(Dt=>RP(Dt,A.loaderData)))||Oe.key}function Fr(Oe,et){if(f&&v){let gt=us(Oe,et);f[gt]=v()}}function gs(Oe,et){if(f){let gt=us(Oe,et),Dt=f[gt];if(typeof Dt=="number")return Dt}return null}function Ni(Oe,et,gt){if(e.patchRoutesOnNavigation)if(Oe){if(Object.keys(Oe[0].params).length>0)return{active:!0,matches:av(et,gt,c,!0)}}else return{active:!0,matches:av(et,gt,c,!0)||[]};return{active:!1,matches:null}}async function ka(Oe,et,gt,Dt){if(!e.patchRoutesOnNavigation)return{type:"success",matches:Oe};let Xt=Oe;for(;;){let Kt=l==null,Nt=l||o,ce=i;try{await e.patchRoutesOnNavigation({signal:gt,path:et,matches:Xt,fetcherKey:Dt,patch:(we,je)=>{gt.aborted||qN(we,je,Nt,ce,a,!1)}})}catch(we){return{type:"error",error:we,partialMatches:Xt}}finally{Kt&&!gt.aborted&&(o=[...o])}if(gt.aborted)return{type:"aborted"};let Ce=mh(Nt,et,c);if(Ce)return{type:"success",matches:Ce};let be=av(Nt,et,c,!0);if(!be||Xt.length===be.length&&Xt.every((we,je)=>we.route.id===be[je].route.id))return{type:"success",matches:null};Xt=be}}function Oi(Oe){i={},l=gx(Oe,a,void 0,i)}function ni(Oe,et,gt=!1){let Dt=l==null;qN(Oe,et,l||o,i,a,gt),Dt&&(o=[...o],Ae({}))}return O={get basename(){return c},get future(){return u},get state(){return A},get routes(){return o},get window(){return t},initialize:ge,subscribe:ke,enableScrollRestoration:zs,navigate:fe,fetch:Re,revalidate:ht,createHref:Oe=>e.history.createHref(Oe),encodeLocation:Oe=>e.history.encodeLocation(Oe),getFetcher:xt,resetFetcher:Ft,deleteFetcher:At,dispose:he,getBlocker:rs,deleteBlocker:gr,patchRoutes:ni,_internalFetchControllers:te,_internalSetRoutes:Oi,_internalSetStateDoNotUseOrYouWillBreakYourApp(Oe){Ae(Oe)}},O}function uF(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Nw(e,t,r,s,a,i){let o,l;if(a){o=[];for(let d of t)if(o.push(d),d.route.id===a){l=d;break}}else o=t,l=t[t.length-1];let c=Ty(s||".",Ay(o),dd(e.pathname,r)||e.pathname,i==="path");if(s==null&&(c.search=e.search,c.hash=e.hash),(s==null||s===""||s===".")&&l){let d=W4(c.search);if(l.route.index&&!d)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&d){let u=new URLSearchParams(c.search),p=u.getAll("index");u.delete("index"),p.filter(f=>f).forEach(f=>u.append("index",f));let x=u.toString();c.search=x?`?${x}`:""}}return r!=="/"&&(c.pathname=ZP({basename:r,pathname:c.pathname})),Th(c)}function VN(e,t,r){if(!r||!uF(r))return{path:t};if(r.formMethod&&!SF(r.formMethod))return{path:t,error:id(405,{method:r.formMethod})};let s=()=>({path:t,error:id(400,{type:"invalid-body"})}),i=(r.formMethod||"get").toUpperCase(),o=jE(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Hl(i))return s();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((x,[f,y])=>`${x}${f}=${y}
`,""):String(r.body);return{path:t,submission:{formMethod:i,formAction:o,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Hl(i))return s();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:i,formAction:o,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return s()}}}Cs(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Cw(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Cw(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=JN(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=JN(l)}catch{return s()}let d={formMethod:i,formAction:o,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Hl(d.formMethod))return{path:t,submission:d};let u=Hh(t);return e&&u.search&&W4(u.search)&&l.append("index",""),u.search=`?${l}`,{path:Th(u),submission:d}}function GN(e,t,r,s,a,i,o,l,c,d,u,p,x,f,y,v,_,k,S,M){var W;let T=M?Nc(M[1])?M[1].error:M[1].data:void 0,O=a.createURL(i.location),A=a.createURL(c),C;if(u&&i.errors){let Z=Object.keys(i.errors)[0];C=o.findIndex(Y=>Y.route.id===Z)}else if(M&&Nc(M[1])){let Z=M[0];C=o.findIndex(Y=>Y.route.id===Z)-1}let N=M?M[1].statusCode:void 0,E=N&&N>=400,z={currentUrl:O,currentParams:((W=i.matches[0])==null?void 0:W.params)||{},nextUrl:A,nextParams:o[0].params,...l,actionResult:T,actionStatus:N},P=o.map((Z,Y)=>{let{route:te}=Z,ie=null;if(C!=null&&Y>C?ie=!1:te.lazy?ie=!0:$4(te)?u?ie=kw(te,i.loaderData,i.errors):hF(i.loaderData,i.matches[Y],Z)&&(ie=!0):ie=!1,ie!==null)return jw(r,s,e,Z,d,t,ie);let le=E?!1:p||O.pathname+O.search===A.pathname+A.search||O.search!==A.search||fF(i.matches[Y],Z),se={...z,defaultShouldRevalidate:le},oe=Fv(Z,se);return jw(r,s,e,Z,d,t,oe,se)}),I=[];return y.forEach((Z,Y)=>{if(u||!o.some(q=>q.route.id===Z.routeId)||f.has(Y))return;let te=i.fetchers.get(Y),ie=te&&te.state!=="idle"&&te.data===void 0,le=mh(_,Z.path,k);if(!le){if(S&&ie)return;I.push({key:Y,routeId:Z.routeId,path:Z.path,matches:null,match:null,request:null,controller:null});return}if(v.has(Y))return;let se=nv(le,Z.path),oe=new AbortController,ee=Dm(a,Z.path,oe.signal),B=null;if(x.has(Y))x.delete(Y),B=Zm(r,s,ee,le,se,d,t);else if(ie)p&&(B=Zm(r,s,ee,le,se,d,t));else{let q={...z,defaultShouldRevalidate:E?!1:p};Fv(se,q)&&(B=Zm(r,s,ee,le,se,d,t,q))}B&&I.push({key:Y,routeId:Z.routeId,path:Z.path,matches:B,match:se,request:ee,controller:oe})}),{dsMatches:P,revalidatingFetchers:I}}function $4(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function kw(e,t,r){if(e.lazy)return!0;if(!$4(e))return!1;let s=t!=null&&e.id in t,a=r!=null&&r[e.id]!==void 0;return!s&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!a}function hF(e,t,r){let s=!t||r.route.id!==t.route.id,a=!e.hasOwnProperty(r.route.id);return s||a}function fF(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Fv(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function qN(e,t,r,s,a,i){let o;if(e){let d=s[e];Cs(d,`No route found to patch children into: routeId = ${e}`),d.children||(d.children=[]),o=d.children}else o=r;let l=[],c=[];if(t.forEach(d=>{let u=o.find(p=>bE(d,p));u?c.push({existingRoute:u,newRoute:d}):l.push(d)}),l.length>0){let d=gx(l,a,[e||"_","patch",String((o==null?void 0:o.length)||"0")],s);o.push(...d)}if(i&&c.length>0)for(let d=0;d<c.length;d++){let{existingRoute:u,newRoute:p}=c[d],x=u,[f]=gx([p],a,[],{},!0);Object.assign(x,{element:f.element?f.element:x.element,errorElement:f.errorElement?f.errorElement:x.errorElement,hydrateFallbackElement:f.hydrateFallbackElement?f.hydrateFallbackElement:x.hydrateFallbackElement})}}function bE(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,s)=>{var a;return(a=t.children)==null?void 0:a.some(i=>bE(r,i))}):!1}var KN=new WeakMap,_E=({key:e,route:t,manifest:r,mapRouteProperties:s})=>{let a=r[t.id];if(Cs(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let i=a.lazy[e];if(!i)return;let o=KN.get(a);o||(o={},KN.set(a,o));let l=o[e];if(l)return l;let c=(async()=>{let d=PP(e),p=a[e]!==void 0&&e!=="hasErrorBoundary";if(d)Rn(!d,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(p)Rn(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let x=await i();x!=null&&(Object.assign(a,{[e]:x}),Object.assign(a,s(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(x=>x===void 0)&&(a.lazy=void 0))})();return o[e]=c,c},YN=new WeakMap;function mF(e,t,r,s,a){let i=r[e.id];if(Cs(i,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let u=YN.get(i);if(u)return{lazyRoutePromise:u,lazyHandlerPromise:u};let p=(async()=>{Cs(typeof e.lazy=="function","No lazy route function found");let x=await e.lazy(),f={};for(let y in x){let v=x[y];if(v===void 0)continue;let _=DP(y),S=i[y]!==void 0&&y!=="hasErrorBoundary";_?Rn(!_,"Route property "+y+" is not a supported property to be returned from a lazy route function. This property will be ignored."):S?Rn(!S,`Route "${i.id}" has a static property "${y}" defined but its lazy function is also returning a value for this property. The lazy route property "${y}" will be ignored.`):f[y]=v}Object.assign(i,f),Object.assign(i,{...s(i),lazy:void 0})})();return YN.set(i,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(e.lazy),l=[],c;for(let u of o){if(a&&a.includes(u))continue;let p=_E({key:u,route:e,manifest:r,mapRouteProperties:s});p&&(l.push(p),u===t&&(c=p))}let d=l.length>0?Promise.all(l).then(()=>{}):void 0;return d==null||d.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:c}}async function ZN(e){let t=e.matches.filter(a=>a.shouldLoad),r={};return(await Promise.all(t.map(a=>a.resolve()))).forEach((a,i)=>{r[t[i].route.id]=a}),r}async function pF(e){return e.matches.some(t=>t.route.middleware)?wE(e,()=>ZN(e)):ZN(e)}function wE(e,t){return xF(e,t,s=>s,kF,r);function r(s,a,i){if(i)return Promise.resolve(Object.assign(i.value,{[a]:{type:"error",result:s}}));{let{matches:o}=e,l=Math.min(Math.max(o.findIndex(d=>d.route.id===a),0),Math.max(o.findIndex(d=>d.unstable_shouldCallHandler()),0)),c=ph(o,o[l].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:s}})}}}async function xF(e,t,r,s,a){let{matches:i,request:o,params:l,context:c}=e,d=i.flatMap(p=>p.route.middleware?p.route.middleware.map(x=>[p.route.id,x]):[]);return await NE({request:o,params:l,context:c},d,t,r,s,a)}async function NE(e,t,r,s,a,i,o=0){let{request:l}=e;if(l.signal.aborted)throw l.signal.reason??new Error(`Request aborted: ${l.method} ${l.url}`);let c=t[o];if(!c)return await r();let[d,u]=c,p,x=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:await NE(e,t,r,s,a,i,o+1)},p.value}catch(f){return p={value:await i(f,d,p)},p.value}};try{let f=await u(e,x),y=f!=null?s(f):void 0;return a(y)?y:p?y??p.value:(p={value:await x()},p.value)}catch(f){return await i(f,d,p)}}function kE(e,t,r,s,a){let i=_E({key:"middleware",route:s.route,manifest:t,mapRouteProperties:e}),o=mF(s.route,Hl(r.method)?"action":"loader",t,e,a);return{middleware:i,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function jw(e,t,r,s,a,i,o,l=null){let c=!1,d=kE(e,t,r,s,a);return{...s,_lazyPromises:d,shouldLoad:o,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler(u){return c=!0,l?typeof u=="boolean"?Fv(s,{...l,defaultShouldRevalidate:u}):Fv(s,l):o},resolve(u){let{lazy:p,loader:x,middleware:f}=s.route,y=c||o||u&&!Hl(r.method)&&(p||x),v=f&&f.length>0&&!x&&!p;return y&&!v?vF({request:r,match:s,lazyHandlerPromise:d==null?void 0:d.handler,lazyRoutePromise:d==null?void 0:d.route,handlerOverride:u,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}}}function Zm(e,t,r,s,a,i,o,l=null){return s.map(c=>c.route.id!==a.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler:()=>!1,_lazyPromises:kE(e,t,r,c,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:jw(e,t,r,c,i,o,!0,l))}async function gF(e,t,r,s,a,i){r.some(d=>{var u;return(u=d._lazyPromises)==null?void 0:u.middleware})&&await Promise.all(r.map(d=>{var u;return(u=d._lazyPromises)==null?void 0:u.middleware}));let o={request:t,params:r[0].params,context:a,matches:r},c=await e({...o,fetcherKey:s,runClientMiddleware:d=>{let u=o;return wE(u,()=>d({...u,fetcherKey:s,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(d=>{var u,p;return[(u=d._lazyPromises)==null?void 0:u.handler,(p=d._lazyPromises)==null?void 0:p.route]}))}catch{}return c}async function vF({request:e,match:t,lazyHandlerPromise:r,lazyRoutePromise:s,handlerOverride:a,scopedContext:i}){let o,l,c=Hl(e.method),d=c?"action":"loader",u=p=>{let x,f=new Promise((_,k)=>x=k);l=()=>x(),e.signal.addEventListener("abort",l);let y=_=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${t.route.id}]`)):p({request:e,params:t.params,context:i},..._!==void 0?[_]:[]),v=(async()=>{try{return{type:"data",result:await(a?a(k=>y(k)):y())}}catch(_){return{type:"error",result:_}}})();return Promise.race([v,f])};try{let p=c?t.route.action:t.route.loader;if(r||s)if(p){let x,[f]=await Promise.all([u(p).catch(y=>{x=y}),r,s]);if(x!==void 0)throw x;o=f}else{await r;let x=c?t.route.action:t.route.loader;if(x)[o]=await Promise.all([u(x),s]);else if(d==="action"){let f=new URL(e.url),y=f.pathname+f.search;throw id(405,{method:e.method,pathname:y,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(p)o=await u(p);else{let x=new URL(e.url),f=x.pathname+x.search;throw id(404,{pathname:f})}}catch(p){return{type:"error",result:p}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function yF(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function bF(e){var s,a,i,o,l,c;let{result:t,type:r}=e;if(CE(t)){let d;try{d=await yF(t)}catch(u){return{type:"error",error:u}}return r==="error"?{type:"error",error:new Pv(t.status,t.statusText,d),statusCode:t.status,headers:t.headers}:{type:"data",data:d,statusCode:t.status,headers:t.headers}}return r==="error"?rk(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Pv(((i=t.init)==null?void 0:i.status)||500,void 0,t.data),statusCode:vx(t)?t.status:void 0,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:vx(t)?t.status:void 0}:rk(t)?{type:"data",data:t.data,statusCode:(l=t.init)==null?void 0:l.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function _F(e,t,r,s,a){let i=e.headers.get("Location");if(Cs(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!U4(i)){let o=s.slice(0,s.findIndex(l=>l.route.id===r)+1);i=Nw(new URL(t.url),o,a,i),e.headers.set("Location",i)}return e}function XN(e,t,r){if(U4(e)){let s=e,a=s.startsWith("//")?new URL(t.protocol+s):new URL(s),i=dd(a.pathname,r)!=null;if(a.origin===t.origin&&i)return a.pathname+a.search+a.hash}return e}function Dm(e,t,r,s){let a=e.createURL(jE(t)).toString(),i={signal:r};if(s&&Hl(s.formMethod)){let{formMethod:o,formEncType:l}=s;i.method=o.toUpperCase(),l==="application/json"?(i.headers=new Headers({"Content-Type":l}),i.body=JSON.stringify(s.json)):l==="text/plain"?i.body=s.text:l==="application/x-www-form-urlencoded"&&s.formData?i.body=Cw(s.formData):i.body=s.formData}return new Request(a,i)}function Cw(e){let t=new URLSearchParams;for(let[r,s]of e.entries())t.append(r,typeof s=="string"?s:s.name);return t}function JN(e){let t=new FormData;for(let[r,s]of e.entries())t.append(r,s);return t}function wF(e,t,r,s=!1,a=!1){let i={},o=null,l,c=!1,d={},u=r&&Nc(r[1])?r[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let x=p.route.id,f=t[x];if(Cs(!Nf(f),"Cannot handle redirect results in processLoaderData"),Nc(f)){let y=f.error;if(u!==void 0&&(y=u,u=void 0),o=o||{},a)o[x]=y;else{let v=ph(e,x);o[v.route.id]==null&&(o[v.route.id]=y)}s||(i[x]=yE),c||(c=!0,l=vx(f.error)?f.error.status:500),f.headers&&(d[x]=f.headers)}else i[x]=f.data,f.statusCode&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(d[x]=f.headers)}),u!==void 0&&r&&(o={[r[0]]:u},r[2]&&(i[r[2]]=void 0)),{loaderData:i,errors:o,statusCode:l||200,loaderHeaders:d}}function QN(e,t,r,s,a,i){let{loaderData:o,errors:l}=wF(t,r,s);return a.filter(c=>!c.matches||c.matches.some(d=>d.shouldLoad)).forEach(c=>{let{key:d,match:u,controller:p}=c;if(p&&p.signal.aborted)return;let x=i[d];if(Cs(x,"Did not find corresponding fetcher result"),Nc(x)){let f=ph(e.matches,u==null?void 0:u.route.id);l&&l[f.route.id]||(l={...l,[f.route.id]:x.error}),e.fetchers.delete(d)}else if(Nf(x))Cs(!1,"Unhandled fetcher revalidation redirect");else{let f=pu(x.data);e.fetchers.set(d,f)}}),{loaderData:o,errors:l}}function ek(e,t,r,s){let a=Object.entries(t).filter(([,i])=>i!==yE).reduce((i,[o,l])=>(i[o]=l,i),{});for(let i of r){let o=i.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&i.route.loader&&(a[o]=e[o]),s&&s.hasOwnProperty(o))break}return a}function tk(e){return e?Nc(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ph(e,t){return(t?e.slice(0,e.findIndex(s=>s.route.id===t)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function d2(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function id(e,{pathname:t,routeId:r,method:s,type:a,message:i}={}){let o="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(o="Bad Request",s&&t&&r?l=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:a==="invalid-body"&&(l="Unable to encode submission body")):e===403?(o="Forbidden",l=`Route "${r}" does not match URL "${t}"`):e===404?(o="Not Found",l=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",s&&t&&r?l=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:s&&(l=`Invalid request method "${s.toUpperCase()}"`)),new Pv(e||500,o,new Error(l),!0)}function u2(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[s,a]=t[r];if(Nf(a))return{key:s,result:a}}}function jE(e){let t=typeof e=="string"?Hh(e):e;return Th({...t,hash:""})}function NF(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function kF(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&jF(r))}function jF(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function CF(e){return CE(e.result)&&nF.has(e.result.status)}function Nc(e){return e.type==="error"}function Nf(e){return(e&&e.type)==="redirect"}function rk(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function CE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function SF(e){return aF.has(e.toUpperCase())}function Hl(e){return rF.has(e.toUpperCase())}function W4(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function nv(e,t){let r=typeof t=="string"?Hh(t).search:t.search;if(e[e.length-1].route.index&&W4(r||""))return e[e.length-1];let s=xE(e);return s[s.length-1]}function sk(e){let{formMethod:t,formAction:r,formEncType:s,text:a,formData:i,json:o}=e;if(!(!t||!r||!s)){if(a!=null)return{formMethod:t,formAction:r,formEncType:s,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:t,formAction:r,formEncType:s,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:r,formEncType:s,formData:void 0,json:o,text:void 0}}}function Qb(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function EF(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function c1(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function AF(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function pu(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function TF(e,t){try{let r=e.sessionStorage.getItem(vE);if(r){let s=JSON.parse(r);for(let[a,i]of Object.entries(s||{}))i&&Array.isArray(i)&&t.set(a,new Set(i||[]))}}catch{}}function MF(e,t){if(t.size>0){let r={};for(let[s,a]of t)r[s]=[...a];try{e.sessionStorage.setItem(vE,JSON.stringify(r))}catch(s){Rn(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function LF(){let e,t,r=new Promise((s,a)=>{e=async i=>{s(i);try{await r}catch{}},t=async i=>{a(i);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var Jf=U.createContext(null);Jf.displayName="DataRouter";var tg=U.createContext(null);tg.displayName="DataRouterState";U.createContext(!1);var H4=U.createContext({isTransitioning:!1});H4.displayName="ViewTransition";var SE=U.createContext(new Map);SE.displayName="Fetchers";var PF=U.createContext(null);PF.displayName="Await";var Qd=U.createContext(null);Qd.displayName="Navigation";var My=U.createContext(null);My.displayName="Location";var pd=U.createContext({outlet:null,matches:[],isDataRoute:!1});pd.displayName="Route";var V4=U.createContext(null);V4.displayName="RouteError";function FF(e,{relative:t}={}){Cs(Ap(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=U.useContext(Qd),{hash:a,pathname:i,search:o}=rg(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:U0([r,i])),s.createHref({pathname:l,search:o,hash:a})}function Ap(){return U.useContext(My)!=null}function xd(){return Cs(Ap(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(My).location}var EE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AE(e){U.useContext(Qd).static||U.useLayoutEffect(e)}function Vr(){let{isDataRoute:e}=U.useContext(pd);return e?YF():DF()}function DF(){Cs(Ap(),"useNavigate() may be used only in the context of a <Router> component.");let e=U.useContext(Jf),{basename:t,navigator:r}=U.useContext(Qd),{matches:s}=U.useContext(pd),{pathname:a}=xd(),i=JSON.stringify(Ay(s)),o=U.useRef(!1);return AE(()=>{o.current=!0}),U.useCallback((c,d={})=>{if(Rn(o.current,EE),!o.current)return;if(typeof c=="number"){r.go(c);return}let u=Ty(c,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:U0([t,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[t,r,i,a,e])}var IF=U.createContext(null);function RF(e){let t=U.useContext(pd).outlet;return U.useMemo(()=>t&&U.createElement(IF.Provider,{value:e},t),[t,e])}function si(){let{matches:e}=U.useContext(pd),t=e[e.length-1];return t?t.params:{}}function rg(e,{relative:t}={}){let{matches:r}=U.useContext(pd),{pathname:s}=xd(),a=JSON.stringify(Ay(r));return U.useMemo(()=>Ty(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function OF(e,t,r,s,a){Cs(Ap(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=U.useContext(Qd),{matches:o}=U.useContext(pd),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",p=l&&l.route;{let S=p&&p.path||"";TE(d,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let x=xd(),f;f=x;let y=f.pathname||"/",v=y;if(u!=="/"){let S=u.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=mh(e,{pathname:v});return Rn(p||_!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Rn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),WF(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:U0([u,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:U0([u,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,r,s,a)}function BF(){let e=KF(),t=vx(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:i},"ErrorBoundary")," or"," ",U.createElement("code",{style:i},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),r?U.createElement("pre",{style:a},r):null,o)}var zF=U.createElement(BF,null),UF=class extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?U.createElement(pd.Provider,{value:this.props.routeContext},U.createElement(V4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $F({routeContext:e,match:t,children:r}){let s=U.useContext(Jf);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(pd.Provider,{value:e},r)}function WF(e,t=[],r=null,s=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let d=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);Cs(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let u=i[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:p,errors:x}=r,f=u.route.loader&&!p.hasOwnProperty(u.route.id)&&(!x||x[u.route.id]===void 0);if(u.route.lazy||f){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,u,p)=>{let x,f=!1,y=null,v=null;r&&(x=o&&u.route.id?o[u.route.id]:void 0,y=u.route.errorElement||zF,l&&(c<0&&p===0?(TE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,v=null):c===p&&(f=!0,v=u.route.hydrateFallbackElement||null)));let _=t.concat(i.slice(0,p+1)),k=()=>{let S;return x?S=y:f?S=v:u.route.Component?S=U.createElement(u.route.Component,null):u.route.element?S=u.route.element:S=d,U.createElement($F,{match:u,routeContext:{outlet:d,matches:_,isDataRoute:r!=null},children:S})};return r&&(u.route.ErrorBoundary||u.route.errorElement||p===0)?U.createElement(UF,{location:r.location,revalidation:r.revalidation,component:y,error:x,children:k(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:s}):k()},null)}function G4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HF(e){let t=U.useContext(Jf);return Cs(t,G4(e)),t}function VF(e){let t=U.useContext(tg);return Cs(t,G4(e)),t}function GF(e){let t=U.useContext(pd);return Cs(t,G4(e)),t}function q4(e){let t=GF(e),r=t.matches[t.matches.length-1];return Cs(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function qF(){return q4("useRouteId")}function KF(){var s;let e=U.useContext(V4),t=VF("useRouteError"),r=q4("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[r]}function YF(){let{router:e}=HF("useNavigate"),t=q4("useNavigate"),r=U.useRef(!1);return AE(()=>{r.current=!0}),U.useCallback(async(a,i={})=>{Rn(r.current,EE),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var ak={};function TE(e,t,r){!t&&!ak[e]&&(ak[e]=!0,Rn(!1,r))}var nk={};function ik(e,t){!e&&!nk[t]&&(nk[t]=!0,console.warn(t))}function ZF(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Rn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:U.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Rn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:U.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Rn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:U.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var XF=["HydrateFallback","hydrateFallbackElement"],JF=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function QF({router:e,flushSync:t,unstable_onError:r}){let[s,a]=U.useState(e.state),[i,o]=U.useState(),[l,c]=U.useState({isTransitioning:!1}),[d,u]=U.useState(),[p,x]=U.useState(),[f,y]=U.useState(),v=U.useRef(new Map),_=U.useCallback(O=>{a(A=>(O.errors&&r&&Object.entries(O.errors).forEach(([C,N])=>{var E;((E=A.errors)==null?void 0:E[C])!==N&&r(N)}),O))},[r]),k=U.useCallback((O,{deletedFetchers:A,flushSync:C,viewTransitionOpts:N})=>{O.fetchers.forEach((z,P)=>{z.data!==void 0&&v.current.set(P,z.data)}),A.forEach(z=>v.current.delete(z)),ik(C===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let E=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(ik(N==null||E,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!N||!E){t&&C?t(()=>_(O)):U.startTransition(()=>_(O));return}if(t&&C){t(()=>{p&&(d&&d.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let z=e.window.document.startViewTransition(()=>{t(()=>_(O))});z.finished.finally(()=>{t(()=>{u(void 0),x(void 0),o(void 0),c({isTransitioning:!1})})}),t(()=>x(z));return}p?(d&&d.resolve(),p.skipTransition(),y({state:O,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(o(O),c({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[e.window,t,p,d,_]);U.useLayoutEffect(()=>e.subscribe(k),[e,k]),U.useEffect(()=>{l.isTransitioning&&!l.flushSync&&u(new JF)},[l]),U.useEffect(()=>{if(d&&i&&e.window){let O=i,A=d.promise,C=e.window.document.startViewTransition(async()=>{U.startTransition(()=>_(O)),await A});C.finished.finally(()=>{u(void 0),x(void 0),o(void 0),c({isTransitioning:!1})}),x(C)}},[i,d,e.window,_]),U.useEffect(()=>{d&&i&&s.location.key===i.location.key&&d.resolve()},[d,p,s.location,i]),U.useEffect(()=>{!l.isTransitioning&&f&&(o(f.state),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),y(void 0))},[l.isTransitioning,f]);let S=U.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:O=>e.navigate(O),push:(O,A,C)=>e.navigate(O,{state:A,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(O,A,C)=>e.navigate(O,{replace:!0,state:A,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[e]),M=e.basename||"/",T=U.useMemo(()=>({router:e,navigator:S,static:!1,basename:M,unstable_onError:r}),[e,S,M,r]);return U.createElement(U.Fragment,null,U.createElement(Jf.Provider,{value:T},U.createElement(tg.Provider,{value:s},U.createElement(SE.Provider,{value:v.current},U.createElement(H4.Provider,{value:l},U.createElement(rD,{basename:M,location:s.location,navigationType:s.historyAction,navigator:S},U.createElement(eD,{routes:e.routes,future:e.future,state:s,unstable_onError:r})))))),null)}var eD=U.memo(tD);function tD({routes:e,future:t,state:r,unstable_onError:s}){return OF(e,void 0,r,s,t)}function Tp({to:e,replace:t,state:r,relative:s}){Cs(Ap(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=U.useContext(Qd);Rn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=U.useContext(pd),{pathname:o}=xd(),l=Vr(),c=Ty(e,Ay(i),o,s==="path"),d=JSON.stringify(c);return U.useEffect(()=>{l(JSON.parse(d),{replace:t,state:r,relative:s})},[l,d,s,t,r]),null}function jh(e){return RF(e.context)}function rD({basename:e="/",children:t=null,location:r,navigationType:s="POP",navigator:a,static:i=!1}){Cs(!Ap(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=U.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=Hh(r));let{pathname:c="/",search:d="",hash:u="",state:p=null,key:x="default"}=r,f=U.useMemo(()=>{let y=dd(c,o);return y==null?null:{location:{pathname:y,search:d,hash:u,state:p,key:x},navigationType:s}},[o,c,d,u,p,x,s]);return Rn(f!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:U.createElement(Qd.Provider,{value:l},U.createElement(My.Provider,{children:t,value:f}))}var iv="get",ov="application/x-www-form-urlencoded";function Ly(e){return e!=null&&typeof e.tagName=="string"}function sD(e){return Ly(e)&&e.tagName.toLowerCase()==="button"}function aD(e){return Ly(e)&&e.tagName.toLowerCase()==="form"}function nD(e){return Ly(e)&&e.tagName.toLowerCase()==="input"}function iD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oD(e,t){return e.button===0&&(!t||t==="_self")&&!iD(e)}function Sw(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function lD(e,t){let r=Sw(e);return t&&t.forEach((s,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var h2=null;function cD(){if(h2===null)try{new FormData(document.createElement("form"),0),h2=!1}catch{h2=!0}return h2}var dD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function e_(e){return e!=null&&!dD.has(e)?(Rn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ov}"`),null):e}function uD(e,t){let r,s,a,i,o;if(aD(e)){let l=e.getAttribute("action");s=l?dd(l,t):null,r=e.getAttribute("method")||iv,a=e_(e.getAttribute("enctype"))||ov,i=new FormData(e)}else if(sD(e)||nD(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(s=c?dd(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||iv,a=e_(e.getAttribute("formenctype"))||e_(l.getAttribute("enctype"))||ov,i=new FormData(l,e),!cD()){let{name:d,type:u,value:p}=e;if(u==="image"){let x=d?`${d}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else d&&i.append(d,p)}}else{if(Ly(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=iv,s=null,a=ov,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:s,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function K4(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hD(e,t,r){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${r}`:t&&dd(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function fD(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function pD(e,t,r){let s=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await fD(i,r);return o.links?o.links():[]}return[]}));return yD(s.flat(1).filter(mD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ok(e,t,r,s,a,i){let o=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var u;return r[d].pathname!==c.pathname||((u=r[d].route.path)==null?void 0:u.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?t.filter((c,d)=>{var p;let u=s.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let x=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function xD(e,t,{includeHydrateFallback:r}={}){return gD(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function gD(e){return[...new Set(e)]}function vD(e){let t={},r=Object.keys(e).sort();for(let s of r)t[s]=e[s];return t}function yD(e,t){let r=new Set;return new Set(t),e.reduce((s,a)=>{let i=JSON.stringify(vD(a));return r.has(i)||(r.add(i),s.push({key:i,link:a})),s},[])}function ME(){let e=U.useContext(Jf);return K4(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function bD(){let e=U.useContext(tg);return K4(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Y4=U.createContext(void 0);Y4.displayName="FrameworkContext";function LE(){let e=U.useContext(Y4);return K4(e,"You must render this element inside a <HydratedRouter> element"),e}function _D(e,t){let r=U.useContext(Y4),[s,a]=U.useState(!1),[i,o]=U.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:p}=t,x=U.useRef(null);U.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=k=>{k.forEach(S=>{o(S.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return x.current&&_.observe(x.current),()=>{_.disconnect()}}},[e]),U.useEffect(()=>{if(s){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[s]);let f=()=>{a(!0)},y=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,x,{}]:[i,x,{onFocus:d1(l,f),onBlur:d1(c,y),onMouseEnter:d1(d,f),onMouseLeave:d1(u,y),onTouchStart:d1(p,f)}]:[!1,x,{}]}function d1(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function wD({page:e,...t}){let{router:r}=ME(),s=U.useMemo(()=>mh(r.routes,e,r.basename),[r.routes,e,r.basename]);return s?U.createElement(kD,{page:e,matches:s,...t}):null}function ND(e){let{manifest:t,routeModules:r}=LE(),[s,a]=U.useState([]);return U.useEffect(()=>{let i=!1;return pD(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),s}function kD({page:e,matches:t,...r}){let s=xd(),{manifest:a,routeModules:i}=LE(),{basename:o}=ME(),{loaderData:l,matches:c}=bD(),d=U.useMemo(()=>ok(e,t,c,a,s,"data"),[e,t,c,a,s]),u=U.useMemo(()=>ok(e,t,c,a,s,"assets"),[e,t,c,a,s]),p=U.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let y=new Set,v=!1;if(t.forEach(k=>{var M;let S=a.routes[k.route.id];!S||!S.hasLoader||(!d.some(T=>T.route.id===k.route.id)&&k.route.id in l&&((M=i[k.route.id])!=null&&M.shouldRevalidate)||S.hasClientLoader?v=!0:y.add(k.route.id))}),y.size===0)return[];let _=hD(e,o,"data");return v&&y.size>0&&_.searchParams.set("_routes",t.filter(k=>y.has(k.route.id)).map(k=>k.route.id).join(",")),[_.pathname+_.search]},[o,l,s,a,d,t,e,i]),x=U.useMemo(()=>xD(u,a),[u,a]),f=ND(u);return U.createElement(U.Fragment,null,p.map(y=>U.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),x.map(y=>U.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),f.map(({key:y,link:v})=>U.createElement("link",{key:y,nonce:r.nonce,...v})))}function jD(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var PE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PE&&(window.__reactRouterVersion="7.9.4")}catch{}function CD(e,t){return dF({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:AP({window:t==null?void 0:t.window}),hydrationData:SD(),routes:e,mapRouteProperties:ZF,hydrationRouteProperties:XF,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function SD(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:ED(e.errors)}),e}function ED(e){if(!e)return null;let t=Object.entries(e),r={};for(let[s,a]of t)if(a&&a.__type==="RouteErrorResponse")r[s]=new Pv(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let o=new i(a.message);o.stack="",r[s]=o}catch{}}if(r[s]==null){let i=new Error(a.message);i.stack="",r[s]=i}}else r[s]=a;return r}var FE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lr=U.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:p,...x},f){let{basename:y}=U.useContext(Qd),v=typeof d=="string"&&FE.test(d),_,k=!1;if(typeof d=="string"&&v&&(_=d,PE))try{let E=new URL(window.location.href),z=d.startsWith("//")?new URL(E.protocol+d):new URL(d),P=dd(z.pathname,y);z.origin===E.origin&&P!=null?d=P+z.search+z.hash:k=!0}catch{Rn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=FF(d,{relative:a}),[M,T,O]=_D(s,x),A=MD(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:p});function C(E){t&&t(E),E.defaultPrevented||A(E)}let N=U.createElement("a",{...x,...O,href:_||S,onClick:k||i?t:C,ref:jD(f,T),target:c,"data-discover":!v&&r==="render"?"true":void 0});return M&&!v?U.createElement(U.Fragment,null,N,U.createElement(wD,{page:S})):N});Lr.displayName="Link";var ed=U.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...d},u){let p=rg(o,{relative:d.relative}),x=xd(),f=U.useContext(tg),{navigator:y,basename:v}=U.useContext(Qd),_=f!=null&&ID(p)&&l===!0,k=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,S=x.pathname,M=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(S=S.toLowerCase(),M=M?M.toLowerCase():null,k=k.toLowerCase()),M&&v&&(M=dd(M,v)||M);const T=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let O=S===k||!a&&S.startsWith(k)&&S.charAt(T)==="/",A=M!=null&&(M===k||!a&&M.startsWith(k)&&M.charAt(k.length)==="/"),C={isActive:O,isPending:A,isTransitioning:_},N=O?t:void 0,E;typeof s=="function"?E=s(C):E=[s,O?"active":null,A?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let z=typeof i=="function"?i(C):i;return U.createElement(Lr,{...d,"aria-current":N,className:E,ref:u,style:z,to:o,viewTransition:l},typeof c=="function"?c(C):c)});ed.displayName="NavLink";var AD=U.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:a,state:i,method:o=iv,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:p,...x},f)=>{let y=FD(),v=DD(l,{relative:d}),_=o.toLowerCase()==="get"?"get":"post",k=typeof l=="string"&&FE.test(l),S=M=>{if(c&&c(M),M.defaultPrevented)return;M.preventDefault();let T=M.nativeEvent.submitter,O=(T==null?void 0:T.getAttribute("formmethod"))||o;y(T||M.currentTarget,{fetcherKey:t,method:O,navigate:r,replace:a,state:i,relative:d,preventScrollReset:u,viewTransition:p})};return U.createElement("form",{ref:f,method:_,action:v,onSubmit:s?c:S,...x,"data-discover":!k&&e==="render"?"true":void 0})});AD.displayName="Form";function TD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DE(e){let t=U.useContext(Jf);return Cs(t,TD(e)),t}function MD(e,{target:t,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=Vr(),c=xd(),d=rg(e,{relative:i});return U.useCallback(u=>{if(oD(u,t)){u.preventDefault();let p=r!==void 0?r:Th(c)===Th(d);l(e,{replace:p,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,d,r,s,t,e,a,i,o])}function Du(e){Rn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=U.useRef(Sw(e)),r=U.useRef(!1),s=xd(),a=U.useMemo(()=>lD(s.search,r.current?null:t.current),[s.search]),i=Vr(),o=U.useCallback((l,c)=>{const d=Sw(typeof l=="function"?l(new URLSearchParams(a)):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}var LD=0,PD=()=>`__${String(++LD)}__`;function FD(){let{router:e}=DE("useSubmit"),{basename:t}=U.useContext(Qd),r=qF();return U.useCallback(async(s,a={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=uD(s,t);if(a.navigate===!1){let u=a.fetcherKey||PD();await e.fetch(u,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function DD(e,{relative:t}={}){let{basename:r}=U.useContext(Qd),s=U.useContext(pd);Cs(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i={...rg(e||".",{relative:t})},o=xd();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let u=l.toString();i.search=u?`?${u}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:U0([r,i.pathname])),Th(i)}function ID(e,{relative:t}={}){let r=U.useContext(H4);Cs(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=DE("useViewTransitionState"),a=rg(e,{relative:t});if(!r.isTransitioning)return!1;let i=dd(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=dd(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Lv(a.pathname,o)!=null||Lv(a.pathname,i)!=null}var IE=uE();function RD(e){return U.createElement(QF,{flushSync:IE.flushSync,...e})}const OD="https://assets-system-sigma.vercel.app/api",Nm="access_token",t_="refresh_token";class BD{constructor(){zt(this,"accessToken",null);this.accessToken=localStorage.getItem(Nm)}setAccessToken(t){this.accessToken=t,t?localStorage.setItem(Nm,t):localStorage.removeItem(Nm)}getAccessToken(){return localStorage.getItem(Nm)||this.accessToken}setRefreshToken(t){t?localStorage.setItem(t_,t):localStorage.removeItem(t_)}getRefreshToken(){return localStorage.getItem(t_)}async request(t,r={}){const s={"Content-Type":"application/json"};r.headers&&Object.assign(s,r.headers);const a=localStorage.getItem(Nm)||this.accessToken;a&&!t.includes("/refresh")&&(s.Authorization=`Bearer ${a}`);const i=this.getCookie("csrf_token");i&&(r.method==="POST"||r.method==="PUT"||r.method==="DELETE")&&(s["X-CSRF-Token"]=i);const o=await fetch(`${OD}${t}`,{...r,headers:s,credentials:"include"});if(!o.ok){const l=await o.json().catch(()=>({detail:"An error occurred"}));throw new Error(l.detail||`HTTP ${o.status}`)}return o.json()}getCookie(t){var a;const s=`; ${document.cookie}`.split(`; ${t}=`);return s.length===2&&((a=s.pop())==null?void 0:a.split(";").shift())||null}async login(t){return this.request("/auth/login",{method:"POST",body:JSON.stringify(t)})}async verifyMFA(t){return this.request("/auth/2fa/verify",{method:"POST",body:JSON.stringify(t)})}async refresh(){return this.request("/auth/refresh",{method:"POST"})}async logout(){await this.request("/auth/logout",{method:"POST"}),this.accessToken=null,this.setRefreshToken(null),localStorage.removeItem(Nm)}async getCurrentUser(){return this.request("/auth/me")}}const Va=new BD;var jc=(e=>(e.ADMIN="admin",e.USER="user",e.VIEWER="viewer",e))(jc||{}),cr=(e=>(e.DEVICES="devices",e.LAND_REGISTER="land_register",e.BUILDINGS_REGISTER="buildings_register",e.MOTOR_VEHICLES_REGISTER="motor_vehicles_register",e.OFFICE_EQUIPMENT="office_equipment",e.FURNITURE_FITTINGS_EQUIPMENT="furniture_fittings_equipment",e.PLANT_MACHINERY="plant_machinery",e.PORTABLE_ATTRACTIVE_ITEMS="portable_attractive_items",e.ICT_ASSETS="ict_assets",e))(cr||{}),Vl=(e=>(e.NONE="none",e.READ="read",e.WRITE="write",e.ADMIN="admin",e))(Vl||{});const zD={},lk=e=>{let t;const r=new Set,s=(u,p)=>{const x=typeof u=="function"?u(t):u;if(!Object.is(x,t)){const f=t;t=p??(typeof x!="object"||x===null)?x:Object.assign({},t,x),r.forEach(y=>y(t,f))}},a=()=>t,c={setState:s,getState:a,getInitialState:()=>d,subscribe:u=>(r.add(u),()=>r.delete(u)),destroy:()=>{(zD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=t=e(s,a,c);return c},UD=e=>e?lk(e):lk;var r_={exports:{}},s_={},a_={exports:{}},n_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ck;function $D(){if(ck)return n_;ck=1;var e=eg();function t(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var r=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(p,x){var f=x(),y=s({inst:{value:f,getSnapshot:x}}),v=y[0].inst,_=y[1];return i(function(){v.value=f,v.getSnapshot=x,c(v)&&_({inst:v})},[p,f,x]),a(function(){return c(v)&&_({inst:v}),p(function(){c(v)&&_({inst:v})})},[p]),o(f),f}function c(p){var x=p.getSnapshot;p=p.value;try{var f=x();return!r(p,f)}catch{return!0}}function d(p,x){return x()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return n_.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,n_}var dk;function WD(){return dk||(dk=1,a_.exports=$D()),a_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uk;function HD(){if(uk)return s_;uk=1;var e=eg(),t=WD();function r(d,u){return d===u&&(d!==0||1/d===1/u)||d!==d&&u!==u}var s=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,c=e.useDebugValue;return s_.useSyncExternalStoreWithSelector=function(d,u,p,x,f){var y=i(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=l(function(){function k(A){if(!S){if(S=!0,M=A,A=x(A),f!==void 0&&v.hasValue){var C=v.value;if(f(C,A))return T=C}return T=A}if(C=T,s(M,A))return C;var N=x(A);return f!==void 0&&f(C,N)?(M=A,C):(M=A,T=N)}var S=!1,M,T,O=p===void 0?null:p;return[function(){return k(u())},O===null?void 0:function(){return k(O())}]},[u,p,x,f]);var _=a(d,y[0],y[1]);return o(function(){v.hasValue=!0,v.value=_},[_]),c(_),_},s_}var hk;function VD(){return hk||(hk=1,r_.exports=HD()),r_.exports}var GD=VD();const qD=Qx(GD),RE={},{useDebugValue:KD}=Fi,{useSyncExternalStoreWithSelector:YD}=qD;let fk=!1;const ZD=e=>e;function XD(e,t=ZD,r){(RE?"production":void 0)!=="production"&&r&&!fk&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),fk=!0);const s=YD(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return KD(s),s}const mk=e=>{(RE?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?UD(e):e,r=(s,a)=>XD(t,s,a);return Object.assign(r,t),r},rl=e=>e?mk(e):mk;function OE(e,t){return function(){return e.apply(t,arguments)}}const{toString:JD}=Object.prototype,{getPrototypeOf:Z4}=Object,{iterator:Py,toStringTag:BE}=Symbol,Fy=(e=>t=>{const r=JD.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),e0=e=>(e=e.toLowerCase(),t=>Fy(t)===e),Dy=e=>t=>typeof t===e,{isArray:Mp}=Array,hp=Dy("undefined");function sg(e){return e!==null&&!hp(e)&&e.constructor!==null&&!hp(e.constructor)&&Kl(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const zE=e0("ArrayBuffer");function QD(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&zE(e.buffer),t}const eI=Dy("string"),Kl=Dy("function"),UE=Dy("number"),ag=e=>e!==null&&typeof e=="object",tI=e=>e===!0||e===!1,lv=e=>{if(Fy(e)!=="object")return!1;const t=Z4(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(BE in e)&&!(Py in e)},rI=e=>{if(!ag(e)||sg(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},sI=e0("Date"),aI=e0("File"),nI=e0("Blob"),iI=e0("FileList"),oI=e=>ag(e)&&Kl(e.pipe),lI=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Kl(e.append)&&((t=Fy(e))==="formdata"||t==="object"&&Kl(e.toString)&&e.toString()==="[object FormData]"))},cI=e0("URLSearchParams"),[dI,uI,hI,fI]=["ReadableStream","Request","Response","Headers"].map(e0),mI=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ng(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),Mp(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(sg(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(s=0;s<o;s++)l=i[s],t.call(null,e[l],l,e)}}function $E(e,t){if(sg(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,a;for(;s-- >0;)if(a=r[s],t===a.toLowerCase())return a;return null}const kf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,WE=e=>!hp(e)&&e!==kf;function Ew(){const{caseless:e,skipUndefined:t}=WE(this)&&this||{},r={},s=(a,i)=>{const o=e&&$E(r,i)||i;lv(r[o])&&lv(a)?r[o]=Ew(r[o],a):lv(a)?r[o]=Ew({},a):Mp(a)?r[o]=a.slice():(!t||!hp(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&ng(arguments[a],s);return r}const pI=(e,t,r,{allOwnKeys:s}={})=>(ng(t,(a,i)=>{r&&Kl(a)?e[i]=OE(a,r):e[i]=a},{allOwnKeys:s}),e),xI=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gI=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},vI=(e,t,r,s)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Z4(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},yI=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},bI=e=>{if(!e)return null;if(Mp(e))return e;let t=e.length;if(!UE(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},_I=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Z4(Uint8Array)),wI=(e,t)=>{const s=(e&&e[Py]).call(e);let a;for(;(a=s.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},NI=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},kI=e0("HTMLFormElement"),jI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),pk=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),CI=e0("RegExp"),HE=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};ng(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(s[i]=o||a)}),Object.defineProperties(e,s)},SI=e=>{HE(e,(t,r)=>{if(Kl(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(Kl(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},EI=(e,t)=>{const r={},s=a=>{a.forEach(i=>{r[i]=!0})};return Mp(e)?s(e):s(String(e).split(t)),r},AI=()=>{},TI=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function MI(e){return!!(e&&Kl(e.append)&&e[BE]==="FormData"&&e[Py])}const LI=e=>{const t=new Array(10),r=(s,a)=>{if(ag(s)){if(t.indexOf(s)>=0)return;if(sg(s))return s;if(!("toJSON"in s)){t[a]=s;const i=Mp(s)?[]:{};return ng(s,(o,l)=>{const c=r(o,a+1);!hp(c)&&(i[l]=c)}),t[a]=void 0,i}}return s};return r(e,0)},PI=e0("AsyncFunction"),FI=e=>e&&(ag(e)||Kl(e))&&Kl(e.then)&&Kl(e.catch),VE=((e,t)=>e?setImmediate:t?((r,s)=>(kf.addEventListener("message",({source:a,data:i})=>{a===kf&&i===r&&s.length&&s.shift()()},!1),a=>{s.push(a),kf.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Kl(kf.postMessage)),DI=typeof queueMicrotask<"u"?queueMicrotask.bind(kf):typeof process<"u"&&process.nextTick||VE,II=e=>e!=null&&Kl(e[Py]),_t={isArray:Mp,isArrayBuffer:zE,isBuffer:sg,isFormData:lI,isArrayBufferView:QD,isString:eI,isNumber:UE,isBoolean:tI,isObject:ag,isPlainObject:lv,isEmptyObject:rI,isReadableStream:dI,isRequest:uI,isResponse:hI,isHeaders:fI,isUndefined:hp,isDate:sI,isFile:aI,isBlob:nI,isRegExp:CI,isFunction:Kl,isStream:oI,isURLSearchParams:cI,isTypedArray:_I,isFileList:iI,forEach:ng,merge:Ew,extend:pI,trim:mI,stripBOM:xI,inherits:gI,toFlatObject:vI,kindOf:Fy,kindOfTest:e0,endsWith:yI,toArray:bI,forEachEntry:wI,matchAll:NI,isHTMLForm:kI,hasOwnProperty:pk,hasOwnProp:pk,reduceDescriptors:HE,freezeMethods:SI,toObjectSet:EI,toCamelCase:jI,noop:AI,toFiniteNumber:TI,findKey:$E,global:kf,isContextDefined:WE,isSpecCompliantForm:MI,toJSONObject:LI,isAsyncFn:PI,isThenable:FI,setImmediate:VE,asap:DI,isIterable:II};function fs(e,t,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}_t.inherits(fs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_t.toJSONObject(this.config),code:this.code,status:this.status}}});const GE=fs.prototype,qE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qE[e]={value:e}});Object.defineProperties(fs,qE);Object.defineProperty(GE,"isAxiosError",{value:!0});fs.from=(e,t,r,s,a,i)=>{const o=Object.create(GE);_t.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return fs.call(o,l,c,r,s,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const RI=null;function Aw(e){return _t.isPlainObject(e)||_t.isArray(e)}function KE(e){return _t.endsWith(e,"[]")?e.slice(0,-2):e}function xk(e,t,r){return e?e.concat(t).map(function(a,i){return a=KE(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function OI(e){return _t.isArray(e)&&!e.some(Aw)}const BI=_t.toFlatObject(_t,{},null,function(t){return/^is[A-Z]/.test(t)});function Iy(e,t,r){if(!_t.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=_t.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,_){return!_t.isUndefined(_[v])});const s=r.metaTokens,a=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&_t.isSpecCompliantForm(t);if(!_t.isFunction(a))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(_t.isDate(y))return y.toISOString();if(_t.isBoolean(y))return y.toString();if(!c&&_t.isBlob(y))throw new fs("Blob is not supported. Use a Buffer instead.");return _t.isArrayBuffer(y)||_t.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,v,_){let k=y;if(y&&!_&&typeof y=="object"){if(_t.endsWith(v,"{}"))v=s?v:v.slice(0,-2),y=JSON.stringify(y);else if(_t.isArray(y)&&OI(y)||(_t.isFileList(y)||_t.endsWith(v,"[]"))&&(k=_t.toArray(y)))return v=KE(v),k.forEach(function(M,T){!(_t.isUndefined(M)||M===null)&&t.append(o===!0?xk([v],T,i):o===null?v:v+"[]",d(M))}),!1}return Aw(y)?!0:(t.append(xk(_,v,i),d(y)),!1)}const p=[],x=Object.assign(BI,{defaultVisitor:u,convertValue:d,isVisitable:Aw});function f(y,v){if(!_t.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));p.push(y),_t.forEach(y,function(k,S){(!(_t.isUndefined(k)||k===null)&&a.call(t,k,_t.isString(S)?S.trim():S,v,x))===!0&&f(k,v?v.concat(S):[S])}),p.pop()}}if(!_t.isObject(e))throw new TypeError("data must be an object");return f(e),t}function gk(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function X4(e,t){this._pairs=[],e&&Iy(e,this,t)}const YE=X4.prototype;YE.append=function(t,r){this._pairs.push([t,r])};YE.toString=function(t){const r=t?function(s){return t.call(this,s,gk)}:gk;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function zI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ZE(e,t,r){if(!t)return e;const s=r&&r.encode||zI;_t.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=_t.isURLSearchParams(t)?t.toString():new X4(t,r).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class vk{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){_t.forEach(this.handlers,function(s){s!==null&&t(s)})}}const XE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},UI=typeof URLSearchParams<"u"?URLSearchParams:X4,$I=typeof FormData<"u"?FormData:null,WI=typeof Blob<"u"?Blob:null,HI={isBrowser:!0,classes:{URLSearchParams:UI,FormData:$I,Blob:WI},protocols:["http","https","file","blob","url","data"]},J4=typeof window<"u"&&typeof document<"u",Tw=typeof navigator=="object"&&navigator||void 0,VI=J4&&(!Tw||["ReactNative","NativeScript","NS"].indexOf(Tw.product)<0),GI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qI=J4&&window.location.href||"http://localhost",KI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:J4,hasStandardBrowserEnv:VI,hasStandardBrowserWebWorkerEnv:GI,navigator:Tw,origin:qI},Symbol.toStringTag,{value:"Module"})),Ko={...KI,...HI};function YI(e,t){return Iy(e,new Ko.classes.URLSearchParams,{visitor:function(r,s,a,i){return Ko.isNode&&_t.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function ZI(e){return _t.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function XI(e){const t={},r=Object.keys(e);let s;const a=r.length;let i;for(s=0;s<a;s++)i=r[s],t[i]=e[i];return t}function JE(e){function t(r,s,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&_t.isArray(a)?a.length:o,c?(_t.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!_t.isObject(a[o]))&&(a[o]=[]),t(r,s,a[o],i)&&_t.isArray(a[o])&&(a[o]=XI(a[o])),!l)}if(_t.isFormData(e)&&_t.isFunction(e.entries)){const r={};return _t.forEachEntry(e,(s,a)=>{t(ZI(s),a,r,0)}),r}return null}function JI(e,t,r){if(_t.isString(e))try{return(t||JSON.parse)(e),_t.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const ig={transitional:XE,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,i=_t.isObject(t);if(i&&_t.isHTMLForm(t)&&(t=new FormData(t)),_t.isFormData(t))return a?JSON.stringify(JE(t)):t;if(_t.isArrayBuffer(t)||_t.isBuffer(t)||_t.isStream(t)||_t.isFile(t)||_t.isBlob(t)||_t.isReadableStream(t))return t;if(_t.isArrayBufferView(t))return t.buffer;if(_t.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return YI(t,this.formSerializer).toString();if((l=_t.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Iy(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),JI(t)):t}],transformResponse:[function(t){const r=this.transitional||ig.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(_t.isResponse(t)||_t.isReadableStream(t))return t;if(t&&_t.isString(t)&&(s&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?fs.from(l,fs.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ko.classes.FormData,Blob:Ko.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_t.forEach(["delete","get","head","post","put","patch"],e=>{ig.headers[e]={}});const QI=_t.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eR=e=>{const t={};let r,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!r||t[r]&&QI[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},yk=Symbol("internals");function u1(e){return e&&String(e).trim().toLowerCase()}function cv(e){return e===!1||e==null?e:_t.isArray(e)?e.map(cv):String(e)}function tR(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const rR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function i_(e,t,r,s,a){if(_t.isFunction(s))return s.call(this,t,r);if(a&&(t=r),!!_t.isString(t)){if(_t.isString(s))return t.indexOf(s)!==-1;if(_t.isRegExp(s))return s.test(t)}}function sR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function aR(e,t){const r=_t.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(a,i,o){return this[s].call(this,t,a,i,o)},configurable:!0})})}let Yl=class{constructor(t){t&&this.set(t)}set(t,r,s){const a=this;function i(l,c,d){const u=u1(c);if(!u)throw new Error("header name must be a non-empty string");const p=_t.findKey(a,u);(!p||a[p]===void 0||d===!0||d===void 0&&a[p]!==!1)&&(a[p||c]=cv(l))}const o=(l,c)=>_t.forEach(l,(d,u)=>i(d,u,c));if(_t.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(_t.isString(t)&&(t=t.trim())&&!rR(t))o(eR(t),r);else if(_t.isObject(t)&&_t.isIterable(t)){let l={},c,d;for(const u of t){if(!_t.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?_t.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,s);return this}get(t,r){if(t=u1(t),t){const s=_t.findKey(this,t);if(s){const a=this[s];if(!r)return a;if(r===!0)return tR(a);if(_t.isFunction(r))return r.call(this,a,s);if(_t.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=u1(t),t){const s=_t.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||i_(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let a=!1;function i(o){if(o=u1(o),o){const l=_t.findKey(s,o);l&&(!r||i_(s,s[l],l,r))&&(delete s[l],a=!0)}}return _t.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const i=r[s];(!t||i_(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,s={};return _t.forEach(this,(a,i)=>{const o=_t.findKey(s,i);if(o){r[o]=cv(a),delete r[i];return}const l=t?sR(i):String(i).trim();l!==i&&delete r[i],r[l]=cv(a),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return _t.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=t&&_t.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[yk]=this[yk]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=u1(o);s[l]||(aR(a,o),s[l]=!0)}return _t.isArray(t)?t.forEach(i):i(t),this}};Yl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_t.reduceDescriptors(Yl.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});_t.freezeMethods(Yl);function o_(e,t){const r=this||ig,s=t||r,a=Yl.from(s.headers);let i=s.data;return _t.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function QE(e){return!!(e&&e.__CANCEL__)}function Lp(e,t,r){fs.call(this,e??"canceled",fs.ERR_CANCELED,t,r),this.name="CanceledError"}_t.inherits(Lp,fs,{__CANCEL__:!0});function e7(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new fs("Request failed with status code "+r.status,[fs.ERR_BAD_REQUEST,fs.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function nR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function iR(e,t){e=e||10;const r=new Array(e),s=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=s[i];o||(o=d),r[a]=c,s[a]=d;let p=i,x=0;for(;p!==a;)x+=r[p++],p=p%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const f=u&&d-u;return f?Math.round(x*1e3/f):void 0}}function oR(e,t){let r=0,s=1e3/t,a,i;const o=(d,u=Date.now())=>{r=u,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),p=u-r;p>=s?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},s-p)))},()=>a&&o(a)]}const Dv=(e,t,r=3)=>{let s=0;const a=iR(50,250);return oR(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,d=a(c),u=o<=l;s=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(p)},r)},bk=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},_k=e=>(...t)=>_t.asap(()=>e(...t)),lR=Ko.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ko.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ko.origin),Ko.navigator&&/(msie|trident)/i.test(Ko.navigator.userAgent)):()=>!0,cR=Ko.hasStandardBrowserEnv?{write(e,t,r,s,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];_t.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),_t.isString(s)&&l.push(`path=${s}`),_t.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),_t.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function dR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function uR(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function t7(e,t,r){let s=!dR(t);return e&&(s||r==!1)?uR(e,t):t}const wk=e=>e instanceof Yl?{...e}:e;function Rf(e,t){t=t||{};const r={};function s(d,u,p,x){return _t.isPlainObject(d)&&_t.isPlainObject(u)?_t.merge.call({caseless:x},d,u):_t.isPlainObject(u)?_t.merge({},u):_t.isArray(u)?u.slice():u}function a(d,u,p,x){if(_t.isUndefined(u)){if(!_t.isUndefined(d))return s(void 0,d,p,x)}else return s(d,u,p,x)}function i(d,u){if(!_t.isUndefined(u))return s(void 0,u)}function o(d,u){if(_t.isUndefined(u)){if(!_t.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,p){if(p in t)return s(d,u);if(p in e)return s(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,p)=>a(wk(d),wk(u),p,!0)};return _t.forEach(Object.keys({...e,...t}),function(u){const p=c[u]||a,x=p(e[u],t[u],u);_t.isUndefined(x)&&p!==l||(r[u]=x)}),r}const r7=e=>{const t=Rf({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Yl.from(o),t.url=ZE(t7(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),_t.isFormData(r)){if(Ko.hasStandardBrowserEnv||Ko.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(_t.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,p])=>{d.includes(u.toLowerCase())&&o.set(u,p)})}}if(Ko.hasStandardBrowserEnv&&(s&&_t.isFunction(s)&&(s=s(t)),s||s!==!1&&lR(t.url))){const c=a&&i&&cR.read(i);c&&o.set(a,c)}return t},hR=typeof XMLHttpRequest<"u",fR=hR&&function(e){return new Promise(function(r,s){const a=r7(e);let i=a.data;const o=Yl.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,p,x,f,y;function v(){f&&f(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let _=new XMLHttpRequest;_.open(a.method.toUpperCase(),a.url,!0),_.timeout=a.timeout;function k(){if(!_)return;const M=Yl.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),O={data:!l||l==="text"||l==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:M,config:e,request:_};e7(function(C){r(C),v()},function(C){s(C),v()},O),_=null}"onloadend"in _?_.onloadend=k:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(k)},_.onabort=function(){_&&(s(new fs("Request aborted",fs.ECONNABORTED,e,_)),_=null)},_.onerror=function(T){const O=T&&T.message?T.message:"Network Error",A=new fs(O,fs.ERR_NETWORK,e,_);A.event=T||null,s(A),_=null},_.ontimeout=function(){let T=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const O=a.transitional||XE;a.timeoutErrorMessage&&(T=a.timeoutErrorMessage),s(new fs(T,O.clarifyTimeoutError?fs.ETIMEDOUT:fs.ECONNABORTED,e,_)),_=null},i===void 0&&o.setContentType(null),"setRequestHeader"in _&&_t.forEach(o.toJSON(),function(T,O){_.setRequestHeader(O,T)}),_t.isUndefined(a.withCredentials)||(_.withCredentials=!!a.withCredentials),l&&l!=="json"&&(_.responseType=a.responseType),d&&([x,y]=Dv(d,!0),_.addEventListener("progress",x)),c&&_.upload&&([p,f]=Dv(c),_.upload.addEventListener("progress",p),_.upload.addEventListener("loadend",f)),(a.cancelToken||a.signal)&&(u=M=>{_&&(s(!M||M.type?new Lp(null,e,_):M),_.abort(),_=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const S=nR(a.url);if(S&&Ko.protocols.indexOf(S)===-1){s(new fs("Unsupported protocol "+S+":",fs.ERR_BAD_REQUEST,e));return}_.send(i||null)})},mR=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof fs?u:new Lp(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new fs(`timeout ${t} of ms exceeded`,fs.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>_t.asap(l),c}},pR=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,a;for(;s<r;)a=s+t,yield e.slice(s,a),s=a},xR=async function*(e,t){for await(const r of gR(e))yield*pR(r,t)},gR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},Nk=(e,t,r,s)=>{const a=xR(e,t);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let p=u.byteLength;if(r){let x=i+=p;r(x)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},kk=64*1024,{isFunction:f2}=_t,vR=(({Request:e,Response:t})=>({Request:e,Response:t}))(_t.global),{ReadableStream:jk,TextEncoder:Ck}=_t.global,Sk=(e,...t)=>{try{return!!e(...t)}catch{return!1}},yR=e=>{e=_t.merge.call({skipUndefined:!0},vR,e);const{fetch:t,Request:r,Response:s}=e,a=t?f2(t):typeof fetch=="function",i=f2(r),o=f2(s);if(!a)return!1;const l=a&&f2(jk),c=a&&(typeof Ck=="function"?(y=>v=>y.encode(v))(new Ck):async y=>new Uint8Array(await new r(y).arrayBuffer())),d=i&&l&&Sk(()=>{let y=!1;const v=new r(Ko.origin,{body:new jk,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!v}),u=o&&l&&Sk(()=>_t.isReadableStream(new s("").body)),p={stream:u&&(y=>y.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!p[y]&&(p[y]=(v,_)=>{let k=v&&v[y];if(k)return k.call(v);throw new fs(`Response type '${y}' is not supported`,fs.ERR_NOT_SUPPORT,_)})});const x=async y=>{if(y==null)return 0;if(_t.isBlob(y))return y.size;if(_t.isSpecCompliantForm(y))return(await new r(Ko.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(_t.isArrayBufferView(y)||_t.isArrayBuffer(y))return y.byteLength;if(_t.isURLSearchParams(y)&&(y=y+""),_t.isString(y))return(await c(y)).byteLength},f=async(y,v)=>{const _=_t.toFiniteNumber(y.getContentLength());return _??x(v)};return async y=>{let{url:v,method:_,data:k,signal:S,cancelToken:M,timeout:T,onDownloadProgress:O,onUploadProgress:A,responseType:C,headers:N,withCredentials:E="same-origin",fetchOptions:z}=r7(y),P=t||fetch;C=C?(C+"").toLowerCase():"text";let I=mR([S,M&&M.toAbortSignal()],T),W=null;const Z=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let Y;try{if(A&&d&&_!=="get"&&_!=="head"&&(Y=await f(N,k))!==0){let ee=new r(v,{method:"POST",body:k,duplex:"half"}),B;if(_t.isFormData(k)&&(B=ee.headers.get("content-type"))&&N.setContentType(B),ee.body){const[q,Q]=bk(Y,Dv(_k(A)));k=Nk(ee.body,kk,q,Q)}}_t.isString(E)||(E=E?"include":"omit");const te=i&&"credentials"in r.prototype,ie={...z,signal:I,method:_.toUpperCase(),headers:N.normalize().toJSON(),body:k,duplex:"half",credentials:te?E:void 0};W=i&&new r(v,ie);let le=await(i?P(W,z):P(v,ie));const se=u&&(C==="stream"||C==="response");if(u&&(O||se&&Z)){const ee={};["status","statusText","headers"].forEach(K=>{ee[K]=le[K]});const B=_t.toFiniteNumber(le.headers.get("content-length")),[q,Q]=O&&bk(B,Dv(_k(O),!0))||[];le=new s(Nk(le.body,kk,q,()=>{Q&&Q(),Z&&Z()}),ee)}C=C||"text";let oe=await p[_t.findKey(p,C)||"text"](le,y);return!se&&Z&&Z(),await new Promise((ee,B)=>{e7(ee,B,{data:oe,headers:Yl.from(le.headers),status:le.status,statusText:le.statusText,config:y,request:W})})}catch(te){throw Z&&Z(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new fs("Network Error",fs.ERR_NETWORK,y,W),{cause:te.cause||te}):fs.from(te,te&&te.code,y,W)}}},bR=new Map,s7=e=>{let t=e&&e.env||{};const{fetch:r,Request:s,Response:a}=t,i=[s,a,r];let o=i.length,l=o,c,d,u=bR;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:yR(t)),u=d;return d};s7();const Q4={http:RI,xhr:fR,fetch:{get:s7}};_t.forEach(Q4,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ek=e=>`- ${e}`,_R=e=>_t.isFunction(e)||e===null||e===!1;function wR(e,t){e=_t.isArray(e)?e:[e];const{length:r}=e;let s,a;const i={};for(let o=0;o<r;o++){s=e[o];let l;if(a=s,!_R(s)&&(a=Q4[(l=String(s)).toLowerCase()],a===void 0))throw new fs(`Unknown adapter '${l}'`);if(a&&(_t.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(Ek).join(`
`):" "+Ek(o[0]):"as no adapter specified";throw new fs("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const a7={getAdapter:wR,adapters:Q4};function l_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Lp(null,e)}function Ak(e){return l_(e),e.headers=Yl.from(e.headers),e.data=o_.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),a7.getAdapter(e.adapter||ig.adapter,e)(e).then(function(s){return l_(e),s.data=o_.call(e,e.transformResponse,s),s.headers=Yl.from(s.headers),s},function(s){return QE(s)||(l_(e),s&&s.response&&(s.response.data=o_.call(e,e.transformResponse,s.response),s.response.headers=Yl.from(s.response.headers))),Promise.reject(s)})}const n7="1.13.1",Ry={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ry[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Tk={};Ry.transitional=function(t,r,s){function a(i,o){return"[Axios v"+n7+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(t===!1)throw new fs(a(o," has been removed"+(r?" in "+r:"")),fs.ERR_DEPRECATED);return r&&!Tk[o]&&(Tk[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};Ry.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function NR(e,t,r){if(typeof e!="object")throw new fs("options must be an object",fs.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const i=s[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new fs("option "+i+" must be "+c,fs.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new fs("Unknown option "+i,fs.ERR_BAD_OPTION)}}const dv={assertOptions:NR,validators:Ry},w0=dv.validators;let Ef=class{constructor(t){this.defaults=t||{},this.interceptors={request:new vk,response:new vk}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Rf(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:i}=r;s!==void 0&&dv.assertOptions(s,{silentJSONParsing:w0.transitional(w0.boolean),forcedJSONParsing:w0.transitional(w0.boolean),clarifyTimeoutError:w0.transitional(w0.boolean)},!1),a!=null&&(_t.isFunction(a)?r.paramsSerializer={serialize:a}:dv.assertOptions(a,{encode:w0.function,serialize:w0.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),dv.assertOptions(r,{baseUrl:w0.spelling("baseURL"),withXsrfToken:w0.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&_t.merge(i.common,i[r.method]);i&&_t.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=Yl.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let u,p=0,x;if(!c){const y=[Ak.bind(this),void 0];for(y.unshift(...l),y.push(...d),x=y.length,u=Promise.resolve(r);p<x;)u=u.then(y[p++],y[p++]);return u}x=l.length;let f=r;for(;p<x;){const y=l[p++],v=l[p++];try{f=y(f)}catch(_){v.call(this,_);break}}try{u=Ak.call(this,f)}catch(y){return Promise.reject(y)}for(p=0,x=d.length;p<x;)u=u.then(d[p++],d[p++]);return u}getUri(t){t=Rf(this.defaults,t);const r=t7(t.baseURL,t.url,t.allowAbsoluteUrls);return ZE(r,t.params,t.paramsSerializer)}};_t.forEach(["delete","get","head","options"],function(t){Ef.prototype[t]=function(r,s){return this.request(Rf(s||{},{method:t,url:r,data:(s||{}).data}))}});_t.forEach(["post","put","patch"],function(t){function r(s){return function(i,o,l){return this.request(Rf(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ef.prototype[t]=r(),Ef.prototype[t+"Form"]=r(!0)});let kR=class i7{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,l){s.reason||(s.reason=new Lp(i,o,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new i7(function(a){t=a}),cancel:t}}};function jR(e){return function(r){return e.apply(null,r)}}function CR(e){return _t.isObject(e)&&e.isAxiosError===!0}const Mw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Mw).forEach(([e,t])=>{Mw[t]=e});function o7(e){const t=new Ef(e),r=OE(Ef.prototype.request,t);return _t.extend(r,Ef.prototype,t,{allOwnKeys:!0}),_t.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return o7(Rf(e,a))},r}const Pt=o7(ig);Pt.Axios=Ef;Pt.CanceledError=Lp;Pt.CancelToken=kR;Pt.isCancel=QE;Pt.VERSION=n7;Pt.toFormData=Iy;Pt.AxiosError=fs;Pt.Cancel=Pt.CanceledError;Pt.all=function(t){return Promise.all(t)};Pt.spread=jR;Pt.isAxiosError=CR;Pt.mergeConfig=Rf;Pt.AxiosHeaders=Yl;Pt.formToJSON=e=>JE(_t.isHTMLForm(e)?new FormData(e):e);Pt.getAdapter=a7.getAdapter;Pt.HttpStatusCode=Mw;Pt.default=Pt;const{Axios:kpe,AxiosError:jpe,CanceledError:Cpe,isCancel:Spe,CancelToken:Epe,VERSION:Ape,all:Tpe,Cancel:Mpe,isAxiosError:Lpe,spread:Ppe,toFormData:Fpe,AxiosHeaders:Dpe,HttpStatusCode:Ipe,formToJSON:Rpe,getAdapter:Ope,mergeConfig:Bpe}=Pt,Bt="https://assets-system-sigma.vercel.app/api",c_="dd MMM yyyy, HH:mm:ss";let Lw=null;const Mk=e=>{Lw=e},SR=e=>{var s;const r=`; ${document.cookie}`.split(`; ${e}=`);return r.length===2?((s=r.pop())==null?void 0:s.split(";").shift())??null:null},ps=Pt.create({baseURL:Bt,withCredentials:!0,headers:{"Content-Type":"application/json"}});ps.interceptors.request.use(e=>{var a;Lw&&(e.headers.Authorization=`Bearer ${Lw}`);const t=SR("csrf_token"),r=(a=e.method)==null?void 0:a.toUpperCase();t&&["POST","PUT","DELETE","PATCH"].includes(r||"")&&(e.headers["X-CSRF-Token"]=t);const{sessionMetadata:s}=ra.getState();return s!=null&&s.backendSessionId&&(e.headers["X-Session-Id"]=s.backendSessionId),e},e=>Promise.reject(e));ps.interceptors.response.use(e=>e,async e=>{var r,s,a,i,o,l,c,d,u,p,x,f,y,v;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if(sessionStorage.getItem("LOGGED_OUT")==="true")return Promise.reject(e);t._retry=!0;try{const{sessionMetadata:k}=ra.getState(),S=k==null?void 0:k.backendSessionId,M=await Pt.post(`${Bt}/auth/refresh`,{},{withCredentials:!0,headers:S?{"X-Session-Id":S}:{}}),T=M.headers.authorization,O=T!=null&&T.startsWith("Bearer ")?T.slice(7):null,A=(s=M.data)==null?void 0:s.access_token,C=O??A;if(!C)throw new Error("Refresh did not return a token");return Mk(C),t.headers.Authorization=`Bearer ${C}`,ps(t)}catch(k){console.error("[Axios] Refresh token request failed:",{status:(a=k==null?void 0:k.response)==null?void 0:a.status,statusText:(i=k==null?void 0:k.response)==null?void 0:i.statusText,data:(o=k==null?void 0:k.response)==null?void 0:o.data,message:k==null?void 0:k.message,code:k==null?void 0:k.code}),sessionStorage.removeItem("LOGGED_OUT"),(((d=(c=(l=k==null?void 0:k.response)==null?void 0:l.data)==null?void 0:c.detail)==null?void 0:d.includes("session"))||((x=(p=(u=k==null?void 0:k.response)==null?void 0:u.data)==null?void 0:p.detail)==null?void 0:x.includes("terminated")))&&(console.warn("[Axios] Session was terminated by admin  logging out"),sessionStorage.setItem("SESSION_TERMINATED_BY_ADMIN","true"));try{const{logout:M}=ra.getState();if(typeof M=="function"){const T=((y=(f=k==null?void 0:k.response)==null?void 0:f.data)==null?void 0:y.detail)||"backend session expired";console.warn("[Axios] Session expired (refresh failed)  executing logout. Reason:",T),M()}else console.error("[Axios] Logout function not available in store state")}catch(M){console.error("[Axios] Error calling logout after refresh failure:",M)}return Mk(null),Promise.reject(k)}}return((v=e.response)==null?void 0:v.status)===403&&console.error("Access denied:",e.response.data),Promise.reject(e)});const E0={SESSION_STORAGE_KEY:"auth_session",REMEMBER_ME_STORAGE_KEY:"remember_me_token"};class za{static generateSessionId(){const t=new Uint8Array(32);return crypto.getRandomValues(t),Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}static generateDeviceFingerprint(){const t={userAgent:navigator.userAgent,language:navigator.language};return btoa(JSON.stringify(t))}static validateDeviceFingerprint(t){const r=this.generateDeviceFingerprint(),s=t===r;return s||console.warn("[SessionManager] Device fingerprint changed - potential device/browser change detected"),s}static createSessionMetadata(t,r=30){return{sessionId:this.generateSessionId(),createdAt:Date.now(),lastActivityAt:Date.now(),rememberMe:t,deviceFingerprint:this.generateDeviceFingerprint(),userAgent:navigator.userAgent,sessionTimeoutMinutes:r}}static storeSessionMetadata(t){sessionStorage.setItem(E0.SESSION_STORAGE_KEY,JSON.stringify(t)),t.rememberMe?localStorage.setItem(E0.SESSION_STORAGE_KEY,JSON.stringify(t)):localStorage.removeItem(E0.SESSION_STORAGE_KEY)}static getSessionMetadata(){let t=sessionStorage.getItem(E0.SESSION_STORAGE_KEY);if(t||(t=localStorage.getItem(E0.SESSION_STORAGE_KEY)),t)try{return JSON.parse(t)}catch{return null}return null}static clearSessionData(){sessionStorage.removeItem(E0.SESSION_STORAGE_KEY),sessionStorage.removeItem(E0.REMEMBER_ME_STORAGE_KEY),localStorage.removeItem(E0.SESSION_STORAGE_KEY),localStorage.removeItem(E0.REMEMBER_ME_STORAGE_KEY)}static updateLastActivity(){const t=this.getSessionMetadata();if(t){const r=t.lastActivityAt;t.lastActivityAt=Date.now(),this.storeSessionMetadata(t),Date.now()-r>5e3&&console.log("[SessionManager] Activity updated (5+ seconds since last update)")}}static getSessionTimeoutMs(t){return t.sessionTimeoutMinutes*60*1e3}static isSessionExpired(t){const r=Date.now()-t.lastActivityAt,s=t.rememberMe?1440*60*1e3:this.getSessionTimeoutMs(t);return r>s}}const ra=rl()((e,t)=>({user:null,isAuthenticated:!1,isAdmin:!1,userPermissions:null,csrfToken:null,isLoading:!1,initialized:!1,sessionMetadata:null,rememberMeEnabled:!1,login:async(r,s=!1)=>{e({isLoading:!0});try{const a=za.createSessionMetadata(s,0),i=await ps.post(`${Bt}/auth/login`,r,{withCredentials:!0});if(i.data.requires2FA)throw sessionStorage.setItem("twoFAEmail",i.data.email),sessionStorage.setItem("temp_session_metadata",JSON.stringify(a)),new Error("2FA_REQUIRED");const{user:o,csrf_token:l,session_metadata:c}=i.data,d=o.role===jc.ADMIN,u=o.session_timeout??30;a.sessionTimeoutMinutes=u,console.log("[Login] Session timeout set to",u,"minutes from backend"),c!=null&&c.session_id&&(a.backendSessionId=c==null?void 0:c.session_id,console.log("[AuthStore] Session ID received:",c.session_id)),i.data.session_id?(a.backendSessionId=i.data.session_id,console.log("[Login] Backend session_id received and stored:",i.data.session_id)):console.warn("[Login] No session_id in backend response"),e({user:o,isAuthenticated:!0,isAdmin:d,csrfToken:l,isLoading:!1,sessionMetadata:a,rememberMeEnabled:s,initialized:!0}),za.storeSessionMetadata(a),l&&(ps.defaults.headers.common["X-CSRF-Token"]=l),await t().loadUserPermissions()}catch(a){throw e({isLoading:!1}),a}},logout:async()=>{try{const{csrfToken:r,sessionMetadata:s}=t(),a={};r&&(a["X-CSRF-Token"]=r),s!=null&&s.backendSessionId&&(a["X-Session-Id"]=s.backendSessionId),await ps.post(`${Bt}/auth/logout`,{},{withCredentials:!0,headers:a})}catch{}sessionStorage.removeItem("auth_session"),localStorage.setItem("SESSION_INVALIDATED","1"),setTimeout(()=>localStorage.removeItem("SESSION_INVALIDATED"),100),sessionStorage.setItem("LOGGED_OUT","1"),za.clearSessionData(),delete ps.defaults.headers.common["X-CSRF-Token"],e({user:null,isAuthenticated:!1,isAdmin:!1,csrfToken:null,userPermissions:null,sessionMetadata:null,initialized:!0}),window.location.href="/login"},validateSession:async()=>{const r=za.getSessionMetadata();return r&&za.isSessionExpired(r)?(await t().logout(),!1):!0},rotateTokens:async()=>{try{if(!await t().validateSession())return!1;const s=await ps.post(`${Bt}/auth/refresh`,{},{withCredentials:!0}),{csrf_token:a}=s.data;return e({csrfToken:a}),a&&(ps.defaults.headers.common["X-CSRF-Token"]=a),za.updateLastActivity(),!0}catch{return!1}},extendSession:async()=>{const r=za.getSessionMetadata();r&&r.rememberMe&&(r.lastActivityAt=Date.now(),za.storeSessionMetadata(r),e({sessionMetadata:r}))},clearRememberMe:()=>{sessionStorage.removeItem(E0.REMEMBER_ME_STORAGE_KEY),e({rememberMeEnabled:!1})},checkAuthStatus:async()=>{var s;if(sessionStorage.getItem("LOGGED_OUT")==="1")return!1;e({isLoading:!0});const r=()=>{delete ps.defaults.headers.common["X-CSRF-Token"],za.clearSessionData(),sessionStorage.removeItem("LOGGED_OUT"),e({user:null,isAuthenticated:!1,isAdmin:!1,userPermissions:null,csrfToken:null,sessionMetadata:null,rememberMeEnabled:!1,isLoading:!1,initialized:!0})};try{if(!await t().validateSession())return r(),!1}catch{return r(),!1}try{const i=(await ps.get(`${Bt}/auth/me`,{withCredentials:!0})).data,o=(i==null?void 0:i.role)===jc.ADMIN,l=za.getSessionMetadata();return l&&i.session_timeout&&(l.sessionTimeoutMinutes=i.session_timeout??30,za.storeSessionMetadata(l),console.log("[checkAuthStatus] Updated session timeout to",l.sessionTimeoutMinutes,"minutes")),e({user:i,isAuthenticated:!0,isAdmin:o,isLoading:!1,initialized:!0,sessionMetadata:l}),i!=null&&i.csrf_token&&(ps.defaults.headers.common["X-CSRF-Token"]=i.csrf_token,e({csrfToken:i.csrf_token})),za.updateLastActivity(),await t().loadUserPermissions(),!0}catch(a){if(((s=a==null?void 0:a.response)==null?void 0:s.status)===401&&!sessionStorage.getItem("LOGGED_OUT")&&await t().refreshToken())try{const l=(await ps.get(`${Bt}/auth/me`,{withCredentials:!0})).data,c=(l==null?void 0:l.role)===jc.ADMIN,d=za.getSessionMetadata();return d&&l.session_timeout&&(d.sessionTimeoutMinutes=l.session_timeout??30,za.storeSessionMetadata(d),console.log("[checkAuthStatus-refresh] Updated session timeout to",d.sessionTimeoutMinutes,"minutes")),e({user:l,isAuthenticated:!0,isAdmin:c,isLoading:!1,initialized:!0,sessionMetadata:d}),za.updateLastActivity(),await t().loadUserPermissions(),!0}catch{return r(),!1}return r(),!1}},refreshToken:async()=>{var r;try{const s=await ps.post(`${Bt}/auth/refresh`,{},{withCredentials:!0}),{csrf_token:a}=s.data;e({csrfToken:a}),a&&(ps.defaults.headers.common["X-CSRF-Token"]=a),za.updateLastActivity();const i=za.getSessionMetadata();if(!(i!=null&&i.backendSessionId))console.warn("No backend session ID, skipping validation");else try{const d=await ps.post(`${Bt}/sessions/validate`,{},{headers:{"X-Session-Id":i.backendSessionId},withCredentials:!0}),{is_valid:u,is_expired:p,requires_logout:x}=d.data;if(!u||p||x)return console.log("[refreshToken] Backend session invalid  forcing logout"),await t().logout(),!1}catch(d){if(((r=d.response)==null?void 0:r.status)===401)return console.log("[refreshToken] Session validation failed  logout"),await t().logout(),!1}const l=(await ps.get(`${Bt}/auth/me`,{withCredentials:!0})).data,c=(l==null?void 0:l.role)===jc.ADMIN;return e({user:l,isAuthenticated:!0,isAdmin:c,initialized:!0}),await t().loadUserPermissions(),!0}catch(s){return console.error("[refreshToken] Failed:",s),!1}},loadUserPermissions:async()=>{try{const{csrfToken:r}=t(),s=await ps.get(`${Bt}/permissions/me`,{withCredentials:!0,headers:r?{"X-CSRF-Token":r}:{}});e({userPermissions:s.data.permissions})}catch{}},getCsrfToken:()=>t().csrfToken,setInitialized:r=>{e({initialized:r})},checkAuth:async()=>{var r;try{if(sessionStorage.getItem("LOGGED_OUT")==="1")return!1;e({isLoading:!0});const s=()=>{delete ps.defaults.headers.common["X-CSRF-Token"],za.clearSessionData(),sessionStorage.removeItem("LOGGED_OUT"),e({user:null,isAuthenticated:!1,isAdmin:!1,userPermissions:null,csrfToken:null,sessionMetadata:null,rememberMeEnabled:!1,isLoading:!1,initialized:!0})};try{if(!await t().validateSession())return s(),!1}catch{return s(),!1}try{const i=(await ps.get(`${Bt}/auth/me`,{withCredentials:!0})).data,o=(i==null?void 0:i.role)===jc.ADMIN,l=za.getSessionMetadata();return l&&i.session_timeout&&(l.sessionTimeoutMinutes=i.session_timeout??30,za.storeSessionMetadata(l)),e({user:i,isAuthenticated:!0,isAdmin:o,isLoading:!1,initialized:!0,sessionMetadata:l}),i!=null&&i.csrf_token&&(ps.defaults.headers.common["X-CSRF-Token"]=i.csrf_token,e({csrfToken:i.csrf_token})),za.updateLastActivity(),await t().loadUserPermissions(),!0}catch(a){if(((r=a==null?void 0:a.response)==null?void 0:r.status)===401&&!sessionStorage.getItem("LOGGED_OUT")&&await t().refreshToken())try{const l=(await ps.get(`${Bt}/auth/me`,{withCredentials:!0})).data,c=(l==null?void 0:l.role)===jc.ADMIN,d=za.getSessionMetadata();return d&&l.session_timeout&&(d.sessionTimeoutMinutes=l.session_timeout??30,za.storeSessionMetadata(d)),e({user:l,isAuthenticated:!0,isAdmin:c,isLoading:!1,initialized:!0,sessionMetadata:d}),za.updateLastActivity(),await t().loadUserPermissions(),!0}catch{return s(),!1}return s(),!1}}catch{return!1}}}));ps.interceptors.response.use(e=>(za.updateLastActivity(),e),async e=>{var r,s,a,i,o,l,c;const t=e.config;return((r=e.response)==null?void 0:r.status)===401&&!t._retry&&((i=(a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)!=null&&i.includes("session")||(c=(l=(o=e.response)==null?void 0:o.data)==null?void 0:l.message)!=null&&c.includes("expired"))&&(console.log("[AxiosInterceptor] Backend session expired - forcing logout"),await ra.getState().logout()),Promise.reject(e)});["mousemove","keypress","click","scroll","touchstart"].forEach(e=>{document.addEventListener(e,()=>{za.updateLastActivity()},{passive:!0})});const l7=U.createContext(void 0);function ER({children:e}){const[t,r]=U.useState(null),[s,a]=U.useState(!0),{loadUserPermissions:i}=ra();U.useEffect(()=>{o()},[]);const o=async()=>{var p,x;try{const f=await Va.getCurrentUser();r(f),ra.setState({user:f,isAuthenticated:!0,isAdmin:((p=f==null?void 0:f.role)==null?void 0:p.toLowerCase())===jc.ADMIN}),await i()}catch{try{if(Va.getRefreshToken()){const y=await Va.refresh();Va.setAccessToken(y.access_token),y.refresh_token&&Va.setRefreshToken(y.refresh_token);const v=await Va.getCurrentUser();r(v),ra.setState({user:v,isAuthenticated:!0,isAdmin:((x=v==null?void 0:v.role)==null?void 0:x.toLowerCase())===jc.ADMIN}),await i()}else r(null),ra.setState({user:null,isAuthenticated:!1,isAdmin:!1})}catch{r(null),ra.setState({user:null,isAuthenticated:!1,isAdmin:!1}),Va.setAccessToken(null),Va.setRefreshToken(null)}}finally{a(!1)}},l=async p=>{var y;const x=await Va.login(p);if(x.requires2FA)return{requiresMFA:!0,email:x.email};Va.setAccessToken(x.access_token||""),x.refresh_token&&Va.setRefreshToken(x.refresh_token);const f=await Va.getCurrentUser();return r(f),ra.setState({user:f,isAuthenticated:!0,isAdmin:((y=f==null?void 0:f.role)==null?void 0:y.toLowerCase())===jc.ADMIN}),await i(),{}},c=async p=>{var y;const x=await Va.verifyMFA(p);Va.setAccessToken(x.access_token),x.refresh_token&&Va.setRefreshToken(x.refresh_token);const f=await Va.getCurrentUser();r(f),ra.setState({user:f,isAuthenticated:!0,isAdmin:((y=f==null?void 0:f.role)==null?void 0:y.toLowerCase())===jc.ADMIN}),await i()},d=async()=>{try{await Va.logout()}catch{console.error("Logout error occurred")}finally{r(null),Va.setAccessToken(null),Va.setRefreshToken(null),ra.setState({user:null,isAuthenticated:!1,isAdmin:!1})}},u=async()=>{var p;try{const x=await Va.refresh();Va.setAccessToken(x.access_token),x.refresh_token&&Va.setRefreshToken(x.refresh_token);const f=await Va.getCurrentUser();r(f),ra.setState({user:f,isAuthenticated:!0,isAdmin:((p=f==null?void 0:f.role)==null?void 0:p.toLowerCase())===jc.ADMIN}),await i()}catch{throw r(null),Va.setAccessToken(null),Va.setRefreshToken(null),ra.setState({user:null,isAuthenticated:!1,isAdmin:!1}),new Error("Token refresh failed")}};return n.jsx(l7.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:s,login:l,verifyMFA:c,logout:d,refreshToken:u},children:e})}const e5=rl((e,t)=>({theme:"light",setTheme:r=>{e({theme:r}),localStorage.setItem("theme-preference",r);const s=document.documentElement;r==="dark"?(s.classList.add("dark"),s.setAttribute("data-theme","dark")):(s.classList.remove("dark"),s.setAttribute("data-theme","light"))},toggleTheme:()=>{const s=t().theme==="light"?"dark":"light";t().setTheme(s)},initializeTheme:()=>{const s=localStorage.getItem("theme-preference")||"light";e({theme:s});const a=document.documentElement;s==="dark"?(a.classList.add("dark"),a.setAttribute("data-theme","dark")):(a.classList.remove("dark"),a.setAttribute("data-theme","light"))}}));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TR=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,s)=>s?s.toUpperCase():r.toLowerCase()),Lk=e=>{const t=TR(e);return t.charAt(0).toUpperCase()+t.slice(1)},c7=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim(),MR=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=U.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>U.createElement("svg",{ref:c,...LR,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:c7("lucide",a),...!i&&!MR(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>U.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=(e,t)=>{const r=U.forwardRef(({className:s,...a},i)=>U.createElement(PR,{ref:i,iconNode:t,className:c7(`lucide-${AR(Lk(e))}`,`lucide-${e}`,s),...a}));return r.displayName=Lk(e),r};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],$0=Zt("activity",FR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Pa=Zt("arrow-left",DR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],W0=Zt("arrow-right-left",IR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Pp=Zt("arrow-right",RR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Af=Zt("bell",OR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M12 9v1.258",key:"iwpddn"}],["path",{d:"M16 3v5.46",key:"d7ew98"}],["path",{d:"M21 9.118V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h5.75",key:"137t5x"}],["path",{d:"M22 17.5c0 2.499-1.75 3.749-3.83 4.474a.5.5 0 0 1-.335-.005c-2.085-.72-3.835-1.97-3.835-4.47V14a.5.5 0 0 1 .5-.499c1 0 2.25-.6 3.12-1.36a.6.6 0 0 1 .76-.001c.875.765 2.12 1.36 3.12 1.36a.5.5 0 0 1 .5.5z",key:"16j3tf"}],["path",{d:"M3 15h7",key:"1qldh6"}],["path",{d:"M3 9h12.142",key:"1yjd6m"}],["path",{d:"M8 15v6",key:"1stoo3"}],["path",{d:"M8 3v6",key:"vlvjmk"}]],zR=Zt("brick-wall-shield",BR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],yx=Zt("building-2",UR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Qo=Zt("building",$R);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Of=Zt("calculator",WR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],VR=Zt("calendar-check",HR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tu=Zt("calendar",GR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],fp=Zt("camera",qR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Mh=Zt("car",KR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Pw=Zt("chart-column",YR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],d7=Zt("chart-no-axes-column",ZR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],u7=Zt("check-check",XR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Lh=Zt("check",JR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],q0=Zt("chevron-down",QR);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],tO=Zt("chevron-left",eO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Dr=Zt("chevron-right",rO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Oy=Zt("chevron-up",sO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ei=Zt("circle-alert",aO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],la=Zt("circle-check-big",nO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Fw=Zt("circle-check",iO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],mp=Zt("circle-x",oO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Pk=Zt("clipboard-list",lO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],to=Zt("clock",cO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]],bx=Zt("computer",dO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Fk=Zt("copy",uO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Xm=Zt("database",hO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Xd=Zt("download",fO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Iv=Zt("eye-off",mO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xl=Zt("eye",pO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],h7=Zt("file-spreadsheet",xO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ya=Zt("file-text",gO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],Dw=Zt("file",vO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Lc=Zt("folder-open",yO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Nn=Zt("funnel",bO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],_x=Zt("gift",_O);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Iw=Zt("globe",wO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],U1=Zt("hard-drive",NO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Hd=Zt("history",kO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ln=Zt("house",jO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],og=Zt("image",CO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Mu=Zt("info",SO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Rw=Zt("key",EO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],t5=Zt("landmark",AO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Jm=Zt("loader-circle",TO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Ch=Zt("loader",MO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],PO=Zt("lock-open",LO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Jl=Zt("lock",FO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Rv=Zt("log-out",DO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],lg=Zt("mail",IO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ea=Zt("map-pin",RO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Dk=Zt("map",OO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],zO=Zt("menu",BO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],d_=Zt("message-circle",UO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M5 12h14",key:"1ays0h"}]],WO=Zt("minus",$O);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],pp=Zt("monitor",HO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],GO=Zt("moon",VO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],H0=Zt("package",qO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],r5=Zt("pen-line",KO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ZO=Zt("pen",YO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],f7=Zt("phone",XO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ri=Zt("plus",JO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],xp=Zt("printer",QO);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],tB=Zt("qr-code",eB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Za=Zt("refresh-cw",rB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],m7=Zt("rotate-ccw",sB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bi=Zt("save",aB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Lu=Zt("search",nB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],oB=Zt("send",iB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],cB=Zt("server",lB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eo=Zt("settings",dB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hB=Zt("shield-check",uB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],La=Zt("shield",fB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],p7=Zt("smartphone",mB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]],Vd=Zt("sofa",pB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Iu=Zt("square-pen",xB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],vB=Zt("sun",gB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],bB=Zt("table",yB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ud=Zt("trash-2",_B);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],qs=Zt("trending-down",wB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Fs=Zt("trending-up",NB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],aa=Zt("triangle-alert",kB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],u_=Zt("truck",jB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],By=Zt("upload",CB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$1=Zt("user-check",SB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ik=Zt("user-plus",EB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Ow=Zt("user-x",AB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_i=Zt("user",TB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Cu=Zt("users",MB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],PB=Zt("wrench",LB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bs=Zt("x",FB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],IB=Zt("zap",DB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],OB=Zt("zoom-in",RB);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],zB=Zt("zoom-out",BB);let h1=null;const x7=rl((e,t)=>({notifications:[],unread_count:0,isPolling:!1,fetchNotifications:async()=>{try{const r=await fetch(`${Bt}/notifications`,{credentials:"include"});if(!r.ok)throw new Error("Failed to fetch notifications");const a=(await r.json()).map(o=>({...o,time:o.created_at?UB(o.created_at):void 0,type:$B(o.message),priority:WB(o.message)})),i=a.filter(o=>!o.read).length;e({notifications:a,unread_count:i})}catch(r){console.error("Notification fetch error:",r)}},markAsRead:async r=>{const s=t().notifications.find(o=>o.id===r);if(!s||s.read)return;const a=t().notifications.map(o=>o.id===r?{...o,read:!0}:o),i=a.filter(o=>!o.read).length;e({notifications:a,unread_count:i});try{await fetch(`${Bt}/notifications/${r}/read`,{method:"POST",credentials:"include"})}catch(o){console.error("Mark-as-read failed:",o)}},markAllAsRead:async()=>{const r=t().notifications.filter(a=>!a.read);if(r.length===0)return;const s=t().notifications.map(a=>({...a,read:!0}));e({notifications:s,unread_count:0});try{await Promise.all(r.map(a=>fetch(`${Bt}/notifications/${a.id}/read`,{method:"POST",credentials:"include"})))}catch(a){console.error("Mark-all-as-read failed:",a)}},deleteNotification:async r=>{const s=t().notifications.filter(i=>i.id!==r),a=s.filter(i=>!i.read).length;e({notifications:s,unread_count:a});try{await fetch(`${Bt}/notifications/${r}`,{method:"DELETE",credentials:"include"})}catch(i){console.error("Delete notification failed:",i)}},startPolling:()=>{h1||(e({isPolling:!0}),t().fetchNotifications(),h1=setInterval(()=>{t().fetchNotifications()},3e4))},stopPolling:()=>{h1&&(clearInterval(h1),h1=null),e({isPolling:!1})}}));function UB(e){const t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/(1e3*60));if(s<1)return"Just now";if(s<60)return`${s}m ago`;const a=Math.floor(s/60);if(a<24)return`${a}h ago`;const i=Math.floor(a/24);return i<7?`${i}d ago`:t.toLocaleDateString()}function $B(e){return e.includes("transferred")||e.includes("transfer")?"device_transfer":e.includes("approval")||e.includes("approve")?"approval_request":e.includes("overdue")||e.includes("return")?"overdue_reminder":e.includes("system")||e.includes("maintenance")?"system":"general"}function WB(e){return e.includes("urgent")||e.includes("critical")?"urgent":e.includes("overdue")||e.includes("approval")?"high":e.includes("transferred")||e.includes("assigned")?"medium":"low"}const HB=({isOpen:e,onClose:t,onConfirm:r,title:s,message:a,confirmText:i="Confirm",cancelText:o="Cancel",type:l="warning"})=>{const c=U.useRef(null);if(U.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),U.useEffect(()=>{const x=f=>{f.key==="Escape"&&t()};return e&&window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[e,t]),!e)return null;const u=(()=>{switch(l){case"danger":return{icon:aa,iconColor:"text-error-600 dark:text-error-400",accentBar:"bg-error-600",confirmButton:"bg-error-600 hover:bg-error-700 text-white dark:bg-error-700 dark:hover:bg-error-600",messageBg:"bg-error-50 dark:bg-primary-800",messageBorder:"border-error-200 dark:border-error-800"};case"warning":return{icon:aa,iconColor:"text-warning-600 dark:text-warning-400",accentBar:"bg-warning-600",confirmButton:"bg-warning-600 hover:bg-warning-700 text-white dark:bg-warning-700 dark:hover:bg-warning-600",messageBg:"bg-warning-50 dark:bg-primary-800",messageBorder:"border-warning-200 dark:border-warning-800"};case"info":return{icon:Mu,iconColor:"text-accent-600 dark:text-accent-400",accentBar:"bg-accent-600",confirmButton:"bg-accent-600 hover:bg-accent-700 text-white dark:bg-accent-700 dark:hover:bg-accent-600",messageBg:"bg-accent-50 dark:bg-primary-800",messageBorder:"border-accent-200 dark:border-accent-800"};case"success":return{icon:Fw,iconColor:"text-success-600 dark:text-success-400",accentBar:"bg-success-600",confirmButton:"bg-success-600 hover:bg-success-700 text-white dark:bg-success-700 dark:hover:bg-success-600",messageBg:"bg-success-50 dark:bg-primary-800",messageBorder:"border-success-200 dark:border-success-800"};default:return{icon:aa,iconColor:"text-warning-600 dark:text-warning-400",accentBar:"bg-warning-600",confirmButton:"bg-warning-600 hover:bg-warning-700 text-white dark:bg-warning-700 dark:hover:bg-warning-600",messageBg:"bg-warning-50 dark:bg-primary-800",messageBorder:"border-warning-200 dark:border-warning-800"}}})(),p=u.icon;return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm animate-in fade-in duration-200",onClick:x=>x.target===x.currentTarget&&t(),children:n.jsxs("div",{ref:c,className:"w-full max-w-md overflow-hidden bg-white dark:bg-primary-900 rounded-xl shadow-2xl border border-primary-200 dark:border-primary-700 animate-in zoom-in-95 duration-200",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",onClick:x=>x.stopPropagation(),children:[n.jsxs("div",{className:"relative p-6 pb-8",children:[n.jsx("div",{className:`absolute left-0 top-0 h-1 w-full ${u.accentBar}`}),n.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[n.jsx("div",{className:`p-3 rounded-full bg-opacity-10 ${u.messageBg} border ${u.messageBorder}`,children:n.jsx(p,{className:`w-6 h-6 ${u.iconColor}`})}),n.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-primary-900 dark:text-primary-50",children:s})]}),n.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-1 rounded-full text-primary-500 dark:text-primary-400 hover:bg-primary-100 dark:hover:bg-primary-700 transition-colors","aria-label":"Close modal",children:n.jsx(Bs,{className:"w-5 h-5"})})]}),n.jsx("div",{className:`px-6 pb-6 ${u.messageBg} border-t ${u.messageBorder}`,children:n.jsx("p",{className:"text-sm text-primary-700 dark:text-primary-300 text-center leading-relaxed",children:a})}),n.jsxs("div",{className:"flex gap-3 p-6 bg-primary-50 dark:bg-primary-800",children:[n.jsx("button",{onClick:t,className:"flex-1 px-4 py-2.5 text-sm font-medium text-primary-700 dark:text-primary-300 bg-white dark:bg-primary-700 border border-primary-300 dark:border-primary-600 rounded-lg hover:bg-primary-100 dark:hover:bg-primary-600 transition-colors",children:o}),n.jsx("button",{onClick:()=>{r(),t()},className:`flex-1 px-4 py-2.5 text-sm font-medium text-white rounded-lg transition-all ${u.confirmButton} shadow-sm hover:shadow-md active:scale-95`,children:i})]})]})})},VB=({className:e=""})=>{const{theme:t,toggleTheme:r}=e5(),s=()=>{r()};return n.jsx("button",{onClick:s,className:`p-1 rounded-full transition-colors duration-200 ${t==="dark"?"bg-primary-700 text-accent-300 hover:bg-primary-600":"bg-primary-100 text-primary-700 hover:bg-primary-200"} ${e}`,title:`Switch to ${t==="light"?"dark":"light"} mode`,"aria-label":`Toggle ${t==="light"?"dark":"light"} mode`,children:t==="dark"?n.jsx(vB,{size:20}):n.jsx(GO,{size:20})})},GB=()=>{const e=Vr(),{user:t,logout:r}=ra(),{notifications:s,fetchNotifications:a,markAsRead:i,markAllAsRead:o,deleteNotification:l,unread_count:c,startPolling:d,stopPolling:u}=x7(),[p,x]=U.useState(!1),[f,y]=U.useState(!1),[v,_]=U.useState(!1),k=U.useRef(null),S=U.useRef(null),M=U.useRef(null),T=U.useRef(null);U.useEffect(()=>(d(),()=>u()),[d,u]),U.useEffect(()=>{f&&a()},[f,a]),U.useEffect(()=>{const P=I=>{f&&S.current&&k.current&&!S.current.contains(I.target)&&!k.current.contains(I.target)&&y(!1),p&&T.current&&M.current&&!T.current.contains(I.target)&&!M.current.contains(I.target)&&x(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[f,p]);const O=()=>{y(P=>!P),f||x(!1)},A=()=>{x(P=>!P),p||y(!1)},C=()=>{x(!1),_(!0)},N=async()=>{_(!1),x(!1),y(!1);try{console.log("[v0] handleConfirmLogout - awaiting logout"),await r(),console.log("[v0] handleConfirmLogout - logout completed")}catch(P){console.error("[v0] handleConfirmLogout - logout error:",P)}window.location.href="/login"},E=P=>{switch(P){case"device_transfer":return"";case"approval_request":return"";case"overdue_reminder":return"";case"system":return"";default:return""}},z=P=>{switch(P){case"urgent":return"border-l-red-500 bg-red-50 dark:bg-red-950 dark:border-l-red-600";case"high":return"border-l-orange-500 bg-orange-50 dark:bg-orange-950 dark:border-l-orange-600";case"medium":return"border-l-blue-500 bg-blue-50 dark:bg-blue-950 dark:border-l-blue-600";default:return"border-l-gray-300 bg-gray-50 dark:bg-slate-800 dark:border-l-slate-600"}};return n.jsxs("header",{className:"flex justify-between items-center px-3 sm:px-4 py-3 bg-white dark:bg-slate-900 shadow-sm relative transition-colors",children:[n.jsx("div",{className:"absolute bottom-0 left-0 right-0 flag",style:{background:"linear-gradient(to right, #000000 0%, #000000 30%, #FFFFFF 30%, #FFFFFF 35%, #DC143C 35%, #DC143C 65%, #FFFFFF 65%, #FFFFFF 70%, #006B3F 70%, #006B3F 100%)"}}),n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("div",{className:"block sm:hidden text-lg font-semibold text-primary-800 dark:text-slate-100 pl-14",children:"Assets MS"}),n.jsx("div",{className:"hidden sm:block text-xl font-semibold text-primary-800 dark:text-slate-100",children:"Assets Management System"})]}),n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[n.jsx(VB,{}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{ref:k,className:"relative p-2 rounded-full transition-colors text-primary-600 dark:text-slate-300 hover:bg-primary-50 dark:hover:bg-slate-700",onClick:O,children:[n.jsx(Af,{size:20}),c>0&&n.jsx("span",{className:"flex absolute -top-1 -right-1 justify-center items-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full animate-pulse",children:c>99?"99+":c})]}),f&&n.jsxs("div",{ref:S,className:"overflow-hidden absolute top-full left-1/2 z-50 mt-2 w-96 max-h-96 bg-white dark:bg-slate-800 rounded-lg border shadow-xl transform -translate-x-1/2 border-primary-100 dark:border-slate-700 animate-fade-in",children:[n.jsxs("div",{className:"flex justify-between items-center px-4 py-3 bg-gray-50 dark:bg-slate-700 border-b border-primary-100 dark:border-slate-600",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-slate-100",children:"Notifications"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[c>0&&n.jsxs("button",{onClick:o,className:"flex items-center px-2 py-1 space-x-1 text-xs text-blue-600 dark:text-blue-400 rounded transition-colors hover:text-blue-800 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-slate-600",title:"Mark all as read",children:[n.jsx(u7,{size:12}),n.jsx("span",{children:"Mark all read"})]}),n.jsx("button",{onClick:()=>y(!1),className:"p-1 text-gray-400 dark:text-slate-400 rounded transition-colors hover:text-gray-600 dark:hover:text-slate-200",children:n.jsx(Bs,{size:16})})]})]}),n.jsx("div",{className:"overflow-y-auto max-h-80",children:s.length===0?n.jsxs("div",{className:"px-4 py-8 text-center text-gray-500 dark:text-slate-400",children:[n.jsx(Af,{size:32,className:"mx-auto mb-2 text-gray-300 dark:text-slate-500"}),n.jsx("p",{className:"text-sm",children:"No notifications"})]}):s.map(P=>n.jsx("div",{className:`border-l-4 transition-all hover:bg-gray-50 dark:hover:bg-slate-700 ${P.read?"opacity-60":""} ${z(P.priority)}`,children:n.jsxs("div",{className:"flex justify-between items-start p-3 sm:p-4",children:[n.jsx("div",{className:"flex-1 cursor-pointer",onClick:()=>{i(P.id),P.link&&e(P.link),y(!1)},children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("span",{className:"text-lg",children:E(P.type)}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${P.read?"text-gray-600 dark:text-slate-400":"text-gray-900 dark:text-slate-100 font-medium"}`,children:P.message}),P.time&&n.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-slate-500",children:P.time})]})]})}),n.jsxs("div",{className:"flex items-center ml-2 space-x-1",children:[!P.read&&n.jsx("button",{onClick:I=>{I.stopPropagation(),i(P.id)},className:"p-1 text-gray-400 dark:text-slate-500 rounded transition-colors hover:text-blue-600 dark:hover:text-blue-400",title:"Mark as read",children:n.jsx(Lh,{size:14})}),n.jsx("button",{onClick:I=>{I.stopPropagation(),l(P.id)},className:"p-1 text-gray-400 dark:text-slate-500 rounded transition-colors hover:text-red-600 dark:hover:text-red-400",title:"Delete notification",children:n.jsx(ud,{size:14})})]})]})},P.id))}),s.length>0&&n.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-slate-700 border-t border-gray-100 dark:border-slate-600",children:n.jsx("button",{onClick:()=>{e("/notifications"),y(!1)},className:"w-full text-xs text-center text-blue-600 dark:text-blue-400 transition-colors hover:text-blue-800 dark:hover:text-blue-300",children:"View all notifications"})})]})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{ref:M,className:"flex items-center px-1 sm:px-2 py-1 space-x-1 sm:space-x-2 rounded-md transition-colors text-primary-700 dark:text-slate-200 hover:text-primary-900 dark:hover:text-slate-100 hover:bg-primary-50 dark:hover:bg-slate-700",onClick:A,children:[n.jsx("div",{className:"flex justify-center items-center w-6 h-6 text-white rounded-full bg-primary-700 dark:bg-primary-600 flex-shrink-0",children:n.jsx(_i,{size:16})}),n.jsxs("div",{className:"hidden sm:block text-sm font-medium truncate max-w-32",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),n.jsx(q0,{size:16,className:"flex-shrink-0"})]}),p&&n.jsxs("div",{ref:T,className:"absolute right-0 top-full z-50 mt-2 w-48 bg-white dark:bg-slate-800 rounded-md border shadow-lg border-primary-100 dark:border-slate-700 animate-fade-in",children:[n.jsxs("div",{className:"px-4 py-2 border-b border-primary-100 dark:border-slate-700",children:[n.jsxs("p",{className:"text-sm font-medium text-primary-900 dark:text-slate-100 truncate",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),n.jsx("p",{className:"text-xs truncate text-primary-500 dark:text-slate-400",children:t==null?void 0:t.email})]}),n.jsx("button",{className:"px-4 py-2 w-full text-sm text-left transition-colors text-primary-700 dark:text-slate-200 hover:bg-primary-50 dark:hover:bg-slate-700",onClick:()=>{x(!1),e("/profile")},children:"Your Profile"}),n.jsx("button",{className:"px-4 py-2 w-full text-sm text-left transition-colors text-primary-700 dark:text-slate-200 hover:bg-primary-50 dark:hover:bg-slate-700",onClick:()=>{x(!1),e("/settings")},children:"Settings"}),n.jsx("div",{className:"pt-1 mt-1 border-t border-primary-100 dark:border-slate-700",children:n.jsx("button",{className:"px-4 py-2 w-full text-sm text-left transition-colors text-error-600 dark:text-red-400 hover:bg-primary-50 dark:hover:bg-slate-700",onClick:C,children:"Sign out"})})]})]})]}),n.jsx(HB,{isOpen:v,onClose:()=>_(!1),onConfirm:N,title:"Confirm Sign Out",message:"Are you sure you want to sign out of your session?",confirmText:"Sign Out",cancelText:"Cancel",type:"warning"})]})},zy=()=>{const{userPermissions:e,isAdmin:t}=ra();return{hasPermission:(o,l=Vl.READ)=>{if(t)return!0;const c=e==null?void 0:e[o];if(!c||!c.has_access)return!1;switch(l){case Vl.READ:return c.can_read;case Vl.WRITE:return c.can_write;case Vl.ADMIN:return c.can_admin;default:return!1}},canAccessCategory:o=>{var l;return t?!0:((l=e==null?void 0:e[o])==null?void 0:l.has_access)||!1},getPermissionLevel:o=>{if(t)return Vl.ADMIN;const l=e==null?void 0:e[o];return(l==null?void 0:l.permission_level)||Vl.NONE},isExpired:o=>{const l=e==null?void 0:e[o];return l!=null&&l.expires_at?new Date>new Date(l.expires_at):!1},userPermissions:e,isAdmin:t}},qB=({className:e="",size:t="md",showText:r=!0})=>{const s={sm:"h-10",md:"h-12",lg:"h-16"};return n.jsxs("div",{className:`flex items-center justify-center ${e}`,children:[n.jsx("div",{className:`${s[t]} aspect-square relative`,children:n.jsxs("svg",{viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full logo-container",children:[n.jsxs("defs",{children:[n.jsxs("radialGradient",{id:"mainGradient",cx:"50%",cy:"30%",r:"70%",children:[n.jsx("stop",{offset:"0%",stopColor:"#60a5fa"}),n.jsx("stop",{offset:"30%",stopColor:"#3b82f6"}),n.jsx("stop",{offset:"70%",stopColor:"#2563eb"}),n.jsx("stop",{offset:"100%",stopColor:"#1d4ed8"})]}),n.jsxs("radialGradient",{id:"shadowGradient",cx:"50%",cy:"50%",r:"60%",children:[n.jsx("stop",{offset:"0%",stopColor:"#1e40af"}),n.jsx("stop",{offset:"100%",stopColor:"#1e3a8a"})]}),n.jsxs("radialGradient",{id:"highlightGradient",cx:"50%",cy:"20%",r:"80%",children:[n.jsx("stop",{offset:"0%",stopColor:"#ffffff",stopOpacity:"0.6"}),n.jsx("stop",{offset:"30%",stopColor:"#93c5fd",stopOpacity:"0.4"}),n.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0.1"})]}),n.jsxs("linearGradient",{id:"textGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[n.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),n.jsx("stop",{offset:"50%",stopColor:"#e0f2fe"}),n.jsx("stop",{offset:"100%",stopColor:"#bae6fd"})]}),n.jsxs("radialGradient",{id:"innerGlow",cx:"50%",cy:"50%",r:"45%",children:[n.jsx("stop",{offset:"0%",stopColor:"#ffffff",stopOpacity:"0.3"}),n.jsx("stop",{offset:"70%",stopColor:"#60a5fa",stopOpacity:"0.1"}),n.jsx("stop",{offset:"100%",stopColor:"#1d4ed8",stopOpacity:"0"})]}),n.jsxs("filter",{id:"shadow3d",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feDropShadow",{dx:"3",dy:"6",stdDeviation:"4",floodColor:"#0f172a",floodOpacity:"0.4"}),n.jsx("feDropShadow",{dx:"1",dy:"3",stdDeviation:"2",floodColor:"#1e40af",floodOpacity:"0.6"})]}),n.jsxs("filter",{id:"textGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"coloredBlur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),n.jsxs("filter",{id:"innerShadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feOffset",{dx:"0",dy:"2"}),n.jsx("feGaussianBlur",{stdDeviation:"2"}),n.jsx("feComposite",{operator:"over"})]})]}),n.jsx("g",{className:"outer-ring",children:n.jsx("circle",{cx:"60",cy:"60",r:"58",fill:"none",stroke:"url(#mainGradient)",strokeWidth:"0.5",strokeDasharray:"4 4",opacity:"0.6",className:"rotating-ring"})}),n.jsx("circle",{cx:"62",cy:"64",r:"50",fill:"url(#shadowGradient)",opacity:"0.3"}),n.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"url(#mainGradient)",filter:"url(#shadow3d)",className:"main-circle"}),n.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"url(#highlightGradient)",className:"highlight-layer"}),n.jsx("circle",{cx:"60",cy:"60",r:"45",fill:"url(#innerGlow)"}),n.jsx("circle",{cx:"60",cy:"60",r:"46",fill:"none",stroke:"rgba(255,255,255,0.3)",strokeWidth:"1"}),n.jsxs("g",{className:"ams-text",children:[n.jsx("text",{x:"60",y:"72",fontSize:"32",fontWeight:"800",textAnchor:"middle",fill:"#1e40af",opacity:"0.4",className:"text-shadow",children:"AMS"}),n.jsx("text",{x:"60",y:"70",fontSize:"32",fontWeight:"800",textAnchor:"middle",fill:"url(#textGradient)",filter:"url(#textGlow)",className:"main-text",children:"AMS"}),n.jsx("text",{x:"60",y:"70",fontSize:"32",fontWeight:"800",textAnchor:"middle",fill:"rgba(255,255,255,0.6)",className:"text-highlight",children:"AMS"})]}),n.jsxs("g",{className:"decorative-dots",children:[n.jsx("circle",{cx:"60",cy:"25",r:"2",fill:"rgba(255,255,255,0.8)",className:"dot dot-1"}),n.jsx("circle",{cx:"85",cy:"40",r:"1.5",fill:"rgba(255,255,255,0.6)",className:"dot dot-2"}),n.jsx("circle",{cx:"95",cy:"60",r:"1",fill:"rgba(255,255,255,0.7)",className:"dot dot-3"}),n.jsx("circle",{cx:"85",cy:"80",r:"1.5",fill:"rgba(255,255,255,0.6)",className:"dot dot-4"}),n.jsx("circle",{cx:"60",cy:"95",r:"2",fill:"rgba(255,255,255,0.8)",className:"dot dot-5"}),n.jsx("circle",{cx:"35",cy:"80",r:"1.5",fill:"rgba(255,255,255,0.6)",className:"dot dot-6"}),n.jsx("circle",{cx:"25",cy:"60",r:"1",fill:"rgba(255,255,255,0.7)",className:"dot dot-7"}),n.jsx("circle",{cx:"35",cy:"40",r:"1.5",fill:"rgba(255,255,255,0.6)",className:"dot dot-8"})]}),n.jsxs("g",{className:"accent-lines",stroke:"rgba(255,255,255,0.3)",strokeWidth:"1",fill:"none",children:[n.jsx("path",{d:"M 30 30 Q 60 45 90 30",className:"accent-curve-1"}),n.jsx("path",{d:"M 30 90 Q 60 75 90 90",className:"accent-curve-2"})]}),n.jsx("style",{children:`
              .logo-container {
                animation: logoFloat 6s ease-in-out infinite;
              }
              
              .main-circle {
                animation: circlePulse 4s ease-in-out infinite;
                transform-origin: center;
              }
              
              .highlight-layer {
                animation: highlightRotate 8s linear infinite;
                transform-origin: center;
              }
              
              .rotating-ring {
                animation: ringRotate 12s linear infinite;
                transform-origin: center;
              }
              
              .main-text {
                animation: textGlow 3s ease-in-out infinite;
              }
              
              .text-highlight {
                animation: highlightSweep 4s ease-in-out infinite;
              }
              
              .text-shadow {
                animation: shadowPulse 4s ease-in-out infinite;
              }
              
              .dot {
                animation: dotPulse 2s ease-in-out infinite;
                transform-origin: center;
              }
              
              .dot-1 { animation-delay: 0s; }
              .dot-2 { animation-delay: 0.25s; }
              .dot-3 { animation-delay: 0.5s; }
              .dot-4 { animation-delay: 0.75s; }
              .dot-5 { animation-delay: 1s; }
              .dot-6 { animation-delay: 1.25s; }
              .dot-7 { animation-delay: 1.5s; }
              .dot-8 { animation-delay: 1.75s; }
              
              .accent-curve-1 {
                animation: curveGlow 5s ease-in-out infinite;
              }
              
              .accent-curve-2 {
                animation: curveGlow 5s ease-in-out infinite 2.5s;
              }
              
              @keyframes logoFloat {
                0%, 100% { transform: translateY(0px); }
                50% { transform: translateY(-3px); }
              }
              
              @keyframes circlePulse {
                0%, 100% { transform: scale(1); }
                50% { transform: scale(1.02); }
              }
              
              @keyframes highlightRotate {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
              }
              
              @keyframes ringRotate {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(-360deg); }
              }
              
              @keyframes textGlow {
                0%, 100% { filter: brightness(1) drop-shadow(0 0 8px rgba(96, 165, 250, 0.5)); }
                50% { filter: brightness(1.3) drop-shadow(0 0 12px rgba(96, 165, 250, 0.8)); }
              }
              
              @keyframes highlightSweep {
                0% { opacity: 0; }
                15% { opacity: 0.6; }
                30% { opacity: 0.3; }
                85% { opacity: 0.3; }
                100% { opacity: 0; }
              }
              
              @keyframes shadowPulse {
                0%, 100% { opacity: 0.4; }
                50% { opacity: 0.6; }
              }
              
              @keyframes dotPulse {
                0%, 100% { 
                  opacity: 0.6; 
                  transform: scale(1); 
                }
                50% { 
                  opacity: 1; 
                  transform: scale(1.3); 
                }
              }
              
              @keyframes curveGlow {
                0%, 100% { 
                  stroke-opacity: 0.3; 
                  stroke-width: 1; 
                }
                50% { 
                  stroke-opacity: 0.8; 
                  stroke-width: 1.5; 
                }
              }
            `})]})}),r&&n.jsx("span",{className:"ml-3 text-lg font-semibold text-gray-800",children:"AMS"})]})},f1=({content:e,children:t,disabled:r=!1,delay:s=50})=>{const[a,i]=U.useState(!1),[o,l]=U.useState({top:0,left:0}),c=U.useRef(null),d=U.useRef(null);U.useEffect(()=>()=>{c.current&&clearTimeout(c.current)},[]);const u=()=>{r||(c.current=setTimeout(()=>{if(d.current){const x=d.current.getBoundingClientRect();l({top:x.top+x.height/2,left:x.right+8}),i(!0)}},s))},p=()=>{c.current&&clearTimeout(c.current),i(!1)};return n.jsxs(n.Fragment,{children:[n.jsx("div",{ref:d,onMouseEnter:u,onMouseLeave:p,className:"inline-block",children:t}),a&&!r&&n.jsx("div",{className:"fixed z-[9999] px-2 py-1 text-xs font-medium text-white bg-gray-900 rounded shadow-lg whitespace-nowrap pointer-events-none",style:{top:`${o.top}px`,left:`${o.left}px`,transform:"translateY(-50%)"},children:e})]})},KB=({isOpen:e=!1,className:t="",size:r=20})=>n.jsx("div",{className:`hamburger-icon ${t}`,style:{width:r,height:r},children:n.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform duration-200 ${e?"rotate-90":""}`,children:[n.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6",className:`transition-all duration-200 ${e?"opacity-0":"opacity-100"}`}),n.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),n.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18",className:`transition-all duration-200 ${e?"opacity-0":"opacity-100"}`})]})}),Rk=({isExpanded:e,size:t=16,className:r=""})=>n.jsx("div",{className:`transition-transform duration-200 ${r}`,children:e?n.jsx(WO,{size:t,className:"transition-transform duration-200"}):n.jsx(ri,{size:t,className:"transition-transform duration-200"})}),YB=({isMobile:e,isOpen:t,onToggle:r})=>{const s=xd(),{isAdmin:a,logout:i}=ra(),{canAccessCategory:o}=zy(),[l,c]=U.useState(!1),[d,u]=U.useState(!1),[p,x]=U.useState(()=>{const O=localStorage.getItem("sidebarCollapsed");return O?JSON.parse(O):!1});U.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(p))},[p]);const f=O=>s.pathname===O||s.pathname.startsWith(`${O}/`),y=O=>`
    flex items-center py-2 px-3 text-sm font-medium rounded-md transition-all
    ${f(O)?"bg-primary-700 text-white":"text-primary-200 hover:bg-primary-700/50 hover:text-white"}
    ${p?"justify-center px-2":""}
  `,v=()=>{e&&t&&r()},_=()=>{x(!p),p||(c(!1),u(!1))},k=()=>[cr.DEVICES,cr.LAND_REGISTER,cr.BUILDINGS_REGISTER,cr.MOTOR_VEHICLES_REGISTER,cr.OFFICE_EQUIPMENT,cr.FURNITURE_FITTINGS_EQUIPMENT,cr.PLANT_MACHINERY,cr.PORTABLE_ATTRACTIVE_ITEMS].some(A=>o(A)),S=({to:O,category:A,icon:C,children:N,tooltipText:E})=>{if(!o(A)){const I=n.jsx("div",{className:`flex items-center py-2 px-3 text-sm font-medium rounded-md text-primary-400 cursor-not-allowed opacity-50 ${p?"justify-center px-2":""}`,children:p?n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:C}),n.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-2 h-2 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"relative mr-3 flex-shrink-0",children:[n.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:C}),n.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-2 h-2 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})})]}),n.jsxs("span",{className:"flex items-center",children:[N,n.jsx("svg",{className:"w-4 h-4 ml-2 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})]})]})});return p?n.jsx(f1,{content:`${E||N} - Access Restricted`,children:I}):I}const P=n.jsx(ed,{to:O,className:y(O),onClick:v,children:p?n.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:C}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center",children:C}),n.jsx("span",{children:N})]})});return p?n.jsx(f1,{content:E||N,children:P}):P},M=({to:O,icon:A,children:C,tooltipText:N})=>{const E=n.jsx(ed,{to:O,className:y(O),onClick:v,children:p?n.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:A}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center",children:A}),n.jsx("span",{children:C})]})});return p?n.jsx(f1,{content:N||C,children:E}):E},T=n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:`sidebar_open flex-shrink-0 flex items-center justify-between px-4 py-2 border-b border-primary-700/50 ${p?"px-2":""}`,children:[!p&&n.jsx(qB,{}),n.jsxs("div",{className:"sidebar_menuIcon flex gap-2 items-center",children:[e&&n.jsx("button",{onClick:r,className:"p-1 text-white rounded-md transition-colors hover:bg-primary-700","aria-label":"Close sidebar",children:n.jsx(Bs,{size:24})}),!e&&n.jsx(f1,{content:p?"Expand sidebar":"Collapse sidebar",delay:0,children:n.jsx("button",{onClick:_,className:"p-2 text-white rounded-md transition-all hover:bg-primary-700 hover:scale-105","aria-label":p?"Expand sidebar":"Collapse sidebar",children:n.jsx(KB,{isOpen:!p,size:18})})})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto sidebar-scrollbar SideScrollbar",children:n.jsxs("nav",{className:`flex flex-col space-y-0.5 ${p?"px-2":"px-3"} py-4`,children:[n.jsx(M,{to:"/dashboard",icon:n.jsx(d7,{size:18}),tooltipText:"Dashboard",children:"Dashboard"}),k()&&n.jsx("div",{className:"relative",children:p?n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(M,{to:"/asset-categories",icon:n.jsx(Lc,{size:18}),tooltipText:"Asset Categories",children:"Asset Categories"}),n.jsx(S,{to:"/categories/ict-assets",category:cr.DEVICES,icon:n.jsx(pp,{size:18}),tooltipText:"ICT Assets",children:"ICT Assets"}),n.jsx(S,{to:"/categories/land-register",category:cr.LAND_REGISTER,icon:n.jsx(Ea,{size:18}),tooltipText:"Land Register",children:"Land Register"}),n.jsx(S,{to:"/categories/buildings",category:cr.BUILDINGS_REGISTER,icon:n.jsx(Qo,{size:18}),tooltipText:"Buildings",children:"Buildings"}),n.jsx(S,{to:"/categories/vehicles",category:cr.MOTOR_VEHICLES_REGISTER,icon:n.jsx(Mh,{size:18}),tooltipText:"Motor Vehicles",children:"Motor Vehicles"}),n.jsx(S,{to:"/categories/office-equipment",category:cr.OFFICE_EQUIPMENT,icon:n.jsx(xp,{size:18}),tooltipText:"Office Equipment",children:"Office Equipment"}),n.jsx(S,{to:"/categories/furniture-equipment",category:cr.FURNITURE_FITTINGS_EQUIPMENT,icon:n.jsx(Vd,{size:18}),tooltipText:"Furniture & Fittings",children:"Furniture & Fittings"}),n.jsx(S,{to:"/categories/plant-machinery",category:cr.PLANT_MACHINERY,icon:n.jsx(eo,{size:18}),tooltipText:"Plant & Machinery",children:"Plant & Machinery"}),n.jsx(S,{to:"/categories/portable-items",category:cr.PORTABLE_ATTRACTIVE_ITEMS,icon:n.jsx(_x,{size:18}),tooltipText:"Portable & Attractive",children:"Portable & Attractive"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>u(!d),className:`flex justify-between items-center px-3 py-2 w-full text-sm font-medium rounded-md transition-all ${f("/asset-categories")||f("/categories")||f("/devices")?"text-white bg-primary-700":"text-primary-200 hover:bg-primary-700/50 hover:text-white"}`,children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center",children:n.jsx(Lc,{size:18})}),n.jsx("span",{children:"Asset Categories"})]}),n.jsx(Rk,{isExpanded:d,size:16,className:"text-current"})]}),d&&n.jsxs("div",{className:"mt-1 ml-8 space-y-0.5 animate-in slide-in-from-top-2 duration-200",children:[k()&&n.jsxs(ed,{to:"/asset-categories",className:y("/asset-categories"),onClick:v,children:[n.jsx("div",{className:"mr-3 flex-shrink-0 w-4 h-4 flex items-center justify-center",children:n.jsx(Lc,{size:16})}),n.jsx("span",{children:"All Categories"})]}),n.jsx(S,{to:"/categories/ict-assets",category:cr.DEVICES,icon:n.jsx(pp,{size:16}),tooltipText:"ICT Assets",children:"ICT Assets"}),n.jsx(S,{to:"/categories/land-register",category:cr.LAND_REGISTER,icon:n.jsx(Ea,{size:16}),tooltipText:"Land Register",children:"Land Register"}),n.jsx(S,{to:"/categories/buildings",category:cr.BUILDINGS_REGISTER,icon:n.jsx(Qo,{size:16}),tooltipText:"Buildings",children:"Buildings"}),n.jsx(S,{to:"/categories/vehicles",category:cr.MOTOR_VEHICLES_REGISTER,icon:n.jsx(Mh,{size:16}),tooltipText:"Motor Vehicles",children:"Motor Vehicles"}),n.jsx(S,{to:"/categories/office-equipment",category:cr.OFFICE_EQUIPMENT,icon:n.jsx(xp,{size:16}),tooltipText:"Office Equipment",children:"Office Equipment"}),n.jsx(S,{to:"/categories/furniture-equipment",category:cr.FURNITURE_FITTINGS_EQUIPMENT,icon:n.jsx(Vd,{size:16}),tooltipText:"Furniture & Fittings",children:"Furniture & Fittings"}),n.jsx(S,{to:"/categories/plant-machinery",category:cr.PLANT_MACHINERY,icon:n.jsx(eo,{size:16}),tooltipText:"Plant & Machinery",children:"Plant & Machinery"}),n.jsx(S,{to:"/categories/portable-items",category:cr.PORTABLE_ATTRACTIVE_ITEMS,icon:n.jsx(_x,{size:16}),tooltipText:"Portable & Attractive",children:"Portable & Attractive"})]})]})}),n.jsx("hr",{className:"my-2 mt-4 mb-4 border-t border-primary-700/40"}),a&&n.jsx("div",{className:"relative",children:p?n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(M,{to:"/admin/users",icon:n.jsx(Cu,{size:18}),tooltipText:"User Management",children:"User Management"}),n.jsx(M,{to:"/admin/permissions",icon:n.jsx(La,{size:18}),tooltipText:"User Permissions",children:"User Permissions"}),n.jsx(M,{to:"/admin/security",icon:n.jsx(La,{size:18}),tooltipText:"Security Dashboard",children:"Security Dashboard"}),n.jsx(M,{to:"/admin/audit-logs",icon:n.jsx(Pk,{size:18}),tooltipText:"Audit Logs",children:"Audit Logs"}),n.jsx(M,{to:"/admin/reports",icon:n.jsx(Ya,{size:18}),tooltipText:"Reports",children:"Reports"}),n.jsx(M,{to:"/admin/backups",icon:n.jsx(Xm,{size:18}),tooltipText:"System Backups",children:"System Backups"}),n.jsx(M,{to:"/admin/session-monitor",icon:n.jsx(Iw,{size:18}),tooltipText:"Session Monitor",children:"Session Monitor"})]}):n.jsxs(n.Fragment,{children:[n.jsx("hr",{className:"my-2 border-t border-primary-700/40"}),n.jsxs("button",{onClick:()=>c(!l),className:`flex justify-between items-center px-3 py-2 w-full text-sm font-medium rounded-md transition-all ${f("/admin")?"text-white bg-primary-700":"text-primary-200 hover:bg-primary-700/50 hover:text-white"}
                    `,children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center",children:n.jsx(Cu,{size:18})}),n.jsx("span",{children:"Admin"})]}),n.jsx(Rk,{isExpanded:l,size:16,className:"text-current"})]}),l&&n.jsxs("div",{className:"mt-1 ml-8 space-y-0.5 animate-in slide-in-from-top-2 duration-200",children:[n.jsxs(ed,{to:"/admin",className:y("/admin"),onClick:v,children:[n.jsx("div",{className:"mr-3 flex-shrink-0 w-4 h-4 flex items-center justify-center",children:n.jsx(zR,{size:16,color:"orange"})}),n.jsx("span",{children:"Admin Dashboard"})]}),n.jsxs(ed,{to:"/admin/users",className:y("/admin/users"),onClick:v,children:[n.jsx("div",{className:"mr-3 flex-shrink-0 w-4 h-4 flex items-center justify-center",children:n.jsx(Cu,{size:16})}),n.jsx("span",{children:"User Management"})]}),n.jsxs(ed,{to:"/admin/permissions",className:y("/admin/permissions"),onClick:v,children:[n.jsx("div",{className:"mr-3 flex-shrink-0 w-4 h-4 flex items-center justify-center",children:n.jsx(La,{size:16})}),n.jsx("span",{children:"User Permissions"})]}),n.jsxs(ed,{to:"/admin/security",className:y("/admin/security"),onClick:v,children:[n.jsx("div",{className:"mr-3 flex-shrink-0 w-4 h-4 flex items-center justify-center",children:n.jsx(La,{size:16})}),n.jsx("span",{children:"Security Dashboard"})]}),n.jsxs(ed,{to:"/admin/audit-logs",className:y("/admin/audit-logs"),onClick:v,children:[n.jsx("div",{className:"mr-3 flex-shrink-0 w-4 h-4 flex items-center justify-center",children:n.jsx(Pk,{size:16})}),n.jsx("span",{children:"Audit Logs"})]}),n.jsxs(ed,{to:"/admin/reports",className:y("/admin/reports"),onClick:v,children:[n.jsx("div",{className:"mr-3 flex-shrink-0 w-4 h-4 flex items-center justify-center",children:n.jsx(Ya,{size:16})}),n.jsx("span",{children:"Reports"})]}),n.jsxs(ed,{to:"/admin/backups",className:y("/admin/backups"),onClick:v,children:[n.jsx("div",{className:"mr-3 flex-shrink-0 w-4 h-4 flex items-center justify-center",children:n.jsx(Xm,{size:16})}),n.jsx("span",{children:"System Backups"})]}),n.jsxs(ed,{to:"/admin/session-monitor",className:y("/admin/session-monitor"),onClick:v,children:[n.jsx("div",{className:"mr-3 flex-shrink-0 w-4 h-4 flex items-center justify-center",children:n.jsx(Iw,{size:16})}),n.jsx("span",{children:"Session Monitor"})]})]})]})}),n.jsx(M,{to:"/settings",icon:n.jsx(eo,{size:18}),tooltipText:"Settings",children:"Settings"})]})}),n.jsx("div",{className:`flex-shrink-0 border-t border-primary-700/50 ${p?"px-2":"px-3"} py-4`,children:n.jsx(f1,{content:"Sign Out",disabled:!p,delay:0,children:n.jsx("button",{onClick:async()=>await i(),className:`flex items-center py-2 px-3 w-full text-sm font-medium rounded-md transition-all text-primary-200 hover:bg-primary-700/50 hover:text-white ${p?"justify-center px-2":""}`,children:p?n.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:n.jsx(Rv,{size:18})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mr-3 flex-shrink-0 w-5 h-5 flex items-center justify-center",children:n.jsx(Rv,{size:18})}),n.jsx("span",{children:"Sign Out"})]})})})})]});return e?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:r,className:"fixed top-4 left-4 z-20 p-2 text-white rounded-md bg-primary-700 md:hidden transition-all hover:bg-primary-600 hover:scale-105","aria-label":"Toggle Menu",children:n.jsx(zO,{size:24})}),t&&n.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 md:hidden",children:n.jsx("div",{className:`
              fixed inset-y-0 left-0 w-64 bg-primary-800 transform
              ${t?"translate-x-0":"-translate-x-full"}
              transition-transform duration-300 ease-in-out
            `,children:T})})]}):n.jsx("div",{className:`hidden md:flex md:flex-col h-full bg-primary-800 text-white transition-all duration-300 ease-in-out ${p?"w-14":"w-64"}`,children:T})};function ZB({checkIntervalMs:e=300*1e3,initialDelayMs:t=1e4}={}){const{isAuthenticated:r,logout:s,rotateTokens:a,extendSession:i}=ra(),o=U.useRef(null),l=U.useRef(null),c=U.useRef(!1),d=U.useCallback(()=>{o.current&&clearInterval(o.current),l.current&&clearTimeout(l.current),o.current=null,l.current=null},[]),u=U.useCallback(async()=>{try{await a()||console.log("[SessionMonitor] Token rotation failed - backend may have expired session")}catch(p){console.error("[SessionMonitor] Error during token rotation:",p)}},[a]);return U.useEffect(()=>{const p=x=>{x.key==="SESSION_TERMINATED_BY_ADMIN"&&x.newValue==="true"&&r&&(console.warn("[SessionMonitor] Session terminated by admin from another tab - logging out"),s())};return window.addEventListener("storage",p),()=>window.removeEventListener("storage",p)},[r,s]),U.useEffect(()=>{if(!r){c.current=!1,d();return}if(!c.current)return c.current=!0,l.current=setTimeout(()=>{console.log("[SessionMonitor] Initialized - backend controls session expiration"),o.current=setInterval(()=>{u()},e)},t),()=>d();const p=()=>{document.visibilityState==="visible"&&(console.log("[SessionMonitor] Tab visible - extending session if applicable"),i())};return document.addEventListener("visibilitychange",p),()=>{d(),document.removeEventListener("visibilitychange",p)}},[r,e,t,d,u,i]),U.useEffect(()=>{const p=async x=>{x.key==="SESSION_INVALIDATED"&&x.newValue==="1"&&r&&(console.log("[SessionMonitor] Logout broadcast from another tab"),await s(),window.location.href="/login")};return window.addEventListener("storage",p),()=>window.removeEventListener("storage",p)},[r,s]),U.useEffect(()=>{const p=()=>{r&&sessionStorage.removeItem("SESSION_INVALIDATED")};return window.addEventListener("beforeunload",p),()=>window.removeEventListener("beforeunload",p)},[r]),{extendSession:i}}const Be=U.forwardRef(({variant:e="primary",size:t="md",isLoading:r=!1,leftIcon:s,rightIcon:a,fullWidth:i=!1,children:o,className:l="",disabled:c,...d},u)=>{const p="inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",x={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-primary-50 text-primary-700 hover:bg-primary-200 focus:ring-primary-500",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500",danger:"bg-error-600 text-white hover:bg-error-700 focus:ring-error-500",warning:"bg-warning-500 text-white hover:bg-warning-600 focus:ring-warning-400",ghost:"bg-transparent text-primary-600 hover:bg-primary-50 focus:ring-primary-500",outline:"bg-transparent border border-primary-300 text-primary-600 hover:bg-primary-50 focus:ring-primary-500"},f={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-4 py-2",lg:"text-base px-6 py-3"},y="opacity-50 cursor-not-allowed",v=i?"w-full":"";return n.jsxs("button",{ref:u,className:`
          ${p}
          ${x[e]}
          ${f[t]}
          ${c||r?y:""}
          ${v}
          ${l}
        `,disabled:c||r,...d,children:[r&&n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!r&&s&&n.jsx("span",{className:"mr-2",children:s}),o,!r&&a&&n.jsx("span",{className:"ml-2",children:a})]})});Be.displayName="Button";function XB({warningThresholdMs:e=300*1e3,countdownIntervalMs:t=1e3}={}){const[r,s]=U.useState(!1),[a,i]=U.useState(0),[o,l]=U.useState(1800*1e3),c=U.useRef(null),d=U.useRef(null),u=U.useRef(0),{isAuthenticated:p,extendSession:x,logout:f,sessionMetadata:y}=ra(),v=U.useCallback(()=>{try{const A=sessionStorage.getItem("auth_session");if(A)return JSON.parse(A).rememberMe?1440*60*1e3:1800*1e3}catch{}return 1800*1e3},[]);U.useEffect(()=>{l(v())},[v,y]);const[_,k]=U.useState(!0),[S,M]=U.useState(!0);return U.useEffect(()=>{const A=()=>{k(!document.hidden)},C=()=>M(!0),N=()=>M(!1);return document.addEventListener("visibilitychange",A),window.addEventListener("focus",C),window.addEventListener("blur",N),()=>{document.removeEventListener("visibilitychange",A),window.removeEventListener("focus",C),window.removeEventListener("blur",N)}},[]),U.useEffect(()=>{if(!p){s(!1),c.current&&clearInterval(c.current),d.current&&clearTimeout(d.current);return}c.current&&clearInterval(c.current),d.current&&clearTimeout(d.current);const A=async()=>{const N=sessionStorage.getItem("auth_session");if(N)try{const E=JSON.parse(N),z=Date.now()-E.lastActivityAt,P=o-z;if(P>0&&P<=e){r||(s(!0),u.current=Date.now(),console.log("[InactivityWarning] Warning displayed"));const I=Math.max(0,Math.ceil(P/1e3));i(I)}else P>e&&r&&s(!1);if(P<=0&&p){console.log("[InactivityWarning] Session expired due to inactivity - auto-logging out"),s(!1),await f();return}}catch(E){console.error("[InactivityWarning] Error checking inactivity:",E)}};A();const C=_&&S?1e3:5e3;return c.current=setInterval(A,C),()=>{c.current&&clearInterval(c.current)}},[p,o,e,r,f,_,S]),{isVisible:r,secondsRemaining:a,extendSession:async()=>{await x(),s(!1),i(0)},logout:async()=>{s(!1),await f()}}}const JB=({warningThresholdMs:e=300*1e3})=>{const{isVisible:t,secondsRemaining:r,extendSession:s,logout:a}=XB({warningThresholdMs:e});if(!t)return null;const i=Math.floor(r/60),o=r%60,l=`${i}:${o.toString().padStart(2,"0")}`,c=r<60;return n.jsxs("div",{className:`fixed inset-x-0 top-0 z-50 flex items-center justify-between gap-4 px-4 py-3 md:px-6 transition-colors duration-300 ${c?"bg-red-500 animate-pulse":"bg-amber-500"}`,role:"alert","aria-live":"assertive","aria-label":`Session expires in ${l}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ei,{size:20,className:"flex-shrink-0 text-white","aria-hidden":"true"}),n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsx("div",{className:"text-sm font-medium text-white",children:"Your session will expire due to inactivity"}),n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white/20 rounded-full",children:[n.jsx(to,{size:16,className:"text-white","aria-hidden":"true"}),n.jsx("span",{className:"font-mono font-bold text-white text-sm",children:l})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[n.jsx(Be,{onClick:s,variant:"secondary",className:"!bg-white !text-amber-600 hover:!bg-gray-50 text-xs md:text-sm py-1 md:py-2 whitespace-nowrap",children:"Stay Logged In"}),n.jsx(Be,{onClick:a,variant:"ghost",className:"!text-white hover:!bg-white/20 text-xs md:text-sm py-1 md:py-2 whitespace-nowrap",children:"Logout"})]})]})},h_=[{icon:La,text:"Enhanced security with regular password updates"},{icon:Jl,text:"Protect your account from unauthorized access"},{icon:la,text:"Stay compliant with security best practices"},{icon:La,text:"Reduce risk of compromised credentials"}],QB=({onNavigateToChange:e})=>{const[t,r]=U.useState(null),[s,a]=U.useState(!0),[i,o]=U.useState(!1),[l,c]=U.useState(0),d=U.useRef(!1);if(U.useEffect(()=>{const v=setInterval(()=>{c(_=>(_+1)%h_.length)},4e3);return()=>clearInterval(v)},[]),U.useEffect(()=>{if(d.current)return;d.current=!0;const v=async()=>{try{const k=await fetch(`${Bt}/dashboard/password-status`,{credentials:"include"});if(k.ok){const S=await k.json();r(S),S.is_overdue&&e()}}catch(k){console.error("Error fetching password status:",k)}finally{a(!1)}};v();const _=setInterval(v,300*1e3);return()=>clearInterval(_)},[]),s||!t||i||!(t.requires_password_change||t.days_until_deadline>0&&t.days_until_deadline<=2))return null;const p=t.is_overdue,x=t.days_until_deadline>0&&t.days_until_deadline<=2,f=t.days_since_creation<5&&!t.password_changed_at,y=h_[l].icon;return n.jsx("div",{className:`w-full border-b transition-colors ${p?"bg-gradient-to-r from-red-50 to-red-100 border-red-200":x?"bg-gradient-to-r from-amber-50 to-amber-100 border-amber-200":"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200"}`,children:n.jsx("div",{className:"w-full px-3 sm:px-4 lg:px-6 py-2.5 sm:py-3",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[n.jsx("div",{className:`flex-shrink-0 ${p?"text-red-600":x?"text-amber-600":"text-blue-600"}`,children:p?n.jsx(ei,{className:"w-5 h-5 sm:w-6 sm:h-6"}):n.jsx(to,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:`text-sm sm:text-base font-semibold leading-tight ${p?"text-red-900":x?"text-amber-900":"text-blue-900"}`,children:p?"Password Expired":f?"Set Your Password":"Password Expiring Soon"}),n.jsx("p",{className:`text-xs sm:text-sm mt-0.5 ${p?"text-red-700":x?"text-amber-700":"text-blue-700"}`,children:p?"Change it immediately to continue":f?`${t.days_until_deadline} day(s) remaining`:`${t.days_until_deadline} day(s) until expiration`})]})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 justify-between sm:justify-end",children:[n.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm min-w-0 flex-1 sm:flex-initial overflow-hidden",children:[n.jsx(y,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0 ${p?"text-red-600":x?"text-amber-600":"text-blue-600"} animate-in fade-in slide-in-from-left-2 duration-500`}),n.jsx("span",{className:`truncate sm:whitespace-normal font-medium ${p?"text-red-800":x?"text-amber-800":"text-blue-800"} animate-in fade-in slide-in-from-right-2 duration-500`,children:h_[l].text})]},l),n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[n.jsx("button",{onClick:e,className:`px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-semibold rounded-md shadow-sm transition-all hover:shadow-md active:scale-95 whitespace-nowrap ${p?"bg-red-600 text-white hover:bg-red-700":x?"bg-amber-600 text-white hover:bg-amber-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:"Change Now"}),!p&&n.jsx("button",{onClick:()=>o(!0),className:`p-1.5 rounded-md transition-all hover:shadow-sm active:scale-95 ${x?"text-amber-700 hover:bg-amber-200":"text-blue-700 hover:bg-blue-200"}`,"aria-label":"Dismiss banner",children:n.jsx(Bs,{className:"w-4 h-4"})})]})]})]})})})},Pn="[ActivitySync]",Fn="useActivitySync.tsx",Ok=()=>new Date().toISOString().slice(11,23);function ez({syncIntervalMs:e=3e4,debounceMs:t=5e3}={}){const{isAuthenticated:r,sessionMetadata:s}=ra(),[a,i]=U.useState(null),[o,l]=U.useState(!1);U.useRef(null);const c=U.useRef(null),d=U.useRef(0),u=U.useRef(!1);U.useEffect(()=>{if(!r||a||o)return;(async()=>{var _;try{const k=await fetch(`${Bt}/auth/me`,{credentials:"include"});if(k.ok){const M=(_=(await k.json()).session_metadata)==null?void 0:_.session_id;M&&(console.log(`${Pn} [${Fn}] Fetched session ID from /auth/me`),i(M))}}catch(k){console.warn(`${Pn} [${Fn}] Failed to fetch session ID from /auth/me:`,k)}finally{l(!0)}})()},[r,a,o]);const p=(s==null?void 0:s.backendSessionId)||a,x=p?`${p.slice(0,8)}...`:"none";console.log(`${Pn} [${Fn}] Initializing | Auth: ${r} | Session: ${x} | Sync: ${e}ms | Debounce: ${t}ms`);const f=U.useCallback(async()=>{if(!r||!p){console.log(`${Pn} [${Fn}] [sync] Skipped  not auth or no session ID`);return}const v=Date.now(),_=v-d.current,k=u.current;console.log(`${Pn} [${Fn}] [sync]  POST /auth/session/activity | Activity: ${k} | Since last: ${_}ms | ${Ok()}`);try{const S=await fetch(`${Bt}/auth/session/activity`,{method:"POST",headers:{"Content-Type":"application/json","X-Session-Id":p},credentials:"include",body:JSON.stringify({activity_detected:k,timestamp:new Date().toISOString(),source:"useActivitySync"})}),M=Date.now()-v;if(S.ok){const T=await S.json();if(console.log(`${Pn} [${Fn}] [sync] Success (200) in ${M}ms | Extended: ${!!T.session_extended} | Data: ${JSON.stringify(T).slice(0,100)}`),T.session_extended){const O=sessionStorage.getItem("auth_session");if(O)try{const A=JSON.parse(O);A.lastActivityAt=Date.now(),sessionStorage.setItem("auth_session",JSON.stringify(A)),A.rememberMe&&localStorage.setItem("auth_session",JSON.stringify(A)),console.log(`${Pn} [${Fn}] [sync] Local metadata updated`)}catch(A){console.error(`${Pn} [${Fn}] [sync] Failed to update metadata:`,A)}}}else if(S.status===401)console.warn(`${Pn} [${Fn}] [sync] Failed 401  Session likely invalidated by backend`);else{const T=await S.text();console.warn(`${Pn} [${Fn}] [sync] Failed ${S.status} | ${T.slice(0,100)}`)}u.current=!1,d.current=Date.now()}catch(S){console.error(`${Pn} [${Fn}] [sync] Network error:`,S.message||S)}},[r,p]),y=U.useCallback(()=>{if(!r)return;const v=Ok();u.current=!0,console.log(`${Pn} [${Fn}] [activity] Detected at ${v}`),c.current&&(clearTimeout(c.current),console.log(`${Pn} [${Fn}] [activity] Debounce reset`)),c.current=setTimeout(()=>{console.log(`${Pn} [${Fn}] [activity] Debounce fired  syncing`),f()},t)},[r,f,t]);return U.useEffect(()=>{if(!r||!p){console.log(`${Pn} [${Fn}] [effect] Skipped  not authenticated or no session ID`);return}console.log(`${Pn} [${Fn}] [effect] Setting up activity listeners + sync interval | Session: ${x}`);const v=["mousedown","keydown","touchstart","scroll"];v.forEach(k=>{document.addEventListener(k,y,{passive:!0}),console.log(`${Pn} [${Fn}] [listener] Added: ${k}`)});const _=setInterval(()=>{console.log(`${Pn} [${Fn}] [interval] Triggered every ${e}ms`),f()},e);return console.log(`${Pn} [${Fn}] [interval] Scheduling first sync in ${e}ms`),d.current=Date.now(),()=>{console.log(`${Pn} [${Fn}] [cleanup] Removing listeners & interval`),v.forEach(k=>{document.removeEventListener(k,y),console.log(`${Pn} [${Fn}] [listener] Removed: ${k}`)}),clearInterval(_),c.current&&(clearTimeout(c.current),c.current=null,console.log(`${Pn} [${Fn}] [cleanup] Debounce cleared`))}},[r,p,y,f,e,t]),{syncActivityWithBackend:f}}const tz=()=>{ez({syncIntervalMs:3e4,debounceMs:5e3}),ZB({checkIntervalMs:6e4});const[e,t]=U.useState(!1),[r,s]=U.useState(window.innerWidth<768),a=Vr(),{theme:i}=e5();return U.useEffect(()=>{const o=()=>{s(window.innerWidth<768)};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),n.jsxs(n.Fragment,{children:[n.jsx(QB,{onNavigateToChange:()=>a("/change-password")}),n.jsxs("div",{className:`flex overflow-hidden h-screen ${i==="dark"?"bg-slate-950":"bg-primary-50"} transition-colors`,children:[n.jsx(JB,{warningThresholdMs:300*1e3}),n.jsx(YB,{isMobile:r,isOpen:e||!r,onToggle:()=>t(!e)}),n.jsxs("div",{className:"flex overflow-hidden flex-col flex-1",children:[n.jsx(GB,{}),n.jsx("main",{className:`overflow-y-auto flex-1 p-0 md:p-0 mainWrapper ${i==="dark"?"bg-slate-950":"bg-primary-50"}`,children:n.jsx(jh,{})})]})]})]})},g7="/assets/coa-2-COEqoySo.png",rz=({className:e="",height:t=64})=>n.jsx("img",{src:g7,alt:"Coat of Arms of Kenya",className:`object-contain ${e}`,style:{height:typeof t=="number"?`${t}px`:t,width:"auto"}}),sz=()=>{var r,s;const{isAuthenticated:e}=ra(),t=xd();if(e){const a=((s=(r=t.state)==null?void 0:r.from)==null?void 0:s.pathname)||"/dashboard";return n.jsx(Tp,{to:a,replace:!0})}return n.jsxs("div",{className:"min-h-screen bg-primary-800 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx(rz,{className:"ml-4",height:64})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Assets Management System"})]}),n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsx("div",{className:"bg-white py-8 px-4 shadow rounded-lg sm:px-10",children:n.jsx(jh,{})})})]})};var uv={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */var az=uv.exports,Bk;function nz(){return Bk||(Bk=1,(function(e,t){(function(r,s){e.exports=s()})(az,function(){var r={};r.version="0.2.0";var s=r.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};r.configure=function(y){var v,_;for(v in y)_=y[v],_!==void 0&&y.hasOwnProperty(v)&&(s[v]=_);return this},r.status=null,r.set=function(y){var v=r.isStarted();y=a(y,s.minimum,1),r.status=y===1?null:y;var _=r.render(!v),k=_.querySelector(s.barSelector),S=s.speed,M=s.easing;return _.offsetWidth,l(function(T){s.positionUsing===""&&(s.positionUsing=r.getPositioningCSS()),c(k,o(y,S,M)),y===1?(c(_,{transition:"none",opacity:1}),_.offsetWidth,setTimeout(function(){c(_,{transition:"all "+S+"ms linear",opacity:0}),setTimeout(function(){r.remove(),T()},S)},S)):setTimeout(T,S)}),this},r.isStarted=function(){return typeof r.status=="number"},r.start=function(){r.status||r.set(0);var y=function(){setTimeout(function(){r.status&&(r.trickle(),y())},s.trickleSpeed)};return s.trickle&&y(),this},r.done=function(y){return!y&&!r.status?this:r.inc(.3+.5*Math.random()).set(1)},r.inc=function(y){var v=r.status;return v?(typeof y!="number"&&(y=(1-v)*a(Math.random()*v,.1,.95)),v=a(v+y,0,.994),r.set(v)):r.start()},r.trickle=function(){return r.inc(Math.random()*s.trickleRate)},(function(){var y=0,v=0;r.promise=function(_){return!_||_.state()==="resolved"?this:(v===0&&r.start(),y++,v++,_.always(function(){v--,v===0?(y=0,r.done()):r.set((y-v)/y)}),this)}})(),r.render=function(y){if(r.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var v=document.createElement("div");v.id="nprogress",v.innerHTML=s.template;var _=v.querySelector(s.barSelector),k=y?"-100":i(r.status||0),S=document.querySelector(s.parent),M;return c(_,{transition:"all 0 linear",transform:"translate3d("+k+"%,0,0)"}),s.showSpinner||(M=v.querySelector(s.spinnerSelector),M&&f(M)),S!=document.body&&u(S,"nprogress-custom-parent"),S.appendChild(v),v},r.remove=function(){p(document.documentElement,"nprogress-busy"),p(document.querySelector(s.parent),"nprogress-custom-parent");var y=document.getElementById("nprogress");y&&f(y)},r.isRendered=function(){return!!document.getElementById("nprogress")},r.getPositioningCSS=function(){var y=document.body.style,v="WebkitTransform"in y?"Webkit":"MozTransform"in y?"Moz":"msTransform"in y?"ms":"OTransform"in y?"O":"";return v+"Perspective"in y?"translate3d":v+"Transform"in y?"translate":"margin"};function a(y,v,_){return y<v?v:y>_?_:y}function i(y){return(-1+y)*100}function o(y,v,_){var k;return s.positionUsing==="translate3d"?k={transform:"translate3d("+i(y)+"%,0,0)"}:s.positionUsing==="translate"?k={transform:"translate("+i(y)+"%,0)"}:k={"margin-left":i(y)+"%"},k.transition="all "+v+"ms "+_,k}var l=(function(){var y=[];function v(){var _=y.shift();_&&_(v)}return function(_){y.push(_),y.length==1&&v()}})(),c=(function(){var y=["Webkit","O","Moz","ms"],v={};function _(T){return T.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(O,A){return A.toUpperCase()})}function k(T){var O=document.body.style;if(T in O)return T;for(var A=y.length,C=T.charAt(0).toUpperCase()+T.slice(1),N;A--;)if(N=y[A]+C,N in O)return N;return T}function S(T){return T=_(T),v[T]||(v[T]=k(T))}function M(T,O,A){O=S(O),T.style[O]=A}return function(T,O){var A=arguments,C,N;if(A.length==2)for(C in O)N=O[C],N!==void 0&&O.hasOwnProperty(C)&&M(T,C,N);else M(T,A[1],A[2])}})();function d(y,v){var _=typeof y=="string"?y:x(y);return _.indexOf(" "+v+" ")>=0}function u(y,v){var _=x(y),k=_+v;d(_,v)||(y.className=k.substring(1))}function p(y,v){var _=x(y),k;d(y,v)&&(k=_.replace(" "+v+" "," "),y.className=k.substring(1,k.length-1))}function x(y){return(" "+(y.className||"")+" ").replace(/\s+/gi," ")}function f(y){y&&y.parentNode&&y.parentNode.removeChild(y)}return r})})(uv)),uv.exports}var iz=nz();const Bw=Qx(iz);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function cg(e){return e+.5|0}const gh=(e,t,r)=>Math.max(Math.min(e,r),t);function A1(e){return gh(cg(e*2.55),0,255)}function Sh(e){return gh(cg(e*255),0,255)}function vu(e){return gh(cg(e/2.55)/100,0,1)}function zk(e){return gh(cg(e*100),0,100)}const Jc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},zw=[..."0123456789ABCDEF"],oz=e=>zw[e&15],lz=e=>zw[(e&240)>>4]+zw[e&15],m2=e=>(e&240)>>4===(e&15),cz=e=>m2(e.r)&&m2(e.g)&&m2(e.b)&&m2(e.a);function dz(e){var t=e.length,r;return e[0]==="#"&&(t===4||t===5?r={r:255&Jc[e[1]]*17,g:255&Jc[e[2]]*17,b:255&Jc[e[3]]*17,a:t===5?Jc[e[4]]*17:255}:(t===7||t===9)&&(r={r:Jc[e[1]]<<4|Jc[e[2]],g:Jc[e[3]]<<4|Jc[e[4]],b:Jc[e[5]]<<4|Jc[e[6]],a:t===9?Jc[e[7]]<<4|Jc[e[8]]:255})),r}const uz=(e,t)=>e<255?t(e):"";function hz(e){var t=cz(e)?oz:lz;return e?"#"+t(e.r)+t(e.g)+t(e.b)+uz(e.a,t):void 0}const fz=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function v7(e,t,r){const s=t*Math.min(r,1-r),a=(i,o=(i+e/30)%12)=>r-s*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function mz(e,t,r){const s=(a,i=(a+e/60)%6)=>r-r*t*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function pz(e,t,r){const s=v7(e,1,.5);let a;for(t+r>1&&(a=1/(t+r),t*=a,r*=a),a=0;a<3;a++)s[a]*=1-t-r,s[a]+=t;return s}function xz(e,t,r,s,a){return e===a?(t-r)/s+(t<r?6:0):t===a?(r-e)/s+2:(e-t)/s+4}function s5(e){const r=e.r/255,s=e.g/255,a=e.b/255,i=Math.max(r,s,a),o=Math.min(r,s,a),l=(i+o)/2;let c,d,u;return i!==o&&(u=i-o,d=l>.5?u/(2-i-o):u/(i+o),c=xz(r,s,a,u,i),c=c*60+.5),[c|0,d||0,l]}function a5(e,t,r,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,s)).map(Sh)}function n5(e,t,r){return a5(v7,e,t,r)}function gz(e,t,r){return a5(pz,e,t,r)}function vz(e,t,r){return a5(mz,e,t,r)}function y7(e){return(e%360+360)%360}function yz(e){const t=fz.exec(e);let r=255,s;if(!t)return;t[5]!==s&&(r=t[6]?A1(+t[5]):Sh(+t[5]));const a=y7(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?s=gz(a,i,o):t[1]==="hsv"?s=vz(a,i,o):s=n5(a,i,o),{r:s[0],g:s[1],b:s[2],a:r}}function bz(e,t){var r=s5(e);r[0]=y7(r[0]+t),r=n5(r),e.r=r[0],e.g=r[1],e.b=r[2]}function _z(e){if(!e)return;const t=s5(e),r=t[0],s=zk(t[1]),a=zk(t[2]);return e.a<255?`hsla(${r}, ${s}%, ${a}%, ${vu(e.a)})`:`hsl(${r}, ${s}%, ${a}%)`}const Uk={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$k={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function wz(){const e={},t=Object.keys($k),r=Object.keys(Uk);let s,a,i,o,l;for(s=0;s<t.length;s++){for(o=l=t[s],a=0;a<r.length;a++)i=r[a],l=l.replace(i,Uk[i]);i=parseInt($k[o],16),e[l]=[i>>16&255,i>>8&255,i&255]}return e}let p2;function Nz(e){p2||(p2=wz(),p2.transparent=[0,0,0,0]);const t=p2[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const kz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function jz(e){const t=kz.exec(e);let r=255,s,a,i;if(t){if(t[7]!==s){const o=+t[7];r=t[8]?A1(o):gh(o*255,0,255)}return s=+t[1],a=+t[3],i=+t[5],s=255&(t[2]?A1(s):gh(s,0,255)),a=255&(t[4]?A1(a):gh(a,0,255)),i=255&(t[6]?A1(i):gh(i,0,255)),{r:s,g:a,b:i,a:r}}}function Cz(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${vu(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const f_=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,km=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Sz(e,t,r){const s=km(vu(e.r)),a=km(vu(e.g)),i=km(vu(e.b));return{r:Sh(f_(s+r*(km(vu(t.r))-s))),g:Sh(f_(a+r*(km(vu(t.g))-a))),b:Sh(f_(i+r*(km(vu(t.b))-i))),a:e.a+r*(t.a-e.a)}}function x2(e,t,r){if(e){let s=s5(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*r,t===0?360:1)),s=n5(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function b7(e,t){return e&&Object.assign(t||{},e)}function Wk(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Sh(e[3]))):(t=b7(e,{r:0,g:0,b:0,a:1}),t.a=Sh(t.a)),t}function Ez(e){return e.charAt(0)==="r"?jz(e):yz(e)}class wx{constructor(t){if(t instanceof wx)return t;const r=typeof t;let s;r==="object"?s=Wk(t):r==="string"&&(s=dz(t)||Nz(t)||Ez(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=b7(this._rgb);return t&&(t.a=vu(t.a)),t}set rgb(t){this._rgb=Wk(t)}rgbString(){return this._valid?Cz(this._rgb):void 0}hexString(){return this._valid?hz(this._rgb):void 0}hslString(){return this._valid?_z(this._rgb):void 0}mix(t,r){if(t){const s=this.rgb,a=t.rgb;let i;const o=r===i?.5:r,l=2*o-1,c=s.a-a.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,s.r=255&d*s.r+i*a.r+.5,s.g=255&d*s.g+i*a.g+.5,s.b=255&d*s.b+i*a.b+.5,s.a=o*s.a+(1-o)*a.a,this.rgb=s}return this}interpolate(t,r){return t&&(this._rgb=Sz(this._rgb,t._rgb,r)),this}clone(){return new wx(this.rgb)}alpha(t){return this._rgb.a=Sh(t),this}clearer(t){const r=this._rgb;return r.a*=1-t,this}greyscale(){const t=this._rgb,r=cg(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=r,this}opaquer(t){const r=this._rgb;return r.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return x2(this._rgb,2,t),this}darken(t){return x2(this._rgb,2,-t),this}saturate(t){return x2(this._rgb,1,t),this}desaturate(t){return x2(this._rgb,1,-t),this}rotate(t){return bz(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function uu(){}const Az=(()=>{let e=0;return()=>e++})();function oa(e){return e==null}function vi(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ps(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function el(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function N0(e,t){return el(e)?e:t}function ds(e,t){return typeof e>"u"?t:e}const Tz=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,_7=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ga(e,t,r){if(e&&typeof e.call=="function")return e.apply(r,t)}function _a(e,t,r,s){let a,i,o;if(vi(e))for(i=e.length,a=0;a<i;a++)t.call(r,e[a],a);else if(Ps(e))for(o=Object.keys(e),i=o.length,a=0;a<i;a++)t.call(r,e[o[a]],o[a])}function Ov(e,t){let r,s,a,i;if(!e||!t||e.length!==t.length)return!1;for(r=0,s=e.length;r<s;++r)if(a=e[r],i=t[r],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function Bv(e){if(vi(e))return e.map(Bv);if(Ps(e)){const t=Object.create(null),r=Object.keys(e),s=r.length;let a=0;for(;a<s;++a)t[r[a]]=Bv(e[r[a]]);return t}return e}function w7(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Mz(e,t,r,s){if(!w7(e))return;const a=t[e],i=r[e];Ps(a)&&Ps(i)?Nx(a,i,s):t[e]=Bv(i)}function Nx(e,t,r){const s=vi(t)?t:[t],a=s.length;if(!Ps(e))return e;r=r||{};const i=r.merger||Mz;let o;for(let l=0;l<a;++l){if(o=s[l],!Ps(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)i(c[d],e,o,r)}return e}function W1(e,t){return Nx(e,t,{merger:Lz})}function Lz(e,t,r){if(!w7(e))return;const s=t[e],a=r[e];Ps(s)&&Ps(a)?W1(s,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Bv(a))}const Hk={"":e=>e,x:e=>e.x,y:e=>e.y};function Pz(e){const t=e.split("."),r=[];let s="";for(const a of t)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(r.push(s),s="");return r}function Fz(e){const t=Pz(e);return r=>{for(const s of t){if(s==="")break;r=r&&r[s]}return r}}function Ph(e,t){return(Hk[t]||(Hk[t]=Fz(t)))(e)}function i5(e){return e.charAt(0).toUpperCase()+e.slice(1)}const kx=e=>typeof e<"u",Fh=e=>typeof e=="function",Vk=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};function Dz(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const fa=Math.PI,bn=2*fa,Iz=bn+fa,zv=Number.POSITIVE_INFINITY,Rz=fa/180,Ii=fa/2,hf=fa/4,Gk=fa*2/3,N7=Math.log10,V0=Math.sign;function H1(e,t,r){return Math.abs(e-t)<r}function qk(e){const t=Math.round(e);e=H1(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(N7(e))),s=e/r;return(s<=1?1:s<=2?2:s<=5?5:10)*r}function Oz(e){const t=[],r=Math.sqrt(e);let s;for(s=1;s<r;s++)e%s===0&&(t.push(s),t.push(e/s));return r===(r|0)&&t.push(r),t.sort((a,i)=>a-i).pop(),t}function Bz(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function gp(e){return!Bz(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function zz(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}function Uz(e,t,r){let s,a,i;for(s=0,a=e.length;s<a;s++)i=e[s][r],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function R0(e){return e*(fa/180)}function $z(e){return e*(180/fa)}function Kk(e){if(!el(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function k7(e,t){const r=t.x-e.x,s=t.y-e.y,a=Math.sqrt(r*r+s*s);let i=Math.atan2(s,r);return i<-.5*fa&&(i+=bn),{angle:i,distance:a}}function Uw(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Wz(e,t){return(e-t+Iz)%bn-fa}function kc(e){return(e%bn+bn)%bn}function jx(e,t,r,s){const a=kc(e),i=kc(t),o=kc(r),l=kc(i-a),c=kc(o-a),d=kc(a-i),u=kc(a-o);return a===i||a===o||s&&i===o||l>c&&d<u}function Zo(e,t,r){return Math.max(t,Math.min(r,e))}function Hz(e){return Zo(e,-32768,32767)}function bu(e,t,r,s=1e-6){return e>=Math.min(t,r)-s&&e<=Math.max(t,r)+s}function o5(e,t,r){r=r||(o=>e[o]<t);let s=e.length-1,a=0,i;for(;s-a>1;)i=a+s>>1,r(i)?a=i:s=i;return{lo:a,hi:s}}const jf=(e,t,r,s)=>o5(e,r,s?a=>{const i=e[a][t];return i<r||i===r&&e[a+1][t]===r}:a=>e[a][t]<r),Vz=(e,t,r)=>o5(e,r,s=>e[s][t]>=r);function Gz(e,t,r){let s=0,a=e.length;for(;s<a&&e[s]<t;)s++;for(;a>s&&e[a-1]>r;)a--;return s>0||a<e.length?e.slice(s,a):e}const j7=["push","pop","shift","splice","unshift"];function qz(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),j7.forEach(r=>{const s="_onData"+i5(r),a=e[r];Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return e._chartjs.listeners.forEach(l=>{typeof l[s]=="function"&&l[s](...i)}),o}})})}function Yk(e,t){const r=e._chartjs;if(!r)return;const s=r.listeners,a=s.indexOf(t);a!==-1&&s.splice(a,1),!(s.length>0)&&(j7.forEach(i=>{delete e[i]}),delete e._chartjs)}function C7(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const S7=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function E7(e,t){let r=[],s=!1;return function(...a){r=a,s||(s=!0,S7.call(window,()=>{s=!1,e.apply(t,r)}))}}function Kz(e,t){let r;return function(...s){return t?(clearTimeout(r),r=setTimeout(e,t,s)):e.apply(this,s),t}}const l5=e=>e==="start"?"left":e==="end"?"right":"center",Wo=(e,t,r)=>e==="start"?t:e==="end"?r:(t+r)/2,Yz=(e,t,r,s)=>e===(s?"left":"right")?r:e==="center"?(t+r)/2:t;function A7(e,t,r){const s=t.length;let a=0,i=s;if(e._sorted){const{iScale:o,vScale:l,_parsed:c}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:p,max:x,minDefined:f,maxDefined:y}=o.getUserBounds();if(f){if(a=Math.min(jf(c,u,p).lo,r?s:jf(t,u,o.getPixelForValue(p)).lo),d){const v=c.slice(0,a+1).reverse().findIndex(_=>!oa(_[l.axis]));a-=Math.max(0,v)}a=Zo(a,0,s-1)}if(y){let v=Math.max(jf(c,o.axis,x,!0).hi+1,r?0:jf(t,u,o.getPixelForValue(x),!0).hi+1);if(d){const _=c.slice(v-1).findIndex(k=>!oa(k[l.axis]));v+=Math.max(0,_)}i=Zo(v,a,s)-a}else i=s-a}return{start:a,count:i}}function T7(e){const{xScale:t,yScale:r,_scaleRanges:s}=e,a={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!s)return e._scaleRanges=a,!0;const i=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==r.min||s.ymax!==r.max;return Object.assign(s,a),i}const g2=e=>e===0||e===1,Zk=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*bn/r)),Xk=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*bn/r)+1,V1={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Ii)+1,easeOutSine:e=>Math.sin(e*Ii),easeInOutSine:e=>-.5*(Math.cos(fa*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>g2(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>g2(e)?e:Zk(e,.075,.3),easeOutElastic:e=>g2(e)?e:Xk(e,.075,.3),easeInOutElastic(e){return g2(e)?e:e<.5?.5*Zk(e*2,.1125,.45):.5+.5*Xk(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-V1.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?V1.easeInBounce(e*2)*.5:V1.easeOutBounce(e*2-1)*.5+.5};function c5(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Jk(e){return c5(e)?e:new wx(e)}function m_(e){return c5(e)?e:new wx(e).saturate(.5).darken(.1).hexString()}const Zz=["x","y","borderWidth","radius","tension"],Xz=["color","borderColor","backgroundColor"];function Jz(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Xz},numbers:{type:"number",properties:Zz}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Qz(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Qk=new Map;function eU(e,t){t=t||{};const r=e+JSON.stringify(t);let s=Qk.get(r);return s||(s=new Intl.NumberFormat(e,t),Qk.set(r,s)),s}function Uy(e,t,r){return eU(t,r).format(e)}const tU={values(e){return vi(e)?e:""+e},numeric(e,t,r){if(e===0)return"0";const s=this.chart.options.locale;let a,i=e;if(r.length>1){const d=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),i=rU(e,r)}const o=N7(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Uy(e,s,c)}};function rU(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),r}var M7={formatters:tU};function sU(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,r)=>r.lineWidth,tickColor:(t,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:M7.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Bf=Object.create(null),$w=Object.create(null);function G1(e,t){if(!t)return e;const r=t.split(".");for(let s=0,a=r.length;s<a;++s){const i=r[s];e=e[i]||(e[i]=Object.create(null))}return e}function p_(e,t,r){return typeof t=="string"?Nx(G1(e,t),r):Nx(G1(e,""),t)}class aU{constructor(t,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>m_(a.backgroundColor),this.hoverBorderColor=(s,a)=>m_(a.borderColor),this.hoverColor=(s,a)=>m_(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(r)}set(t,r){return p_(this,t,r)}get(t){return G1(this,t)}describe(t,r){return p_($w,t,r)}override(t,r){return p_(Bf,t,r)}route(t,r,s,a){const i=G1(this,t),o=G1(this,s),l="_"+r;Object.defineProperties(i,{[l]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],d=o[a];return Ps(c)?Object.assign({},d,c):ds(c,d)},set(c){this[l]=c}}})}apply(t){t.forEach(r=>r(this))}}var Qn=new aU({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Jz,Qz,sU]);function nU(e){return!e||oa(e.size)||oa(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function e6(e,t,r,s,a){let i=t[a];return i||(i=t[a]=e.measureText(a).width,r.push(a)),i>s&&(s=i),s}function ff(e,t,r){const s=e.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((t-a)*s)/s+a}function t6(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Ww(e,t,r,s){L7(e,t,r,s,null)}function L7(e,t,r,s,a){let i,o,l,c,d,u,p,x;const f=t.pointStyle,y=t.rotation,v=t.radius;let _=(y||0)*Rz;if(f&&typeof f=="object"&&(i=f.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(r,s),e.rotate(_),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(v)||v<=0)){switch(e.beginPath(),f){default:a?e.ellipse(r,s,a/2,v,0,0,bn):e.arc(r,s,v,0,bn),e.closePath();break;case"triangle":u=a?a/2:v,e.moveTo(r+Math.sin(_)*u,s-Math.cos(_)*v),_+=Gk,e.lineTo(r+Math.sin(_)*u,s-Math.cos(_)*v),_+=Gk,e.lineTo(r+Math.sin(_)*u,s-Math.cos(_)*v),e.closePath();break;case"rectRounded":d=v*.516,c=v-d,o=Math.cos(_+hf)*c,p=Math.cos(_+hf)*(a?a/2-d:c),l=Math.sin(_+hf)*c,x=Math.sin(_+hf)*(a?a/2-d:c),e.arc(r-p,s-l,d,_-fa,_-Ii),e.arc(r+x,s-o,d,_-Ii,_),e.arc(r+p,s+l,d,_,_+Ii),e.arc(r-x,s+o,d,_+Ii,_+fa),e.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*v,u=a?a/2:c,e.rect(r-u,s-c,2*u,2*c);break}_+=hf;case"rectRot":p=Math.cos(_)*(a?a/2:v),o=Math.cos(_)*v,l=Math.sin(_)*v,x=Math.sin(_)*(a?a/2:v),e.moveTo(r-p,s-l),e.lineTo(r+x,s-o),e.lineTo(r+p,s+l),e.lineTo(r-x,s+o),e.closePath();break;case"crossRot":_+=hf;case"cross":p=Math.cos(_)*(a?a/2:v),o=Math.cos(_)*v,l=Math.sin(_)*v,x=Math.sin(_)*(a?a/2:v),e.moveTo(r-p,s-l),e.lineTo(r+p,s+l),e.moveTo(r+x,s-o),e.lineTo(r-x,s+o);break;case"star":p=Math.cos(_)*(a?a/2:v),o=Math.cos(_)*v,l=Math.sin(_)*v,x=Math.sin(_)*(a?a/2:v),e.moveTo(r-p,s-l),e.lineTo(r+p,s+l),e.moveTo(r+x,s-o),e.lineTo(r-x,s+o),_+=hf,p=Math.cos(_)*(a?a/2:v),o=Math.cos(_)*v,l=Math.sin(_)*v,x=Math.sin(_)*(a?a/2:v),e.moveTo(r-p,s-l),e.lineTo(r+p,s+l),e.moveTo(r+x,s-o),e.lineTo(r-x,s+o);break;case"line":o=a?a/2:Math.cos(_)*v,l=Math.sin(_)*v,e.moveTo(r-o,s-l),e.lineTo(r+o,s+l);break;case"dash":e.moveTo(r,s),e.lineTo(r+Math.cos(_)*(a?a/2:v),s+Math.sin(_)*v);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Cx(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function $y(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Wy(e){e.restore()}function iU(e,t,r,s,a){if(!t)return e.lineTo(r.x,r.y);if(a==="middle"){const i=(t.x+r.x)/2;e.lineTo(i,t.y),e.lineTo(i,r.y)}else a==="after"!=!!s?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function oU(e,t,r,s){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?r.cp2x:r.cp1x,s?r.cp2y:r.cp1y,r.x,r.y)}function lU(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),oa(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function cU(e,t,r,s,a){if(a.strikethrough||a.underline){const i=e.measureText(s),o=t-i.actualBoundingBoxLeft,l=t+i.actualBoundingBoxRight,c=r-i.actualBoundingBoxAscent,d=r+i.actualBoundingBoxDescent,u=a.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(o,u),e.lineTo(l,u),e.stroke()}}function dU(e,t){const r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function Sx(e,t,r,s,a,i={}){const o=vi(t)?t:[t],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(e.save(),e.font=a.string,lU(e,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&dU(e,i.backdrop),l&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),oa(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(d,r,s,i.maxWidth)),e.fillText(d,r,s,i.maxWidth),cU(e,r,s,d,i),s+=Number(a.lineHeight);e.restore()}function Uv(e,t){const{x:r,y:s,w:a,h:i,radius:o}=t;e.arc(r+o.topLeft,s+o.topLeft,o.topLeft,1.5*fa,fa,!0),e.lineTo(r,s+i-o.bottomLeft),e.arc(r+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,fa,Ii,!0),e.lineTo(r+a-o.bottomRight,s+i),e.arc(r+a-o.bottomRight,s+i-o.bottomRight,o.bottomRight,Ii,0,!0),e.lineTo(r+a,s+o.topRight),e.arc(r+a-o.topRight,s+o.topRight,o.topRight,0,-Ii,!0),e.lineTo(r+o.topLeft,s)}const uU=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,hU=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function fU(e,t){const r=(""+e).match(uU);if(!r||r[1]==="normal")return t*1.2;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100;break}return t*e}const mU=e=>+e||0;function d5(e,t){const r={},s=Ps(t),a=s?Object.keys(t):t,i=Ps(e)?s?o=>ds(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of a)r[o]=mU(i(o));return r}function P7(e){return d5(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Qm(e){return d5(e,["topLeft","topRight","bottomLeft","bottomRight"])}function hd(e){const t=P7(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Xo(e,t){e=e||{},t=t||Qn.font;let r=ds(e.size,t.size);typeof r=="string"&&(r=parseInt(r,10));let s=ds(e.style,t.style);s&&!(""+s).match(hU)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:ds(e.family,t.family),lineHeight:fU(ds(e.lineHeight,t.lineHeight),r),size:r,style:s,weight:ds(e.weight,t.weight),string:""};return a.string=nU(a),a}function v2(e,t,r,s){let a,i,o;for(a=0,i=e.length;a<i;++a)if(o=e[a],o!==void 0&&o!==void 0)return o}function pU(e,t,r){const{min:s,max:a}=e,i=_7(t,(a-s)/2),o=(l,c)=>r&&l===0?0:l+c;return{min:o(s,-Math.abs(i)),max:o(a,i)}}function Qf(e,t){return Object.assign(Object.create(e),t)}function u5(e,t=[""],r,s,a=()=>e[0]){const i=r||e;typeof s>"u"&&(s=R7("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:s,_getTarget:a,override:l=>u5([l,...e],t,i,s)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete e[0][c],!0},get(l,c){return D7(l,c,()=>NU(c,t,e,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,c){return s6(l).includes(c)},ownKeys(l){return s6(l)},set(l,c,d){const u=l._storage||(l._storage=a());return l[c]=u[c]=d,delete l._keys,!0}})}function vp(e,t,r,s){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:F7(e,s),setContext:i=>vp(e,i,r,s),override:i=>vp(e.override(i),t,r,s)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete e[o],!0},get(i,o,l){return D7(i,o,()=>gU(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(i,o,l){return e[o]=l,delete i[o],!0}})}function F7(e,t={scriptable:!0,indexable:!0}){const{_scriptable:r=t.scriptable,_indexable:s=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:r,indexable:s,isScriptable:Fh(r)?r:()=>r,isIndexable:Fh(s)?s:()=>s}}const xU=(e,t)=>e?e+i5(t):t,h5=(e,t)=>Ps(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function D7(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=r();return e[t]=s,s}function gU(e,t,r){const{_proxy:s,_context:a,_subProxy:i,_descriptors:o}=e;let l=s[t];return Fh(l)&&o.isScriptable(t)&&(l=vU(t,l,e,r)),vi(l)&&l.length&&(l=yU(t,l,e,o.isIndexable)),h5(t,l)&&(l=vp(l,a,i&&i[t],o)),l}function vU(e,t,r,s){const{_proxy:a,_context:i,_subProxy:o,_stack:l}=r;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=t(i,o||s);return l.delete(e),h5(e,c)&&(c=f5(a._scopes,a,e,c)),c}function yU(e,t,r,s){const{_proxy:a,_context:i,_subProxy:o,_descriptors:l}=r;if(typeof i.index<"u"&&s(e))return t[i.index%t.length];if(Ps(t[0])){const c=t,d=a._scopes.filter(u=>u!==c);t=[];for(const u of c){const p=f5(d,a,e,u);t.push(vp(p,i,o&&o[e],l))}}return t}function I7(e,t,r){return Fh(e)?e(t,r):e}const bU=(e,t)=>e===!0?t:typeof e=="string"?Ph(t,e):void 0;function _U(e,t,r,s,a){for(const i of t){const o=bU(r,i);if(o){e.add(o);const l=I7(o._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==s)return l}else if(o===!1&&typeof s<"u"&&r!==s)return null}return!1}function f5(e,t,r,s){const a=t._rootScopes,i=I7(t._fallback,r,s),o=[...e,...a],l=new Set;l.add(s);let c=r6(l,o,r,i||r,s);return c===null||typeof i<"u"&&i!==r&&(c=r6(l,o,i,c,s),c===null)?!1:u5(Array.from(l),[""],a,i,()=>wU(t,r,s))}function r6(e,t,r,s,a){for(;r;)r=_U(e,t,r,s,a);return r}function wU(e,t,r){const s=e._getTarget();t in s||(s[t]={});const a=s[t];return vi(a)&&Ps(r)?r:a||{}}function NU(e,t,r,s){let a;for(const i of t)if(a=R7(xU(i,e),r),typeof a<"u")return h5(e,a)?f5(r,s,e,a):a}function R7(e,t){for(const r of t){if(!r)continue;const s=r[e];if(typeof s<"u")return s}}function s6(e){let t=e._keys;return t||(t=e._keys=kU(e._scopes)),t}function kU(e){const t=new Set;for(const r of e)for(const s of Object.keys(r).filter(a=>!a.startsWith("_")))t.add(s);return Array.from(t)}function O7(e,t,r,s){const{iScale:a}=e,{key:i="r"}=this._parsing,o=new Array(s);let l,c,d,u;for(l=0,c=s;l<c;++l)d=l+r,u=t[d],o[l]={r:a.parse(Ph(u,i),d)};return o}const jU=Number.EPSILON||1e-14,yp=(e,t)=>t<e.length&&!e[t].skip&&e[t],B7=e=>e==="x"?"y":"x";function CU(e,t,r,s){const a=e.skip?t:e,i=t,o=r.skip?t:r,l=Uw(i,a),c=Uw(o,i);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const p=s*d,x=s*u;return{previous:{x:i.x-p*(o.x-a.x),y:i.y-p*(o.y-a.y)},next:{x:i.x+x*(o.x-a.x),y:i.y+x*(o.y-a.y)}}}function SU(e,t,r){const s=e.length;let a,i,o,l,c,d=yp(e,0);for(let u=0;u<s-1;++u)if(c=d,d=yp(e,u+1),!(!c||!d)){if(H1(t[u],0,jU)){r[u]=r[u+1]=0;continue}a=r[u]/t[u],i=r[u+1]/t[u],l=Math.pow(a,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),r[u]=a*o*t[u],r[u+1]=i*o*t[u])}}function EU(e,t,r="x"){const s=B7(r),a=e.length;let i,o,l,c=yp(e,0);for(let d=0;d<a;++d){if(o=l,l=c,c=yp(e,d+1),!l)continue;const u=l[r],p=l[s];o&&(i=(u-o[r])/3,l[`cp1${r}`]=u-i,l[`cp1${s}`]=p-i*t[d]),c&&(i=(c[r]-u)/3,l[`cp2${r}`]=u+i,l[`cp2${s}`]=p+i*t[d])}}function AU(e,t="x"){const r=B7(t),s=e.length,a=Array(s).fill(0),i=Array(s);let o,l,c,d=yp(e,0);for(o=0;o<s;++o)if(l=c,c=d,d=yp(e,o+1),!!c){if(d){const u=d[t]-c[t];a[o]=u!==0?(d[r]-c[r])/u:0}i[o]=l?d?V0(a[o-1])!==V0(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}SU(e,a,i),EU(e,i,t)}function y2(e,t,r){return Math.max(Math.min(e,r),t)}function TU(e,t){let r,s,a,i,o,l=Cx(e[0],t);for(r=0,s=e.length;r<s;++r)o=i,i=l,l=r<s-1&&Cx(e[r+1],t),i&&(a=e[r],o&&(a.cp1x=y2(a.cp1x,t.left,t.right),a.cp1y=y2(a.cp1y,t.top,t.bottom)),l&&(a.cp2x=y2(a.cp2x,t.left,t.right),a.cp2y=y2(a.cp2y,t.top,t.bottom)))}function MU(e,t,r,s,a){let i,o,l,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")AU(e,a);else{let d=s?e[e.length-1]:e[0];for(i=0,o=e.length;i<o;++i)l=e[i],c=CU(d,l,e[Math.min(i+1,o-(s?0:1))%o],t.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}t.capBezierPoints&&TU(e,r)}function m5(){return typeof window<"u"&&typeof document<"u"}function p5(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function $v(e,t,r){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[r])):s=e,s}const Hy=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function LU(e,t){return Hy(e).getPropertyValue(t)}const PU=["top","right","bottom","left"];function Tf(e,t,r){const s={};r=r?"-"+r:"";for(let a=0;a<4;a++){const i=PU[a];s[i]=parseFloat(e[t+"-"+i+r])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const FU=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function DU(e,t){const r=e.touches,s=r&&r.length?r[0]:e,{offsetX:a,offsetY:i}=s;let o=!1,l,c;if(FU(a,i,e.target))l=a,c=i;else{const d=t.getBoundingClientRect();l=s.clientX-d.left,c=s.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function xf(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:s}=t,a=Hy(r),i=a.boxSizing==="border-box",o=Tf(a,"padding"),l=Tf(a,"border","width"),{x:c,y:d,box:u}=DU(e,r),p=o.left+(u&&l.left),x=o.top+(u&&l.top);let{width:f,height:y}=t;return i&&(f-=o.width+l.width,y-=o.height+l.height),{x:Math.round((c-p)/f*r.width/s),y:Math.round((d-x)/y*r.height/s)}}function IU(e,t,r){let s,a;if(t===void 0||r===void 0){const i=e&&p5(e);if(!i)t=e.clientWidth,r=e.clientHeight;else{const o=i.getBoundingClientRect(),l=Hy(i),c=Tf(l,"border","width"),d=Tf(l,"padding");t=o.width-d.width-c.width,r=o.height-d.height-c.height,s=$v(l.maxWidth,i,"clientWidth"),a=$v(l.maxHeight,i,"clientHeight")}}return{width:t,height:r,maxWidth:s||zv,maxHeight:a||zv}}const vh=e=>Math.round(e*10)/10;function RU(e,t,r,s){const a=Hy(e),i=Tf(a,"margin"),o=$v(a.maxWidth,e,"clientWidth")||zv,l=$v(a.maxHeight,e,"clientHeight")||zv,c=IU(e,t,r);let{width:d,height:u}=c;if(a.boxSizing==="content-box"){const x=Tf(a,"border","width"),f=Tf(a,"padding");d-=f.width+x.width,u-=f.height+x.height}return d=Math.max(0,d-i.width),u=Math.max(0,s?d/s:u-i.height),d=vh(Math.min(d,o,c.maxWidth)),u=vh(Math.min(u,l,c.maxHeight)),d&&!u&&(u=vh(d/2)),(t!==void 0||r!==void 0)&&s&&c.height&&u>c.height&&(u=c.height,d=vh(Math.floor(u*s))),{width:d,height:u}}function a6(e,t,r){const s=t||1,a=vh(e.height*s),i=vh(e.width*s);e.height=vh(e.height),e.width=vh(e.width);const o=e.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||o.height!==a||o.width!==i?(e.currentDevicePixelRatio=s,o.height=a,o.width=i,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const OU=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};m5()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function n6(e,t){const r=LU(e,t),s=r&&r.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function gf(e,t,r,s){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function BU(e,t,r,s){return{x:e.x+r*(t.x-e.x),y:s==="middle"?r<.5?e.y:t.y:s==="after"?r<1?e.y:t.y:r>0?t.y:e.y}}function zU(e,t,r,s){const a={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},o=gf(e,a,r),l=gf(a,i,r),c=gf(i,t,r),d=gf(o,l,r),u=gf(l,c,r);return gf(d,u,r)}const UU=function(e,t){return{x(r){return e+e+t-r},setWidth(r){t=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,s){return r-s},leftForLtr(r,s){return r-s}}},$U=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function ep(e,t,r){return e?UU(t,r):$U()}function z7(e,t){let r,s;(t==="ltr"||t==="rtl")&&(r=e.canvas.style,s=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=s)}function U7(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function $7(e){return e==="angle"?{between:jx,compare:Wz,normalize:kc}:{between:bu,compare:(t,r)=>t-r,normalize:t=>t}}function i6({start:e,end:t,count:r,loop:s,style:a}){return{start:e%r,end:t%r,loop:s&&(t-e+1)%r===0,style:a}}function WU(e,t,r){const{property:s,start:a,end:i}=r,{between:o,normalize:l}=$7(s),c=t.length;let{start:d,end:u,loop:p}=e,x,f;if(p){for(d+=c,u+=c,x=0,f=c;x<f&&o(l(t[d%c][s]),a,i);++x)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:p,style:e.style}}function W7(e,t,r){if(!r)return[e];const{property:s,start:a,end:i}=r,o=t.length,{compare:l,between:c,normalize:d}=$7(s),{start:u,end:p,loop:x,style:f}=WU(e,t,r),y=[];let v=!1,_=null,k,S,M;const T=()=>c(a,M,k)&&l(a,M)!==0,O=()=>l(i,k)===0||c(i,M,k),A=()=>v||T(),C=()=>!v||O();for(let N=u,E=u;N<=p;++N)S=t[N%o],!S.skip&&(k=d(S[s]),k!==M&&(v=c(k,a,i),_===null&&A()&&(_=l(k,a)===0?N:E),_!==null&&C()&&(y.push(i6({start:_,end:N,loop:x,count:o,style:f})),_=null),E=N,M=k));return _!==null&&y.push(i6({start:_,end:p,loop:x,count:o,style:f})),y}function H7(e,t){const r=[],s=e.segments;for(let a=0;a<s.length;a++){const i=W7(s[a],e.points,t);i.length&&r.push(...i)}return r}function HU(e,t,r,s){let a=0,i=t-1;if(r&&!s)for(;a<t&&!e[a].skip;)a++;for(;a<t&&e[a].skip;)a++;for(a%=t,r&&(i+=a);i>a&&e[i%t].skip;)i--;return i%=t,{start:a,end:i}}function VU(e,t,r,s){const a=e.length,i=[];let o=t,l=e[t],c;for(c=t+1;c<=r;++c){const d=e[c%a];d.skip||d.stop?l.skip||(s=!1,i.push({start:t%a,end:(c-1)%a,loop:s}),t=o=d.stop?c:null):(o=c,l.skip&&(t=c)),l=d}return o!==null&&i.push({start:t%a,end:o%a,loop:s}),i}function GU(e,t){const r=e.points,s=e.options.spanGaps,a=r.length;if(!a)return[];const i=!!e._loop,{start:o,end:l}=HU(r,a,i,s);if(s===!0)return o6(e,[{start:o,end:l,loop:i}],r,t);const c=l<o?l+a:l,d=!!e._fullLoop&&o===0&&l===a-1;return o6(e,VU(r,o,c,d),r,t)}function o6(e,t,r,s){return!s||!s.setContext||!r?t:qU(e,t,r,s)}function qU(e,t,r,s){const a=e._chart.getContext(),i=l6(e.options),{_datasetIndex:o,options:{spanGaps:l}}=e,c=r.length,d=[];let u=i,p=t[0].start,x=p;function f(y,v,_,k){const S=l?-1:1;if(y!==v){for(y+=c;r[y%c].skip;)y-=S;for(;r[v%c].skip;)v+=S;y%c!==v%c&&(d.push({start:y%c,end:v%c,loop:_,style:k}),u=k,p=v%c)}}for(const y of t){p=l?p:y.start;let v=r[p%c],_;for(x=p+1;x<=y.end;x++){const k=r[x%c];_=l6(s.setContext(Qf(a,{type:"segment",p0:v,p1:k,p0DataIndex:(x-1)%c,p1DataIndex:x%c,datasetIndex:o}))),KU(_,u)&&f(p,x-1,y.loop,u),v=k,u=_}p<x-1&&f(p,x-1,y.loop,u)}return d}function l6(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function KU(e,t){if(!t)return!1;const r=[],s=function(a,i){return c5(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(e,s)!==JSON.stringify(t,s)}function b2(e,t,r){return e.options.clip?e[r]:t[r]}function YU(e,t){const{xScale:r,yScale:s}=e;return r&&s?{left:b2(r,t,"left"),right:b2(r,t,"right"),top:b2(s,t,"top"),bottom:b2(s,t,"bottom")}:t}function V7(e,t){const r=t._clip;if(r.disabled)return!1;const s=YU(t,e.chartArea);return{left:r.left===!1?0:s.left-(r.left===!0?0:r.left),right:r.right===!1?e.width:s.right+(r.right===!0?0:r.right),top:r.top===!1?0:s.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?e.height:s.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class ZU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,r,s,a){const i=r.listeners[a],o=r.duration;i.forEach(l=>l({chart:t,initial:r.initial,numSteps:o,currentStep:Math.min(s-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=S7.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let r=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(t),l=!0):(i[o]=i[i.length-1],i.pop());l&&(a.draw(),this._notify(a,s,t,"progress")),i.length||(s.running=!1,this._notify(a,s,t,"complete"),s.initial=!1),r+=i.length}),this._lastDate=t,r===0&&(this._running=!1)}_getAnims(t){const r=this._charts;let s=r.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(t,s)),s}listen(t,r,s){this._getAnims(t).listeners[r].push(s)}add(t,r){!r||!r.length||this._getAnims(t).items.push(...r)}has(t){return this._getAnims(t).items.length>0}start(t){const r=this._charts.get(t);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const r=this._charts.get(t);return!(!r||!r.running||!r.items.length)}stop(t){const r=this._charts.get(t);if(!r||!r.items.length)return;const s=r.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();r.items=[],this._notify(t,r,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var xu=new ZU;const c6="transparent",XU={boolean(e,t,r){return r>.5?t:e},color(e,t,r){const s=Jk(e||c6),a=s.valid&&Jk(t||c6);return a&&a.valid?a.mix(s,r).hexString():t},number(e,t,r){return e+(t-e)*r}};class JU{constructor(t,r,s,a){const i=r[s];a=v2([t.to,a,i,t.from]);const o=v2([t.from,i,a]);this._active=!0,this._fn=t.fn||XU[t.type||typeof o],this._easing=V1[t.easing]||V1.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=r,this._prop=s,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(t,r,s){if(this._active){this._notify(!1);const a=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=v2([t.to,r,a,t.from]),this._from=v2([t.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const r=t-this._start,s=this._duration,a=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||r<s),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=i;return}c=r/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(i,l,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((r,s)=>{t.push({res:r,rej:s})})}_notify(t){const r=t?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][r]()}}class G7{constructor(t,r){this._chart=t,this._properties=new Map,this.configure(r)}configure(t){if(!Ps(t))return;const r=Object.keys(Qn.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const i=t[a];if(!Ps(i))return;const o={};for(const l of r)o[l]=i[l];(vi(i.properties)&&i.properties||[a]).forEach(l=>{(l===a||!s.has(l))&&s.set(l,o)})})}_animateOptions(t,r){const s=r.options,a=e$(t,s);if(!a)return[];const i=this._createAnimations(a,s);return s.$shared&&QU(t.options.$animations,s).then(()=>{t.options=s},()=>{}),i}_createAnimations(t,r){const s=this._properties,a=[],i=t.$animations||(t.$animations={}),o=Object.keys(r),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){a.push(...this._animateOptions(t,r));continue}const u=r[d];let p=i[d];const x=s.get(d);if(p)if(x&&p.active()){p.update(x,u,l);continue}else p.cancel();if(!x||!x.duration){t[d]=u;continue}i[d]=p=new JU(x,t,d,u),a.push(p)}return a}update(t,r){if(this._properties.size===0){Object.assign(t,r);return}const s=this._createAnimations(t,r);if(s.length)return xu.add(this._chart,s),!0}}function QU(e,t){const r=[],s=Object.keys(t);for(let a=0;a<s.length;a++){const i=e[s[a]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function e$(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function d6(e,t){const r=e&&e.options||{},s=r.reverse,a=r.min===void 0?t:0,i=r.max===void 0?t:0;return{start:s?i:a,end:s?a:i}}function t$(e,t,r){if(r===!1)return!1;const s=d6(e,r),a=d6(t,r);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function r$(e){let t,r,s,a;return Ps(e)?(t=e.top,r=e.right,s=e.bottom,a=e.left):t=r=s=a=e,{top:t,right:r,bottom:s,left:a,disabled:e===!1}}function q7(e,t){const r=[],s=e._getSortedDatasetMetas(t);let a,i;for(a=0,i=s.length;a<i;++a)r.push(s[a].index);return r}function u6(e,t,r,s={}){const a=e.keys,i=s.mode==="single";let o,l,c,d;if(t===null)return;let u=!1;for(o=0,l=a.length;o<l;++o){if(c=+a[o],c===r){if(u=!0,s.all)continue;break}d=e.values[c],el(d)&&(i||t===0||V0(t)===V0(d))&&(t+=d)}return!u&&!s.all?0:t}function s$(e,t){const{iScale:r,vScale:s}=t,a=r.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(e),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[a]:u,[i]:e[u]};return l}function x_(e,t){const r=e&&e.options.stacked;return r||r===void 0&&t.stack!==void 0}function a$(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}function n$(e){const{min:t,max:r,minDefined:s,maxDefined:a}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function i$(e,t,r){const s=e[t]||(e[t]={});return s[r]||(s[r]={})}function h6(e,t,r,s){for(const a of t.getMatchingVisibleMetas(s).reverse()){const i=e[a.index];if(r&&i>0||!r&&i<0)return a.index}return null}function f6(e,t){const{chart:r,_cachedMeta:s}=e,a=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:l}=s,c=i.axis,d=o.axis,u=a$(i,o,s),p=t.length;let x;for(let f=0;f<p;++f){const y=t[f],{[c]:v,[d]:_}=y,k=y._stacks||(y._stacks={});x=k[d]=i$(a,u,v),x[l]=_,x._top=h6(x,o,!0,s.type),x._bottom=h6(x,o,!1,s.type);const S=x._visualValues||(x._visualValues={});S[l]=_}}function g_(e,t){const r=e.scales;return Object.keys(r).filter(s=>r[s].axis===t).shift()}function o$(e,t){return Qf(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function l$(e,t,r){return Qf(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}function m1(e,t){const r=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const a of t){const i=a._stacks;if(!i||i[s]===void 0||i[s][r]===void 0)return;delete i[s][r],i[s]._visualValues!==void 0&&i[s]._visualValues[r]!==void 0&&delete i[s]._visualValues[r]}}}const v_=e=>e==="reset"||e==="none",m6=(e,t)=>t?e:Object.assign({},e),c$=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:q7(r,!0),values:null};class Gd{constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=x_(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&m1(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,s=this.getDataset(),a=(p,x,f,y)=>p==="x"?x:p==="r"?y:f,i=r.xAxisID=ds(s.xAxisID,g_(t,"x")),o=r.yAxisID=ds(s.yAxisID,g_(t,"y")),l=r.rAxisID=ds(s.rAxisID,g_(t,"r")),c=r.indexAxis,d=r.iAxisID=a(c,i,o,l),u=r.vAxisID=a(c,o,i,l);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(d),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Yk(this._data,this),t._stacked&&m1(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),s=this._data;if(Ps(r)){const a=this._cachedMeta;this._data=s$(r,a)}else if(s!==r){if(s){Yk(s,this);const a=this._cachedMeta;m1(a),a._parsed=[]}r&&Object.isExtensible(r)&&qz(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const i=r._stacked;r._stacked=x_(r.vScale,r),r.stack!==s.stack&&(a=!0,m1(r),r.stack=s.stack),this._resyncElements(t),(a||i!==r._stacked)&&(f6(this,r._parsed),r._stacked=x_(r.vScale,r))}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:s,_data:a}=this,{iScale:i,_stacked:o}=s,l=i.axis;let c=t===0&&r===a.length?!0:s._sorted,d=t>0&&s._parsed[t-1],u,p,x;if(this._parsing===!1)s._parsed=a,s._sorted=!0,x=a;else{vi(a[t])?x=this.parseArrayData(s,a,t,r):Ps(a[t])?x=this.parseObjectData(s,a,t,r):x=this.parsePrimitiveData(s,a,t,r);const f=()=>p[l]===null||d&&p[l]<d[l];for(u=0;u<r;++u)s._parsed[u+t]=p=x[u],c&&(f()&&(c=!1),d=p);s._sorted=c}o&&f6(this,x)}parsePrimitiveData(t,r,s,a){const{iScale:i,vScale:o}=t,l=i.axis,c=o.axis,d=i.getLabels(),u=i===o,p=new Array(a);let x,f,y;for(x=0,f=a;x<f;++x)y=x+s,p[x]={[l]:u||i.parse(d[y],y),[c]:o.parse(r[y],y)};return p}parseArrayData(t,r,s,a){const{xScale:i,yScale:o}=t,l=new Array(a);let c,d,u,p;for(c=0,d=a;c<d;++c)u=c+s,p=r[u],l[c]={x:i.parse(p[0],u),y:o.parse(p[1],u)};return l}parseObjectData(t,r,s,a){const{xScale:i,yScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(a);let u,p,x,f;for(u=0,p=a;u<p;++u)x=u+s,f=r[x],d[u]={x:i.parse(Ph(f,l),x),y:o.parse(Ph(f,c),x)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,s){const a=this.chart,i=this._cachedMeta,o=r[t.axis],l={keys:q7(a,!0),values:r._stacks[t.axis]._visualValues};return u6(l,o,i.index,{mode:s})}updateRangeFromParsed(t,r,s,a){const i=s[r.axis];let o=i===null?NaN:i;const l=a&&s._stacks[r.axis];a&&l&&(a.values=l,o=u6(a,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,r){const s=this._cachedMeta,a=s._parsed,i=s._sorted&&t===s.iScale,o=a.length,l=this._getOtherScale(t),c=c$(r,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:p}=n$(l);let x,f;function y(){f=a[x];const v=f[l.axis];return!el(f[t.axis])||u>v||p<v}for(x=0;x<o&&!(!y()&&(this.updateRangeFromParsed(d,t,f,c),i));++x);if(i){for(x=o-1;x>=0;--x)if(!y()){this.updateRangeFromParsed(d,t,f,c);break}}return d}getAllParsedValues(t){const r=this._cachedMeta._parsed,s=[];let a,i,o;for(a=0,i=r.length;a<i;++a)o=r[a][t.axis],el(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,s=r.iScale,a=r.vScale,i=this.getParsed(t);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=r$(ds(this.options.clip,t$(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this.chart,s=this._cachedMeta,a=s.data||[],i=r.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||a.length-l,d=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(t,i,l,c),u=l;u<l+c;++u){const p=a[u];p.hidden||(p.active&&d?o.push(p):p.draw(t,i))}for(u=0;u<o.length;++u)o[u].draw(t,i)}getStyle(t,r){const s=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,r,s){const a=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=l$(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=a.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=o$(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=s,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",s){const a=r==="active",i=this._cachedDataOpts,o=t+"-"+r,l=i[o],c=this.enableOptionSharing&&kx(s);if(l)return m6(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),p=a?[`${t}Hover`,"hover",t,""]:[t,""],x=d.getOptionScopes(this.getDataset(),u),f=Object.keys(Qn.elements[t]),y=()=>this.getContext(s,a,r),v=d.resolveNamedOptions(x,f,y,p);return v.$shared&&(v.$shared=c,i[o]=Object.freeze(m6(v,c))),v}_resolveAnimations(t,r,s){const a=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,l=i[o];if(l)return l;let c;if(a.options.animation!==!1){const u=this.chart.config,p=u.datasetAnimationScopeKeys(this._type,r),x=u.getOptionScopes(this.getDataset(),p);c=u.createResolver(x,this.getContext(t,s,r))}const d=new G7(a,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||v_(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){const s=this.resolveDataElementOptions(t,r),a=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(r,i)||i!==a;return this.updateSharedOptions(i,r,s),{sharedOptions:i,includeOptions:o}}updateElement(t,r,s,a){v_(a)?Object.assign(t,s):this._resolveAnimations(r,a).update(t,s)}updateSharedOptions(t,r,s){t&&!v_(r)&&this._resolveAnimations(void 0,r).update(t,s)}_setStyle(t,r,s,a){t.active=a;const i=this.getStyle(r,a);this._resolveAnimations(r,s,a).update(t,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(t,r,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,r,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,s=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const a=s.length,i=r.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,t):i<a&&this._removeElements(i,a-i)}_insertElements(t,r,s=!0){const a=this._cachedMeta,i=a.data,o=t+r;let l;const c=d=>{for(d.length+=r,l=d.length-1;l>=o;l--)d[l]=d[l-r]};for(c(i),l=t;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(t,r),s&&this.updateElements(i,t,r,"reset")}updateElements(t,r,s,a){}_removeElements(t,r){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(t,r);s._stacked&&m1(s,a)}s.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,s,a]=t;this[r](s,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}zt(Gd,"defaults",{}),zt(Gd,"datasetElementType",null),zt(Gd,"dataElementType",null);function d$(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let s=[];for(let a=0,i=r.length;a<i;a++)s=s.concat(r[a].controller.getAllParsedValues(e));e._cache.$bar=C7(s.sort((a,i)=>a-i))}return e._cache.$bar}function u$(e){const t=e.iScale,r=d$(t,e.type);let s=t._length,a,i,o,l;const c=()=>{o===32767||o===-32768||(kx(l)&&(s=Math.min(s,Math.abs(o-l)||s)),l=o)};for(a=0,i=r.length;a<i;++a)o=t.getPixelForValue(r[a]),c();for(l=void 0,a=0,i=t.ticks.length;a<i;++a)o=t.getPixelForTick(a),c();return s}function h$(e,t,r,s){const a=r.barThickness;let i,o;return oa(a)?(i=t.min*r.categoryPercentage,o=r.barPercentage):(i=a*s,o=1),{chunk:i/s,ratio:o,start:t.pixels[e]-i/2}}function f$(e,t,r,s){const a=t.pixels,i=a[e];let o=e>0?a[e-1]:null,l=e<a.length-1?a[e+1]:null;const c=r.categoryPercentage;o===null&&(o=i-(l===null?t.end-t.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/s,ratio:r.barPercentage,start:d}}function m$(e,t,r,s){const a=r.parse(e[0],s),i=r.parse(e[1],s),o=Math.min(a,i),l=Math.max(a,i);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),t[r.axis]=d,t._custom={barStart:c,barEnd:d,start:a,end:i,min:o,max:l}}function K7(e,t,r,s){return vi(e)?m$(e,t,r,s):t[r.axis]=r.parse(e,s),t}function p6(e,t,r,s){const a=e.iScale,i=e.vScale,o=a.getLabels(),l=a===i,c=[];let d,u,p,x;for(d=r,u=r+s;d<u;++d)x=t[d],p={},p[a.axis]=l||a.parse(o[d],d),c.push(K7(x,p,i,d));return c}function y_(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function p$(e,t,r){return e!==0?V0(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}function x$(e){let t,r,s,a,i;return e.horizontal?(t=e.base>e.x,r="left",s="right"):(t=e.base<e.y,r="bottom",s="top"),t?(a="end",i="start"):(a="start",i="end"),{start:r,end:s,reverse:t,top:a,bottom:i}}function g$(e,t,r,s){let a=t.borderSkipped;const i={};if(!a){e.borderSkipped=i;return}if(a===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=x$(e);a==="middle"&&r&&(e.enableBorderRadius=!0,(r._top||0)===s?a=d:(r._bottom||0)===s?a=u:(i[x6(u,o,l,c)]=!0,a=d)),i[x6(a,o,l,c)]=!0,e.borderSkipped=i}function x6(e,t,r,s){return s?(e=v$(e,t,r),e=g6(e,r,t)):e=g6(e,t,r),e}function v$(e,t,r){return e===t?r:e===r?t:e}function g6(e,t,r){return e==="start"?t:e==="end"?r:e}function y$(e,{inflateAmount:t},r){e.inflateAmount=t==="auto"?r===1?.33:0:t}class hv extends Gd{parsePrimitiveData(t,r,s,a){return p6(t,r,s,a)}parseArrayData(t,r,s,a){return p6(t,r,s,a)}parseObjectData(t,r,s,a){const{iScale:i,vScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?l:c,u=o.axis==="x"?l:c,p=[];let x,f,y,v;for(x=s,f=s+a;x<f;++x)v=r[x],y={},y[i.axis]=i.parse(Ph(v,d),x),p.push(K7(Ph(v,u),y,o,x));return p}updateRangeFromParsed(t,r,s,a){super.updateRangeFromParsed(t,r,s,a);const i=s._custom;i&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:s,vScale:a}=r,i=this.getParsed(t),o=i._custom,l=y_(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,s,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:p,includeOptions:x}=this._getSharedOptions(r,a);for(let f=r;f<r+s;f++){const y=this.getParsed(f),v=i||oa(y[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(f),_=this._calculateBarIndexPixels(f,u),k=(y._stacks||{})[l.axis],S={horizontal:d,base:v.base,enableBorderRadius:!k||y_(y._custom)||o===k._top||o===k._bottom,x:d?v.head:_.center,y:d?_.center:v.head,height:d?_.size:Math.abs(v.size),width:d?Math.abs(v.size):_.size};x&&(S.options=p||this.resolveDataElementOptions(f,t[f].active?"active":a));const M=S.options||t[f].options;g$(S,M,k,o),y$(S,M,u.ratio),this.updateElement(t[f],f,S,a)}}_getStacks(t,r){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=s.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[s.axis],d=u=>{const p=u._parsed.find(f=>f[s.axis]===c),x=p&&p[u.vScale.axis];if(oa(x)||isNaN(x))return!0};for(const u of a)if(!(r!==void 0&&d(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===r).shift()}_getAxis(){const t={},r=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[ds(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,r)]=!0;return Object.keys(t)}_getStackIndex(t,r,s){const a=this._getStacks(t,s),i=r!==void 0?a.indexOf(r):-1;return i===-1?a.length-1:i}_getRuler(){const t=this.options,r=this._cachedMeta,s=r.iScale,a=[];let i,o;for(i=0,o=r.data.length;i<o;++i)a.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const l=t.barThickness;return{min:l||u$(r),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:s,index:a},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(t),d=c._custom,u=y_(d);let p=c[r.axis],x=0,f=s?this.applyStack(r,c,s):p,y,v;f!==p&&(x=f-p,f=p),u&&(p=d.barStart,f=d.barEnd-d.barStart,p!==0&&V0(p)!==V0(d.barEnd)&&(x=0),x+=p);const _=!oa(i)&&!u?i:x;let k=r.getPixelForValue(_);if(this.chart.getDataVisibility(t)?y=r.getPixelForValue(x+f):y=k,v=y-k,Math.abs(v)<o){v=p$(v,r,l)*o,p===l&&(k-=v/2);const S=r.getPixelForDecimal(0),M=r.getPixelForDecimal(1),T=Math.min(S,M),O=Math.max(S,M);k=Math.max(Math.min(k,O),T),y=k+v,s&&!u&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(y)-r.getValueForPixel(k))}if(k===r.getPixelForValue(l)){const S=V0(v)*r.getLineWidthForValue(l)/2;k+=S,v-=S}return{size:v,base:k,head:y,center:y+v/2}}_calculateBarIndexPixels(t,r){const s=r.scale,a=this.options,i=a.skipNull,o=ds(a.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(r.grouped){const u=i?this._getStackCount(t):r.stackCount,p=a.barThickness==="flex"?f$(t,r,a,u*d):h$(t,r,a,u*d),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(ds(x,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+f;l=p.start+p.chunk*y+p.chunk/2,c=Math.min(o,p.chunk*p.ratio)}else l=s.getPixelForValue(this.getParsed(t)[s.axis],t),c=Math.min(o,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const t=this._cachedMeta,r=t.vScale,s=t.data,a=s.length;let i=0;for(;i<a;++i)this.getParsed(i)[r.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}zt(hv,"id","bar"),zt(hv,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),zt(hv,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class fv extends Gd{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,s,a){const i=super.parsePrimitiveData(t,r,s,a);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+s).radius;return i}parseArrayData(t,r,s,a){const i=super.parseArrayData(t,r,s,a);for(let o=0;o<i.length;o++){const l=r[s+o];i[o]._custom=ds(l[2],this.resolveDataElementOptions(o+s).radius)}return i}parseObjectData(t,r,s,a){const i=super.parseObjectData(t,r,s,a);for(let o=0;o<i.length;o++){const l=r[s+o];i[o]._custom=ds(l&&l.r&&+l.r,this.resolveDataElementOptions(o+s).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let r=0;for(let s=t.length-1;s>=0;--s)r=Math.max(r,t[s].size(this.resolveDataElementOptions(s))/2);return r>0&&r}getLabelAndValue(t){const r=this._cachedMeta,s=this.chart.data.labels||[],{xScale:a,yScale:i}=r,o=this.getParsed(t),l=a.getLabelForValue(o.x),c=i.getLabelForValue(o.y),d=o._custom;return{label:s[t]||"",value:"("+l+", "+c+(d?", "+d:"")+")"}}update(t){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,s,a){const i=a==="reset",{iScale:o,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(r,a),u=o.axis,p=l.axis;for(let x=r;x<r+s;x++){const f=t[x],y=!i&&this.getParsed(x),v={},_=v[u]=i?o.getPixelForDecimal(.5):o.getPixelForValue(y[u]),k=v[p]=i?l.getBasePixel():l.getPixelForValue(y[p]);v.skip=isNaN(_)||isNaN(k),d&&(v.options=c||this.resolveDataElementOptions(x,f.active?"active":a),i&&(v.options.radius=0)),this.updateElement(f,x,v,a)}}resolveDataElementOptions(t,r){const s=this.getParsed(t);let a=super.resolveDataElementOptions(t,r);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const i=a.radius;return r!=="active"&&(a.radius=0),a.radius+=ds(s&&s._custom,i),a}}zt(fv,"id","bubble"),zt(fv,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),zt(fv,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function b$(e,t,r){let s=1,a=1,i=0,o=0;if(t<bn){const l=e,c=l+t,d=Math.cos(l),u=Math.sin(l),p=Math.cos(c),x=Math.sin(c),f=(M,T,O)=>jx(M,l,c,!0)?1:Math.max(T,T*r,O,O*r),y=(M,T,O)=>jx(M,l,c,!0)?-1:Math.min(T,T*r,O,O*r),v=f(0,d,p),_=f(Ii,u,x),k=y(fa,d,p),S=y(fa+Ii,u,x);s=(v-k)/2,a=(_-S)/2,i=-(v+k)/2,o=-(_+S)/2}return{ratioX:s,ratioY:a,offsetX:i,offsetY:o}}class $m extends Gd{constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let i=c=>+s[c];if(Ps(s[t])){const{key:c="value"}=this._parsing;i=d=>+Ph(s[d],c)}let o,l;for(o=t,l=t+r;o<l;++o)a._parsed[o]=i(o)}}_getRotation(){return R0(this.options.rotation-90)}_getCircumference(){return R0(this.options.circumference)}_getRotationExtents(){let t=bn,r=-bn;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,i=a._getRotation(),o=a._getCircumference();t=Math.min(t,i),r=Math.max(r,i+o)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:s}=r,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(s.width,s.height)-o)/2,0),c=Math.min(Tz(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:p}=this._getRotationExtents(),{ratioX:x,ratioY:f,offsetX:y,offsetY:v}=b$(p,u,c),_=(s.width-o)/x,k=(s.height-o)/f,S=Math.max(Math.min(_,k)/2,0),M=_7(this.options.radius,S),T=Math.max(M*c,0),O=(M-T)/this._getVisibleDatasetWeightTotal();this.offsetX=y*M,this.offsetY=v*M,a.total=this.calculateTotal(),this.outerRadius=M-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*d,0),this.updateElements(i,0,i.length,t)}_circumference(t,r){const s=this.options,a=this._cachedMeta,i=this._getCircumference();return r&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*i/bn)}updateElements(t,r,s,a){const i=a==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,u=(l.left+l.right)/2,p=(l.top+l.bottom)/2,x=i&&d.animateScale,f=x?0:this.innerRadius,y=x?0:this.outerRadius,{sharedOptions:v,includeOptions:_}=this._getSharedOptions(r,a);let k=this._getRotation(),S;for(S=0;S<r;++S)k+=this._circumference(S,i);for(S=r;S<r+s;++S){const M=this._circumference(S,i),T=t[S],O={x:u+this.offsetX,y:p+this.offsetY,startAngle:k,endAngle:k+M,circumference:M,outerRadius:y,innerRadius:f};_&&(O.options=v||this.resolveDataElementOptions(S,T.active?"active":a)),k+=M,this.updateElement(T,S,O,a)}}calculateTotal(){const t=this._cachedMeta,r=t.data;let s=0,a;for(a=0;a<r.length;a++){const i=t._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?bn*(Math.abs(t)/r):0}getLabelAndValue(t){const r=this._cachedMeta,s=this.chart,a=s.data.labels||[],i=Uy(r._parsed[t],s.options.locale);return{label:a[t]||"",value:i}}getMaxBorderWidth(t){let r=0;const s=this.chart;let a,i,o,l,c;if(!t){for(a=0,i=s.data.datasets.length;a<i;++a)if(s.isDatasetVisible(a)){o=s.getDatasetMeta(a),t=o.data,l=o.controller;break}}if(!t)return 0;for(a=0,i=t.length;a<i;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let s=0,a=t.length;s<a;++s){const i=this.resolveDataElementOptions(s);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(r+=this._getRingWeight(s));return r}_getRingWeight(t){return Math.max(ds(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}zt($m,"id","doughnut"),zt($m,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),zt($m,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),zt($m,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data,{labels:{pointStyle:s,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((c,d)=>{const p=t.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:p.backgroundColor,fontColor:i,hidden:!t.getDataVisibility(d),lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:p.borderWidth,strokeStyle:p.borderColor,textAlign:a,pointStyle:s,borderRadius:o&&(l||p.borderRadius),index:d}}):[]}},onClick(t,r,s){s.chart.toggleDataVisibility(r.index),s.chart.update()}}}});class mv extends Gd{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:s,data:a=[],_dataset:i}=r,o=this.chart._animationsDisabled;let{start:l,count:c}=A7(r,a,o);this._drawStart=l,this._drawCount=c,T7(r)&&(l=0,c=a.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=a;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:d},t),this.updateElements(a,l,c,t)}updateElements(t,r,s,a){const i=a==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:p}=this._getSharedOptions(r,a),x=o.axis,f=l.axis,{spanGaps:y,segment:v}=this.options,_=gp(y)?y:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||i||a==="none",S=r+s,M=t.length;let T=r>0&&this.getParsed(r-1);for(let O=0;O<M;++O){const A=t[O],C=k?A:{};if(O<r||O>=S){C.skip=!0;continue}const N=this.getParsed(O),E=oa(N[f]),z=C[x]=o.getPixelForValue(N[x],O),P=C[f]=i||E?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,N,c):N[f],O);C.skip=isNaN(z)||isNaN(P)||E,C.stop=O>0&&Math.abs(N[x]-T[x])>_,v&&(C.parsed=N,C.raw=d.data[O]),p&&(C.options=u||this.resolveDataElementOptions(O,A.active?"active":a)),k||this.updateElement(A,O,C,a),T=N}}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,s=r.options&&r.options.borderWidth||0,a=t.data||[];if(!a.length)return s;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(s,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}zt(mv,"id","line"),zt(mv,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),zt(mv,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class pv extends Gd{constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const r=this._cachedMeta,s=this.chart,a=s.data.labels||[],i=Uy(r._parsed[t].r,s.options.locale);return{label:a[t]||"",value:i}}parseObjectData(t,r,s,a){return O7.bind(this)(t,r,s,a)}update(t){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){const t=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((s,a)=>{const i=this.getParsed(a).r;!isNaN(i)&&this.chart.getDataVisibility(a)&&(i<r.min&&(r.min=i),i>r.max&&(r.max=i))}),r}_updateRadius(){const t=this.chart,r=t.chartArea,s=t.options,a=Math.min(r.right-r.left,r.bottom-r.top),i=Math.max(a/2,0),o=Math.max(s.cutoutPercentage?i/100*s.cutoutPercentage:1,0),l=(i-o)/t.getVisibleDatasetCount();this.outerRadius=i-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,r,s,a){const i=a==="reset",o=this.chart,c=o.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,p=d.yCenter,x=d.getIndexAngle(0)-.5*fa;let f=x,y;const v=360/this.countVisibleElements();for(y=0;y<r;++y)f+=this._computeAngle(y,a,v);for(y=r;y<r+s;y++){const _=t[y];let k=f,S=f+this._computeAngle(y,a,v),M=o.getDataVisibility(y)?d.getDistanceFromCenterForValue(this.getParsed(y).r):0;f=S,i&&(c.animateScale&&(M=0),c.animateRotate&&(k=S=x));const T={x:u,y:p,innerRadius:0,outerRadius:M,startAngle:k,endAngle:S,options:this.resolveDataElementOptions(y,_.active?"active":a)};this.updateElement(_,y,T,a)}}countVisibleElements(){const t=this._cachedMeta;let r=0;return t.data.forEach((s,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&r++}),r}_computeAngle(t,r,s){return this.chart.getDataVisibility(t)?R0(this.resolveDataElementOptions(t,r).angle||s):0}}zt(pv,"id","polarArea"),zt(pv,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),zt(pv,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:s,color:a}}=t.legend.options;return r.labels.map((i,o)=>{const c=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,r,s){s.chart.toggleDataVisibility(r.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Hw extends $m{}zt(Hw,"id","pie"),zt(Hw,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class xv extends Gd{getLabelAndValue(t){const r=this._cachedMeta.vScale,s=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(s[r.axis])}}parseObjectData(t,r,s,a){return O7.bind(this)(t,r,s,a)}update(t){const r=this._cachedMeta,s=r.dataset,a=r.data||[],i=r.iScale.getLabels();if(s.points=a,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const l={_loop:!0,_fullLoop:i.length===a.length,options:o};this.updateElement(s,void 0,l,t)}this.updateElements(a,0,a.length,t)}updateElements(t,r,s,a){const i=this._cachedMeta.rScale,o=a==="reset";for(let l=r;l<r+s;l++){const c=t[l],d=this.resolveDataElementOptions(l,c.active?"active":a),u=i.getPointPositionForValue(l,this.getParsed(l).r),p=o?i.xCenter:u.x,x=o?i.yCenter:u.y,f={x:p,y:x,angle:u.angle,skip:isNaN(p)||isNaN(x),options:d};this.updateElement(c,l,f,a)}}}zt(xv,"id","radar"),zt(xv,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),zt(xv,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class gv extends Gd{getLabelAndValue(t){const r=this._cachedMeta,s=this.chart.data.labels||[],{xScale:a,yScale:i}=r,o=this.getParsed(t),l=a.getLabelForValue(o.x),c=i.getLabelForValue(o.y);return{label:s[t]||"",value:"("+l+", "+c+")"}}update(t){const r=this._cachedMeta,{data:s=[]}=r,a=this.chart._animationsDisabled;let{start:i,count:o}=A7(r,s,a);if(this._drawStart=i,this._drawCount=o,T7(r)&&(i=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=s;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:d},t)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(s,i,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,r,s,a){const i=a==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(r,a),p=this.getSharedOptions(u),x=this.includeOptions(a,p),f=o.axis,y=l.axis,{spanGaps:v,segment:_}=this.options,k=gp(v)?v:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||i||a==="none";let M=r>0&&this.getParsed(r-1);for(let T=r;T<r+s;++T){const O=t[T],A=this.getParsed(T),C=S?O:{},N=oa(A[y]),E=C[f]=o.getPixelForValue(A[f],T),z=C[y]=i||N?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[y],T);C.skip=isNaN(E)||isNaN(z)||N,C.stop=T>0&&Math.abs(A[f]-M[f])>k,_&&(C.parsed=A,C.raw=d.data[T]),x&&(C.options=p||this.resolveDataElementOptions(T,O.active?"active":a)),S||this.updateElement(O,T,C,a),M=A}this.updateSharedOptions(p,a,u)}getMaxOverflow(){const t=this._cachedMeta,r=t.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const s=t.dataset,a=s.options&&s.options.borderWidth||0;if(!r.length)return a;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,i,o)/2}}zt(gv,"id","scatter"),zt(gv,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),zt(gv,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function mf(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class x5{constructor(t){zt(this,"options");this.options=t||{}}static override(t){Object.assign(x5.prototype,t)}init(){}formats(){return mf()}parse(){return mf()}format(){return mf()}add(){return mf()}diff(){return mf()}startOf(){return mf()}endOf(){return mf()}}var _$={_date:x5};function w$(e,t,r,s){const{controller:a,data:i,_sorted:o}=e,l=a._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&o&&i.length){const d=l._reversePixels?Vz:jf;if(s){if(a._sharedOptions){const u=i[0],p=typeof u.getRange=="function"&&u.getRange(t);if(p){const x=d(i,t,r-p),f=d(i,t,r+p);return{lo:x.lo,hi:f.hi}}}}else{const u=d(i,t,r);if(c){const{vScale:p}=a._cachedMeta,{_parsed:x}=e,f=x.slice(0,u.lo+1).reverse().findIndex(v=>!oa(v[p.axis]));u.lo-=Math.max(0,f);const y=x.slice(u.hi).findIndex(v=>!oa(v[p.axis]));u.hi+=Math.max(0,y)}return u}}return{lo:0,hi:i.length-1}}function Vy(e,t,r,s,a){const i=e.getSortedVisibleDatasetMetas(),o=r[t];for(let l=0,c=i.length;l<c;++l){const{index:d,data:u}=i[l],{lo:p,hi:x}=w$(i[l],t,o,a);for(let f=p;f<=x;++f){const y=u[f];y.skip||s(y,d,f)}}}function N$(e){const t=e.indexOf("x")!==-1,r=e.indexOf("y")!==-1;return function(s,a){const i=t?Math.abs(s.x-a.x):0,o=r?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function b_(e,t,r,s,a){const i=[];return!a&&!e.isPointInArea(t)||Vy(e,r,t,function(l,c,d){!a&&!Cx(l,e.chartArea,0)||l.inRange(t.x,t.y,s)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function k$(e,t,r,s){let a=[];function i(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:p}=k7(o,{x:t.x,y:t.y});jx(p,d,u)&&a.push({element:o,datasetIndex:l,index:c})}return Vy(e,r,t,i),a}function j$(e,t,r,s,a,i){let o=[];const l=N$(r);let c=Number.POSITIVE_INFINITY;function d(u,p,x){const f=u.inRange(t.x,t.y,a);if(s&&!f)return;const y=u.getCenterPoint(a);if(!(!!i||e.isPointInArea(y))&&!f)return;const _=l(t,y);_<c?(o=[{element:u,datasetIndex:p,index:x}],c=_):_===c&&o.push({element:u,datasetIndex:p,index:x})}return Vy(e,r,t,d),o}function __(e,t,r,s,a,i){return!i&&!e.isPointInArea(t)?[]:r==="r"&&!s?k$(e,t,r,a):j$(e,t,r,s,a,i)}function v6(e,t,r,s,a){const i=[],o=r==="x"?"inXRange":"inYRange";let l=!1;return Vy(e,r,t,(c,d,u)=>{c[o]&&c[o](t[r],a)&&(i.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(t.x,t.y,a))}),s&&!l?[]:i}var C$={modes:{index(e,t,r,s){const a=xf(t,e),i=r.axis||"x",o=r.includeInvisible||!1,l=r.intersect?b_(e,a,i,s,o):__(e,a,i,!1,s,o),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,p=d.data[u];p&&!p.skip&&c.push({element:p,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,r,s){const a=xf(t,e),i=r.axis||"xy",o=r.includeInvisible||!1;let l=r.intersect?b_(e,a,i,s,o):__(e,a,i,!1,s,o);if(l.length>0){const c=l[0].datasetIndex,d=e.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(e,t,r,s){const a=xf(t,e),i=r.axis||"xy",o=r.includeInvisible||!1;return b_(e,a,i,s,o)},nearest(e,t,r,s){const a=xf(t,e),i=r.axis||"xy",o=r.includeInvisible||!1;return __(e,a,i,r.intersect,s,o)},x(e,t,r,s){const a=xf(t,e);return v6(e,a,"x",r.intersect,s)},y(e,t,r,s){const a=xf(t,e);return v6(e,a,"y",r.intersect,s)}}};const Y7=["left","top","right","bottom"];function p1(e,t){return e.filter(r=>r.pos===t)}function y6(e,t){return e.filter(r=>Y7.indexOf(r.pos)===-1&&r.box.axis===t)}function x1(e,t){return e.sort((r,s)=>{const a=t?s:r,i=t?r:s;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function S$(e){const t=[];let r,s,a,i,o,l;for(r=0,s=(e||[]).length;r<s;++r)a=e[r],{position:i,options:{stack:o,stackWeight:l=1}}=a,t.push({index:r,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:l});return t}function E$(e){const t={};for(const r of e){const{stack:s,pos:a,stackWeight:i}=r;if(!s||!Y7.includes(a))continue;const o=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function A$(e,t){const r=E$(e),{vBoxMaxWidth:s,hBoxMaxHeight:a}=t;let i,o,l;for(i=0,o=e.length;i<o;++i){l=e[i];const{fullSize:c}=l.box,d=r[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*s:c&&t.availableWidth,l.height=a):(l.width=s,l.height=u?u*a:c&&t.availableHeight)}return r}function T$(e){const t=S$(e),r=x1(t.filter(d=>d.box.fullSize),!0),s=x1(p1(t,"left"),!0),a=x1(p1(t,"right")),i=x1(p1(t,"top"),!0),o=x1(p1(t,"bottom")),l=y6(t,"x"),c=y6(t,"y");return{fullSize:r,leftAndTop:s.concat(i),rightAndBottom:a.concat(c).concat(o).concat(l),chartArea:p1(t,"chartArea"),vertical:s.concat(a).concat(c),horizontal:i.concat(o).concat(l)}}function b6(e,t,r,s){return Math.max(e[r],t[r])+Math.max(e[s],t[s])}function Z7(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function M$(e,t,r,s){const{pos:a,box:i}=r,o=e.maxPadding;if(!Ps(a)){r.size&&(e[a]-=r.size);const p=s[r.stack]||{size:0,count:1};p.size=Math.max(p.size,r.horizontal?i.height:i.width),r.size=p.size/p.count,e[a]+=r.size}i.getPadding&&Z7(o,i.getPadding());const l=Math.max(0,t.outerWidth-b6(o,e,"left","right")),c=Math.max(0,t.outerHeight-b6(o,e,"top","bottom")),d=l!==e.w,u=c!==e.h;return e.w=l,e.h=c,r.horizontal?{same:d,other:u}:{same:u,other:d}}function L$(e){const t=e.maxPadding;function r(s){const a=Math.max(t[s]-e[s],0);return e[s]+=a,a}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}function P$(e,t){const r=t.maxPadding;function s(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(t[o],r[o])}),i}return s(e?["left","right"]:["top","bottom"])}function T1(e,t,r,s){const a=[];let i,o,l,c,d,u;for(i=0,o=e.length,d=0;i<o;++i){l=e[i],c=l.box,c.update(l.width||t.w,l.height||t.h,P$(l.horizontal,t));const{same:p,other:x}=M$(t,r,l,s);d|=p&&a.length,u=u||x,c.fullSize||a.push(l)}return d&&T1(a,t,r,s)||u}function _2(e,t,r,s,a){e.top=r,e.left=t,e.right=t+s,e.bottom=r+a,e.width=s,e.height=a}function _6(e,t,r,s){const a=r.padding;let{x:i,y:o}=t;for(const l of e){const c=l.box,d=s[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const p=t.w*u,x=d.size||c.height;kx(d.start)&&(o=d.start),c.fullSize?_2(c,a.left,o,r.outerWidth-a.right-a.left,x):_2(c,t.left+d.placed,o,p,x),d.start=o,d.placed+=p,o=c.bottom}else{const p=t.h*u,x=d.size||c.width;kx(d.start)&&(i=d.start),c.fullSize?_2(c,i,a.top,x,r.outerHeight-a.bottom-a.top):_2(c,i,t.top+d.placed,x,p),d.start=i,d.placed+=p,i=c.right}}t.x=i,t.y=o}var ld={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(r){t.draw(r)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;r!==-1&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,s){if(!e)return;const a=hd(e.options.layout.padding),i=Math.max(t-a.width,0),o=Math.max(r-a.height,0),l=T$(e.boxes),c=l.vertical,d=l.horizontal;_a(e.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const u=c.reduce((v,_)=>_.box.options&&_.box.options.display===!1?v:v+1,0)||1,p=Object.freeze({outerWidth:t,outerHeight:r,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),x=Object.assign({},a);Z7(x,hd(s));const f=Object.assign({maxPadding:x,w:i,h:o,x:a.left,y:a.top},a),y=A$(c.concat(d),p);T1(l.fullSize,f,p,y),T1(c,f,p,y),T1(d,f,p,y)&&T1(c,f,p,y),L$(f),_6(l.leftAndTop,f,p,y),f.x+=f.w,f.y+=f.h,_6(l.rightAndBottom,f,p,y),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},_a(l.chartArea,v=>{const _=v.box;Object.assign(_,e.chartArea),_.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class X7{acquireContext(t,r){}releaseContext(t){return!1}addEventListener(t,r,s){}removeEventListener(t,r,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,r,s,a){return r=Math.max(0,r||t.width),s=s||t.height,{width:r,height:Math.max(0,a?Math.floor(r/a):s)}}isAttached(t){return!0}updateConfig(t){}}class F$ extends X7{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const vv="$chartjs",D$={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},w6=e=>e===null||e==="";function I$(e,t){const r=e.style,s=e.getAttribute("height"),a=e.getAttribute("width");if(e[vv]={initial:{height:s,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",w6(a)){const i=n6(e,"width");i!==void 0&&(e.width=i)}if(w6(s))if(e.style.height==="")e.height=e.width/(t||2);else{const i=n6(e,"height");i!==void 0&&(e.height=i)}return e}const J7=OU?{passive:!0}:!1;function R$(e,t,r){e&&e.addEventListener(t,r,J7)}function O$(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,J7)}function B$(e,t){const r=D$[e.type]||e.type,{x:s,y:a}=xf(e,t);return{type:r,chart:t,native:e,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Wv(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function z$(e,t,r){const s=e.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Wv(l.addedNodes,s),o=o&&!Wv(l.removedNodes,s);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function U$(e,t,r){const s=e.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Wv(l.removedNodes,s),o=o&&!Wv(l.addedNodes,s);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const Ex=new Map;let N6=0;function Q7(){const e=window.devicePixelRatio;e!==N6&&(N6=e,Ex.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function $$(e,t){Ex.size||window.addEventListener("resize",Q7),Ex.set(e,t)}function W$(e){Ex.delete(e),Ex.size||window.removeEventListener("resize",Q7)}function H$(e,t,r){const s=e.canvas,a=s&&p5(s);if(!a)return;const i=E7((l,c)=>{const d=a.clientWidth;r(l,c),d<a.clientWidth&&r()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return o.observe(a),$$(e,i),o}function w_(e,t,r){r&&r.disconnect(),t==="resize"&&W$(e)}function V$(e,t,r){const s=e.canvas,a=E7(i=>{e.ctx!==null&&r(B$(i,e))},e);return R$(s,t,a),a}class G$ extends X7{acquireContext(t,r){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(I$(t,r),s):null}releaseContext(t){const r=t.canvas;if(!r[vv])return!1;const s=r[vv].initial;["height","width"].forEach(i=>{const o=s[i];oa(o)?r.removeAttribute(i):r.setAttribute(i,o)});const a=s.style||{};return Object.keys(a).forEach(i=>{r.style[i]=a[i]}),r.width=r.width,delete r[vv],!0}addEventListener(t,r,s){this.removeEventListener(t,r);const a=t.$proxies||(t.$proxies={}),o={attach:z$,detach:U$,resize:H$}[r]||V$;a[r]=o(t,r,s)}removeEventListener(t,r){const s=t.$proxies||(t.$proxies={}),a=s[r];if(!a)return;({attach:w_,detach:w_,resize:w_}[r]||O$)(t,r,a),s[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,r,s,a){return RU(t,r,s,a)}isAttached(t){const r=t&&p5(t);return!!(r&&r.isConnected)}}function q$(e){return!m5()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?F$:G$}var sv;let Ru=(sv=class{constructor(){zt(this,"x");zt(this,"y");zt(this,"active",!1);zt(this,"options");zt(this,"$animations")}tooltipPosition(t){const{x:r,y:s}=this.getProps(["x","y"],t);return{x:r,y:s}}hasValue(){return gp(this.x)&&gp(this.y)}getProps(t,r){const s=this.$animations;if(!r||!s)return this;const a={};return t.forEach(i=>{a[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),a}},zt(sv,"defaults",{}),zt(sv,"defaultRoutes"),sv);function K$(e,t){const r=e.options.ticks,s=Y$(e),a=Math.min(r.maxTicksLimit||s,s),i=r.major.enabled?X$(t):[],o=i.length,l=i[0],c=i[o-1],d=[];if(o>a)return J$(t,d,i,o/a),d;const u=Z$(i,t,a);if(o>0){let p,x;const f=o>1?Math.round((c-l)/(o-1)):null;for(w2(t,d,u,oa(f)?0:l-f,l),p=0,x=o-1;p<x;p++)w2(t,d,u,i[p],i[p+1]);return w2(t,d,u,c,oa(f)?t.length:c+f),d}return w2(t,d,u),d}function Y$(e){const t=e.options.offset,r=e._tickSize(),s=e._length/r+(t?0:1),a=e._maxLength/r;return Math.floor(Math.min(s,a))}function Z$(e,t,r){const s=Q$(e),a=t.length/r;if(!s)return Math.max(a,1);const i=Oz(s);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>a)return c}return Math.max(a,1)}function X$(e){const t=[];let r,s;for(r=0,s=e.length;r<s;r++)e[r].major&&t.push(r);return t}function J$(e,t,r,s){let a=0,i=r[0],o;for(s=Math.ceil(s),o=0;o<e.length;o++)o===i&&(t.push(e[o]),a++,i=r[a*s])}function w2(e,t,r,s,a){const i=ds(s,0),o=Math.min(ds(a,e.length),e.length);let l=0,c,d,u;for(r=Math.ceil(r),a&&(c=a-s,r=c/Math.floor(c/r)),u=i;u<0;)l++,u=Math.round(i+l*r);for(d=Math.max(i,0);d<o;d++)d===u&&(t.push(e[d]),l++,u=Math.round(i+l*r))}function Q$(e){const t=e.length;let r,s;if(t<2)return!1;for(s=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==s)return!1;return s}const eW=e=>e==="left"?"right":e==="right"?"left":e,k6=(e,t,r)=>t==="top"||t==="left"?e[t]+r:e[t]-r,j6=(e,t)=>Math.min(t||e,e);function C6(e,t){const r=[],s=e.length/t,a=e.length;let i=0;for(;i<a;i+=s)r.push(e[Math.floor(i)]);return r}function tW(e,t,r){const s=e.ticks.length,a=Math.min(t,s-1),i=e._startPixel,o=e._endPixel,l=1e-6;let c=e.getPixelForTick(a),d;if(!(r&&(s===1?d=Math.max(c-i,o-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(a-1))/2,c+=a<t?d:-d,c<i-l||c>o+l)))return c}function rW(e,t){_a(e,r=>{const s=r.gc,a=s.length/2;let i;if(a>t){for(i=0;i<a;++i)delete r.data[s[i]];s.splice(0,a)}})}function g1(e){return e.drawTicks?e.tickLength:0}function S6(e,t){if(!e.display)return 0;const r=Xo(e.font,t),s=hd(e.padding);return(vi(e.text)?e.text.length:1)*r.lineHeight+s.height}function sW(e,t){return Qf(e,{scale:t,type:"scale"})}function aW(e,t,r){return Qf(e,{tick:r,index:t,type:"tick"})}function nW(e,t,r){let s=l5(e);return(r&&t!=="right"||!r&&t==="right")&&(s=eW(s)),s}function iW(e,t,r,s){const{top:a,left:i,bottom:o,right:l,chart:c}=e,{chartArea:d,scales:u}=c;let p=0,x,f,y;const v=o-a,_=l-i;if(e.isHorizontal()){if(f=Wo(s,i,l),Ps(r)){const k=Object.keys(r)[0],S=r[k];y=u[k].getPixelForValue(S)+v-t}else r==="center"?y=(d.bottom+d.top)/2+v-t:y=k6(e,r,t);x=l-i}else{if(Ps(r)){const k=Object.keys(r)[0],S=r[k];f=u[k].getPixelForValue(S)-_+t}else r==="center"?f=(d.left+d.right)/2-_+t:f=k6(e,r,t);y=Wo(s,o,a),p=r==="left"?-Ii:Ii}return{titleX:f,titleY:y,maxWidth:x,rotation:p}}class Fp extends Ru{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,r){return t}getUserBounds(){let{_userMin:t,_userMax:r,_suggestedMin:s,_suggestedMax:a}=this;return t=N0(t,Number.POSITIVE_INFINITY),r=N0(r,Number.NEGATIVE_INFINITY),s=N0(s,Number.POSITIVE_INFINITY),a=N0(a,Number.NEGATIVE_INFINITY),{min:N0(t,s),max:N0(r,a),minDefined:el(t),maxDefined:el(r)}}getMinMax(t){let{min:r,max:s,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:r,max:s};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,t),a||(r=Math.min(r,o.min)),i||(s=Math.max(s,o.max));return r=i&&r>s?s:r,s=a&&r>s?r:s,{min:N0(r,N0(s,r)),max:N0(s,N0(r,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ga(this.options.beforeUpdate,[this])}update(t,r,s){const{beginAtZero:a,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=r,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=pU(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?C6(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=K$(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,r,s;this.isHorizontal()?(r=this.left,s=this.right):(r=this.top,s=this.bottom,t=!t),this._startPixel=r,this._endPixel=s,this._reversePixels=t,this._length=s-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ga(this.options.afterUpdate,[this])}beforeSetDimensions(){Ga(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ga(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ga(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ga(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const r=this.options.ticks;let s,a,i;for(s=0,a=t.length;s<a;s++)i=t[s],i.label=Ga(r.callback,[i.value,s,t],this)}afterTickToLabelConversion(){Ga(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ga(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,r=t.ticks,s=j6(this.ticks.length,t.ticks.maxTicksLimit),a=r.minRotation||0,i=r.maxRotation;let o=a,l,c,d;if(!this._isVisible()||!r.display||a>=i||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const u=this._getLabelSizes(),p=u.widest.width,x=u.highest.height,f=Zo(this.chart.width-p,0,this.maxWidth);l=t.offset?this.maxWidth/s:f/(s-1),p+6>l&&(l=f/(s-(t.offset?.5:1)),c=this.maxHeight-g1(t.grid)-r.padding-S6(t.title,this.chart.options.font),d=Math.sqrt(p*p+x*x),o=$z(Math.min(Math.asin(Zo((u.highest.height+6)/l,-1,1)),Math.asin(Zo(c/d,-1,1))-Math.asin(Zo(x/d,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ga(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ga(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:r,options:{ticks:s,title:a,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=S6(a,r.options.font);if(l?(t.width=this.maxWidth,t.height=g1(i)+c):(t.height=this.maxHeight,t.width=g1(i)+c),s.display&&this.ticks.length){const{first:d,last:u,widest:p,highest:x}=this._getLabelSizes(),f=s.padding*2,y=R0(this.labelRotation),v=Math.cos(y),_=Math.sin(y);if(l){const k=s.mirror?0:_*p.width+v*x.height;t.height=Math.min(this.maxHeight,t.height+k+f)}else{const k=s.mirror?0:v*p.width+_*x.height;t.width=Math.min(this.maxWidth,t.width+k+f)}this._calculatePadding(d,u,_,v)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,r,s,a){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,f=0;c?d?(x=a*t.width,f=s*r.height):(x=s*t.height,f=a*r.width):i==="start"?f=r.width:i==="end"?x=t.width:i!=="inner"&&(x=t.width/2,f=r.width/2),this.paddingLeft=Math.max((x-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-p+o)*this.width/(this.width-p),0)}else{let u=r.height/2,p=t.height/2;i==="start"?(u=0,p=t.height):i==="end"&&(u=r.height,p=0),this.paddingTop=u+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ga(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:r}=this.options;return r==="top"||r==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let r,s;for(r=0,s=t.length;r<s;r++)oa(t[r].label)&&(t.splice(r,1),s--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const r=this.options.ticks.sampleSize;let s=this.ticks;r<s.length&&(s=C6(s,r)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,r,s){const{ctx:a,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(r/j6(r,s));let d=0,u=0,p,x,f,y,v,_,k,S,M,T,O;for(p=0;p<r;p+=c){if(y=t[p].label,v=this._resolveTickFontOptions(p),a.font=_=v.string,k=i[_]=i[_]||{data:{},gc:[]},S=v.lineHeight,M=T=0,!oa(y)&&!vi(y))M=e6(a,k.data,k.gc,M,y),T=S;else if(vi(y))for(x=0,f=y.length;x<f;++x)O=y[x],!oa(O)&&!vi(O)&&(M=e6(a,k.data,k.gc,M,O),T+=S);o.push(M),l.push(T),d=Math.max(M,d),u=Math.max(T,u)}rW(i,r);const A=o.indexOf(d),C=l.indexOf(u),N=E=>({width:o[E]||0,height:l[E]||0});return{first:N(0),last:N(r-1),widest:N(A),highest:N(C),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,r){return NaN}getValueForPixel(t){}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const r=this._startPixel+t*this._length;return Hz(this._alignToPixels?ff(this.chart,r,0):r)}getDecimalForPixel(t){const r=(t-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:r}=this;return t<0&&r<0?r:t>0&&r>0?t:0}getContext(t){const r=this.ticks||[];if(t>=0&&t<r.length){const s=r[t];return s.$context||(s.$context=aW(this.getContext(),t,s))}return this.$context||(this.$context=sW(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,r=R0(this.labelRotation),s=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*s>l*a?l/s:c/a:c*a<l*s?c/s:l/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const r=this.axis,s=this.chart,a=this.options,{grid:i,position:o,border:l}=a,c=i.offset,d=this.isHorizontal(),p=this.ticks.length+(c?1:0),x=g1(i),f=[],y=l.setContext(this.getContext()),v=y.display?y.width:0,_=v/2,k=function(te){return ff(s,te,v)};let S,M,T,O,A,C,N,E,z,P,I,W;if(o==="top")S=k(this.bottom),C=this.bottom-x,E=S-_,P=k(t.top)+_,W=t.bottom;else if(o==="bottom")S=k(this.top),P=t.top,W=k(t.bottom)-_,C=S+_,E=this.top+x;else if(o==="left")S=k(this.right),A=this.right-x,N=S-_,z=k(t.left)+_,I=t.right;else if(o==="right")S=k(this.left),z=t.left,I=k(t.right)-_,A=S+_,N=this.left+x;else if(r==="x"){if(o==="center")S=k((t.top+t.bottom)/2+.5);else if(Ps(o)){const te=Object.keys(o)[0],ie=o[te];S=k(this.chart.scales[te].getPixelForValue(ie))}P=t.top,W=t.bottom,C=S+_,E=C+x}else if(r==="y"){if(o==="center")S=k((t.left+t.right)/2);else if(Ps(o)){const te=Object.keys(o)[0],ie=o[te];S=k(this.chart.scales[te].getPixelForValue(ie))}A=S-_,N=A-x,z=t.left,I=t.right}const Z=ds(a.ticks.maxTicksLimit,p),Y=Math.max(1,Math.ceil(p/Z));for(M=0;M<p;M+=Y){const te=this.getContext(M),ie=i.setContext(te),le=l.setContext(te),se=ie.lineWidth,oe=ie.color,ee=le.dash||[],B=le.dashOffset,q=ie.tickWidth,Q=ie.tickColor,K=ie.tickBorderDash||[],ae=ie.tickBorderDashOffset;T=tW(this,M,c),T!==void 0&&(O=ff(s,T,se),d?A=N=z=I=O:C=E=P=W=O,f.push({tx1:A,ty1:C,tx2:N,ty2:E,x1:z,y1:P,x2:I,y2:W,width:se,color:oe,borderDash:ee,borderDashOffset:B,tickWidth:q,tickColor:Q,tickBorderDash:K,tickBorderDashOffset:ae}))}return this._ticksLength=p,this._borderValue=S,f}_computeLabelItems(t){const r=this.axis,s=this.options,{position:a,ticks:i}=s,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:p}=i,x=g1(s.grid),f=x+u,y=p?-u:f,v=-R0(this.labelRotation),_=[];let k,S,M,T,O,A,C,N,E,z,P,I,W="middle";if(a==="top")A=this.bottom-y,C=this._getXAxisLabelAlignment();else if(a==="bottom")A=this.top+y,C=this._getXAxisLabelAlignment();else if(a==="left"){const Y=this._getYAxisLabelAlignment(x);C=Y.textAlign,O=Y.x}else if(a==="right"){const Y=this._getYAxisLabelAlignment(x);C=Y.textAlign,O=Y.x}else if(r==="x"){if(a==="center")A=(t.top+t.bottom)/2+f;else if(Ps(a)){const Y=Object.keys(a)[0],te=a[Y];A=this.chart.scales[Y].getPixelForValue(te)+f}C=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")O=(t.left+t.right)/2-f;else if(Ps(a)){const Y=Object.keys(a)[0],te=a[Y];O=this.chart.scales[Y].getPixelForValue(te)}C=this._getYAxisLabelAlignment(x).textAlign}r==="y"&&(c==="start"?W="top":c==="end"&&(W="bottom"));const Z=this._getLabelSizes();for(k=0,S=l.length;k<S;++k){M=l[k],T=M.label;const Y=i.setContext(this.getContext(k));N=this.getPixelForTick(k)+i.labelOffset,E=this._resolveTickFontOptions(k),z=E.lineHeight,P=vi(T)?T.length:1;const te=P/2,ie=Y.color,le=Y.textStrokeColor,se=Y.textStrokeWidth;let oe=C;o?(O=N,C==="inner"&&(k===S-1?oe=this.options.reverse?"left":"right":k===0?oe=this.options.reverse?"right":"left":oe="center"),a==="top"?d==="near"||v!==0?I=-P*z+z/2:d==="center"?I=-Z.highest.height/2-te*z+z:I=-Z.highest.height+z/2:d==="near"||v!==0?I=z/2:d==="center"?I=Z.highest.height/2-te*z:I=Z.highest.height-P*z,p&&(I*=-1),v!==0&&!Y.showLabelBackdrop&&(O+=z/2*Math.sin(v))):(A=N,I=(1-P)*z/2);let ee;if(Y.showLabelBackdrop){const B=hd(Y.backdropPadding),q=Z.heights[k],Q=Z.widths[k];let K=I-B.top,ae=0-B.left;switch(W){case"middle":K-=q/2;break;case"bottom":K-=q;break}switch(C){case"center":ae-=Q/2;break;case"right":ae-=Q;break;case"inner":k===S-1?ae-=Q:k>0&&(ae-=Q/2);break}ee={left:ae,top:K,width:Q+B.width,height:q+B.height,color:Y.backdropColor}}_.push({label:T,font:E,textOffset:I,options:{rotation:v,color:ie,strokeColor:le,strokeWidth:se,textAlign:oe,textBaseline:W,translation:[O,A],backdrop:ee}})}return _}_getXAxisLabelAlignment(){const{position:t,ticks:r}=this.options;if(-R0(this.labelRotation))return t==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:r,ticks:{crossAlign:s,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),l=t+i,c=o.widest.width;let d,u;return r==="left"?a?(u=this.right+i,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u=this.left)):r==="right"?a?(u=this.left+i,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:r},left:s,top:a,width:i,height:o}=this;r&&(t.save(),t.fillStyle=r,t.fillRect(s,a,i,o),t.restore())}getLineWidthForValue(t){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(i=>i.value===t);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const r=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const l=(c,d,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(r.display)for(i=0,o=a.length;i<o;++i){const c=a[i];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:r,options:{border:s,grid:a}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,p,x;this.isHorizontal()?(d=ff(t,this.left,o)-o/2,u=ff(t,this.right,l)+l/2,p=x=c):(p=ff(t,this.top,o)-o/2,x=ff(t,this.bottom,l)+l/2,d=u=c),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(d,p),r.lineTo(u,x),r.stroke(),r.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&$y(s,a);const i=this.getLabelItems(t);for(const o of i){const l=o.options,c=o.font,d=o.label,u=o.textOffset;Sx(s,d,0,u,c,l)}a&&Wy(s)}drawTitle(){const{ctx:t,options:{position:r,title:s,reverse:a}}=this;if(!s.display)return;const i=Xo(s.font),o=hd(s.padding),l=s.align;let c=i.lineHeight/2;r==="bottom"||r==="center"||Ps(r)?(c+=o.bottom,vi(s.text)&&(c+=i.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:p,rotation:x}=iW(this,c,r,l);Sx(t,s.text,0,0,i,{color:s.color,maxWidth:p,rotation:x,textAlign:nW(l,r,a),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,r=t.ticks&&t.ticks.z||0,s=ds(t.grid&&t.grid.z,-1),a=ds(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Fp.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const r=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let i,o;for(i=0,o=r.length;i<o;++i){const l=r[i];l[s]===this.id&&(!t||l.type===t)&&a.push(l)}return a}_resolveTickFontOptions(t){const r=this.options.ticks.setContext(this.getContext(t));return Xo(r.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class N2{constructor(t,r,s){this.type=t,this.scope=r,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const r=Object.getPrototypeOf(t);let s;cW(r)&&(s=this.register(r));const a=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in a||(a[i]=t,oW(t,o,s),this.override&&Qn.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const r=this.items,s=t.id,a=this.scope;s in r&&delete r[s],a&&s in Qn[a]&&(delete Qn[a][s],this.override&&delete Bf[s])}}function oW(e,t,r){const s=Nx(Object.create(null),[r?Qn.get(r):{},Qn.get(t),e.defaults]);Qn.set(t,s),e.defaultRoutes&&lW(t,e.defaultRoutes),e.descriptors&&Qn.describe(t,e.descriptors)}function lW(e,t){Object.keys(t).forEach(r=>{const s=r.split("."),a=s.pop(),i=[e].concat(s).join("."),o=t[r].split("."),l=o.pop(),c=o.join(".");Qn.route(i,a,c,l)})}function cW(e){return"id"in e&&"defaults"in e}class dW{constructor(){this.controllers=new N2(Gd,"datasets",!0),this.elements=new N2(Ru,"elements"),this.plugins=new N2(Object,"plugins"),this.scales=new N2(Fp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,r,s){[...r].forEach(a=>{const i=s||this._getRegistryForType(a);s||i.isForType(a)||i===this.plugins&&a.id?this._exec(t,i,a):_a(a,o=>{const l=s||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,r,s){const a=i5(t);Ga(s["before"+a],[],s),r[t](s),Ga(s["after"+a],[],s)}_getRegistryForType(t){for(let r=0;r<this._typedRegistries.length;r++){const s=this._typedRegistries[r];if(s.isForType(t))return s}return this.plugins}_get(t,r,s){const a=r.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return a}}var P0=new dW;class uW{constructor(){this._init=void 0}notify(t,r,s,a){if(r==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const i=a?this._descriptors(t).filter(a):this._descriptors(t),o=this._notify(i,t,r,s);return r==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),o}_notify(t,r,s,a){a=a||{};for(const i of t){const o=i.plugin,l=o[s],c=[r,a,i.options];if(Ga(l,c,o)===!1&&a.cancelable)return!1}return!0}invalidate(){oa(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),r}_createDescriptors(t,r){const s=t&&t.config,a=ds(s.options&&s.options.plugins,{}),i=hW(s);return a===!1&&!r?[]:mW(t,i,a,r)}_notifyStateChanges(t){const r=this._oldCache||[],s=this._cache,a=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,s),t,"stop"),this._notify(a(s,r),t,"start")}}function hW(e){const t={},r=[],s=Object.keys(P0.plugins.items);for(let i=0;i<s.length;i++)r.push(P0.getPlugin(s[i]));const a=e.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];r.indexOf(o)===-1&&(r.push(o),t[o.id]=!0)}return{plugins:r,localIds:t}}function fW(e,t){return!t&&e===!1?null:e===!0?{}:e}function mW(e,{plugins:t,localIds:r},s,a){const i=[],o=e.getContext();for(const l of t){const c=l.id,d=fW(s[c],a);d!==null&&i.push({plugin:l,options:pW(e.config,{plugin:l,local:r[c]},d,o)})}return i}function pW(e,{plugin:t,local:r},s,a){const i=e.pluginScopeKeys(t),o=e.getOptionScopes(s,i);return r&&t.defaults&&o.push(t.defaults),e.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vw(e,t){const r=Qn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function xW(e,t){let r=e;return e==="_index_"?r=t:e==="_value_"&&(r=t==="x"?"y":"x"),r}function gW(e,t){return e===t?"_index_":"_value_"}function E6(e){if(e==="x"||e==="y"||e==="r")return e}function vW(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Gw(e,...t){if(E6(e))return e;for(const r of t){const s=r.axis||vW(r.position)||e.length>1&&E6(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function A6(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function yW(e,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(r.length)return A6(e,"x",r[0])||A6(e,"y",r[0])}return{}}function bW(e,t){const r=Bf[e.type]||{scales:{}},s=t.scales||{},a=Vw(e.type,t),i=Object.create(null);return Object.keys(s).forEach(o=>{const l=s[o];if(!Ps(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Gw(o,l,yW(o,e),Qn.scales[l.type]),d=gW(c,a),u=r.scales||{};i[o]=W1(Object.create(null),[{axis:c},l,u[c],u[d]])}),e.data.datasets.forEach(o=>{const l=o.type||e.type,c=o.indexAxis||Vw(l,t),u=(Bf[l]||{}).scales||{};Object.keys(u).forEach(p=>{const x=xW(p,c),f=o[x+"AxisID"]||x;i[f]=i[f]||Object.create(null),W1(i[f],[{axis:x},s[f],u[p]])})}),Object.keys(i).forEach(o=>{const l=i[o];W1(l,[Qn.scales[l.type],Qn.scale])}),i}function eA(e){const t=e.options||(e.options={});t.plugins=ds(t.plugins,{}),t.scales=bW(e,t)}function tA(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function _W(e){return e=e||{},e.data=tA(e.data),eA(e),e}const T6=new Map,rA=new Set;function k2(e,t){let r=T6.get(e);return r||(r=t(),T6.set(e,r),rA.add(r)),r}const v1=(e,t,r)=>{const s=Ph(t,r);s!==void 0&&e.add(s)};class wW{constructor(t){this._config=_W(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=tA(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),eA(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return k2(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,r){return k2(`${t}.transition.${r}`,()=>[[`datasets.${t}.transitions.${r}`,`transitions.${r}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,r){return k2(`${t}-${r}`,()=>[[`datasets.${t}.elements.${r}`,`datasets.${t}`,`elements.${r}`,""]])}pluginScopeKeys(t){const r=t.id,s=this.type;return k2(`${s}-plugin-${r}`,()=>[[`plugins.${r}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,r){const s=this._scopeCache;let a=s.get(t);return(!a||r)&&(a=new Map,s.set(t,a)),a}getOptionScopes(t,r,s){const{options:a,type:i}=this,o=this._cachedScopes(t,s),l=o.get(r);if(l)return l;const c=new Set;r.forEach(u=>{t&&(c.add(t),u.forEach(p=>v1(c,t,p))),u.forEach(p=>v1(c,a,p)),u.forEach(p=>v1(c,Bf[i]||{},p)),u.forEach(p=>v1(c,Qn,p)),u.forEach(p=>v1(c,$w,p))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),rA.has(r)&&o.set(r,d),d}chartOptionScopes(){const{options:t,type:r}=this;return[t,Bf[r]||{},Qn.datasets[r]||{},{type:r},Qn,$w]}resolveNamedOptions(t,r,s,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=M6(this._resolverCache,t,a);let c=o;if(kW(o,r)){i.$shared=!1,s=Fh(s)?s():s;const d=this.createResolver(t,s,l);c=vp(o,s,d)}for(const d of r)i[d]=c[d];return i}createResolver(t,r,s=[""],a){const{resolver:i}=M6(this._resolverCache,t,s);return Ps(r)?vp(i,r,void 0,a):i}}function M6(e,t,r){let s=e.get(t);s||(s=new Map,e.set(t,s));const a=r.join();let i=s.get(a);return i||(i={resolver:u5(t,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},s.set(a,i)),i}const NW=e=>Ps(e)&&Object.getOwnPropertyNames(e).some(t=>Fh(e[t]));function kW(e,t){const{isScriptable:r,isIndexable:s}=F7(e);for(const a of t){const i=r(a),o=s(a),l=(o||i)&&e[a];if(i&&(Fh(l)||NW(l))||o&&vi(l))return!0}return!1}var jW="4.5.1";const CW=["top","bottom","left","right","chartArea"];function L6(e,t){return e==="top"||e==="bottom"||CW.indexOf(e)===-1&&t==="x"}function P6(e,t){return function(r,s){return r[e]===s[e]?r[t]-s[t]:r[e]-s[e]}}function F6(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),Ga(r&&r.onComplete,[e],t)}function SW(e){const t=e.chart,r=t.options.animation;Ga(r&&r.onProgress,[e],t)}function sA(e){return m5()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const yv={},D6=e=>{const t=sA(e);return Object.values(yv).filter(r=>r.canvas===t).pop()};function EW(e,t,r){const s=Object.keys(e);for(const a of s){const i=+a;if(i>=t){const o=e[a];delete e[a],(r>0||i>t)&&(e[i+r]=o)}}}function AW(e,t,r,s){return!r||e.type==="mouseout"?null:s?t:e}var hh;let dg=(hh=class{static register(...t){P0.add(...t),I6()}static unregister(...t){P0.remove(...t),I6()}constructor(t,r){const s=this.config=new wW(r),a=sA(t),i=D6(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||q$(a)),this.platform.updateConfig(s);const l=this.platform.acquireContext(a,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=Az(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new uW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Kz(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],yv[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}xu.listen(this,"complete",F6),xu.listen(this,"progress",SW),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:r},width:s,height:a,_aspectRatio:i}=this;return oa(t)?r&&i?i:a?s/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return P0}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():a6(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return t6(this.canvas,this.ctx),this}stop(){return xu.stop(this),this}resize(t,r){xu.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){const s=this.options,a=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,t,r,i),l=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,a6(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Ga(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};_a(r,(s,a)=>{s.id=a})}buildOrUpdateScales(){const t=this.options,r=t.scales,s=this.scales,a=Object.keys(s).reduce((o,l)=>(o[l]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const l=r[o],c=Gw(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),_a(i,o=>{const l=o.options,c=l.id,d=Gw(c,l),u=ds(l.type,o.dtype);(l.position===void 0||L6(l.position,d)!==L6(o.dposition))&&(l.position=o.dposition),a[c]=!0;let p=null;if(c in s&&s[c].type===u)p=s[c];else{const x=P0.getScale(u);p=new x({id:c,type:u,ctx:this.ctx,chart:this}),s[p.id]=p}p.init(l,t)}),_a(a,(o,l)=>{o||delete s[l]}),_a(s,o=>{ld.configure(this,o,o.options),ld.addBox(this,o)})}_updateMetasets(){const t=this._metasets,r=this.data.datasets.length,s=t.length;if(t.sort((a,i)=>a.index-i.index),s>r){for(let a=r;a<s;++a)this._destroyDatasetMeta(a);t.splice(r,s-r)}this._sortedMetasets=t.slice(0).sort(P6("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((s,a)=>{r.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],r=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=r.length;s<a;s++){const i=r[s];let o=this.getDatasetMeta(s);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=l,o.indexAxis=i.indexAxis||Vw(l,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=P0.getController(l),{datasetElementType:d,dataElementType:u}=Qn.datasets[l];Object.assign(c,{dataElementType:P0.getElement(u),datasetElementType:d&&P0.getElement(d)}),o.controller=new c(this,s),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){_a(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const r=this.config;r.update();const s=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:p}=this.getDatasetMeta(d),x=!a&&i.indexOf(p)===-1;p.buildOrUpdateElements(x),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),a||_a(i,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(P6("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){_a(this.scales,t=>{ld.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,r=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!Vk(r,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:i}of r){const o=s==="_removeElements"?-i:i;EW(t,a,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const r=this.data.datasets.length,s=i=>new Set(t.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),a=s(0);for(let i=1;i<r;i++)if(!Vk(a,s(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ld.update(this,this.width,this.height,t);const r=this.chartArea,s=r.width<=0||r.height<=0;this._layers=[],_a(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,s=this.data.datasets.length;r<s;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,s=this.data.datasets.length;r<s;++r)this._updateDataset(r,Fh(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){const s=this.getDatasetMeta(t),a={meta:s,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(xu.has(this)?this.attached&&!xu.running(this)&&xu.start(this):(this.draw(),F6({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const r=this._sortedMetasets,s=[];let a,i;for(a=0,i=r.length;a<i;++a){const o=r[a];(!t||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const r=this.ctx,s={meta:t,index:t.index,cancelable:!0},a=V7(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&$y(r,a),t.controller.draw(),a&&Wy(r),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Cx(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,s,a){const i=C$.modes[r];return typeof i=="function"?i(this,t,s,a):[]}getDatasetMeta(t){const r=this.data.datasets[t],s=this._metasets;let a=s.filter(i=>i&&i._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=Qf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const r=this.data.datasets[t];if(!r)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!r.hidden}setDatasetVisibility(t,r){const s=this.getDatasetMeta(t);s.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,s){const a=s?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,a);kx(r)?(i.data[r].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),o.update(i,{visible:s}),this.update(l=>l.datasetIndex===t?a:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){const r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),xu.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),t6(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete yv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,r=this.platform,s=(i,o)=>{r.addEventListener(this,i,o),t[i]=o},a=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};_a(this.options.events,i=>s(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,r=this.platform,s=(c,d)=>{r.addEventListener(this,c,d),t[c]=d},a=(c,d)=>{t[c]&&(r.removeEventListener(this,c,d),delete t[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{a("attach",l),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),s("attach",l)},r.isAttached(this.canvas)?l():o()}unbindEvents(){_a(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},_a(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,s){const a=s?"set":"remove";let i,o,l,c;for(r==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){o=t[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const r=this._active||[],s=t.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!Ov(s,r)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,r))}notifyPlugins(t,r,s){return this._plugins.notify(this,t,r,s)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,s){const a=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(p=>u.datasetIndex===p.datasetIndex&&u.index===p.index)),o=i(r,t),l=s?t:i(t,r);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(t,r){const s={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},a=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const i=this._handleEvent(t,r,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(i||s.changed)&&this.render(),this}_handleEvent(t,r,s){const{_active:a=[],options:i}=this,o=r,l=this._getActiveElements(t,a,s,o),c=Dz(t),d=AW(t,this._lastEvent,s,c);s&&(this._lastEvent=null,Ga(i.onHover,[t,l,this],this),c&&Ga(i.onClick,[t,l,this],this));const u=!Ov(l,a);return(u||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=d,u}_getActiveElements(t,r,s,a){if(t.type==="mouseout")return[];if(!s)return r;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,a)}},zt(hh,"defaults",Qn),zt(hh,"instances",yv),zt(hh,"overrides",Bf),zt(hh,"registry",P0),zt(hh,"version",jW),zt(hh,"getChart",D6),hh);function I6(){return _a(dg.instances,e=>e._plugins.invalidate())}function TW(e,t,r){const{startAngle:s,x:a,y:i,outerRadius:o,innerRadius:l,options:c}=t,{borderWidth:d,borderJoinStyle:u}=c,p=Math.min(d/o,kc(s-r));if(e.beginPath(),e.arc(a,i,o-d/2,s+p/2,r-p/2),l>0){const x=Math.min(d/l,kc(s-r));e.arc(a,i,l+d/2,r-x/2,s+x/2,!0)}else{const x=Math.min(d/2,o*kc(s-r));if(u==="round")e.arc(a,i,x,r-fa/2,s+fa/2,!0);else if(u==="bevel"){const f=2*x*x,y=-f*Math.cos(r+fa/2)+a,v=-f*Math.sin(r+fa/2)+i,_=f*Math.cos(s+fa/2)+a,k=f*Math.sin(s+fa/2)+i;e.lineTo(y,v),e.lineTo(_,k)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function MW(e,t,r){const{startAngle:s,pixelMargin:a,x:i,y:o,outerRadius:l,innerRadius:c}=t;let d=a/l;e.beginPath(),e.arc(i,o,l,s-d,r+d),c>a?(d=a/c,e.arc(i,o,c,r+d,s-d,!0)):e.arc(i,o,a,r+Ii,s-Ii),e.closePath(),e.clip()}function LW(e){return d5(e,["outerStart","outerEnd","innerStart","innerEnd"])}function PW(e,t,r,s){const a=LW(e.options.borderRadius),i=(r-t)/2,o=Math.min(i,s*t/2),l=c=>{const d=(r-Math.min(i,c))*s/2;return Zo(c,0,Math.min(i,d))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:Zo(a.innerStart,0,o),innerEnd:Zo(a.innerEnd,0,o)}}function jm(e,t,r,s){return{x:r+e*Math.cos(t),y:s+e*Math.sin(t)}}function Hv(e,t,r,s,a,i){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=t,p=Math.max(t.outerRadius+s+r-d,0),x=u>0?u+s+r+d:0;let f=0;const y=a-c;if(s){const Y=u>0?u-s:0,te=p>0?p-s:0,ie=(Y+te)/2,le=ie!==0?y*ie/(ie+s):y;f=(y-le)/2}const v=Math.max(.001,y*p-r/fa)/p,_=(y-v)/2,k=c+_+f,S=a-_-f,{outerStart:M,outerEnd:T,innerStart:O,innerEnd:A}=PW(t,x,p,S-k),C=p-M,N=p-T,E=k+M/C,z=S-T/N,P=x+O,I=x+A,W=k+O/P,Z=S-A/I;if(e.beginPath(),i){const Y=(E+z)/2;if(e.arc(o,l,p,E,Y),e.arc(o,l,p,Y,z),T>0){const se=jm(N,z,o,l);e.arc(se.x,se.y,T,z,S+Ii)}const te=jm(I,S,o,l);if(e.lineTo(te.x,te.y),A>0){const se=jm(I,Z,o,l);e.arc(se.x,se.y,A,S+Ii,Z+Math.PI)}const ie=(S-A/x+(k+O/x))/2;if(e.arc(o,l,x,S-A/x,ie,!0),e.arc(o,l,x,ie,k+O/x,!0),O>0){const se=jm(P,W,o,l);e.arc(se.x,se.y,O,W+Math.PI,k-Ii)}const le=jm(C,k,o,l);if(e.lineTo(le.x,le.y),M>0){const se=jm(C,E,o,l);e.arc(se.x,se.y,M,k-Ii,E)}}else{e.moveTo(o,l);const Y=Math.cos(E)*p+o,te=Math.sin(E)*p+l;e.lineTo(Y,te);const ie=Math.cos(z)*p+o,le=Math.sin(z)*p+l;e.lineTo(ie,le)}e.closePath()}function FW(e,t,r,s,a){const{fullCircles:i,startAngle:o,circumference:l}=t;let c=t.endAngle;if(i){Hv(e,t,r,s,c,a);for(let d=0;d<i;++d)e.fill();isNaN(l)||(c=o+(l%bn||bn))}return Hv(e,t,r,s,c,a),e.fill(),c}function DW(e,t,r,s,a){const{fullCircles:i,startAngle:o,circumference:l,options:c}=t,{borderWidth:d,borderJoinStyle:u,borderDash:p,borderDashOffset:x,borderRadius:f}=c,y=c.borderAlign==="inner";if(!d)return;e.setLineDash(p||[]),e.lineDashOffset=x,y?(e.lineWidth=d*2,e.lineJoin=u||"round"):(e.lineWidth=d,e.lineJoin=u||"bevel");let v=t.endAngle;if(i){Hv(e,t,r,s,v,a);for(let _=0;_<i;++_)e.stroke();isNaN(l)||(v=o+(l%bn||bn))}y&&MW(e,t,v),c.selfJoin&&v-o>=fa&&f===0&&u!=="miter"&&TW(e,t,v),i||(Hv(e,t,r,s,v,a),e.stroke())}class M1 extends Ru{constructor(r){super();zt(this,"circumference");zt(this,"endAngle");zt(this,"fullCircles");zt(this,"innerRadius");zt(this,"outerRadius");zt(this,"pixelMargin");zt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,s,a){const i=this.getProps(["x","y"],a),{angle:o,distance:l}=k7(i,{x:r,y:s}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:p,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),f=(this.options.spacing+this.options.borderWidth)/2,y=ds(x,d-c),v=jx(o,c,d)&&c!==d,_=y>=bn||v,k=bu(l,u+f,p+f);return _&&k}getCenterPoint(r){const{x:s,y:a,startAngle:i,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:d,spacing:u}=this.options,p=(i+o)/2,x=(l+c+u+d)/2;return{x:s+Math.cos(p)*x,y:a+Math.sin(p)*x}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:s,circumference:a}=this,i=(s.offset||0)/4,o=(s.spacing||0)/2,l=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=a>bn?Math.floor(a/bn):0,a===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*i,Math.sin(c)*i);const d=1-Math.sin(Math.min(fa,a||0)),u=i*d;r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,FW(r,this,u,o,l),DW(r,this,u,o,l),r.restore()}}zt(M1,"id","arc"),zt(M1,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),zt(M1,"defaultRoutes",{backgroundColor:"backgroundColor"}),zt(M1,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function aA(e,t,r=t){e.lineCap=ds(r.borderCapStyle,t.borderCapStyle),e.setLineDash(ds(r.borderDash,t.borderDash)),e.lineDashOffset=ds(r.borderDashOffset,t.borderDashOffset),e.lineJoin=ds(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ds(r.borderWidth,t.borderWidth),e.strokeStyle=ds(r.borderColor,t.borderColor)}function IW(e,t,r){e.lineTo(r.x,r.y)}function RW(e){return e.stepped?iU:e.tension||e.cubicInterpolationMode==="monotone"?oU:IW}function nA(e,t,r={}){const s=e.length,{start:a=0,end:i=s-1}=r,{start:o,end:l}=t,c=Math.max(a,o),d=Math.min(i,l),u=a<o&&i<o||a>l&&i>l;return{count:s,start:c,loop:t.loop,ilen:d<c&&!u?s+d-c:d-c}}function OW(e,t,r,s){const{points:a,options:i}=t,{count:o,start:l,loop:c,ilen:d}=nA(a,r,s),u=RW(i);let{move:p=!0,reverse:x}=s||{},f,y,v;for(f=0;f<=d;++f)y=a[(l+(x?d-f:f))%o],!y.skip&&(p?(e.moveTo(y.x,y.y),p=!1):u(e,v,y,x,i.stepped),v=y);return c&&(y=a[(l+(x?d:0))%o],u(e,v,y,x,i.stepped)),!!c}function BW(e,t,r,s){const a=t.points,{count:i,start:o,ilen:l}=nA(a,r,s),{move:c=!0,reverse:d}=s||{};let u=0,p=0,x,f,y,v,_,k;const S=T=>(o+(d?l-T:T))%i,M=()=>{v!==_&&(e.lineTo(u,_),e.lineTo(u,v),e.lineTo(u,k))};for(c&&(f=a[S(0)],e.moveTo(f.x,f.y)),x=0;x<=l;++x){if(f=a[S(x)],f.skip)continue;const T=f.x,O=f.y,A=T|0;A===y?(O<v?v=O:O>_&&(_=O),u=(p*u+T)/++p):(M(),e.lineTo(T,O),y=A,p=0,v=_=O),k=O}M()}function qw(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!r?BW:OW}function zW(e){return e.stepped?BU:e.tension||e.cubicInterpolationMode==="monotone"?zU:gf}function UW(e,t,r,s){let a=t._path;a||(a=t._path=new Path2D,t.path(a,r,s)&&a.closePath()),aA(e,t.options),e.stroke(a)}function $W(e,t,r,s){const{segments:a,options:i}=t,o=qw(t);for(const l of a)aA(e,i,l.style),e.beginPath(),o(e,t,l,{start:r,end:r+s-1})&&e.closePath(),e.stroke()}const WW=typeof Path2D=="function";function HW(e,t,r,s){WW&&!t.options.segment?UW(e,t,r,s):$W(e,t,r,s)}class _u extends Ru{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const a=s.spanGaps?this._loop:this._fullLoop;MU(this._points,s,t,a,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=GU(this,this.options.segment))}first(){const t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){const t=this.segments,r=this.points,s=t.length;return s&&r[t[s-1].end]}interpolate(t,r){const s=this.options,a=t[r],i=this.points,o=H7(this,{property:r,start:a,end:a});if(!o.length)return;const l=[],c=zW(s);let d,u;for(d=0,u=o.length;d<u;++d){const{start:p,end:x}=o[d],f=i[p],y=i[x];if(f===y){l.push(f);continue}const v=Math.abs((a-f[r])/(y[r]-f[r])),_=c(f,y,v,s.stepped);_[r]=t[r],l.push(_)}return l.length===1?l[0]:l}pathSegment(t,r,s){return qw(this)(t,this,r,s)}path(t,r,s){const a=this.segments,i=qw(this);let o=this._loop;r=r||0,s=s||this.points.length-r;for(const l of a)o&=i(t,this,l,{start:r,end:r+s-1});return!!o}draw(t,r,s,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),HW(t,this,s,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}zt(_u,"id","line"),zt(_u,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),zt(_u,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),zt(_u,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function R6(e,t,r,s){const a=e.options,{[r]:i}=e.getProps([r],s);return Math.abs(t-i)<a.radius+a.hitRadius}class q1 extends Ru{constructor(r){super();zt(this,"parsed");zt(this,"skip");zt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,s,a){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],a);return Math.pow(r-o,2)+Math.pow(s-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,s){return R6(this,r,"x",s)}inYRange(r,s){return R6(this,r,"y",s)}getCenterPoint(r){const{x:s,y:a}=this.getProps(["x","y"],r);return{x:s,y:a}}size(r){r=r||this.options||{};let s=r.radius||0;s=Math.max(s,s&&r.hoverRadius||0);const a=s&&r.borderWidth||0;return(s+a)*2}draw(r,s){const a=this.options;this.skip||a.radius<.1||!Cx(this,s,this.size(a)/2)||(r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.fillStyle=a.backgroundColor,Ww(r,a,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}zt(q1,"id","point"),zt(q1,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),zt(q1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function iA(e,t){const{x:r,y:s,base:a,width:i,height:o}=e.getProps(["x","y","base","width","height"],t);let l,c,d,u,p;return e.horizontal?(p=o/2,l=Math.min(r,a),c=Math.max(r,a),d=s-p,u=s+p):(p=i/2,l=r-p,c=r+p,d=Math.min(s,a),u=Math.max(s,a)),{left:l,top:d,right:c,bottom:u}}function yh(e,t,r,s){return e?0:Zo(t,r,s)}function VW(e,t,r){const s=e.options.borderWidth,a=e.borderSkipped,i=P7(s);return{t:yh(a.top,i.top,0,r),r:yh(a.right,i.right,0,t),b:yh(a.bottom,i.bottom,0,r),l:yh(a.left,i.left,0,t)}}function GW(e,t,r){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,i=Qm(a),o=Math.min(t,r),l=e.borderSkipped,c=s||Ps(a);return{topLeft:yh(!c||l.top||l.left,i.topLeft,0,o),topRight:yh(!c||l.top||l.right,i.topRight,0,o),bottomLeft:yh(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:yh(!c||l.bottom||l.right,i.bottomRight,0,o)}}function qW(e){const t=iA(e),r=t.right-t.left,s=t.bottom-t.top,a=VW(e,r/2,s/2),i=GW(e,r/2,s/2);return{outer:{x:t.left,y:t.top,w:r,h:s,radius:i},inner:{x:t.left+a.l,y:t.top+a.t,w:r-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function N_(e,t,r,s){const a=t===null,i=r===null,l=e&&!(a&&i)&&iA(e,s);return l&&(a||bu(t,l.left,l.right))&&(i||bu(r,l.top,l.bottom))}function KW(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function YW(e,t){e.rect(t.x,t.y,t.w,t.h)}function k_(e,t,r={}){const s=e.x!==r.x?-t:0,a=e.y!==r.y?-t:0,i=(e.x+e.w!==r.x+r.w?t:0)-s,o=(e.y+e.h!==r.y+r.h?t:0)-a;return{x:e.x+s,y:e.y+a,w:e.w+i,h:e.h+o,radius:e.radius}}class K1 extends Ru{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:r,options:{borderColor:s,backgroundColor:a}}=this,{inner:i,outer:o}=qW(this),l=KW(o.radius)?Uv:YW;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),l(t,k_(o,r,i)),t.clip(),l(t,k_(i,-r,o)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),l(t,k_(i,r)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,r,s){return N_(this,t,r,s)}inXRange(t,r){return N_(this,t,null,r)}inYRange(t,r){return N_(this,null,t,r)}getCenterPoint(t){const{x:r,y:s,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(r+a)/2:r,y:i?s:(s+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}zt(K1,"id","bar"),zt(K1,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),zt(K1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function ZW(e,t,r){const s=e.segments,a=e.points,i=t.points,o=[];for(const l of s){let{start:c,end:d}=l;d=Gy(c,d,a);const u=Kw(r,a[c],a[d],l.loop);if(!t.segments){o.push({source:l,target:u,start:a[c],end:a[d]});continue}const p=H7(t,u);for(const x of p){const f=Kw(r,i[x.start],i[x.end],x.loop),y=W7(l,a,f);for(const v of y)o.push({source:v,target:x,start:{[r]:O6(u,f,"start",Math.max)},end:{[r]:O6(u,f,"end",Math.min)}})}}return o}function Kw(e,t,r,s){if(s)return;let a=t[e],i=r[e];return e==="angle"&&(a=kc(a),i=kc(i)),{property:e,start:a,end:i}}function XW(e,t){const{x:r=null,y:s=null}=e||{},a=t.points,i=[];return t.segments.forEach(({start:o,end:l})=>{l=Gy(o,l,a);const c=a[o],d=a[l];s!==null?(i.push({x:c.x,y:s}),i.push({x:d.x,y:s})):r!==null&&(i.push({x:r,y:c.y}),i.push({x:r,y:d.y}))}),i}function Gy(e,t,r){for(;t>e;t--){const s=r[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function O6(e,t,r,s){return e&&t?s(e[r],t[r]):e?e[r]:t?t[r]:0}function oA(e,t){let r=[],s=!1;return vi(e)?(s=!0,r=e):r=XW(e,t),r.length?new _u({points:r,options:{tension:0},_loop:s,_fullLoop:s}):null}function B6(e){return e&&e.fill!==!1}function JW(e,t,r){let a=e[t].fill;const i=[t];let o;if(!r)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!el(a))return a;if(o=e[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function QW(e,t,r){const s=sH(e);if(Ps(s))return isNaN(s.value)?!1:s;let a=parseFloat(s);return el(a)&&Math.floor(a)===a?eH(s[0],t,a,r):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function eH(e,t,r,s){return(e==="-"||e==="+")&&(r=t+r),r===t||r<0||r>=s?!1:r}function tH(e,t){let r=null;return e==="start"?r=t.bottom:e==="end"?r=t.top:Ps(e)?r=t.getPixelForValue(e.value):t.getBasePixel&&(r=t.getBasePixel()),r}function rH(e,t,r){let s;return e==="start"?s=r:e==="end"?s=t.options.reverse?t.min:t.max:Ps(e)?s=e.value:s=t.getBaseValue(),s}function sH(e){const t=e.options,r=t.fill;let s=ds(r&&r.target,r);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function aH(e){const{scale:t,index:r,line:s}=e,a=[],i=s.segments,o=s.points,l=nH(t,r);l.push(oA({x:null,y:t.bottom},s));for(let c=0;c<i.length;c++){const d=i[c];for(let u=d.start;u<=d.end;u++)iH(a,o[u],l)}return new _u({points:a,options:{}})}function nH(e,t){const r=[],s=e.getMatchingVisibleMetas("line");for(let a=0;a<s.length;a++){const i=s[a];if(i.index===t)break;i.hidden||r.unshift(i.dataset)}return r}function iH(e,t,r){const s=[];for(let a=0;a<r.length;a++){const i=r[a],{first:o,last:l,point:c}=oH(i,t,"x");if(!(!c||o&&l)){if(o)s.unshift(c);else if(e.push(c),!l)break}}e.push(...s)}function oH(e,t,r){const s=e.interpolate(t,r);if(!s)return{};const a=s[r],i=e.segments,o=e.points;let l=!1,c=!1;for(let d=0;d<i.length;d++){const u=i[d],p=o[u.start][r],x=o[u.end][r];if(bu(a,p,x)){l=a===p,c=a===x;break}}return{first:l,last:c,point:s}}class lA{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,r,s){const{x:a,y:i,radius:o}=this;return r=r||{start:0,end:bn},t.arc(a,i,o,r.end,r.start,!0),!s.bounds}interpolate(t){const{x:r,y:s,radius:a}=this,i=t.angle;return{x:r+Math.cos(i)*a,y:s+Math.sin(i)*a,angle:i}}}function lH(e){const{chart:t,fill:r,line:s}=e;if(el(r))return cH(t,r);if(r==="stack")return aH(e);if(r==="shape")return!0;const a=dH(e);return a instanceof lA?a:oA(a,s)}function cH(e,t){const r=e.getDatasetMeta(t);return r&&e.isDatasetVisible(t)?r.dataset:null}function dH(e){return(e.scale||{}).getPointPositionForValue?hH(e):uH(e)}function uH(e){const{scale:t={},fill:r}=e,s=tH(r,t);if(el(s)){const a=t.isHorizontal();return{x:a?s:null,y:a?null:s}}return null}function hH(e){const{scale:t,fill:r}=e,s=t.options,a=t.getLabels().length,i=s.reverse?t.max:t.min,o=rH(r,t,i),l=[];if(s.grid.circular){const c=t.getPointPositionForValue(0,i);return new lA({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<a;++c)l.push(t.getPointPositionForValue(c,o));return l}function j_(e,t,r){const s=lH(t),{chart:a,index:i,line:o,scale:l,axis:c}=t,d=o.options,u=d.fill,p=d.backgroundColor,{above:x=p,below:f=p}=u||{},y=a.getDatasetMeta(i),v=V7(a,y);s&&o.points.length&&($y(e,r),fH(e,{line:o,target:s,above:x,below:f,area:r,scale:l,axis:c,clip:v}),Wy(e))}function fH(e,t){const{line:r,target:s,above:a,below:i,area:o,scale:l,clip:c}=t,d=r._loop?"angle":t.axis;e.save();let u=i;i!==a&&(d==="x"?(z6(e,s,o.top),C_(e,{line:r,target:s,color:a,scale:l,property:d,clip:c}),e.restore(),e.save(),z6(e,s,o.bottom)):d==="y"&&(U6(e,s,o.left),C_(e,{line:r,target:s,color:i,scale:l,property:d,clip:c}),e.restore(),e.save(),U6(e,s,o.right),u=a)),C_(e,{line:r,target:s,color:u,scale:l,property:d,clip:c}),e.restore()}function z6(e,t,r){const{segments:s,points:a}=t;let i=!0,o=!1;e.beginPath();for(const l of s){const{start:c,end:d}=l,u=a[c],p=a[Gy(c,d,a)];i?(e.moveTo(u.x,u.y),i=!1):(e.lineTo(u.x,r),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(p.x,r)}e.lineTo(t.first().x,r),e.closePath(),e.clip()}function U6(e,t,r){const{segments:s,points:a}=t;let i=!0,o=!1;e.beginPath();for(const l of s){const{start:c,end:d}=l,u=a[c],p=a[Gy(c,d,a)];i?(e.moveTo(u.x,u.y),i=!1):(e.lineTo(r,u.y),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(r,p.y)}e.lineTo(r,t.first().y),e.closePath(),e.clip()}function C_(e,t){const{line:r,target:s,property:a,color:i,scale:o,clip:l}=t,c=ZW(r,s,a);for(const{source:d,target:u,start:p,end:x}of c){const{style:{backgroundColor:f=i}={}}=d,y=s!==!0;e.save(),e.fillStyle=f,mH(e,o,l,y&&Kw(a,p,x)),e.beginPath();const v=!!r.pathSegment(e,d);let _;if(y){v?e.closePath():$6(e,s,x,a);const k=!!s.pathSegment(e,u,{move:v,reverse:!0});_=v&&k,_||$6(e,s,p,a)}e.closePath(),e.fill(_?"evenodd":"nonzero"),e.restore()}}function mH(e,t,r,s){const a=t.chart.chartArea,{property:i,start:o,end:l}=s||{};if(i==="x"||i==="y"){let c,d,u,p;i==="x"?(c=o,d=a.top,u=l,p=a.bottom):(c=a.left,d=o,u=a.right,p=l),e.beginPath(),r&&(c=Math.max(c,r.left),u=Math.min(u,r.right),d=Math.max(d,r.top),p=Math.min(p,r.bottom)),e.rect(c,d,u-c,p-d),e.clip()}}function $6(e,t,r,s){const a=t.interpolate(r,s);a&&e.lineTo(a.x,a.y)}var cA={id:"filler",afterDatasetsUpdate(e,t,r){const s=(e.data.datasets||[]).length,a=[];let i,o,l,c;for(o=0;o<s;++o)i=e.getDatasetMeta(o),l=i.dataset,c=null,l&&l.options&&l instanceof _u&&(c={visible:e.isDatasetVisible(o),index:o,fill:QW(l,o,s),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,a.push(c);for(o=0;o<s;++o)c=a[o],!(!c||c.fill===!1)&&(c.fill=JW(a,o,r.propagate))},beforeDraw(e,t,r){const s=r.drawTime==="beforeDraw",a=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let o=a.length-1;o>=0;--o){const l=a[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),s&&l.fill&&j_(e.ctx,l,i))}},beforeDatasetsDraw(e,t,r){if(r.drawTime!=="beforeDatasetsDraw")return;const s=e.getSortedVisibleDatasetMetas();for(let a=s.length-1;a>=0;--a){const i=s[a].$filler;B6(i)&&j_(e.ctx,i,e.chartArea)}},beforeDatasetDraw(e,t,r){const s=t.meta.$filler;!B6(s)||r.drawTime!=="beforeDatasetDraw"||j_(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const W6=(e,t)=>{let{boxHeight:r=t,boxWidth:s=t}=e;return e.usePointStyle&&(r=Math.min(r,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:r,itemHeight:Math.max(t,r)}},pH=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class H6 extends Ru{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r,s){this.maxWidth=t,this.maxHeight=r,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let r=Ga(t.generateLabels,[this.chart],this)||[];t.filter&&(r=r.filter(s=>t.filter(s,this.chart.data))),t.sort&&(r=r.sort((s,a)=>t.sort(s,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:t,ctx:r}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,a=Xo(s.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=W6(s,i);let d,u;r.font=a.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,i,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,a,l,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,r,s,a){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=a+l;let p=t;i.textAlign="left",i.textBaseline="middle";let x=-1,f=-u;return this.legendItems.forEach((y,v)=>{const _=s+r/2+i.measureText(y.text).width;(v===0||d[d.length-1]+_+2*l>o)&&(p+=u,d[d.length-(v>0?0:1)]=0,f+=u,x++),c[v]={left:0,top:f,row:x,width:_,height:a},d[d.length-1]+=_+l}),p}_fitCols(t,r,s,a){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-t;let p=l,x=0,f=0,y=0,v=0;return this.legendItems.forEach((_,k)=>{const{itemWidth:S,itemHeight:M}=xH(s,r,i,_,a);k>0&&f+M+2*l>u&&(p+=x+l,d.push({width:x,height:f}),y+=x+l,v++,x=f=0),c[k]={left:y,top:f,col:v,width:S,height:M},x=Math.max(x,S),f+=M+l}),p+=x,d.push({width:x,height:f}),p}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:s,labels:{padding:a},rtl:i}}=this,o=ep(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Wo(s,this.left+a,this.right-this.lineWidths[l]);for(const d of r)l!==d.row&&(l=d.row,c=Wo(s,this.left+a,this.right-this.lineWidths[l])),d.top+=this.top+t+a,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+a}else{let l=0,c=Wo(s,this.top+t+a,this.bottom-this.columnSizes[l].height);for(const d of r)d.col!==l&&(l=d.col,c=Wo(s,this.top+t+a,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+a,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;$y(t,this),this._draw(),Wy(t)}}_draw(){const{options:t,columnSizes:r,lineWidths:s,ctx:a}=this,{align:i,labels:o}=t,l=Qn.color,c=ep(t.rtl,this.left,this.width),d=Xo(o.font),{padding:u}=o,p=d.size,x=p/2;let f;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:y,boxHeight:v,itemHeight:_}=W6(o,p),k=function(A,C,N){if(isNaN(y)||y<=0||isNaN(v)||v<0)return;a.save();const E=ds(N.lineWidth,1);if(a.fillStyle=ds(N.fillStyle,l),a.lineCap=ds(N.lineCap,"butt"),a.lineDashOffset=ds(N.lineDashOffset,0),a.lineJoin=ds(N.lineJoin,"miter"),a.lineWidth=E,a.strokeStyle=ds(N.strokeStyle,l),a.setLineDash(ds(N.lineDash,[])),o.usePointStyle){const z={radius:v*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:E},P=c.xPlus(A,y/2),I=C+x;L7(a,z,P,I,o.pointStyleWidth&&y)}else{const z=C+Math.max((p-v)/2,0),P=c.leftForLtr(A,y),I=Qm(N.borderRadius);a.beginPath(),Object.values(I).some(W=>W!==0)?Uv(a,{x:P,y:z,w:y,h:v,radius:I}):a.rect(P,z,y,v),a.fill(),E!==0&&a.stroke()}a.restore()},S=function(A,C,N){Sx(a,N.text,A,C+_/2,d,{strikethrough:N.hidden,textAlign:c.textAlign(N.textAlign)})},M=this.isHorizontal(),T=this._computeTitleHeight();M?f={x:Wo(i,this.left+u,this.right-s[0]),y:this.top+u+T,line:0}:f={x:this.left+u,y:Wo(i,this.top+T+u,this.bottom-r[0].height),line:0},z7(this.ctx,t.textDirection);const O=_+u;this.legendItems.forEach((A,C)=>{a.strokeStyle=A.fontColor,a.fillStyle=A.fontColor;const N=a.measureText(A.text).width,E=c.textAlign(A.textAlign||(A.textAlign=o.textAlign)),z=y+x+N;let P=f.x,I=f.y;c.setWidth(this.width),M?C>0&&P+z+u>this.right&&(I=f.y+=O,f.line++,P=f.x=Wo(i,this.left+u,this.right-s[f.line])):C>0&&I+O>this.bottom&&(P=f.x=P+r[f.line].width+u,f.line++,I=f.y=Wo(i,this.top+T+u,this.bottom-r[f.line].height));const W=c.x(P);if(k(W,I,A),P=Yz(E,P+y+x,M?P+z:this.right,t.rtl),S(c.x(P),I,A),M)f.x+=z+u;else if(typeof A.text!="string"){const Z=d.lineHeight;f.y+=dA(A,Z)+u}else f.y+=O}),U7(this.ctx,t.textDirection)}drawTitle(){const t=this.options,r=t.title,s=Xo(r.font),a=hd(r.padding);if(!r.display)return;const i=ep(t.rtl,this.left,this.width),o=this.ctx,l=r.position,c=s.size/2,d=a.top+c;let u,p=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),u=this.top+d,p=Wo(t.align,p,this.right-x);else{const y=this.columnSizes.reduce((v,_)=>Math.max(v,_.height),0);u=d+Wo(t.align,this.top,this.bottom-y-t.labels.padding-this._computeTitleHeight())}const f=Wo(l,p,p+x);o.textAlign=i.textAlign(l5(l)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=s.string,Sx(o,r.text,f,u,s)}_computeTitleHeight(){const t=this.options.title,r=Xo(t.font),s=hd(t.padding);return t.display?r.lineHeight+s.height:0}_getLegendItemAt(t,r){let s,a,i;if(bu(t,this.left,this.right)&&bu(r,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(a=i[s],bu(t,a.left,a.left+a.width)&&bu(r,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(t){const r=this.options;if(!yH(t.type,r))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,i=pH(a,s);a&&!i&&Ga(r.onLeave,[t,a,this],this),this._hoveredItem=s,s&&!i&&Ga(r.onHover,[t,s,this],this)}else s&&Ga(r.onClick,[t,s,this],this)}}function xH(e,t,r,s,a){const i=gH(s,e,t,r),o=vH(a,s,t.lineHeight);return{itemWidth:i,itemHeight:o}}function gH(e,t,r,s){let a=e.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),t+r.size/2+s.measureText(a).width}function vH(e,t,r){let s=e;return typeof t.text!="string"&&(s=dA(t,r)),s}function dA(e,t){const r=e.text?e.text.length:0;return t*r}function yH(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var uA={id:"legend",_element:H6,start(e,t,r){const s=e.legend=new H6({ctx:e.ctx,options:r,chart:e});ld.configure(e,s,r),ld.addBox(e,s)},stop(e){ld.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const s=e.legend;ld.configure(e,s,r),s.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const s=t.datasetIndex,a=r.chart;a.isDatasetVisible(s)?(a.hide(s),t.hidden=!0):(a.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:s,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(r?0:void 0),u=hd(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class hA extends Ru{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=r;const a=vi(s.text)?s.text.length:1;this._padding=hd(s.padding);const i=a*Xo(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:r,left:s,bottom:a,right:i,options:o}=this,l=o.align;let c=0,d,u,p;return this.isHorizontal()?(u=Wo(l,s,i),p=r+t,d=i-s):(o.position==="left"?(u=s+t,p=Wo(l,a,r),c=fa*-.5):(u=i-t,p=Wo(l,r,a),c=fa*.5),d=a-r),{titleX:u,titleY:p,maxWidth:d,rotation:c}}draw(){const t=this.ctx,r=this.options;if(!r.display)return;const s=Xo(r.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);Sx(t,r.text,0,0,s,{color:r.color,maxWidth:c,rotation:d,textAlign:l5(r.align),textBaseline:"middle",translation:[o,l]})}}function bH(e,t){const r=new hA({ctx:e.ctx,options:t,chart:e});ld.configure(e,r,t),ld.addBox(e,r),e.titleBlock=r}var fA={id:"title",_element:hA,start(e,t,r){bH(e,r)},stop(e){const t=e.titleBlock;ld.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const s=e.titleBlock;ld.configure(e,s,r),s.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const L1={average(e){if(!e.length)return!1;let t,r,s=new Set,a=0,i=0;for(t=0,r=e.length;t<r;++t){const l=e[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();s.add(c.x),a+=c.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((l,c)=>l+c)/s.size,y:a/i}},nearest(e,t){if(!e.length)return!1;let r=t.x,s=t.y,a=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=e.length;i<o;++i){const c=e[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Uw(t,d);u<a&&(a=u,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,s=c.y}return{x:r,y:s}}};function A0(e,t){return t&&(vi(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function gu(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function _H(e,t){const{element:r,datasetIndex:s,index:a}=t,i=e.getDatasetMeta(s).controller,{label:o,value:l}=i.getLabelAndValue(a);return{chart:e,label:o,parsed:i.getParsed(a),raw:e.data.datasets[s].data[a],formattedValue:l,dataset:i.getDataset(),dataIndex:a,datasetIndex:s,element:r}}function V6(e,t){const r=e.chart.ctx,{body:s,footer:a,title:i}=e,{boxWidth:o,boxHeight:l}=t,c=Xo(t.bodyFont),d=Xo(t.titleFont),u=Xo(t.footerFont),p=i.length,x=a.length,f=s.length,y=hd(t.padding);let v=y.height,_=0,k=s.reduce((T,O)=>T+O.before.length+O.lines.length+O.after.length,0);if(k+=e.beforeBody.length+e.afterBody.length,p&&(v+=p*d.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),k){const T=t.displayColors?Math.max(l,c.lineHeight):c.lineHeight;v+=f*T+(k-f)*c.lineHeight+(k-1)*t.bodySpacing}x&&(v+=t.footerMarginTop+x*u.lineHeight+(x-1)*t.footerSpacing);let S=0;const M=function(T){_=Math.max(_,r.measureText(T).width+S)};return r.save(),r.font=d.string,_a(e.title,M),r.font=c.string,_a(e.beforeBody.concat(e.afterBody),M),S=t.displayColors?o+2+t.boxPadding:0,_a(s,T=>{_a(T.before,M),_a(T.lines,M),_a(T.after,M)}),S=0,r.font=u.string,_a(e.footer,M),r.restore(),_+=y.width,{width:_,height:v}}function wH(e,t){const{y:r,height:s}=t;return r<s/2?"top":r>e.height-s/2?"bottom":"center"}function NH(e,t,r,s){const{x:a,width:i}=s,o=r.caretSize+r.caretPadding;if(e==="left"&&a+i+o>t.width||e==="right"&&a-i-o<0)return!0}function kH(e,t,r,s){const{x:a,width:i}=r,{width:o,chartArea:{left:l,right:c}}=e;let d="center";return s==="center"?d=a<=(l+c)/2?"left":"right":a<=i/2?d="left":a>=o-i/2&&(d="right"),NH(d,e,t,r)&&(d="center"),d}function G6(e,t,r){const s=r.yAlign||t.yAlign||wH(e,r);return{xAlign:r.xAlign||t.xAlign||kH(e,t,r,s),yAlign:s}}function jH(e,t){let{x:r,width:s}=e;return t==="right"?r-=s:t==="center"&&(r-=s/2),r}function CH(e,t,r){let{y:s,height:a}=e;return t==="top"?s+=r:t==="bottom"?s-=a+r:s-=a/2,s}function q6(e,t,r,s){const{caretSize:a,caretPadding:i,cornerRadius:o}=e,{xAlign:l,yAlign:c}=r,d=a+i,{topLeft:u,topRight:p,bottomLeft:x,bottomRight:f}=Qm(o);let y=jH(t,l);const v=CH(t,c,d);return c==="center"?l==="left"?y+=d:l==="right"&&(y-=d):l==="left"?y-=Math.max(u,x)+a:l==="right"&&(y+=Math.max(p,f)+a),{x:Zo(y,0,s.width-t.width),y:Zo(v,0,s.height-t.height)}}function j2(e,t,r){const s=hd(r.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function K6(e){return A0([],gu(e))}function SH(e,t,r){return Qf(e,{tooltip:t,tooltipItems:r,type:"tooltip"})}function Y6(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}const mA={beforeTitle:uu,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,s=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return r[t.dataIndex]}return""},afterTitle:uu,beforeBody:uu,beforeLabel:uu,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return oa(r)||(t+=r),t},labelColor(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:uu,afterBody:uu,beforeFooter:uu,footer:uu,afterFooter:uu};function Bl(e,t,r,s){const a=e[t].call(r,s);return typeof a>"u"?mA[t].call(r,s):a}class Yw extends Ru{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&r.options.animation&&s.animations,i=new G7(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=SH(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:s}=r,a=Bl(s,"beforeTitle",this,t),i=Bl(s,"title",this,t),o=Bl(s,"afterTitle",this,t);let l=[];return l=A0(l,gu(a)),l=A0(l,gu(i)),l=A0(l,gu(o)),l}getBeforeBody(t,r){return K6(Bl(r.callbacks,"beforeBody",this,t))}getBody(t,r){const{callbacks:s}=r,a=[];return _a(t,i=>{const o={before:[],lines:[],after:[]},l=Y6(s,i);A0(o.before,gu(Bl(l,"beforeLabel",this,i))),A0(o.lines,Bl(l,"label",this,i)),A0(o.after,gu(Bl(l,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(t,r){return K6(Bl(r.callbacks,"afterBody",this,t))}getFooter(t,r){const{callbacks:s}=r,a=Bl(s,"beforeFooter",this,t),i=Bl(s,"footer",this,t),o=Bl(s,"afterFooter",this,t);let l=[];return l=A0(l,gu(a)),l=A0(l,gu(i)),l=A0(l,gu(o)),l}_createItems(t){const r=this._active,s=this.chart.data,a=[],i=[],o=[];let l=[],c,d;for(c=0,d=r.length;c<d;++c)l.push(_H(this.chart,r[c]));return t.filter&&(l=l.filter((u,p,x)=>t.filter(u,p,x,s))),t.itemSort&&(l=l.sort((u,p)=>t.itemSort(u,p,s))),_a(l,u=>{const p=Y6(t.callbacks,u);a.push(Bl(p,"labelColor",this,u)),i.push(Bl(p,"labelPointStyle",this,u)),o.push(Bl(p,"labelTextColor",this,u))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(t,r){const s=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const l=L1[s.position].call(this,a,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=V6(this,s),d=Object.assign({},l,c),u=G6(this.chart,s,d),p=q6(s,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:p.x,y:p.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,s,a){const i=this.getCaretPosition(t,s,a);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(t,r,s){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:l}=s,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:p}=Qm(l),{x,y:f}=t,{width:y,height:v}=r;let _,k,S,M,T,O;return i==="center"?(T=f+v/2,a==="left"?(_=x,k=_-o,M=T+o,O=T-o):(_=x+y,k=_+o,M=T-o,O=T+o),S=_):(a==="left"?k=x+Math.max(c,u)+o:a==="right"?k=x+y-Math.max(d,p)-o:k=this.caretX,i==="top"?(M=f,T=M-o,_=k-o,S=k+o):(M=f+v,T=M+o,_=k+o,S=k-o),O=M),{x1:_,x2:k,x3:S,y1:M,y2:T,y3:O}}drawTitle(t,r,s){const a=this.title,i=a.length;let o,l,c;if(i){const d=ep(s.rtl,this.x,this.width);for(t.x=j2(this,s.titleAlign,s),r.textAlign=d.textAlign(s.titleAlign),r.textBaseline="middle",o=Xo(s.titleFont),l=s.titleSpacing,r.fillStyle=s.titleColor,r.font=o.string,c=0;c<i;++c)r.fillText(a[c],d.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,c+1===i&&(t.y+=s.titleMarginBottom-l)}}_drawColorBox(t,r,s,a,i){const o=this.labelColors[s],l=this.labelPointStyles[s],{boxHeight:c,boxWidth:d}=i,u=Xo(i.bodyFont),p=j2(this,"left",i),x=a.x(p),f=c<u.lineHeight?(u.lineHeight-c)/2:0,y=r.y+f;if(i.usePointStyle){const v={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},_=a.leftForLtr(x,d)+d/2,k=y+c/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,Ww(t,v,_,k),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Ww(t,v,_,k)}else{t.lineWidth=Ps(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const v=a.leftForLtr(x,d),_=a.leftForLtr(a.xPlus(x,1),d-2),k=Qm(o.borderRadius);Object.values(k).some(S=>S!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Uv(t,{x:v,y,w:d,h:c,radius:k}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Uv(t,{x:_,y:y+1,w:d-2,h:c-2,radius:k}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(v,y,d,c),t.strokeRect(v,y,d,c),t.fillStyle=o.backgroundColor,t.fillRect(_,y+1,d-2,c-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,r,s){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=s,p=Xo(s.bodyFont);let x=p.lineHeight,f=0;const y=ep(s.rtl,this.x,this.width),v=function(N){r.fillText(N,y.x(t.x+f),t.y+x/2),t.y+=x+i},_=y.textAlign(o);let k,S,M,T,O,A,C;for(r.textAlign=o,r.textBaseline="middle",r.font=p.string,t.x=j2(this,_,s),r.fillStyle=s.bodyColor,_a(this.beforeBody,v),f=l&&_!=="right"?o==="center"?d/2+u:d+2+u:0,T=0,A=a.length;T<A;++T){for(k=a[T],S=this.labelTextColors[T],r.fillStyle=S,_a(k.before,v),M=k.lines,l&&M.length&&(this._drawColorBox(r,t,T,y,s),x=Math.max(p.lineHeight,c)),O=0,C=M.length;O<C;++O)v(M[O]),x=p.lineHeight;_a(k.after,v)}f=0,x=p.lineHeight,_a(this.afterBody,v),t.y-=i}drawFooter(t,r,s){const a=this.footer,i=a.length;let o,l;if(i){const c=ep(s.rtl,this.x,this.width);for(t.x=j2(this,s.footerAlign,s),t.y+=s.footerMarginTop,r.textAlign=c.textAlign(s.footerAlign),r.textBaseline="middle",o=Xo(s.footerFont),r.fillStyle=s.footerColor,r.font=o.string,l=0;l<i;++l)r.fillText(a[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s.footerSpacing}}drawBackground(t,r,s,a){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=t,{width:d,height:u}=s,{topLeft:p,topRight:x,bottomLeft:f,bottomRight:y}=Qm(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+p,c),o==="top"&&this.drawCaret(t,r,s,a),r.lineTo(l+d-x,c),r.quadraticCurveTo(l+d,c,l+d,c+x),o==="center"&&i==="right"&&this.drawCaret(t,r,s,a),r.lineTo(l+d,c+u-y),r.quadraticCurveTo(l+d,c+u,l+d-y,c+u),o==="bottom"&&this.drawCaret(t,r,s,a),r.lineTo(l+f,c+u),r.quadraticCurveTo(l,c+u,l,c+u-f),o==="center"&&i==="left"&&this.drawCaret(t,r,s,a),r.lineTo(l,c+p),r.quadraticCurveTo(l,c,l+p,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,s=this.$animations,a=s&&s.x,i=s&&s.y;if(a||i){const o=L1[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=V6(this,t),c=Object.assign({},o,this._size),d=G6(r,t,c),u=q6(t,c,d,r);(a._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=hd(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(t.save(),t.globalAlpha=s,this.drawBackground(i,t,a,r),z7(t,r.textDirection),i.y+=o.top,this.drawTitle(i,t,r),this.drawBody(i,t,r),this.drawFooter(i,t,r),U7(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const s=this._active,a=t.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!Ov(s,a),o=this._positionChanged(a,r);(i||o)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,s=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(t,i,r,s),l=this._positionChanged(o,t),c=r||!Ov(o,i)||l;return c&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),c}_getActiveElements(t,r,s,a){const i=this.options;if(t.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(t,r){const{caretX:s,caretY:a,options:i}=this,o=L1[i.position].call(this,t,r);return o!==!1&&(s!==o.x||a!==o.y)}}zt(Yw,"positioners",L1);var pA={id:"tooltip",_element:Yw,positioners:L1,afterInit(e,t,r){r&&(e.tooltip=new Yw({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const EH=(e,t,r,s)=>(typeof t=="string"?(r=e.push(t)-1,s.unshift({index:r,label:t})):isNaN(t)&&(r=null),r);function AH(e,t,r,s){const a=e.indexOf(t);if(a===-1)return EH(e,t,r,s);const i=e.lastIndexOf(t);return a!==i?r:a}const TH=(e,t)=>e===null?null:Zo(Math.round(e),0,t);function Z6(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Vv extends Fp{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const r=this._addedLabels;if(r.length){const s=this.getLabels();for(const{index:a,label:i}of r)s[a]===i&&s.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(oa(t))return null;const s=this.getLabels();return r=isFinite(r)&&s[r]===t?r:AH(s,t,ds(r,t),this._addedLabels),TH(r,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),r||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const t=this.min,r=this.max,s=this.options.offset,a=[];let i=this.getLabels();i=t===0&&r===i.length-1?i:i.slice(t,r+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=t;o<=r;o++)a.push({value:o});return a}getLabelForValue(t){return Z6.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}zt(Vv,"id","category"),zt(Vv,"defaults",{ticks:{callback:Z6}});function MH(e,t){const r=[],{bounds:a,step:i,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:p,includeBounds:x}=e,f=i||1,y=u-1,{min:v,max:_}=t,k=!oa(o),S=!oa(l),M=!oa(d),T=(_-v)/(p+1);let O=qk((_-v)/y/f)*f,A,C,N,E;if(O<1e-14&&!k&&!S)return[{value:v},{value:_}];E=Math.ceil(_/O)-Math.floor(v/O),E>y&&(O=qk(E*O/y/f)*f),oa(c)||(A=Math.pow(10,c),O=Math.ceil(O*A)/A),a==="ticks"?(C=Math.floor(v/O)*O,N=Math.ceil(_/O)*O):(C=v,N=_),k&&S&&i&&zz((l-o)/i,O/1e3)?(E=Math.round(Math.min((l-o)/O,u)),O=(l-o)/E,C=o,N=l):M?(C=k?o:C,N=S?l:N,E=d-1,O=(N-C)/E):(E=(N-C)/O,H1(E,Math.round(E),O/1e3)?E=Math.round(E):E=Math.ceil(E));const z=Math.max(Kk(O),Kk(C));A=Math.pow(10,oa(c)?z:c),C=Math.round(C*A)/A,N=Math.round(N*A)/A;let P=0;for(k&&(x&&C!==o?(r.push({value:o}),C<o&&P++,H1(Math.round((C+P*O)*A)/A,o,X6(o,T,e))&&P++):C<o&&P++);P<E;++P){const I=Math.round((C+P*O)*A)/A;if(S&&I>l)break;r.push({value:I})}return S&&x&&N!==l?r.length&&H1(r[r.length-1].value,l,X6(l,T,e))?r[r.length-1].value=l:r.push({value:l}):(!S||N===l)&&r.push({value:N}),r}function X6(e,t,{horizontal:r,minRotation:s}){const a=R0(s),i=(r?Math.sin(a):Math.cos(a))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}class LH extends Fp{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,r){return oa(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:r,maxDefined:s}=this.getUserBounds();let{min:a,max:i}=this;const o=c=>a=r?a:c,l=c=>i=s?i:c;if(t){const c=V0(a),d=V0(i);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(a===i){let c=i===0?1:Math.abs(i*.05);l(i+c),t||o(a-c)}this.min=a,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:r,stepSize:s}=t,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,r=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=MH(a,i);return t.bounds==="ticks"&&Uz(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let r=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const a=(s-r)/Math.max(t.length-1,1)/2;r-=a,s+=a}this._startValue=r,this._endValue=s,this._valueRange=s-r}getLabelForValue(t){return Uy(t,this.chart.options.locale,this.options.ticks.format)}}class Gv extends LH{determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=el(t)?t:0,this.max=el(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),r=t?this.width:this.height,s=R0(this.options.ticks.minRotation),a=(t?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}zt(Gv,"id","linear"),zt(Gv,"defaults",{ticks:{callback:M7.formatters.numeric}});const qy={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Gl=Object.keys(qy);function J6(e,t){return e-t}function Q6(e,t){if(oa(t))return null;const r=e._adapter,{parser:s,round:a,isoWeekday:i}=e._parseOpts;let o=t;return typeof s=="function"&&(o=s(o)),el(o)||(o=typeof s=="string"?r.parse(o,s):r.parse(o)),o===null?null:(a&&(o=a==="week"&&(gp(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,a)),+o)}function ej(e,t,r,s){const a=Gl.length;for(let i=Gl.indexOf(e);i<a-1;++i){const o=qy[Gl[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-t)/(l*o.size))<=s)return Gl[i]}return Gl[a-1]}function PH(e,t,r,s,a){for(let i=Gl.length-1;i>=Gl.indexOf(r);i--){const o=Gl[i];if(qy[o].common&&e._adapter.diff(a,s,o)>=t-1)return o}return Gl[r?Gl.indexOf(r):0]}function FH(e){for(let t=Gl.indexOf(e)+1,r=Gl.length;t<r;++t)if(qy[Gl[t]].common)return Gl[t]}function tj(e,t,r){if(!r)e[t]=!0;else if(r.length){const{lo:s,hi:a}=o5(r,t),i=r[s]>=t?r[s]:r[a];e[i]=!0}}function DH(e,t,r,s){const a=e._adapter,i=+a.startOf(t[0].value,s),o=t[t.length-1].value;let l,c;for(l=i;l<=o;l=+a.add(l,1,s))c=r[l],c>=0&&(t[c].major=!0);return t}function rj(e,t,r){const s=[],a={},i=t.length;let o,l;for(o=0;o<i;++o)l=t[o],a[l]=o,s.push({value:l,major:!1});return i===0||!r?s:DH(e,s,a,r)}class qv extends Fp{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){const s=t.time||(t.time={}),a=this._adapter=new _$._date(t.adapters.date);a.init(r),W1(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:Q6(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,s=t.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=el(a)&&!isNaN(a)?a:+r.startOf(Date.now(),s),i=el(i)&&!isNaN(i)?i:+r.endOf(Date.now(),s)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],s=t[t.length-1]),{min:r,max:s}}buildTicks(){const t=this.options,r=t.time,s=t.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,l=Gz(a,i,o);return this._unit=r.unit||(s.autoSkip?ej(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):PH(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:FH(this._unit),this.initOffsets(a),t.reverse&&l.reverse(),rj(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,s=0,a,i;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?r=1-a:r=(this.getDecimalForValue(t[1])-a)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?s=i:s=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;r=Zo(r,0,o),s=Zo(s,0,o),this._offsets={start:r,end:s,factor:1/(r+1+s)}}_generate(){const t=this._adapter,r=this.min,s=this.max,a=this.options,i=a.time,o=i.unit||ej(i.minUnit,r,s,this._getLabelCapacity(r)),l=ds(a.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=gp(c)||c===!0,u={};let p=r,x,f;if(d&&(p=+t.startOf(p,"isoWeek",c)),p=+t.startOf(p,d?"day":o),t.diff(s,r,o)>1e5*l)throw new Error(r+" and "+s+" are too far apart with stepSize of "+l+" "+o);const y=a.ticks.source==="data"&&this.getDataTimestamps();for(x=p,f=0;x<s;x=+t.add(x,l,o),f++)tj(u,x,y);return(x===s||a.bounds==="ticks"||f===1)&&tj(u,x,y),Object.keys(u).sort(J6).map(v=>+v)}getLabelForValue(t){const r=this._adapter,s=this.options.time;return s.tooltipFormat?r.format(t,s.tooltipFormat):r.format(t,s.displayFormats.datetime)}format(t,r){const a=this.options.time.displayFormats,i=this._unit,o=r||a[i];return this._adapter.format(t,o)}_tickFormatFunction(t,r,s,a){const i=this.options,o=i.ticks.callback;if(o)return Ga(o,[t,r,s],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],p=d&&l[d],x=s[r],f=d&&p&&x&&x.major;return this._adapter.format(t,a||(f?p:u))}generateTickLabels(t){let r,s,a;for(r=0,s=t.length;r<s;++r)a=t[r],a.label=this._tickFormatFunction(a.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+s)*r.factor)}getValueForPixel(t){const r=this._offsets,s=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,s=this.ctx.measureText(t).width,a=R0(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:s*i+l*o,h:s*o+l*i}}_getLabelCapacity(t){const r=this.options.time,s=r.displayFormats,a=s[r.unit]||s.millisecond,i=this._tickFormatFunction(t,0,rj(this,[t],this._majorUnit),a),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],r,s;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,s=a.length;r<s;++r)t=t.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,s;if(t.length)return t;const a=this.getLabels();for(r=0,s=a.length;r<s;++r)t.push(Q6(this,a[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return C7(t.sort(J6))}}zt(qv,"id","time"),zt(qv,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function C2(e,t,r){let s=0,a=e.length-1,i,o,l,c;r?(t>=e[s].pos&&t<=e[a].pos&&({lo:s,hi:a}=jf(e,"pos",t)),{pos:i,time:l}=e[s],{pos:o,time:c}=e[a]):(t>=e[s].time&&t<=e[a].time&&({lo:s,hi:a}=jf(e,"time",t)),{time:i,pos:l}=e[s],{time:o,pos:c}=e[a]);const d=o-i;return d?l+(c-l)*(t-i)/d:l}class sj extends qv{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(t);this._minPos=C2(r,this.min),this._tableRange=C2(r,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:r,max:s}=this,a=[],i=[];let o,l,c,d,u;for(o=0,l=t.length;o<l;++o)d=t[o],d>=r&&d<=s&&a.push(d);if(a.length<2)return[{time:r,pos:0},{time:s,pos:1}];for(o=0,l=a.length;o<l;++o)u=a[o+1],c=a[o-1],d=a[o],Math.round((u+c)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const t=this.min,r=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(r)||s.length===1)&&s.push(r),s.sort((a,i)=>a-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const r=this.getDataTimestamps(),s=this.getLabelTimestamps();return r.length&&s.length?t=this.normalize(r.concat(s)):t=r.length?r:s,t=this._cache.all=t,t}getDecimalForValue(t){return(C2(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const r=this._offsets,s=this.getDecimalForPixel(t)/r.factor-r.end;return C2(this._table,s*this._tableRange+this._minPos,!0)}}zt(sj,"id","timeseries"),zt(sj,"defaults",qv.defaults);const ug=rl((e,t)=>({buildings:[],isLoading:!1,error:null,selectedBuilding:null,fetchBuildings:async()=>{e({isLoading:!0,error:null});try{const r=await ps.get(`${Bt}/buildings/`);e({buildings:r.data,isLoading:!1})}catch(r){e({error:r instanceof Error?r.message:"Failed to fetch buildings",isLoading:!1})}},fetchBuilding:async r=>{e({isLoading:!0,error:null});try{const s=await ps.get(`${Bt}/buildings/${r}/`);return e({selectedBuilding:s.data,isLoading:!1}),s.data}catch(s){throw e({error:s instanceof Error?s.message:`Failed to fetch building ${r}`,isLoading:!1}),s}},createBuilding:async r=>{var s,a;e({isLoading:!0,error:null});try{const i=new FormData;Object.entries(r).forEach(([c,d])=>{c!=="support_files"&&d!=null&&d!==""&&i.append(c,String(d))}),r.support_files&&Array.isArray(r.support_files)&&r.support_files.forEach(c=>{c&&c.size>0&&i.append("support_files",c)});const o=await ps.post(`${Bt}/buildings/`,i,{headers:{"Content-Type":"multipart/form-data"}}),{buildings:l}=t();e({buildings:[...l,o.data],isLoading:!1})}catch(i){throw e({error:((a=(s=i.response)==null?void 0:s.data)==null?void 0:a.detail)||i.message||"Failed to create building",isLoading:!1}),i}},updateBuilding:async(r,s)=>{var a,i;e({isLoading:!0,error:null});try{const o=new FormData;Object.entries(s).forEach(([d,u])=>{d!=="support_files"&&u!=null&&u!==""&&o.append(d,String(u))}),s.support_files&&Array.isArray(s.support_files)&&s.support_files.forEach(d=>{d&&d.size>0&&o.append("support_files",d)}),s.keep_existing_files!==void 0&&o.append("keep_existing_files",String(s.keep_existing_files));const l=await ps.put(`${Bt}/buildings/${r}/`,o,{headers:{"Content-Type":"multipart/form-data"}}),{buildings:c}=t();e({buildings:c.map(d=>d.id===r?l.data:d),selectedBuilding:l.data,isLoading:!1})}catch(o){throw e({error:((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.detail)||o.message||`Failed to update building ${r}`,isLoading:!1}),o}},deleteBuilding:async r=>{e({isLoading:!0,error:null});try{await ps.delete(`${Bt}/buildings/${r}/`);const{buildings:s}=t();e({buildings:s.filter(a=>a.id!==r),selectedBuilding:null,isLoading:!1})}catch(s){throw e({error:s instanceof Error?s.message:`Failed to delete building ${r}`,isLoading:!1}),s}},setSelectedBuilding:r=>{e({selectedBuilding:r})},checkBuildingNames:async r=>{try{return(await ps.post(`${Bt}/buildings/check-building-numbers/`,{building_numbers:r})).data.existing_building_numbers||[]}catch(s){throw s}},uploadExcelData:async r=>{e({isLoading:!0,error:null});try{await ps.post(`${Bt}/buildings/upload-excel-data/`,{data:r});const{fetchBuildings:s}=t();await s(),e({isLoading:!1})}catch(s){throw e({error:s instanceof Error?s.message:"Failed to upload excel data",isLoading:!1}),s}}})),hg=rl((e,t)=>({vehicles:[],selectedVehicle:null,isLoading:!1,error:null,setSelectedVehicle:r=>e({selectedVehicle:r}),fetchVehicles:async()=>{var r,s;e({isLoading:!0,error:null});try{const a=await Pt.get(`${Bt}/vehicles/`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});e({vehicles:a.data,isLoading:!1})}catch(a){e({error:((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.detail)||a.message||"An error occurred",isLoading:!1})}},getVehicleById:async r=>{var s,a;e({isLoading:!0,error:null});try{const i=await Pt.get(`${Bt}/vehicles/${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return e({selectedVehicle:i.data,isLoading:!1}),i.data}catch(i){return e({error:((a=(s=i.response)==null?void 0:s.data)==null?void 0:a.detail)||i.message||"An error occurred",isLoading:!1}),null}},createVehicle:async r=>{var s,a,i;e({isLoading:!0,error:null});try{const o=new FormData;Object.entries(r).forEach(([d,u])=>{d!=="images"&&d!=="keep_existing_images"&&u!=null&&u!==""&&o.append(d,String(u))}),r.images&&Array.isArray(r.images)&&r.images.forEach(d=>{d&&d.size>0&&o.append("images",d)}),console.log("[v0] Creating vehicle with FormData entries:");for(const[d,u]of o.entries())console.log(`[v0] ${d}:`,u instanceof File?`File: ${u.name}`:u);const c=(await Pt.post(`${Bt}/vehicles/`,o,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"multipart/form-data"}})).data;return e(d=>({vehicles:[...d.vehicles,c],isLoading:!1})),c}catch(o){throw console.log("[v0] Create vehicle error:",(s=o.response)==null?void 0:s.data),e({error:((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.detail)||o.message||"An error occurred",isLoading:!1}),o}},updateVehicle:async(r,s)=>{var a,i,o;e({isLoading:!0,error:null});try{const l=new FormData;Object.entries(s).forEach(([u,p])=>{u!=="images"&&p!=null&&p!==""&&l.append(u,String(p))}),s.images&&Array.isArray(s.images)&&s.images.forEach(u=>{u&&u.size>0&&l.append("images",u)}),s.keep_existing_images!==void 0&&l.append("keep_existing_images",String(s.keep_existing_images)),console.log("[v0] Updating vehicle with FormData entries:");for(const[u,p]of l.entries())console.log(`[v0] ${u}:`,p instanceof File?`File: ${p.name}`:p);const d=(await Pt.put(`${Bt}/vehicles/${r}`,l,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"multipart/form-data"}})).data;return e(u=>{var p;return{vehicles:u.vehicles.map(x=>x.id===r?d:x),selectedVehicle:((p=u.selectedVehicle)==null?void 0:p.id)===r?d:u.selectedVehicle,isLoading:!1}}),d}catch(l){throw console.log("[v0] Update vehicle error:",(a=l.response)==null?void 0:a.data),e({error:((o=(i=l.response)==null?void 0:i.data)==null?void 0:o.detail)||l.message||"An error occurred",isLoading:!1}),l}},checkRegistrationNumbers:async r=>{try{return(await Pt.post(`${Bt}/vehicles/check-registration-numbers`,{registration_numbers:r},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.existing_registration_numbers||[]}catch(s){throw s}},uploadExcelData:async r=>{var s,a;e({isLoading:!0,error:null});try{await Pt.post(`${Bt}/vehicles/upload-excel-data`,{data:r},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),e({isLoading:!1}),await t().fetchVehicles()}catch(i){throw e({error:((a=(s=i.response)==null?void 0:s.data)==null?void 0:a.detail)||i.message||"An error occurred",isLoading:!1}),i}}})),Dp=rl(e=>({officeEquipment:[],selectedOfficeEquipment:null,isLoading:!1,error:null,setSelectedOfficeEquipment:t=>e({selectedOfficeEquipment:t}),fetchOfficeEquipment:async()=>{var t,r;e({isLoading:!0,error:null});try{const s=await Pt.get(`${Bt}/office-equipment/`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});e({officeEquipment:s.data,isLoading:!1})}catch(s){e({error:((r=(t=s.response)==null?void 0:t.data)==null?void 0:r.detail)||s.message||"An error occurred",isLoading:!1})}},getOfficeEquipmentById:async t=>{var r,s;e({isLoading:!0,error:null});try{const a=await Pt.get(`${Bt}/office-equipment/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return e({selectedOfficeEquipment:a.data,isLoading:!1}),a.data}catch(a){return e({error:((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.detail)||a.message||"An error occurred",isLoading:!1}),null}},createOfficeEquipment:async t=>{var r,s;e({isLoading:!0,error:null});try{const i=(await Pt.post(`${Bt}/office-equipment/`,t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;return e(o=>({officeEquipment:[...o.officeEquipment,i],isLoading:!1})),i}catch(a){throw e({error:((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.detail)||a.message||"An error occurred",isLoading:!1}),a}},updateOfficeEquipment:async(t,r)=>{var s,a;e({isLoading:!0,error:null});try{const o=(await Pt.put(`${Bt}/office-equipment/${t}`,r,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;return e(l=>{var c;return{officeEquipment:l.officeEquipment.map(d=>d.id===t?o:d),selectedOfficeEquipment:((c=l.selectedOfficeEquipment)==null?void 0:c.id)===t?o:l.selectedOfficeEquipment,isLoading:!1}}),o}catch(i){throw e({error:((a=(s=i.response)==null?void 0:s.data)==null?void 0:a.detail)||i.message||"An error occurred",isLoading:!1}),i}}})),fg=rl(e=>({landRegisters:[],selectedLandRegister:null,isLoading:!1,error:null,setSelectedLandRegister:t=>e({selectedLandRegister:t}),fetchLandRegisters:async()=>{var t,r;e({isLoading:!0,error:null});try{const s=await Pt.get(`${Bt}/land-assets/`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});e({landRegisters:s.data,isLoading:!1})}catch(s){e({error:((r=(t=s.response)==null?void 0:t.data)==null?void 0:r.detail)||s.message||"An error occurred",isLoading:!1})}},getLandRegisterById:async t=>{var r,s;e({isLoading:!0,error:null});try{const a=await Pt.get(`${Bt}/land-assets/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return e({isLoading:!1,selectedLandRegister:a.data}),a.data}catch(a){return e({error:((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.detail)||a.message||"An error occurred",isLoading:!1}),null}},createLandRegister:async t=>{var r,s;e({isLoading:!0,error:null});try{const i=(await Pt.post(`${Bt}/land-assets/`,t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;return e(o=>({landRegisters:[...o.landRegisters,i],isLoading:!1})),i}catch(a){throw e({error:((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.detail)||a.message||"An error occurred",isLoading:!1}),a}},updateLandRegister:async(t,r)=>{var s,a;e({isLoading:!0,error:null});try{const o=(await Pt.put(`${Bt}/land-assets/${t}`,r,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;return e(l=>{var c;return{landRegisters:l.landRegisters.map(d=>d.id===t?o:d),selectedLandRegister:((c=l.selectedLandRegister)==null?void 0:c.id)===t?o:l.selectedLandRegister,isLoading:!1}}),o}catch(i){throw e({error:((a=(s=i.response)==null?void 0:s.data)==null?void 0:a.detail)||i.message||"An error occurred",isLoading:!1}),i}},deleteLandRegister:async t=>{var r,s;e({isLoading:!0,error:null});try{await Pt.delete(`${Bt}/land-assets/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),e(a=>{var i;return{landRegisters:a.landRegisters.filter(o=>o.id!==t),selectedLandRegister:((i=a.selectedLandRegister)==null?void 0:i.id)===t?null:a.selectedLandRegister,isLoading:!1}})}catch(a){throw e({error:((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.detail)||a.message||"An error occurred",isLoading:!1}),a}},uploadExcelData:async t=>{var r,s;e({isLoading:!0,error:null});try{const a=await Pt.post(`${Bt}/land-assets/upload-excel-data`,{data:t},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return e({isLoading:!1}),a.data}catch(a){throw e({error:((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.detail)||a.message||"An error occurred",isLoading:!1}),a}}})),Ip=rl(e=>({furnitureEquipments:[],selectedFurnitureEquipment:null,isLoading:!1,error:null,setSelectedFurnitureEquipment:t=>e({selectedFurnitureEquipment:t}),fetchFurnitureEquipments:async()=>{var t,r;e({isLoading:!0,error:null});try{const s=await Pt.get(`${Bt}/furniture-equipment`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});e({furnitureEquipments:s.data,isLoading:!1})}catch(s){e({error:((r=(t=s.response)==null?void 0:t.data)==null?void 0:r.detail)||s.message||"An error occurred",isLoading:!1})}},getFurnitureEquipmentById:async t=>{var r,s;e({isLoading:!0,error:null});try{const a=await Pt.get(`${Bt}/furniture-equipment/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return e({selectedFurnitureEquipment:a.data,isLoading:!1}),a.data}catch(a){return console.error("[v0] Error fetching furniture equipment by ID:",a),e({error:((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.detail)||a.message||"An error occurred",isLoading:!1}),null}},createFurnitureEquipment:async t=>{var r,s;e({isLoading:!0,error:null});try{const a=Object.fromEntries(Object.entries(t).map(([l,c])=>[l,c===""?null:c])),o=(await Pt.post(`${Bt}/furniture-equipment`,a,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;return e(l=>({furnitureEquipments:[...l.furnitureEquipments,o],isLoading:!1})),o}catch(a){throw e({error:((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.detail)||a.message||"An error occurred",isLoading:!1}),a}},updateFurnitureEquipment:async(t,r)=>{var s,a;e({isLoading:!0,error:null});try{const i=Object.fromEntries(Object.entries(r).map(([c,d])=>[c,d===""?null:d])),l=(await Pt.put(`${Bt}/furniture-equipment/${t}`,i,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;return e(c=>{var d;return{furnitureEquipments:c.furnitureEquipments.map(u=>u.id===t?l:u),selectedFurnitureEquipment:((d=c.selectedFurnitureEquipment)==null?void 0:d.id)===t?l:c.selectedFurnitureEquipment,isLoading:!1}}),l}catch(i){throw e({error:((a=(s=i.response)==null?void 0:s.data)==null?void 0:a.detail)||i.message||"An error occurred",isLoading:!1}),i}},deleteFurnitureEquipment:async t=>{var r,s;e({isLoading:!0,error:null});try{await Pt.delete(`${Bt}/furniture-equipment/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),e(a=>{var i;return{furnitureEquipments:a.furnitureEquipments.filter(o=>o.id!==t),selectedFurnitureEquipment:((i=a.selectedFurnitureEquipment)==null?void 0:i.id)===t?null:a.selectedFurnitureEquipment,isLoading:!1}})}catch(a){throw e({error:((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.detail)||a.message||"An error occurred",isLoading:!1}),a}}})),Rp=rl(e=>({plantMachineries:[],selectedPlantMachinery:null,isLoading:!1,error:null,setSelectedPlantMachinery:t=>e({selectedPlantMachinery:t}),fetchPlantMachineries:async()=>{var t,r;e({isLoading:!0,error:null});try{const s=await Pt.get(`${Bt}/plant-machinery/`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});e({plantMachineries:s.data,isLoading:!1})}catch(s){e({error:((r=(t=s.response)==null?void 0:t.data)==null?void 0:r.detail)||s.message||"An error occurred",isLoading:!1})}},getPlantMachineryById:async t=>{var r,s;e({isLoading:!0,error:null});try{const a=await Pt.get(`${Bt}/plant-machinery/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return e({selectedPlantMachinery:a.data,isLoading:!1}),a.data}catch(a){return e({error:((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.detail)||a.message||"An error occurred",isLoading:!1}),null}},createPlantMachinery:async t=>{var r,s;e({isLoading:!0,error:null});try{const i=(await Pt.post(`${Bt}/plant-machinery/`,t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;return e(o=>({plantMachineries:[...o.plantMachineries,i],isLoading:!1})),i}catch(a){throw e({error:((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.detail)||a.message||"An error occurred",isLoading:!1}),a}},updatePlantMachinery:async(t,r)=>{var s,a;e({isLoading:!0,error:null});try{const o=(await Pt.put(`${Bt}/plant-machinery/${t}`,r,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;return e(l=>{var c;return{plantMachineries:l.plantMachineries.map(d=>d.id===t?o:d),selectedPlantMachinery:((c=l.selectedPlantMachinery)==null?void 0:c.id)===t?o:l.selectedPlantMachinery,isLoading:!1}}),o}catch(i){throw e({error:((a=(s=i.response)==null?void 0:s.data)==null?void 0:a.detail)||i.message||"An error occurred",isLoading:!1}),i}}})),Op=rl(e=>({portableItems:[],selectedPortableItem:null,isLoading:!1,error:null,setSelectedPortableItem:t=>e({selectedPortableItem:t}),fetchPortableItems:async()=>{var t,r;e({isLoading:!0,error:null});try{const s=await Pt.get(`${Bt}/portable-items/`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});e({portableItems:s.data,isLoading:!1})}catch(s){e({error:((r=(t=s.response)==null?void 0:t.data)==null?void 0:r.detail)||s.message||"An error occurred",isLoading:!1})}},getPortableItemById:async t=>{var r,s;e({isLoading:!0,error:null});try{const a=await Pt.get(`${Bt}/portable-items/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return e({selectedPortableItem:a.data,isLoading:!1}),a.data}catch(a){return e({error:((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.detail)||a.message||"An error occurred",isLoading:!1}),null}},createPortableItem:async t=>{var r,s;e({isLoading:!0,error:null});try{const i=(await Pt.post(`${Bt}/portable-items/`,t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;return e(o=>({portableItems:[...o.portableItems,i],isLoading:!1})),i}catch(a){throw e({error:((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.detail)||a.message||"An error occurred",isLoading:!1}),a}},updatePortableItem:async(t,r)=>{var s,a;e({isLoading:!0,error:null});try{const o=(await Pt.put(`${Bt}/portable-items/${t}`,r,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;return e(l=>{var c;return{portableItems:l.portableItems.map(d=>d.id===t?o:d),selectedPortableItem:((c=l.selectedPortableItem)==null?void 0:c.id)===t?o:l.selectedPortableItem,isLoading:!1}}),o}catch(i){throw e({error:((a=(s=i.response)==null?void 0:s.data)==null?void 0:a.detail)||i.message||"An error occurred",isLoading:!1}),i}}})),Bp=rl(e=>({ictAssets:[],selectedIctAsset:null,transferHistory:[],isLoading:!1,isLoadingTransfers:!1,error:null,setSelectedIctAsset:t=>e({selectedIctAsset:t}),fetchIctAssets:async()=>{var t,r;e({isLoading:!0,error:null});try{const s=await ps.get("/ict-assets/");e({ictAssets:s.data,isLoading:!1})}catch(s){e({error:((r=(t=s.response)==null?void 0:t.data)==null?void 0:r.detail)||s.message||"An error occurred",isLoading:!1})}},getIctAssetById:async t=>{var r,s;e({isLoading:!0,error:null});try{const a=await ps.get(`/ict-assets/${t}`);return e({selectedIctAsset:a.data,isLoading:!1}),a.data}catch(a){return e({error:((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.detail)||a.message||"An error occurred",isLoading:!1}),null}},createIctAsset:async t=>{var r,s;e({isLoading:!0,error:null});try{const i=(await ps.post("/ict-assets/",t)).data;return e(o=>({ictAssets:[...o.ictAssets,i],isLoading:!1})),i}catch(a){throw e({error:((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.detail)||a.message||"An error occurred",isLoading:!1}),a}},updateIctAsset:async(t,r)=>{var s,a;e({isLoading:!0,error:null});try{const o=(await ps.put(`/ict-assets/${t}`,r)).data;return e(l=>{var c;return{ictAssets:l.ictAssets.map(d=>d.id===t?o:d),selectedIctAsset:((c=l.selectedIctAsset)==null?void 0:c.id)===t?o:l.selectedIctAsset,isLoading:!1}}),o}catch(i){throw e({error:((a=(s=i.response)==null?void 0:s.data)==null?void 0:a.detail)||i.message||"An error occurred",isLoading:!1}),i}},fetchTransferHistory:async t=>{var r,s;e({isLoadingTransfers:!0,error:null});try{const a=await ps.get(`/ict-assets/${t}/transfers`);e({transferHistory:a.data,isLoadingTransfers:!1})}catch(a){e({error:((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.detail)||a.message||"Failed to load transfer history",isLoadingTransfers:!1})}}})),xA="label";function aj(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function IH(e,t){const r=e.options;r&&t&&Object.assign(r,t)}function gA(e,t){e.labels=t}function vA(e,t,r=xA){const s=[];e.datasets=t.map(a=>{const i=e.datasets.find(o=>o[r]===a[r]);return!i||!a.data||s.includes(i)?{...a}:(s.push(i),Object.assign(i,a),i)})}function RH(e,t=xA){const r={labels:[],datasets:[]};return gA(r,e.labels),vA(r,e.datasets,t),r}function OH(e,t){return e.getElementsAtEventForMode(t.nativeEvent,"dataset",{intersect:!0},!1)}function BH(e,t){return e.getElementsAtEventForMode(t.nativeEvent,"nearest",{intersect:!0},!1)}function zH(e,t){return e.getElementsAtEventForMode(t.nativeEvent,"index",{intersect:!0},!1)}function UH(e,t){const{height:r=150,width:s=300,redraw:a=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:p,...x}=e,f=U.useRef(null),y=U.useRef(null),v=()=>{f.current&&(y.current=new dg(f.current,{type:o,data:RH(l,i),options:c&&{...c},plugins:d}),aj(t,y.current))},_=()=>{aj(t,null),y.current&&(y.current.destroy(),y.current=null)};return U.useEffect(()=>{!a&&y.current&&c&&IH(y.current,c)},[a,c]),U.useEffect(()=>{!a&&y.current&&gA(y.current.config.data,l.labels)},[a,l.labels]),U.useEffect(()=>{!a&&y.current&&l.datasets&&vA(y.current.config.data,l.datasets,i)},[a,l.datasets]),U.useEffect(()=>{y.current&&(a?(_(),setTimeout(v)):y.current.update(p))},[a,c,l.labels,l.datasets,p]),U.useEffect(()=>{y.current&&(_(),setTimeout(v))},[o]),U.useEffect(()=>(v(),()=>_()),[]),n.jsx("canvas",{ref:f,role:"img",height:r,width:s,...x,children:u})}const yA=U.forwardRef(UH);function Vh(e,t){return dg.register(t),U.forwardRef((r,s)=>n.jsx(yA,{...r,ref:s,type:e}))}const bA=Vh("line",mv),g5=Vh("bar",hv),$H=Vh("radar",xv),WH=Vh("doughnut",$m),HH=Vh("polarArea",pv),VH=Vh("bubble",fv),_A=Vh("pie",Hw),GH=Vh("scatter",gv),wA=Object.freeze(Object.defineProperty({__proto__:null,Bar:g5,Bubble:VH,Chart:yA,Doughnut:WH,Line:bA,Pie:_A,PolarArea:HH,Radar:$H,Scatter:GH,getDatasetAtEvent:OH,getElementAtEvent:BH,getElementsAtEvent:zH},Symbol.toStringTag,{value:"Module"})),qH=({data:e,color:t="rgba(255, 255, 255, 0.8)",height:r=40})=>{const s={labels:e.map((i,o)=>o.toString()),datasets:[{data:e,borderColor:t,backgroundColor:t.replace("0.8","0.2"),borderWidth:2,fill:!0,tension:.4,pointRadius:0,pointHoverRadius:0}]},a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{display:!1},y:{display:!1}},elements:{line:{borderWidth:2}}};return n.jsx("div",{style:{height:`${r}px`,width:"100%"},children:n.jsx(bA,{data:s,options:a})})},Cm=({title:e,value:t,trend:r,subtitle:s,sparklineData:a,icon:i,bgColor:o})=>n.jsxs("div",{className:`relative overflow-hidden rounded-lg ${o} p-4 sm:p-6 text-white shadow-lg transition-transform hover:scale-105`,children:[n.jsx("div",{className:"absolute top-3 left-3 p-2 rounded-full bg-white/20",children:i}),n.jsxs("div",{className:"mt-12 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-medium",children:e}),n.jsxs("div",{className:"flex items-center gap-1 text-xs font-semibold",children:[r>=0?n.jsx(Fs,{size:14}):n.jsx(qs,{size:14}),n.jsxs("span",{children:[Math.abs(r),"%"]})]})]}),n.jsx("p",{className:"text-3xl font-bold",children:t}),n.jsx("p",{className:"text-xs text-white/80",children:s}),n.jsx("div",{className:"mt-2",children:n.jsx(qH,{data:a,height:30})})]})]}),it=({className:e="",children:t})=>n.jsx("div",{className:`bg-white rounded-lg shadow-card overflow-hidden ${e}`,children:t}),nj=({className:e="",children:t})=>n.jsx("div",{className:`px-6 py-4 border-b border-primary-100 ${e}`,children:t}),ij=({className:e="",children:t})=>n.jsx("h3",{className:`text-lg font-semibold text-primary-900 ${e}`,children:t}),KH=({className:e="",children:t})=>n.jsx("p",{className:`mt-1 text-sm text-primary-500 ${e}`,children:t}),oj=({className:e="",children:t})=>n.jsx("div",{className:`p-6 ${e}`,children:t}),YH=({categoryStats:e,onCategoryClick:t})=>{const{canAccessCategory:r}=zy(),s=a=>{switch(a){case"/categories/buildings":return cr.BUILDINGS_REGISTER;case"/categories/vehicles":return cr.MOTOR_VEHICLES_REGISTER;case"/categories/office-equipment":return cr.OFFICE_EQUIPMENT;case"/categories/land-register":return cr.LAND_REGISTER;case"/categories/furniture-equipment":return cr.FURNITURE_FITTINGS_EQUIPMENT;case"/categories/plant-machinery":return cr.PLANT_MACHINERY;case"/categories/portable-items":return cr.PORTABLE_ATTRACTIVE_ITEMS;case"/categories/ict-assets":return cr.ICT_ASSETS;default:return null}};return n.jsx(it,{title:"Asset Categories Overview",className:"p-4 sm:p-6",children:n.jsx("div",{className:`flex gap-3 sm:gap-4 overflow-x-auto pb-3 sm:pb-4
                        scrollbar-visible scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100
                        hover:scrollbar-thumb-gray-500`,children:e.map(a=>{const i=s(a.route),o=i?r(i):!1;return n.jsxs("div",{className:`relative flex-shrink-0 w-48 sm:w-56 md:w-64 h-28 sm:h-32 md:h-40 rounded-lg overflow-hidden
                             transition-all duration-300 group ${o?"cursor-pointer hover:shadow-xl hover:-translate-y-1":"cursor-not-allowed opacity-60"}`,onClick:()=>o&&t(a.route),children:[n.jsx("div",{className:`absolute inset-0 bg-cover bg-center transition-transform duration-300 ${o?"group-hover:scale-110":""}`,style:{backgroundImage:`url(${a.backgroundImage})`}}),n.jsx("div",{className:`absolute inset-0 ${a.overlayColor} transition-opacity duration-300 ${o?"group-hover:opacity-80":""}`}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/20 via-transparent to-black/40"}),!o&&n.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-20",children:n.jsxs("div",{className:"text-center text-white",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 mx-auto mb-1 sm:mb-2 rounded-full bg-red-500/80 flex items-center justify-center",children:n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),n.jsx("p",{className:"text-xs font-medium",children:"Access Restricted"})]})}),n.jsxs("div",{className:"relative z-10 p-2 sm:p-3 md:p-4 h-full flex flex-col justify-between text-white",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("div",{className:"p-1 sm:p-1.5 md:p-2 rounded-lg bg-white/20 backdrop-blur-sm border border-white/30",children:n.jsx("div",{className:"text-white",children:a.icon})}),n.jsxs("span",{className:"text-xs text-white/90 bg-white/20 backdrop-blur-sm px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full border border-white/30",children:["+",a.recent," this week"]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-white text-xs sm:text-sm md:text-lg mb-0.5 sm:mb-1 drop-shadow-md",children:a.category}),n.jsx("p",{className:"text-sm sm:text-lg md:text-2xl font-bold text-white drop-shadow-md",children:a.total})]})]})]},a.category)})})})},ZH=({totalAssets:e,assetHealthData:t,assetHealthChartOptions:r})=>n.jsx(it,{title:"Asset Health Overview",className:"lg:col-span-2 p-4 sm:p-6",children:n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsx("div",{className:"h-40 sm:h-48 md:h-64",children:t.labels.length>0?n.jsx(g5,{data:t,options:r}):n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"Loading asset health data..."})})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 sm:gap-3 pt-3 sm:pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-center p-2 sm:p-3 bg-green-50 rounded-lg border border-green-200",children:[n.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-1 sm:mb-2 bg-green-500 rounded-full flex items-center justify-center",children:n.jsx(la,{size:12,className:"text-white sm:w-4 sm:h-4"})}),n.jsx("p",{className:"text-xs sm:text-sm font-medium text-green-800",children:"Excellent"}),n.jsx("p",{className:"text-sm sm:text-lg font-bold text-green-900",children:Math.floor(e*.4)})]}),n.jsxs("div",{className:"text-center p-2 sm:p-3 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-1 sm:mb-2 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx(Fs,{size:12,className:"text-white sm:w-4 sm:h-4"})}),n.jsx("p",{className:"text-xs sm:text-sm font-medium text-blue-800",children:"Good"}),n.jsx("p",{className:"text-sm sm:text-lg font-bold text-blue-900",children:Math.floor(e*.35)})]}),n.jsxs("div",{className:"text-center p-2 sm:p-3 bg-amber-50 rounded-lg border border-amber-200",children:[n.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-1 sm:mb-2 bg-amber-500 rounded-full flex items-center justify-center",children:n.jsx(to,{size:12,className:"text-white sm:w-4 sm:h-4"})}),n.jsx("p",{className:"text-xs sm:text-sm font-medium text-amber-800",children:"Fair"}),n.jsx("p",{className:"text-sm sm:text-lg font-bold text-amber-900",children:Math.floor(e*.2)})]}),n.jsxs("div",{className:"text-center p-2 sm:p-3 bg-red-50 rounded-lg border border-red-200",children:[n.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-1 sm:mb-2 bg-red-500 rounded-full flex items-center justify-center",children:n.jsx(ei,{size:12,className:"text-white sm:w-4 sm:h-4"})}),n.jsx("p",{className:"text-xs sm:text-sm font-medium text-red-800",children:"Poor"}),n.jsx("p",{className:"text-sm sm:text-lg font-bold text-red-900",children:Math.floor(e*.05)})]})]})]})}),XH=({categoryStats:e,totalAssets:t,categoryDistributionData:r,pieChartOptions:s})=>n.jsx(it,{title:"Asset Distribution",className:"p-4 sm:p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"h-40 sm:h-48 md:h-64 flex justify-center items-center",children:e.length>0?n.jsx(_A,{data:r,options:s}):n.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"No data available"})}),n.jsx("div",{className:"grid grid-cols-1 gap-2 pt-4 border-t border-gray-200",children:e.map((a,i)=>{const o=[{bg:"bg-indigo-100",text:"text-indigo-800",dot:"bg-indigo-500"},{bg:"bg-emerald-100",text:"text-emerald-800",dot:"bg-emerald-500"},{bg:"bg-green-100",text:"text-green-800",dot:"bg-green-500"},{bg:"bg-purple-100",text:"text-purple-800",dot:"bg-purple-500"},{bg:"bg-orange-100",text:"text-orange-800",dot:"bg-orange-500"},{bg:"bg-amber-100",text:"text-amber-800",dot:"bg-amber-500"},{bg:"bg-teal-100",text:"text-teal-800",dot:"bg-teal-500"},{bg:"bg-pink-100",text:"text-pink-800",dot:"bg-pink-500"}],l=o[i]||o[0],c=t>0?(a.total/t*100).toFixed(1):"0";return n.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${l.bg}`,children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${l.dot}`}),n.jsx("span",{className:`text-xs font-medium ${l.text} truncate`,children:a.category})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:`text-xs font-bold ${l.text}`,children:a.total}),n.jsxs("span",{className:`text-xs ${l.text} ml-1`,children:["(",c,"%)"]})]})]},a.category)})})]})}),JH=({assetOverviewData:e,assetOverviewChartData:t,assetOverviewChartOptions:r})=>n.jsx(it,{title:"Asset Overview - All Categories",className:"w-full p-4 sm:p-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:e.length>0?n.jsx(g5,{data:t,options:r}):n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"No asset data available"})})})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx("div",{className:"space-y-2 sm:space-y-3 max-h-48 sm:max-h-64 md:max-h-80 overflow-y-auto",children:e.map(s=>n.jsx("div",{className:`p-2 sm:p-3 rounded-lg border transition-all duration-200 hover:shadow-md ${s.bgColor} border-gray-200`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-1 min-w-0",children:[n.jsx("div",{className:"p-1.5 sm:p-2 rounded-full text-white flex-shrink-0",style:{backgroundColor:s.color},children:s.icon}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h4",{className:"font-medium text-xs sm:text-sm text-gray-900 truncate",children:s.category}),n.jsxs("p",{className:"text-xs text-gray-600",children:["+",s.recent," this week"]})]})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx("p",{className:"text-sm sm:text-lg font-bold text-gray-900",children:s.total}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total"})]})]})},s.category))})})]})});Bw.configure({showSpinner:!1,speed:500,easing:"ease"});dg.register(M1,Vv,Gv,q1,_u,K1,fA,pA,uA,cA);const QH=()=>{const e=Vr(),{canAccessCategory:t}=zy(),{csrfToken:r}=ra(),{buildings:s,fetchBuildings:a}=ug(),{vehicles:i,fetchVehicles:o}=hg(),{officeEquipment:l,fetchOfficeEquipment:c}=Dp(),{landRegisters:d,fetchLandRegisters:u}=fg(),{furnitureEquipments:p,fetchFurnitureEquipments:x}=Ip(),{plantMachineries:f,fetchPlantMachineries:y}=Rp(),{portableItems:v,fetchPortableItems:_}=Op(),{ictAssets:k,fetchIctAssets:S}=Bp(),[M,T]=U.useState({total_devices:0,active_devices:0,inactive_devices:0,new_devices:0,devices_by_type:{},devices_by_os:{},device_activity:[],recent_devices:[]}),[O,A]=U.useState([]),[C,N]=U.useState([]),[E,z]=U.useState({labels:[],datasets:[]}),[P,I]=U.useState({totalAssets:{value:0,trend:0,subtitle:"",sparklineData:[]},activeCategories:{value:0,trend:0,subtitle:"",sparklineData:[]},highValueAssets:{value:0,trend:0,subtitle:"",sparklineData:[]},newThisWeek:{value:0,trend:0,subtitle:"",sparklineData:[]},disposedItems:{value:0,trend:0,subtitle:"",sparklineData:[]},nearingDisposal:{value:0,trend:0,subtitle:"",sparklineData:[]}}),W=async()=>{try{console.log("[v0] Fetching dashboard stats...");const B=await fetch(`${Bt}/dashboard/stats`,{headers:{...r&&{"X-CSRF-Token":r}},credentials:"include"});if(B.ok){const q=await B.json();console.log("[v0] Dashboard stats received:",q);const K=(q.activity_trend||[]).map(Ae=>Ae.count),ae=(Ae,We)=>We===0?Ae>0?100:0:Math.round((Ae-We)/We*100),ge=K[K.length-1]||0,he=K[K.length-2]||ge,ke=Ae=>Ae.map(We=>We.count||0);I({totalAssets:{value:q.summary.total_assets||0,trend:ae(ge,he),subtitle:`${q.summary.recent_additions||0} added this week`,sparklineData:K.length>0?K:[0]},activeCategories:{value:Object.values(q.asset_breakdown).filter(Ae=>Ae>0).length,trend:ae(Object.values(q.asset_breakdown).filter(Ae=>Ae>0).length,Math.max(1,Object.values(q.asset_breakdown).filter(Ae=>Ae>0).length-1)),subtitle:"Categories with assets",sparklineData:Object.values(q.asset_breakdown).slice(0,7).map(Ae=>Ae)},highValueAssets:{value:(q.asset_breakdown.buildings||0)+(q.asset_breakdown.vehicles||0)+(q.asset_breakdown.land_assets||0)+(q.asset_breakdown.ict_assets||0),trend:ae((q.asset_breakdown.buildings||0)+(q.asset_breakdown.vehicles||0)+(q.asset_breakdown.land_assets||0)+(q.asset_breakdown.ict_assets||0),Math.max(1,(q.asset_breakdown.buildings||0)+(q.asset_breakdown.vehicles||0)+(q.asset_breakdown.land_assets||0)+(q.asset_breakdown.ict_assets||0)-1)),subtitle:"Buildings, Vehicles, Land & ICT",sparklineData:[q.asset_breakdown.buildings||0,q.asset_breakdown.vehicles||0,q.asset_breakdown.land_assets||0,q.asset_breakdown.ict_assets||0]},newThisWeek:{value:q.summary.recent_additions||0,trend:ae(q.summary.recent_additions||0,Math.max(1,(q.summary.recent_additions||0)-2)),subtitle:"New assets",sparklineData:K.length>0?K.slice(-7):[0]},disposedItems:{value:q.summary.disposed_items||0,trend:ae(q.summary.disposed_items||0,Math.max(1,(q.summary.disposed_items||0)-1)),subtitle:"This month",sparklineData:[Math.round((q.summary.disposed_items||0)*.1),Math.round((q.summary.disposed_items||0)*.15),Math.round((q.summary.disposed_items||0)*.2),Math.round((q.summary.disposed_items||0)*.25),Math.round((q.summary.disposed_items||0)*.4),Math.round((q.summary.disposed_items||0)*.8),q.summary.disposed_items||0]},nearingDisposal:{value:q.summary.nearing_disposal||0,trend:ae(q.summary.nearing_disposal||0,Math.max(1,(q.summary.nearing_disposal||0)-1)),subtitle:`${Math.floor((q.summary.nearing_disposal||0)*.4)} need action now`,sparklineData:[Math.round((q.summary.nearing_disposal||0)*.2),Math.round((q.summary.nearing_disposal||0)*.3),Math.round((q.summary.nearing_disposal||0)*.45),Math.round((q.summary.nearing_disposal||0)*.6),Math.round((q.summary.nearing_disposal||0)*.75),Math.round((q.summary.nearing_disposal||0)*.9),q.summary.nearing_disposal||0]}})}}catch(B){console.error("[v0] Error fetching dashboard stats:",B)}};U.useEffect(()=>{Bw.start(),(async()=>{try{await Promise.all([a(),o(),c(),u(),x(),y(),_(),S(),W()])}catch(q){console.error("[v0] Error initializing dashboard data:",q)}finally{Bw.done()}})()},[a,o,c,u,x,y,_,S]),U.useEffect(()=>{const B=new Date,q=new Date(B.getTime()-10080*60*1e3),Q=s.filter(De=>De.created_at!==void 0&&new Date(De.created_at)>=q),K=i.filter(De=>new Date(De.created_at)>=q),ae=l.filter(De=>new Date(De.created_at)>=q),ge=d.filter(De=>new Date(De.created_at)>=q),he=p.filter(De=>new Date(De.created_at)>=q),ke=f.filter(De=>new Date(De.created_at)>=q),Ae=v.filter(De=>new Date(De.created_at)>=q),We=k.filter(De=>new Date(De.created_at)>=q);A([{total:k.length,recent:We.length,category:"ICT Assets",icon:n.jsx(bx,{size:20}),color:"bg-indigo-500",route:"/categories/ict-assets",backgroundImage:"https://images.pexels.com/photos/442150/pexels-photo-442150.jpeg?auto=compress&cs=tinysrgb&w=800",overlayColor:"bg-indigo-900/70"},{total:d.length,recent:ge.length,category:"Land Register",icon:n.jsx(Ea,{size:20}),color:"bg-emerald-500",route:"/categories/land-register",backgroundImage:"https://images.pexels.com/photos/1105766/pexels-photo-1105766.jpeg?auto=compress&cs=tinysrgb&w=800",overlayColor:"bg-emerald-900/70"},{total:s.length,recent:Q.length,category:"Buildings",icon:n.jsx(Qo,{size:20}),color:"bg-green-500",route:"/categories/buildings",backgroundImage:"https://images.pexels.com/photos/323780/pexels-photo-323780.jpeg?auto=compress&cs=tinysrgb&w=800",overlayColor:"bg-green-900/70"},{total:i.length,recent:K.length,category:"Vehicles",icon:n.jsx(Mh,{size:20}),color:"bg-purple-500",route:"/categories/vehicles",backgroundImage:"https://images.pexels.com/photos/116675/pexels-photo-116675.jpeg?auto=compress&cs=tinysrgb&w=800",overlayColor:"bg-purple-900/70"},{total:l.length,recent:ae.length,category:"Office Equipment",icon:n.jsx(xp,{size:20}),color:"bg-orange-500",route:"/categories/office-equipment",backgroundImage:"https://images.pexels.com/photos/7688336/pexels-photo-7688336.jpeg?auto=compress&cs=tinysrgb&w=800",overlayColor:"bg-orange-900/70"},{total:p.length,recent:he.length,category:"Furniture & Fittings",icon:n.jsx(Vd,{size:20}),color:"bg-amber-500",route:"/categories/furniture-equipment",backgroundImage:"https://images.pexels.com/photos/1571460/pexels-photo-1571460.jpeg?auto=compress&cs=tinysrgb&w=800",overlayColor:"bg-amber-900/70"},{total:f.length,recent:ke.length,category:"Plant & Machinery",icon:n.jsx(eo,{size:20}),color:"bg-teal-500",route:"/categories/plant-machinery",backgroundImage:"https://images.pexels.com/photos/1105766/pexels-photo-1105766.jpeg?auto=compress&cs=tinysrgb&w=800",overlayColor:"bg-teal-900/70"},{total:v.length,recent:Ae.length,category:"Portable Items",icon:n.jsx(_x,{size:20}),color:"bg-pink-500",route:"/categories/portable-items",backgroundImage:"https://images.pexels.com/photos/4792509/pexels-photo-4792509.jpeg?auto=compress&cs=tinysrgb&w=800",overlayColor:"bg-pink-900/70"}]),N([{category:"ICT Assets",total:k.length,recent:We.length,icon:n.jsx(bx,{size:14,className:"sm:w-4 sm:h-4"}),color:"rgba(99, 102, 241, 0.8)",bgColor:"bg-indigo-50"},{category:"Land Register",total:d.length,recent:ge.length,icon:n.jsx(Ea,{size:14,className:"sm:w-4 sm:h-4"}),color:"rgba(16, 185, 129, 0.8)",bgColor:"bg-emerald-50"},{category:"Buildings",total:s.length,recent:Q.length,icon:n.jsx(Qo,{size:14,className:"sm:w-4 sm:h-4"}),color:"rgba(34, 197, 94, 0.8)",bgColor:"bg-green-50"},{category:"Vehicles",total:i.length,recent:K.length,icon:n.jsx(Mh,{size:14,className:"sm:w-4 sm:h-4"}),color:"rgba(147, 51, 234, 0.8)",bgColor:"bg-purple-50"},{category:"Office Equipment",total:l.length,recent:ae.length,icon:n.jsx(xp,{size:14,className:"sm:w-4 sm:h-4"}),color:"rgba(249, 115, 22, 0.8)",bgColor:"bg-orange-50"},{category:"Furniture & Fittings",total:p.length,recent:he.length,icon:n.jsx(Vd,{size:14,className:"sm:w-4 sm:h-4"}),color:"rgba(245, 158, 11, 0.8)",bgColor:"bg-amber-50"},{category:"Plant & Machinery",total:f.length,recent:ke.length,icon:n.jsx(eo,{size:14,className:"sm:w-4 sm:h-4"}),color:"rgba(20, 184, 166, 0.8)",bgColor:"bg-teal-50"},{category:"Portable Items",total:v.length,recent:Ae.length,icon:n.jsx(_x,{size:14,className:"sm:w-4 sm:h-4"}),color:"rgba(236, 72, 153, 0.8)",bgColor:"bg-pink-50"}]);const fe=s.length+i.length+l.length+p.length+d.length+f.length+v.length+k.length,ht=[{category:"Excellent",count:Math.floor(fe*.4),color:"rgba(34, 197, 94, 0.8)",bgColor:"rgba(34, 197, 94, 0.1)"},{category:"Good",count:Math.floor(fe*.35),color:"rgba(59, 130, 246, 0.8)",bgColor:"rgba(59, 130, 246, 0.1)"},{category:"Fair",count:Math.floor(fe*.2),color:"rgba(245, 158, 11, 0.8)",bgColor:"rgba(245, 158, 11, 0.1)"},{category:"Poor",count:Math.floor(fe*.05),color:"rgba(239, 68, 68, 0.8)",bgColor:"rgba(239, 68, 68, 0.1)"}];z({labels:ht.map(De=>De.category),datasets:[{label:"Asset Condition",data:ht.map(De=>De.count),backgroundColor:ht.map(De=>De.bgColor),borderColor:ht.map(De=>De.color),borderWidth:2,borderRadius:6,borderSkipped:!1}]})},[s,i,l,d,p,f,v,k]);const Z={labels:O.map(B=>B.category),datasets:[{data:O.map(B=>B.total),backgroundColor:["rgba(99, 102, 241, 0.8)","rgba(16, 185, 129, 0.8)","rgba(34, 197, 94, 0.8)","rgba(147, 51, 234, 0.8)","rgba(249, 115, 22, 0.8)","rgba(245, 158, 11, 0.8)","rgba(20, 184, 166, 0.8)","rgba(236, 72, 153, 0.8)"],borderColor:["rgba(99, 102, 241, 1)","rgba(16, 185, 129, 1)","rgba(34, 197, 94, 1)","rgba(147, 51, 234, 1)","rgba(249, 115, 22, 1)","rgba(245, 158, 11, 1)","rgba(20, 184, 166, 1)","rgba(236, 72, 153, 1)"],borderWidth:2,hoverBorderWidth:3,hoverOffset:8}]},Y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,callbacks:{label:B=>{const q=B.dataset.data.reduce((K,ae)=>K+ae,0),Q=(B.parsed/q*100).toFixed(1);return`${B.label}: ${B.parsed} (${Q}%)`}}}},elements:{arc:{borderRadius:4}}},te={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,callbacks:{label:B=>{const q=B.dataIndex,Q=C[q];return[`Total: ${Q.total}`,`New this week: ${Q.recent}`]}}}},scales:{y:{beginAtZero:!0,grid:{display:!0,color:"rgba(0, 0, 0, 0.05)"},ticks:{stepSize:1,font:{size:10}}},x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:0,font:{size:10}}}}},ie={labels:C.map(B=>B.category),datasets:[{label:"Total Assets",data:C.map(B=>B.total),backgroundColor:C.map(B=>B.color),borderColor:C.map(B=>B.color.replace("0.8","1")),borderWidth:2,borderRadius:4,borderSkipped:!1}]},le=O.reduce((B,q)=>B+q.total,0),se=B=>{switch(B){case"/categories/buildings":return cr.BUILDINGS_REGISTER;case"/categories/vehicles":return cr.MOTOR_VEHICLES_REGISTER;case"/categories/office-equipment":return cr.OFFICE_EQUIPMENT;case"/categories/land-register":return cr.LAND_REGISTER;case"/categories/furniture-equipment":return cr.FURNITURE_FITTINGS_EQUIPMENT;case"/categories/plant-machinery":return cr.PLANT_MACHINERY;case"/categories/portable-items":return cr.PORTABLE_ATTRACTIVE_ITEMS;case"/categories/ict-assets":return cr.ICT_ASSETS;default:return null}},oe=B=>{const q=se(B);q&&t(q)&&e(B)},ee={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,callbacks:{label:B=>{const q=B.dataset.data.reduce((K,ae)=>K+ae,0),Q=(B.parsed.y/q*100).toFixed(1);return`${B.label}: ${B.parsed.y} assets (${Q}%)`}}}},scales:{y:{beginAtZero:!0,grid:{display:!0,color:"rgba(0, 0, 0, 0.05)"},ticks:{stepSize:1,font:{size:10}}},x:{grid:{display:!1},ticks:{font:{size:10}}}}};return n.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6",children:[n.jsxs("nav",{className:"flex items-center px-3 sm:px-4 mb-3 sm:mb-4 md:mb-6 space-x-1 sm:space-x-2 text-xs sm:text-sm text-gray-600",children:[n.jsxs(Lr,{to:"/",className:"flex items-center transition-colors hover:text-blue-600",children:[n.jsx(ln,{size:12,className:"mr-1 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Home"})]}),n.jsx(Dr,{size:12,className:"sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),n.jsxs("span",{className:"flex items-center font-medium text-gray-900",children:[n.jsx(Pw,{size:12,className:"mr-1 sm:w-3.5 sm:h-3.5 md:w-4 md:h-4"}),"Dashboard"]})]}),n.jsxs("div",{className:"flex flex-row justify-between items-center px-3 sm:px-4 gap-2",children:[n.jsx("h1",{className:"text-base sm:text-lg md:text-xl lg:text-2xl font-bold text-primary-900 leading-tight",children:"Dashboard"}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(Be,{variant:"secondary",className:`relative overflow-hidden bg-gradient-to-r from-primary-600 to-primary-700
                 text-white font-semibold rounded-lg sm:rounded-xl
                 px-2 py-1.5 sm:px-3 sm:py-2 md:px-4 md:py-2.5
                 shadow-md hover:shadow-xl hover:shadow-primary-500/40
                 border border-primary-500/30
                 transition-all duration-300
                 before:absolute before:inset-0
                 before:bg-gradient-to-r before:from-transparent before:via-white/20 before:to-transparent
                 before:translate-x-[-100%] hover:before:translate-x-[100%] before:transition-transform before:duration-700
                 flex flex-row items-center`,onClick:()=>e("/asset-categories"),children:[n.jsx(Lc,{size:14,className:"relative z-10 sm:mr-1.5 md:mr-2 sm:w-4 sm:h-4 md:w-[18px] md:h-[18px]"}),n.jsx("span",{className:"relative z-10 text-xs sm:text-sm md:text-base ml-1 sm:ml-0",children:"Categories"})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 px-3 sm:px-4 md:grid-cols-3 lg:grid-cols-6",children:[n.jsx(Cm,{title:"Total Assets",value:P.totalAssets.value,trend:P.totalAssets.trend,subtitle:P.totalAssets.subtitle,sparklineData:P.totalAssets.sparklineData,icon:n.jsx(Fs,{size:20}),bgColor:"bg-gradient-to-br from-blue-500 to-blue-700"}),n.jsx(Cm,{title:"Active Categories",value:P.activeCategories.value,trend:P.activeCategories.trend,subtitle:P.activeCategories.subtitle,sparklineData:P.activeCategories.sparklineData,icon:n.jsx(Lc,{size:20}),bgColor:"bg-gradient-to-br from-green-500 to-green-700"}),n.jsx(Cm,{title:"High-Value Assets",value:P.highValueAssets.value,trend:P.highValueAssets.trend,subtitle:P.highValueAssets.subtitle,sparklineData:P.highValueAssets.sparklineData,icon:n.jsx(Pw,{size:20}),bgColor:"bg-gradient-to-br from-amber-500 to-amber-700"}),n.jsx(Cm,{title:"New This Week",value:P.newThisWeek.value,trend:P.newThisWeek.trend,subtitle:P.newThisWeek.subtitle,sparklineData:P.newThisWeek.sparklineData,icon:n.jsx(to,{size:20}),bgColor:"bg-gradient-to-br from-purple-500 to-purple-700"}),n.jsx(Cm,{title:"Disposed Items",value:P.disposedItems.value,trend:P.disposedItems.trend,subtitle:P.disposedItems.subtitle,sparklineData:P.disposedItems.sparklineData,icon:n.jsx(ud,{size:20}),bgColor:"bg-gradient-to-br from-gray-500 to-gray-700"}),n.jsx(Cm,{title:"Nearing Disposal",value:P.nearingDisposal.value,trend:P.nearingDisposal.trend,subtitle:P.nearingDisposal.subtitle,sparklineData:P.nearingDisposal.sparklineData,icon:n.jsx(aa,{size:20}),bgColor:"bg-gradient-to-br from-red-500 to-red-700"})]}),n.jsx("div",{className:"px-3 sm:px-4",children:n.jsx(YH,{categoryStats:O,onCategoryClick:oe})}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4 md:gap-6 px-3 sm:px-4 lg:grid-cols-3",children:[n.jsx(ZH,{totalAssets:le,assetHealthData:E,assetHealthChartOptions:ee}),n.jsx(XH,{categoryStats:O,totalAssets:le,categoryDistributionData:Z,pieChartOptions:Y})]}),n.jsx("div",{className:"grid grid-cols-1 gap-3 sm:gap-4 md:gap-6 px-3 sm:px-4",children:n.jsx(JH,{assetOverviewData:C,assetOverviewChartData:ie,assetOverviewChartOptions:te})}),n.jsxs("footer",{className:"mt-auto bg-white border-t border-gray-200",children:[n.jsxs("div",{className:"flex flex-col w-full",children:[n.jsx("div",{className:"h-1.5 bg-black"}),n.jsx("div",{className:"h-0.5 bg-white"}),n.jsx("div",{className:"h-1.5 bg-red-600"}),n.jsx("div",{className:"h-0.5 bg-white"}),n.jsx("div",{className:"h-1.5 bg-green-600"})]}),n.jsx("div",{className:"px-6 py-6",children:n.jsxs("div",{className:"flex flex-col justify-between items-center md:flex-row",children:[n.jsx("div",{className:"mb-4 text-center md:mb-0 md:text-left",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[" ",new Date().getFullYear()," Asset Management System. All rights reserved."]})}),n.jsxs("div",{className:"flex gap-6 text-sm text-gray-600",children:[n.jsx(Lr,{to:"/settings",className:"transition-colors hover:text-gray-900",children:"Settings"}),n.jsx(Lr,{to:"/profile",className:"transition-colors hover:text-gray-900",children:"Profile"}),n.jsx("a",{href:"#",className:"transition-colors hover:text-gray-900",onClick:B=>{B.preventDefault(),alert("Help documentation coming soon!")},children:"Help"})]})]})})]})]})};function t0(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function zf(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const NA=6048e5,eV=864e5,kA=6e4,jA=36e5;let tV={};function Ky(){return tV}function Ax(e,t){var l,c,d,u;const r=Ky(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=t0(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Kv(e){return Ax(e,{weekStartsOn:1})}function CA(e){const t=t0(e),r=t.getFullYear(),s=zf(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Kv(s),i=zf(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Kv(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function lj(e){const t=t0(e);return t.setHours(0,0,0,0),t}function cj(e){const t=t0(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function rV(e,t){const r=lj(e),s=lj(t),a=+r-cj(r),i=+s-cj(s);return Math.round((a-i)/eV)}function sV(e){const t=CA(e),r=zf(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Kv(r)}function aV(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nV(e){if(!aV(e)&&typeof e!="number")return!1;const t=t0(e);return!isNaN(Number(t))}function iV(e){const t=t0(e),r=zf(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const oV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lV=(e,t,r)=>{let s;const a=oV[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function S_(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const cV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hV={date:S_({formats:cV,defaultWidth:"full"}),time:S_({formats:dV,defaultWidth:"full"}),dateTime:S_({formats:uV,defaultWidth:"full"})},fV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mV=(e,t,r,s)=>fV[e];function y1(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const pV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_V=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},wV={ordinalNumber:_V,era:y1({values:pV,defaultWidth:"wide"}),quarter:y1({values:xV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:y1({values:gV,defaultWidth:"wide"}),day:y1({values:vV,defaultWidth:"wide"}),dayPeriod:y1({values:yV,defaultWidth:"wide",formattingValues:bV,defaultFormattingWidth:"wide"})};function b1(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?kV(l,p=>p.test(o)):NV(l,p=>p.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function NV(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function kV(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function jV(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const CV=/^(\d+)(th|st|nd|rd)?/i,SV=/\d+/i,EV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},AV={any:[/^b/i,/^(a|c)/i]},TV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},MV={any:[/1/i,/2/i,/3/i,/4/i]},LV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},FV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},DV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},RV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},OV={ordinalNumber:jV({matchPattern:CV,parsePattern:SV,valueCallback:e=>parseInt(e,10)}),era:b1({matchPatterns:EV,defaultMatchWidth:"wide",parsePatterns:AV,defaultParseWidth:"any"}),quarter:b1({matchPatterns:TV,defaultMatchWidth:"wide",parsePatterns:MV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:b1({matchPatterns:LV,defaultMatchWidth:"wide",parsePatterns:PV,defaultParseWidth:"any"}),day:b1({matchPatterns:FV,defaultMatchWidth:"wide",parsePatterns:DV,defaultParseWidth:"any"}),dayPeriod:b1({matchPatterns:IV,defaultMatchWidth:"any",parsePatterns:RV,defaultParseWidth:"any"})},BV={code:"en-US",formatDistance:lV,formatLong:hV,formatRelative:mV,localize:wV,match:OV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zV(e){const t=t0(e);return rV(t,iV(t))+1}function UV(e){const t=t0(e),r=+Kv(t)-+sV(t);return Math.round(r/NA)+1}function SA(e,t){var u,p,x,f;const r=t0(e),s=r.getFullYear(),a=Ky(),i=(t==null?void 0:t.firstWeekContainsDate)??((p=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(x=a.locale)==null?void 0:x.options)==null?void 0:f.firstWeekContainsDate)??1,o=zf(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Ax(o,t),c=zf(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=Ax(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function $V(e,t){var l,c,d,u;const r=Ky(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=SA(e,t),i=zf(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),Ax(i,t)}function WV(e,t){const r=t0(e),s=+Ax(r,t)-+$V(r,t);return Math.round(s/NA)+1}function ya(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const oh={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return ya(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ya(r+1,2)},d(e,t){return ya(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ya(e.getHours()%12||12,t.length)},H(e,t){return ya(e.getHours(),t.length)},m(e,t){return ya(e.getMinutes(),t.length)},s(e,t){return ya(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return ya(a,t.length)}},Sm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dj={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return oh.y(e,t)},Y:function(e,t,r,s){const a=SA(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return ya(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):ya(i,t.length)},R:function(e,t){const r=CA(e);return ya(r,t.length)},u:function(e,t){const r=e.getFullYear();return ya(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return ya(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return ya(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return oh.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return ya(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=WV(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):ya(a,t.length)},I:function(e,t,r){const s=UV(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):ya(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):oh.d(e,t)},D:function(e,t,r){const s=zV(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):ya(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ya(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ya(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return ya(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=Sm.noon:s===0?a=Sm.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=Sm.evening:s>=12?a=Sm.afternoon:s>=4?a=Sm.morning:a=Sm.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return oh.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):oh.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):ya(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):ya(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):oh.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):oh.s(e,t)},S:function(e,t){return oh.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return hj(s);case"XXXX":case"XX":return vf(s);case"XXXXX":case"XXX":default:return vf(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return hj(s);case"xxxx":case"xx":return vf(s);case"xxxxx":case"xxx":default:return vf(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+uj(s,":");case"OOOO":default:return"GMT"+vf(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+uj(s,":");case"zzzz":default:return"GMT"+vf(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return ya(s,t.length)},T:function(e,t,r){const s=e.getTime();return ya(s,t.length)}};function uj(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+t+ya(i,2)}function hj(e,t){return e%60===0?(e>0?"-":"+")+ya(Math.abs(e)/60,2):vf(e,t)}function vf(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=ya(Math.trunc(s/60),2),i=ya(s%60,2);return r+a+t+i}const fj=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},EA=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},HV=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return fj(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",fj(s,t)).replace("{{time}}",EA(a,t))},VV={p:EA,P:HV},GV=/^D+$/,qV=/^Y+$/,KV=["D","DD","YY","YYYY"];function YV(e){return GV.test(e)}function ZV(e){return qV.test(e)}function XV(e,t,r){const s=JV(e,t,r);if(console.warn(s),KV.includes(e))throw new RangeError(s)}function JV(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const QV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tG=/^'([^]*?)'?$/,rG=/''/g,sG=/[a-zA-Z]/;function yi(e,t,r){var u,p,x,f;const s=Ky(),a=s.locale??BV,i=s.firstWeekContainsDate??((p=(u=s.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??1,o=s.weekStartsOn??((f=(x=s.locale)==null?void 0:x.options)==null?void 0:f.weekStartsOn)??0,l=t0(e);if(!nV(l))throw new RangeError("Invalid time value");let c=t.match(eG).map(y=>{const v=y[0];if(v==="p"||v==="P"){const _=VV[v];return _(y,a.formatLong)}return y}).join("").match(QV).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:aG(y)};if(dj[v])return{isToken:!0,value:y};if(v.match(sG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const v=y.value;(ZV(v)||YV(v))&&XV(v,t,String(e));const _=dj[v[0]];return _(l,v,a.localize,d)}).join("")}function aG(e){const t=e.match(tG);return t?t[1].replace(rG,"'"):e}function AA(e,t){const s=lG(e);let a;if(s.date){const c=cG(s.date,2);a=dG(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(s.time&&(o=uG(s.time),isNaN(o)))return new Date(NaN);if(s.timezone){if(l=hG(s.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(i+o+l)}const S2={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},nG=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,iG=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,oG=/^([+-])(\d{2})(?::?(\d{2}))?$/;function lG(e){const t={},r=e.split(S2.dateTimeDelimiter);let s;if(r.length>2)return t;if(/:/.test(r[0])?s=r[0]:(t.date=r[0],s=r[1],S2.timeZoneDelimiter.test(t.date)&&(t.date=e.split(S2.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){const a=S2.timezone.exec(s);a?(t.time=s.replace(a[1],""),t.timezone=a[1]):t.time=s}return t}function cG(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(r);if(!s)return{year:NaN,restDateString:""};const a=s[1]?parseInt(s[1]):null,i=s[2]?parseInt(s[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((s[1]||s[2]).length)}}function dG(e,t){if(t===null)return new Date(NaN);const r=e.match(nG);if(!r)return new Date(NaN);const s=!!r[4],a=_1(r[1]),i=_1(r[2])-1,o=_1(r[3]),l=_1(r[4]),c=_1(r[5])-1;if(s)return gG(t,l,c)?fG(t,l,c):new Date(NaN);{const d=new Date(0);return!pG(t,i,o)||!xG(t,a)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(a,o)),d)}}function _1(e){return e?parseInt(e):1}function uG(e){const t=e.match(iG);if(!t)return NaN;const r=E_(t[1]),s=E_(t[2]),a=E_(t[3]);return vG(r,s,a)?r*jA+s*kA+a*1e3:NaN}function E_(e){return e&&parseFloat(e.replace(",","."))||0}function hG(e){if(e==="Z")return 0;const t=e.match(oG);if(!t)return 0;const r=t[1]==="+"?-1:1,s=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return yG(s,a)?r*(s*jA+a*kA):NaN}function fG(e,t,r){const s=new Date(0);s.setUTCFullYear(e,0,4);const a=s.getUTCDay()||7,i=(t-1)*7+r+1-a;return s.setUTCDate(s.getUTCDate()+i),s}const mG=[31,null,31,30,31,30,31,31,30,31,30,31];function TA(e){return e%400===0||e%4===0&&e%100!==0}function pG(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(mG[t]||(TA(e)?29:28))}function xG(e,t){return t>=1&&t<=(TA(e)?366:365)}function gG(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function vG(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function yG(e,t){return t>=0&&t<=59}const bG=({pdfUrl:e,isOpen:t,onClose:r,fileName:s="Document"})=>{const[a,i]=U.useState(1),[o,l]=U.useState(1),[c,d]=U.useState(1),[u,p]=U.useState(!0),[x,f]=U.useState(null),y=U.useRef(null);if(U.useEffect(()=>{t&&(i(1),d(1),p(!0),f(null))},[t]),!t)return null;const v=()=>{d(T=>Math.min(T+.2,3))},_=()=>{d(T=>Math.max(T-.2,.5))},k=T=>{T.key==="Escape"&&r()},S=()=>{p(!1),f("Failed to load PDF. The file may be corrupted or inaccessible.")},M=()=>{p(!1)};return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-95",onClick:r,onKeyDown:k,tabIndex:0,children:n.jsxs("div",{className:"relative w-full h-full max-w-[95vw] max-h-[95vh] sm:max-w-5xl md:max-w-6xl lg:max-w-7xl xl:max-w-[90vw] p-2 sm:p-4 md:p-6 flex flex-col",onClick:T=>T.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 bg-black bg-opacity-60 p-3 rounded-lg backdrop-blur-sm",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-white text-sm sm:text-base font-semibold truncate",children:s}),n.jsx("p",{className:"text-white/60 text-xs",children:"PDF Document"})]}),n.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[n.jsx("button",{onClick:_,className:"p-1.5 text-white bg-black bg-opacity-60 rounded hover:bg-opacity-80 transition-all",title:"Zoom out",children:n.jsx(zB,{size:18})}),n.jsxs("span",{className:"text-white text-xs w-8 text-center",children:[Math.round(c*100),"%"]}),n.jsx("button",{onClick:v,className:"p-1.5 text-white bg-black bg-opacity-60 rounded hover:bg-opacity-80 transition-all",title:"Zoom in",children:n.jsx(OB,{size:18})})]}),n.jsx("button",{onClick:r,className:"ml-4 p-1.5 text-white bg-black bg-opacity-60 rounded-full hover:bg-opacity-80 transition-all",children:n.jsx(Bs,{size:20})})]}),n.jsx("div",{className:"flex-1 overflow-auto bg-black rounded-lg flex items-center justify-center relative",children:x?n.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[n.jsxs("div",{className:"p-4 bg-red-500/20 rounded-lg border border-red-500/50",children:[n.jsx(ei,{size:48,className:"text-red-400 mx-auto mb-2"}),n.jsx("p",{className:"text-red-200 text-center text-sm font-medium",children:x})]}),n.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors text-sm",children:"Close"})]}):n.jsxs(n.Fragment,{children:[n.jsx("iframe",{ref:y,src:`${e}#toolbar=1&navpanes=0&scrollbar=1`,className:"w-full h-full rounded-lg",style:{transform:`scale(${c})`,transformOrigin:"top center",transition:"transform 0.2s ease-out"},title:s,onLoad:M,onError:S,sandbox:"allow-same-origin allow-scripts"}),u&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"w-8 h-8 border-4 border-white/20 border-t-white rounded-full animate-spin"})})]})}),!x&&n.jsx("p",{className:"text-white/60 text-xs text-center mt-3",children:"Press ESC to close  Use zoom controls to adjust view"})]})})},MA=(e,t)=>{var a;const r=((a=e.split(".").pop())==null?void 0:a.toLowerCase())||"",s="";return s.startsWith("image/")||["jpg","jpeg","png","gif","webp","bmp"].includes(r)?"image":r==="pdf"||s==="application/pdf"?"pdf":["doc","docx","xls","xlsx","ppt","pptx","txt","csv"].includes(r)||s.includes("document")||s.includes("spreadsheet")||s.includes("presentation")?"document":"unknown"},_G=e=>{switch(e){case"image":return n.jsx(og,{size:20,className:"text-blue-400"});case"pdf":return n.jsx(Ya,{size:20,className:"text-red-400"});case"document":return n.jsx(Dw,{size:20,className:"text-orange-400"});default:return n.jsx(Dw,{size:20,className:"text-gray-400"})}},wG=e=>{switch(e){case"image":return"Image";case"pdf":return"PDF Document";case"document":return"Document";default:return"File"}},LA=({fileName:e,fileType:t})=>n.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 p-4",children:[n.jsx(ei,{size:32,className:"text-gray-500 mb-2"}),n.jsx("p",{className:"text-sm font-medium text-gray-900 text-center truncate",children:e}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:t==="unknown"?"Unsupported file type":"Cannot preview this file"})]}),NG=({file:e,onClick:t})=>{const[r,s]=U.useState(!1);return r?n.jsx("button",{onClick:t,className:"relative aspect-square rounded-lg overflow-hidden border-2 border-white/20 hover:border-white transition-all group bg-gray-900",children:n.jsx(LA,{fileName:e.name,fileType:"image"})}):n.jsxs("button",{onClick:t,className:"relative aspect-square rounded-lg overflow-hidden border-2 border-white/20 hover:border-white transition-all group",children:[n.jsx("img",{src:e.url||"/placeholder.svg",alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform",onError:()=>s(!0)}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-colors flex items-center justify-center",children:n.jsx("span",{className:"text-white text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:"View"})})]})},mj=({file:e,onClick:t})=>{const r=MA(e.name),s=r==="pdf";return n.jsxs("button",{onClick:t,disabled:!s,className:`flex items-center space-x-3 p-3 rounded-lg border transition-all group ${s?"bg-white/10 hover:bg-white/20 border-white/20 hover:border-white cursor-pointer":"bg-white/5 border-white/10 cursor-not-allowed opacity-60"}`,children:[n.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded flex items-center justify-center ${r==="pdf"?"bg-red-500/20":r==="document"?"bg-orange-500/20":"bg-gray-500/20"}`,children:_G(r)}),n.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[n.jsx("p",{className:"text-white text-sm font-medium truncate group-hover:text-white/80",children:e.name}),n.jsx("p",{className:"text-white/60 text-xs",children:wG(r)})]}),s&&n.jsx("span",{className:"text-white/60 text-xs flex-shrink-0",children:"View"}),!s&&n.jsx("span",{className:"text-white/40 text-xs flex-shrink-0",children:"Preview unavailable"})]})},kG=({imageUrl:e,imageName:t,onClose:r})=>{const[s,a]=U.useState(!1);return n.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black bg-opacity-95",onClick:r,children:n.jsxs("div",{className:"relative w-full h-full max-w-[95vw] max-h-[95vh] p-4",onClick:i=>i.stopPropagation(),children:[n.jsx("button",{onClick:r,className:"absolute top-4 right-4 z-10 p-2 text-white bg-black bg-opacity-60 rounded-full hover:bg-opacity-80",children:n.jsx(Bs,{size:20})}),s?n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(LA,{fileName:t,fileType:"image"})}):n.jsx("img",{src:e||"/placeholder.svg",alt:t,className:"w-full h-full object-contain",onError:()=>a(!0)})]})})},jG=({files:e,isOpen:t,onClose:r})=>{var u,p;const[s,a]=U.useState(null),[i,o]=U.useState(null),l=U.useCallback(()=>{const x={images:[],pdfs:[],documents:[],unsupported:[]};return e.forEach(f=>{switch(MA(f.name)){case"image":x.images.push(f);break;case"pdf":x.pdfs.push(f);break;case"document":x.documents.push(f);break;default:x.unsupported.push(f)}}),x},[e]);if(!t||e.length===0)return null;const c=l();return Object.values(c).some(x=>x.length>0)?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-95",onClick:r,children:n.jsxs("div",{className:"relative w-full h-full max-w-[95vw] max-h-[95vh] sm:max-w-5xl md:max-w-6xl lg:max-w-7xl xl:max-w-[90vw] p-2 sm:p-4 md:p-6",onClick:x=>x.stopPropagation(),children:[n.jsx("button",{onClick:r,className:"absolute top-2 right-2 sm:top-4 sm:right-4 z-10 p-1.5 sm:p-2 text-white bg-black bg-opacity-60 rounded-full hover:bg-opacity-80 transition-all backdrop-blur-sm",children:n.jsx(Bs,{size:20,className:"sm:w-6 sm:h-6"})}),n.jsx("div",{className:"h-full overflow-y-auto",children:n.jsxs("div",{className:"space-y-6 pb-6",children:[c.images.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-white text-lg font-semibold mb-4 flex items-center",children:[n.jsx(og,{size:20,className:"mr-2"}),"Images (",c.images.length,")"]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:c.images.map((x,f)=>n.jsx(NG,{file:x,onClick:()=>a(x.url)},`image-${f}`))})]}),c.pdfs.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-white text-lg font-semibold mb-4 flex items-center",children:[n.jsx(Ya,{size:20,className:"mr-2"}),"PDF Documents (",c.pdfs.length,")"]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:c.pdfs.map((x,f)=>n.jsx(mj,{file:x,onClick:()=>o(x.url)},`pdf-${f}`))})]}),c.documents.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-white text-lg font-semibold mb-4 flex items-center",children:[n.jsx(Dw,{size:20,className:"mr-2"}),"Other Documents (",c.documents.length,")"]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:c.documents.map((x,f)=>n.jsx(mj,{file:x,onClick:()=>{window.open(x.url,"_blank")}},`doc-${f}`))})]}),c.unsupported.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-white text-lg font-semibold mb-4 flex items-center",children:[n.jsx(ei,{size:20,className:"mr-2 text-yellow-400"}),"Unsupported Files (",c.unsupported.length,")"]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:c.unsupported.map((x,f)=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg border border-yellow-500/30",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-yellow-500/20 rounded flex items-center justify-center",children:n.jsx(ei,{size:20,className:"text-yellow-400"})}),n.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[n.jsx("p",{className:"text-white text-sm font-medium truncate",children:x.name}),n.jsx("p",{className:"text-white/60 text-xs",children:"Preview not available"})]})]},`unsupported-${f}`))})]})]})})]})}),s&&n.jsx(kG,{imageUrl:s,imageName:((u=e.find(x=>x.url===s))==null?void 0:u.name)||"Image",onClose:()=>a(null)}),n.jsx(bG,{pdfUrl:i||"",isOpen:!!i,onClose:()=>o(null),fileName:((p=e.find(x=>x.url===i))==null?void 0:p.name)||"Document"})]}):n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-95",onClick:r,children:n.jsxs("div",{className:"relative w-full h-full max-w-[95vw] max-h-[95vh] sm:max-w-5xl md:max-w-6xl lg:max-w-7xl xl:max-w-[90vw] p-2 sm:p-4 md:p-6 flex items-center justify-center",onClick:x=>x.stopPropagation(),children:[n.jsx("button",{onClick:r,className:"absolute top-2 right-2 sm:top-4 sm:right-4 z-10 p-1.5 sm:p-2 text-white bg-black bg-opacity-60 rounded-full hover:bg-opacity-80 transition-all backdrop-blur-sm",children:n.jsx(Bs,{size:20,className:"sm:w-6 sm:h-6"})}),n.jsxs("div",{className:"text-center",children:[n.jsx(ei,{size:48,className:"text-gray-500 mx-auto mb-4"}),n.jsx("p",{className:"text-white text-lg",children:"No files available to display"})]})]})})};var CG={};const SG=()=>{const{id:e}=si(),t=Vr(),{buildings:r}=ug(),[s,a]=U.useState(null),[i,o]=U.useState(!0),[l,c]=U.useState(!1);U.useEffect(()=>{const y=r.find(v=>String(v.id)===e);y?(a(y),o(!1)):(async()=>{var _;try{const k=localStorage.getItem("auth-storage"),S=k?JSON.parse(k):null,M=(_=S==null?void 0:S.state)==null?void 0:_.token,T=await fetch(`${Bt}/buildings/${e}`,{headers:{Authorization:`Bearer ${M}`}});if(!T.ok)throw new Error("Failed to fetch building");const O=await T.json();a(O)}catch(k){console.error("Failed to fetch building:",k)}finally{o(!1)}})()},[e,r]);const d=()=>{if(!(s!=null&&s.support_files))return[];try{let y=[];if(Array.isArray(s.support_files))y=s.support_files;else if(typeof s.support_files=="string")try{y=JSON.parse(s.support_files)}catch{return[]}const v=CG.VITE_PROD_API_URL||"http://localhost:3001";return y.filter(_=>_&&(_.url||typeof _=="string")).map(_=>{const k=typeof _=="string"?_:_.url,S=typeof _=="string"?_.split("/").pop()||"File":_.name||_.url.split("/").pop()||"File",M=typeof _=="string"?_.endsWith(".pdf")?"pdf":"image":_.type==="pdf"||_.url.endsWith(".pdf")?"pdf":"image";return{url:k.startsWith("http")?k:`${v}${k}`,name:S,type:M}})}catch{return[]}},u=()=>{window.history.length>1?t(-1):t("/categories/buildings")},p=()=>{t(`/categories/buildings/${e}/edit`)},x=y=>{if(!s)return;const _=(Array.isArray(s.support_files)?s.support_files:JSON.parse(s.support_files)).filter((k,S)=>S!==y);a({...s,support_files:_})};if(i)return n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[n.jsxs("svg",{className:"w-5 h-5 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),n.jsx("span",{children:"Loading building details..."})]})});if(!s)return n.jsx("div",{className:"py-8 text-center text-gray-500",children:"Building not found"});const f=d();return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("nav",{className:"flex items-center px-6 pt-6 mb-6 space-x-2 text-sm text-gray-600",children:[n.jsxs(Lr,{to:"/",className:"flex items-center transition-colors hover:text-blue-600",children:[n.jsx(ln,{size:16,className:"mr-1"}),"Home"]}),n.jsx(Dr,{size:16}),n.jsx(Lr,{to:"/asset-categories",className:"transition-colors hover:text-blue-600",children:"Asset Categories"}),n.jsx(Dr,{size:16}),n.jsx(Lr,{to:"/categories/buildings",className:"transition-colors hover:text-blue-600",children:"Buildings"}),n.jsx(Dr,{size:16}),n.jsxs("span",{className:"flex items-center font-medium text-gray-900",children:[n.jsx(Qo,{size:16,className:"mr-1"}),s.lr_no]})]}),n.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 shadow-sm",children:n.jsx("div",{className:"px-2 py-2 mx-auto",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(Be,{variant:"secondary",onClick:u,children:[n.jsx(Pa,{size:16,className:"mr-2"}),"Back"]}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Building Details"})]}),n.jsxs(Be,{variant:"primary",onClick:p,children:[n.jsx(Iu,{size:16,className:"mr-2"}),"Edit Building"]})]})})}),n.jsx("div",{className:"px-2 py-2 mx-auto",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(it,{className:"bg-white border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"pb-2 mb-4 text-lg font-semibold text-gray-900 border-b border-gray-100",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Building Name"}),n.jsx("p",{className:"text-base text-gray-900",children:s.lr_no})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Location"}),n.jsx("p",{className:"text-base text-gray-900",children:s.location||"N/A"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Building Type"}),n.jsx("p",{className:"text-base text-gray-900",children:s.type_of_building||"N/A"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ownership Status"}),n.jsx("p",{className:"text-base text-gray-900",children:s.ownership_status||"N/A"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Land Area (Ha)"}),n.jsx("p",{className:"text-base text-gray-900",children:s.size_of_land_ha?`${s.size_of_land_ha} Ha`:"N/A"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Building Area (m)"}),n.jsx("p",{className:"text-base text-gray-900",children:s.plinth_area?`${s.plinth_area} m`:"N/A"})]})]})]})}),n.jsx(it,{className:"bg-white border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"pb-2 mb-4 text-lg font-semibold text-gray-900 border-b border-gray-100",children:"Financial Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cost of Construction/Valuation"}),n.jsx("p",{className:"text-base text-gray-900",children:s.cost_of_construction_or_valuation?`Ksh. ${s.cost_of_construction_or_valuation.toLocaleString()}`:"N/A"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Net Book Value"}),n.jsx("p",{className:"text-base text-gray-900",children:s.net_book_value?`Ksh. ${s.net_book_value.toLocaleString()}`:"N/A"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Purchase/Commission Date"}),n.jsx("p",{className:"text-base text-gray-900",children:s.date_of_purchase_or_commissioning?yi(new Date(s.date_of_purchase_or_commissioning),"MMM dd, yyyy"):"N/A"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Annual Depreciation"}),n.jsx("p",{className:"text-base text-gray-900",children:s.annual_depreciation?`Ksh. ${s.annual_depreciation.toLocaleString()}`:"N/A"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Accumulated Depreciation"}),n.jsx("p",{className:"text-base text-gray-900",children:s.accumulated_depreciation_to_date?`Ksh. ${s.accumulated_depreciation_to_date.toLocaleString()}`:"N/A"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Annual Rental Income"}),n.jsx("p",{className:"text-base text-gray-900",children:s.annual_rental_income?`Ksh. ${s.annual_rental_income.toLocaleString()}`:"N/A"})]})]})]})}),n.jsx(it,{className:"bg-white border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"pb-2 mb-4 text-lg font-semibold text-gray-900 border-b border-gray-100",children:"Additional Details"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Building Number"}),n.jsx("p",{className:"text-base text-gray-900",children:s.building_no||"N/A"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Institution Number"}),n.jsx("p",{className:"text-base text-gray-900",children:s.institution_no||"N/A"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Designated Use"}),n.jsx("p",{className:"text-base text-gray-900",children:s.designated_use||"N/A"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Mode of Acquisition"}),n.jsx("p",{className:"text-base text-gray-900",children:s.mode_of_acquisition||"N/A"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Number of Floors"}),n.jsx("p",{className:"text-base text-gray-900",children:s.no_of_floors||"N/A"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Estimated Useful Life"}),n.jsx("p",{className:"text-base text-gray-900",children:s.estimated_useful_life?`${s.estimated_useful_life} years`:"N/A"})]})]})]})}),f.length>0&&n.jsx(it,{className:"bg-white border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ya,{size:20,className:"text-blue-600 mr-2"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Support Files"})]}),n.jsxs("span",{className:"px-3 py-1 text-sm text-blue-600 bg-blue-100 rounded-full",children:[f.length," ",f.length===1?"file":"files"]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:f.map((y,v)=>n.jsx("div",{className:"relative group border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:y.type==="image"?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:y.url||"/placeholder.svg",alt:y.name,className:"w-full h-40 object-cover"}),n.jsxs("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:[n.jsx("button",{onClick:()=>c(!0),className:"px-3 py-1 bg-white text-gray-900 rounded text-sm font-medium",children:"View"}),n.jsx("button",{onClick:()=>x(v),className:"ml-2 px-3 py-1 bg-red-500 text-white rounded text-xs font-medium hover:bg-red-600 transition-colors",children:"Remove"})]})]}):n.jsxs("div",{className:"w-full h-40 bg-gradient-to-br from-red-50 to-red-100 flex flex-col items-center justify-center p-4",children:[n.jsx(Ya,{size:32,className:"text-red-500 mb-2"}),n.jsx("p",{className:"text-sm font-medium text-gray-900 text-center truncate",children:y.name}),n.jsx("button",{onClick:()=>c(!0),className:"mt-2 px-3 py-1 bg-red-500 text-white rounded text-xs font-medium hover:bg-red-600 transition-colors",children:"View PDF"}),n.jsx("button",{onClick:()=>x(v),className:"mt-2 px-3 py-1 bg-red-500 text-white rounded text-xs font-medium hover:bg-red-600 transition-colors",children:"Remove"})]})},v))}),n.jsx("button",{onClick:()=>c(!0),className:"mt-4 w-full px-4 py-2 border border-blue-200 text-blue-700 rounded-lg hover:bg-blue-50 transition-colors text-sm font-medium",children:"View All Files"})]})})]})}),n.jsx(jG,{files:f,isOpen:l,onClose:()=>c(!1)})]})};function r0({data:e=[],columns:t,keyField:r,onRowClick:s,actions:a,searchable:i=!0,pagination:o=!0,pageSize:l=10,currentPage:c,onPageChange:d,className:u=""}){const[p,x]=U.useState(null),[f,y]=U.useState("asc"),[v,_]=U.useState(""),[k,S]=U.useState(1),M=c!==void 0?c:k,T=d||S,O=z=>{typeof z!="function"&&(p===z?y(P=>P==="asc"?"desc":"asc"):(x(z),y("asc")))},A=U.useMemo(()=>e.filter(z=>!v.trim()||Object.keys(z).some(P=>{const I=z[P];return I!=null&&String(I).toLowerCase().includes(v.toLowerCase())})),[e,v]),C=U.useMemo(()=>p?[...A].sort((z,P)=>{const I=z[p],W=P[p];if(I===W)return 0;const Z=I<W?-1:1;return f==="asc"?Z:-Z}):A,[A,p,f]),N=Math.ceil(C.length/l),E=o?C.slice((M-1)*l,M*l):C;return n.jsxs("div",{className:`w-full fullwin ${u}`,children:[(i||t.length>0)&&n.jsx("div",{className:"flex items-center mb-4",children:i&&n.jsxs("div",{className:"relative w-full",children:[n.jsx("div",{className:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none",children:n.jsx(Lu,{size:16,className:"text-primary-400"})}),n.jsx("input",{type:"text",className:"bg-white border border-primary-200 text-primary-900 text-sm rounded-lg focus:ring-accent-500 focus:border-accent-500 block w-full pl-10 p-2.5",placeholder:"Search...",value:v,onChange:z=>{_(z.target.value),T(1)}})]})}),n.jsx("div",{className:"overflow-x-auto relative border border-primary-200 rounded-lg",children:n.jsxs("table",{className:"min-w-full divide-y divide-primary-200 relative",children:[n.jsx("thead",{className:"bg-primary-50 relative z-30",children:n.jsxs("tr",{children:[t.map((z,P)=>n.jsx("th",{className:"px-6 py-3.5 text-left text-xs font-semibold text-primary-700 uppercase tracking-wider",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{children:z.header}),z.sortable&&n.jsx("button",{onClick:()=>O(z.accessor),className:"ml-1 p-1 hover:bg-primary-100 rounded transition-colors",children:p===z.accessor?f==="asc"?n.jsx(Oy,{size:16}):n.jsx(q0,{size:16}):n.jsx("div",{className:"w-4 h-4"})})]})},P)),a&&n.jsx("th",{className:"px-6 py-3.5 text-left text-xs font-semibold text-primary-700 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-primary-200 relative z-10",children:E.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:t.length+(a?1:0),className:"px-6 py-4 text-sm text-center text-primary-500",children:"No data available"})}):E.map((z,P)=>n.jsxs("tr",{className:`${s?"cursor-pointer hover:bg-primary-50":""} ${P%2===0?"bg-white":"bg-primary-50"}`,onClick:()=>s==null?void 0:s(z),children:[t.map((I,W)=>{const Z=typeof I.accessor=="function"?I.accessor(z,P):I.cell?I.cell(z[I.accessor],z):String(z[I.accessor]??""),Y=P%2===0?"bg-white":"bg-primary-50";return n.jsx("td",{className:`px-2 py-2 text-sm whitespace-nowrap text-primary-900 ${Y}`,children:Z},W)}),a&&n.jsx("td",{className:`px-2 py-2 text-sm font-medium text-right whitespace-nowrap ${P%2===0?"bg-white":"bg-primary-50"}`,children:a(z)})]},String(z[r])))})]})}),o&&N>1&&n.jsxs("div",{className:"flex justify-between items-center mt-4",children:[n.jsxs("div",{className:"text-sm text-primary-500",children:["Showing ",(M-1)*l+1," to"," ",Math.min(M*l,C.length)," of"," ",C.length," results"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Be,{variant:"secondary",size:"sm",onClick:()=>T(Math.max(M-1,1)),disabled:M===1,children:"Previous"}),n.jsx(Be,{variant:"secondary",size:"sm",onClick:()=>T(Math.min(M+1,N)),disabled:M===N,children:"Next"})]})]})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Yv={};Yv.version="0.18.5";var PA=1252,EG=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],v5={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},y5=function(e){EG.indexOf(e)!=-1&&(PA=v5[0]=e)};function AG(){y5(1252)}var $d=function(e){y5(e)};function b5(){$d(1200),AG()}function pj(e){for(var t=[],r=0,s=e.length;r<s;++r)t[r]=e.charCodeAt(r);return t}function TG(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function FA(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var P1=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?TG(e.slice(2)):t==254&&r==255?FA(e.slice(2)):t==65279?e.slice(1):e},E2=function(t){return String.fromCharCode(t)},xj=function(t){return String.fromCharCode(t)},Tx,bh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Mx(e){for(var t="",r=0,s=0,a=0,i=0,o=0,l=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),i=r>>2,s=e.charCodeAt(d++),o=(r&3)<<4|s>>4,a=e.charCodeAt(d++),l=(s&15)<<2|a>>6,c=a&63,isNaN(s)?l=c=64:isNaN(a)&&(c=64),t+=bh.charAt(i)+bh.charAt(o)+bh.charAt(l)+bh.charAt(c);return t}function Pc(e){var t="",r=0,s=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=bh.indexOf(e.charAt(d++)),o=bh.indexOf(e.charAt(d++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=bh.indexOf(e.charAt(d++)),s=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(s)),c=bh.indexOf(e.charAt(d++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var _s=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ou=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Dh(e){return _s?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function gj(e){return _s?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ec=function(t){return _s?Ou(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Yy(e){if(typeof ArrayBuffer>"u")return Ec(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),s=0;s!=e.length;++s)r[s]=e.charCodeAt(s)&255;return t}function Gh(e){if(Array.isArray(e))return e.map(function(s){return String.fromCharCode(s)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function MG(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function _5(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return _5(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Ji=_s?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Ou(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var s=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)s.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";s.set(new Uint8Array(e[t]),r)}return s}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function LG(e){for(var t=[],r=0,s=e.length+250,a=Dh(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>s&&(t.push(a.slice(0,r)),r=0,a=Dh(65535),s=65530)}return t.push(a.slice(0,r)),Ji(t)}var wl=/\u0000/g,F1=/[\u0001-\u0006]/g;function tp(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Wd(e,t){var r=""+e;return r.length>=t?r:In("0",t-r.length)+r}function w5(e,t){var r=""+e;return r.length>=t?r:In(" ",t-r.length)+r}function Zv(e,t){var r=""+e;return r.length>=t?r:r+In(" ",t-r.length)}function PG(e,t){var r=""+Math.round(e);return r.length>=t?r:In("0",t-r.length)+r}function FG(e,t){var r=""+e;return r.length>=t?r:In("0",t-r.length)+r}var vj=Math.pow(2,32);function Em(e,t){if(e>vj||e<-vj)return PG(e,t);var r=Math.round(e);return FG(r,t)}function Xv(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var yj=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],A_=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function DG(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Yr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},bj={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},IG={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Jv(e,t,r){for(var s=e<0?-1:1,a=e*s,i=0,o=1,l=0,c=1,d=0,u=0,p=Math.floor(a);d<t&&(p=Math.floor(a),l=p*o+i,u=p*d+c,!(a-p<5e-8));)a=1/(a-p),i=o,o=l,c=d,d=u;if(u>t&&(d>t?(u=c,l=i):(u=d,l=o)),!r)return[0,s*l,u];var x=Math.floor(s*l/u);return[x,s*l-x*u,u]}function Cf(e,t,r){if(e>2958465||e<0)return null;var s=e|0,a=Math.floor(86400*(e-s)),i=0,o=[],l={D:s,T:a,u:86400*(e-s)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(s+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++s,++l.D)),s===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(s===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{s>60&&--s;var c=new Date(1900,0,1);c.setDate(c.getDate()+s-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),s<60&&(i=(i+6)%7),r&&(i=$G(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var DA=new Date(1899,11,31,0,0,0),RG=DA.getTime(),OG=new Date(1900,2,1,0,0,0);function IA(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=OG&&(r+=1440*60*1e3),(r-(RG+(e.getTimezoneOffset()-DA.getTimezoneOffset())*6e4))/(1440*60*1e3)}function N5(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function BG(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function zG(e){var t=e<0?12:11,r=N5(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function UG(e){var t=N5(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Lx(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=zG(e):t===10?r=e.toFixed(10).substr(0,12):r=UG(e),N5(BG(r.toUpperCase()))}function Uf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Lx(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return fd(14,IA(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function $G(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function WG(e,t,r,s){var a="",i=0,o=0,l=r.y,c,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return A_[r.m-1][1];case 5:return A_[r.m-1][0];default:return A_[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return yj[r.q][0];default:return yj[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Wd(r.S,t.length):(s>=2?o=s===3?1e3:100:o=s===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=Wd(i,2+s),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?Wd(c,d):"";return u}function _h(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,s=e.substr(0,r);r!=e.length;r+=t)s+=(s.length>0?",":"")+e.substr(r,t);return s}var RA=/%/g;function HG(e,t,r){var s=t.replace(RA,""),a=t.length-s.length;return Su(e,s,r*Math.pow(10,2*a))+In("%",a)}function VG(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return Su(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function OA(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+OA(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var BA=/# (\?+)( ?)\/( ?)(\d+)/;function GG(e,t,r){var s=parseInt(e[4],10),a=Math.round(t*s),i=Math.floor(a/s),o=a-i*s,l=s;return r+(i===0?"":""+i)+" "+(o===0?In(" ",e[1].length+1+e[4].length):w5(o,e[1].length)+e[2]+"/"+e[3]+Wd(l,e[4].length))}function qG(e,t,r){return r+(t===0?"":""+t)+In(" ",e[1].length+2+e[4].length)}var zA=/^#*0*\.([0#]+)/,UA=/\).*[0#]/,$A=/\(###\) ###\\?-####/;function yl(e){for(var t="",r,s=0;s!=e.length;++s)switch(r=e.charCodeAt(s)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function _j(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function wj(e,t){var r=e-Math.floor(e),s=Math.pow(10,t);return t<(""+Math.round(r*s)).length?0:Math.round(r*s)}function KG(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function YG(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function td(e,t,r){if(e.charCodeAt(0)===40&&!t.match(UA)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?td("n",s,r):"("+td("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return VG(e,t,r);if(t.indexOf("%")!==-1)return HG(e,t,r);if(t.indexOf("E")!==-1)return OA(t,r);if(t.charCodeAt(0)===36)return"$"+td(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Em(c,t.length);if(t.match(/^[#?]+$/))return a=Em(r,0),a==="0"&&(a=""),a.length>t.length?a:yl(t.substr(0,t.length-a.length))+a;if(i=t.match(BA))return GG(i,c,d);if(t.match(/^#+0+$/))return d+Em(c,t.length-t.indexOf("0"));if(i=t.match(zA))return a=_j(r,i[1].length).replace(/^([^\.]+)$/,"$1."+yl(i[1])).replace(/\.$/,"."+yl(i[1])).replace(/\.(\d*)$/,function(y,v){return"."+v+In("0",yl(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+_j(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+_h(Em(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+td(e,t,-r):_h(""+(Math.floor(r)+KG(r,i[1].length)))+"."+Wd(wj(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return td(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=tp(td(e,t.replace(/[\\-]/g,""),r)),o=0,tp(tp(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(t.match($A))return a=td(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Jv(c,Math.pow(10,o)-1,!1),a=""+d,u=Su("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Zv(l[2],o),u.length<i[4].length&&(u=yl(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Jv(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?w5(l[1],o)+i[2]+"/"+i[3]+Zv(l[2],o):In(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Em(r,0),t.length<=a.length?a:yl(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var p=t.indexOf(".")-o,x=t.length-a.length-p;return yl(t.substr(0,p)+a+t.substr(t.length-x))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=wj(r,i[1].length),r<0?"-"+td(e,t,-r):_h(YG(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Wd(0,3-y.length):"")+y})+"."+Wd(o,i[1].length);switch(t){case"###,##0.00":return td(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var f=_h(Em(c,0));return f!=="0"?d+f:"";case"###,###.00":return td(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return td(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function ZG(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return Su(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function XG(e,t,r){var s=t.replace(RA,""),a=t.length-s.length;return Su(e,s,r*Math.pow(10,2*a))+In("%",a)}function WA(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+WA(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function T0(e,t,r){if(e.charCodeAt(0)===40&&!t.match(UA)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?T0("n",s,r):"("+T0("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return ZG(e,t,r);if(t.indexOf("%")!==-1)return XG(e,t,r);if(t.indexOf("E")!==-1)return WA(t,r);if(t.charCodeAt(0)===36)return"$"+T0(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Wd(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:yl(t.substr(0,t.length-a.length))+a;if(i=t.match(BA))return qG(i,c,d);if(t.match(/^#+0+$/))return d+Wd(c,t.length-t.indexOf("0"));if(i=t.match(zA))return a=(""+r).replace(/^([^\.]+)$/,"$1."+yl(i[1])).replace(/\.$/,"."+yl(i[1])),a=a.replace(/\.(\d*)$/,function(y,v){return"."+v+In("0",yl(i[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+_h(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+T0(e,t,-r):_h(""+r)+"."+In("0",i[1].length);if(i=t.match(/^#,#*,#0/))return T0(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=tp(T0(e,t.replace(/[\\-]/g,""),r)),o=0,tp(tp(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(t.match($A))return a=T0(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Jv(c,Math.pow(10,o)-1,!1),a=""+d,u=Su("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Zv(l[2],o),u.length<i[4].length&&(u=yl(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Jv(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?w5(l[1],o)+i[2]+"/"+i[3]+Zv(l[2],o):In(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:yl(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var p=t.indexOf(".")-o,x=t.length-a.length-p;return yl(t.substr(0,p)+a+t.substr(t.length-x))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+T0(e,t,-r):_h(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Wd(0,3-y.length):"")+y})+"."+Wd(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var f=_h(""+c);return f!=="0"?d+f:"";default:if(t.match(/\.[0#?]*$/))return T0(e,t.slice(0,t.lastIndexOf(".")),r)+yl(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Su(e,t,r){return(r|0)===r?T0(e,t,r):td(e,t,r)}function JG(e){for(var t=[],r=!1,s=0,a=0;s<e.length;++s)switch(e.charCodeAt(s)){case 34:r=!r;break;case 95:case 42:case 92:++s;break;case 59:t[t.length]=e.substr(a,s-a),a=s+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var HA=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function zp(e){for(var t=0,r="",s="";t<e.length;)switch(r=e.charAt(t)){case"G":Xv(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(s=r;e.charAt(t++)!=="]"&&t<e.length;)s+=e.charAt(t);if(s.match(HA))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function QG(e,t,r,s){for(var a=[],i="",o=0,l="",c="t",d,u,p,x="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Xv(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(p=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(p);a[a.length]={t:"t",v:i},++o;break;case"\\":var f=e.charAt(++o),y=f==="("||f===")"?f:"t";a[a.length]={t:y,v:f},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=Cf(t,r,e.charAt(o+1)==="2"),d==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=Cf(t,r),d==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=x),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var v={t:l,v:l};if(d==null&&(d=Cf(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(v.v=d.H>=12?"P":"A"),v.t="T",x="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(v.v=d.H>=12?"PM":"AM"),v.t="T",o+=5,x="h"):e.substr(o,5).toUpperCase()==="/"?(d!=null&&(v.v=d.H>=12?"":""),v.t="T",o+=5,x="h"):(v.t="t",++o),d==null&&v.t==="T")return"";a[a.length]=v,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(HA)){if(d==null&&(d=Cf(t,r),d==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",zp(e)||(a[a.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:s===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var _=0,k=0,S;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=x,c="h",_<1&&(_=1);break;case"s":(S=a[o].v.match(/\.0+$/))&&(k=Math.max(k,S[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&a[o].v.match(/[Hh]/)&&(_=1),_<2&&a[o].v.match(/[Mm]/)&&(_=2),_<3&&a[o].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var M="",T;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=WG(a[o].t.charCodeAt(0),a[o].v,d,k),a[o].t="t";break;case"n":case"?":for(T=o+1;a[T]!=null&&((l=a[T].t)==="?"||l==="D"||(l===" "||l==="t")&&a[T+1]!=null&&(a[T+1].t==="?"||a[T+1].t==="t"&&a[T+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[T].v==="/"||a[T].v===" "&&a[T+1]!=null&&a[T+1].t=="?"));)a[o].v+=a[T].v,a[T]={v:"",t:";"},++T;M+=a[o].v,o=T-1;break;case"G":a[o].t="t",a[o].v=Uf(t,r);break}var O="",A,C;if(M.length>0){M.charCodeAt(0)==40?(A=t<0&&M.charCodeAt(0)===45?-t:t,C=Su("n",M,A)):(A=t<0&&s>1?-t:t,C=Su("n",M,A),A<0&&a[0]&&a[0].t=="t"&&(C=C.substr(1),a[0].v="-"+a[0].v)),T=C.length-1;var N=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){N=o;break}var E=a.length;if(N===a.length&&C.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(T>=a[o].v.length-1?(T-=a[o].v.length,a[o].v=C.substr(T+1,a[o].v.length)):T<0?a[o].v="":(a[o].v=C.substr(0,T+1),T=-1),a[o].t="t",E=o);T>=0&&E<a.length&&(a[E].v=C.substr(0,T+1)+a[E].v)}else if(N!==a.length&&C.indexOf("E")===-1){for(T=C.indexOf(".")-1,o=N;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(u=a[o].v.indexOf(".")>-1&&o===N?a[o].v.indexOf(".")-1:a[o].v.length-1,O=a[o].v.substr(u+1);u>=0;--u)T>=0&&(a[o].v.charAt(u)==="0"||a[o].v.charAt(u)==="#")&&(O=C.charAt(T--)+O);a[o].v=O,a[o].t="t",E=o}for(T>=0&&E<a.length&&(a[E].v=C.substr(0,T+1)+a[E].v),T=C.indexOf(".")+1,o=N;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==N)){for(u=a[o].v.indexOf(".")>-1&&o===N?a[o].v.indexOf(".")+1:0,O=a[o].v.substr(0,u);u<a[o].v.length;++u)T<C.length&&(O+=C.charAt(T++));a[o].v=O,a[o].t="t",E=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(A=s>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Su(a[o].t,a[o].v,A),a[o].t="t");var z="";for(o=0;o!==a.length;++o)a[o]!=null&&(z+=a[o].v);return z}var Nj=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function kj(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function eq(e,t){var r=JG(e),s=r.length,a=r[s-1].indexOf("@");if(s<4&&a>-1&&--s,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[s,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(Nj),l=r[1].match(Nj);return kj(t,o)?[s,r[0]]:kj(t,l)?[s,r[1]]:[s,r[o!=null&&l!=null?2:1]]}return[s,i]}function fd(e,t,r){r==null&&(r={});var s="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?s=r.dateNF:s=e;break;case"number":e==14&&r.dateNF?s=r.dateNF:s=(r.table!=null?r.table:Yr)[e],s==null&&(s=r.table&&r.table[bj[e]]||Yr[bj[e]]),s==null&&(s=IG[e]||"General");break}if(Xv(s,0))return Uf(t,r);t instanceof Date&&(t=IA(t,r.date1904));var a=eq(s,t);if(Xv(a[1]))return Uf(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return QG(a[1],t,r,a[0])}function Eu(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Yr[r]==null){t<0&&(t=r);continue}if(Yr[r]==e){t=r;break}}t<0&&(t=391)}return Yr[t]=e,t}function Zy(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Eu(e[t],t)}function Up(){Yr=DG()}var tq={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},VA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function rq(e){var t=typeof e=="number"?Yr[e]:e;return t=t.replace(VA,"(\\d+)"),new RegExp("^"+t+"$")}function sq(e,t,r){var s=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(VA)||[]).forEach(function(p,x){var f=parseInt(r[x+1],10);switch(p.toLowerCase().charAt(0)){case"y":s=f;break;case"d":i=f;break;case"h":o=f;break;case"s":c=f;break;case"m":o>=0?l=f:a=f;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var d=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:s==-1&&a==-1&&i==-1?u:d+"T"+u}var aq=(function(){var e={};e.version="1.2.0";function t(){for(var C=0,N=new Array(256),E=0;E!=256;++E)C=E,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,N[E]=C;return typeof Int32Array<"u"?new Int32Array(N):N}var r=t();function s(C){var N=0,E=0,z=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(z=0;z!=256;++z)P[z]=C[z];for(z=0;z!=256;++z)for(E=C[z],N=256+z;N<4096;N+=256)E=P[N]=E>>>8^C[E&255];var I=[];for(z=1;z!=16;++z)I[z-1]=typeof Int32Array<"u"?P.subarray(z*256,z*256+256):P.slice(z*256,z*256+256);return I}var a=s(r),i=a[0],o=a[1],l=a[2],c=a[3],d=a[4],u=a[5],p=a[6],x=a[7],f=a[8],y=a[9],v=a[10],_=a[11],k=a[12],S=a[13],M=a[14];function T(C,N){for(var E=N^-1,z=0,P=C.length;z<P;)E=E>>>8^r[(E^C.charCodeAt(z++))&255];return~E}function O(C,N){for(var E=N^-1,z=C.length-15,P=0;P<z;)E=M[C[P++]^E&255]^S[C[P++]^E>>8&255]^k[C[P++]^E>>16&255]^_[C[P++]^E>>>24]^v[C[P++]]^y[C[P++]]^f[C[P++]]^x[C[P++]]^p[C[P++]]^u[C[P++]]^d[C[P++]]^c[C[P++]]^l[C[P++]]^o[C[P++]]^i[C[P++]]^r[C[P++]];for(z+=15;P<z;)E=E>>>8^r[(E^C[P++])&255];return~E}function A(C,N){for(var E=N^-1,z=0,P=C.length,I=0,W=0;z<P;)I=C.charCodeAt(z++),I<128?E=E>>>8^r[(E^I)&255]:I<2048?(E=E>>>8^r[(E^(192|I>>6&31))&255],E=E>>>8^r[(E^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,W=C.charCodeAt(z++)&1023,E=E>>>8^r[(E^(240|I>>8&7))&255],E=E>>>8^r[(E^(128|I>>2&63))&255],E=E>>>8^r[(E^(128|W>>6&15|(I&3)<<4))&255],E=E>>>8^r[(E^(128|W&63))&255]):(E=E>>>8^r[(E^(224|I>>12&15))&255],E=E>>>8^r[(E^(128|I>>6&63))&255],E=E>>>8^r[(E^(128|I&63))&255]);return~E}return e.table=r,e.bstr=T,e.buf=O,e.str=A,e})(),Rr=(function(){var t={};t.version="1.2.1";function r(ce,Ce){for(var be=ce.split("/"),we=Ce.split("/"),je=0,Me=0,Xe=Math.min(be.length,we.length);je<Xe;++je){if(Me=be[je].length-we[je].length)return Me;if(be[je]!=we[je])return be[je]<we[je]?-1:1}return be.length-we.length}function s(ce){if(ce.charAt(ce.length-1)=="/")return ce.slice(0,-1).indexOf("/")===-1?ce:s(ce.slice(0,-1));var Ce=ce.lastIndexOf("/");return Ce===-1?ce:ce.slice(0,Ce+1)}function a(ce){if(ce.charAt(ce.length-1)=="/")return a(ce.slice(0,-1));var Ce=ce.lastIndexOf("/");return Ce===-1?ce:ce.slice(Ce+1)}function i(ce,Ce){typeof Ce=="string"&&(Ce=new Date(Ce));var be=Ce.getHours();be=be<<6|Ce.getMinutes(),be=be<<5|Ce.getSeconds()>>>1,ce.write_shift(2,be);var we=Ce.getFullYear()-1980;we=we<<4|Ce.getMonth()+1,we=we<<5|Ce.getDate(),ce.write_shift(2,we)}function o(ce){var Ce=ce.read_shift(2)&65535,be=ce.read_shift(2)&65535,we=new Date,je=be&31;be>>>=5;var Me=be&15;be>>>=4,we.setMilliseconds(0),we.setFullYear(be+1980),we.setMonth(Me-1),we.setDate(je);var Xe=Ce&31;Ce>>>=5;var mt=Ce&63;return Ce>>>=6,we.setHours(Ce),we.setMinutes(mt),we.setSeconds(Xe<<1),we}function l(ce){vo(ce,0);for(var Ce={},be=0;ce.l<=ce.length-4;){var we=ce.read_shift(2),je=ce.read_shift(2),Me=ce.l+je,Xe={};switch(we){case 21589:be=ce.read_shift(1),be&1&&(Xe.mtime=ce.read_shift(4)),je>5&&(be&2&&(Xe.atime=ce.read_shift(4)),be&4&&(Xe.ctime=ce.read_shift(4))),Xe.mtime&&(Xe.mt=new Date(Xe.mtime*1e3));break}ce.l=Me,Ce[we]=Xe}return Ce}var c;function d(){return c||(c={})}function u(ce,Ce){if(ce[0]==80&&ce[1]==75)return Ds(ce,Ce);if((ce[0]|32)==109&&(ce[1]|32)==105)return Oe(ce,Ce);if(ce.length<512)throw new Error("CFB file size "+ce.length+" < 512");var be=3,we=512,je=0,Me=0,Xe=0,mt=0,nt=0,tt=[],st=ce.slice(0,512);vo(st,0);var Rt=p(st);switch(be=Rt[0],be){case 3:we=512;break;case 4:we=4096;break;case 0:if(Rt[1]==0)return Ds(ce,Ce);default:throw new Error("Major Version: Expected 3 or 4 saw "+be)}we!==512&&(st=ce.slice(0,we),vo(st,28));var Yt=ce.slice(0,we);x(st,be);var sr=st.read_shift(4,"i");if(be===3&&sr!==0)throw new Error("# Directory Sectors: Expected 0 saw "+sr);st.l+=4,Xe=st.read_shift(4,"i"),st.l+=4,st.chk("00100000","Mini Stream Cutoff Size: "),mt=st.read_shift(4,"i"),je=st.read_shift(4,"i"),nt=st.read_shift(4,"i"),Me=st.read_shift(4,"i");for(var $t=-1,Ht=0;Ht<109&&($t=st.read_shift(4,"i"),!($t<0));++Ht)tt[Ht]=$t;var Pr=f(ce,we);_(nt,Me,Pr,we,tt);var hs=S(Pr,Xe,tt,we);hs[Xe].name="!Directory",je>0&&mt!==W&&(hs[mt].name="!MiniFAT"),hs[tt[0]].name="!FAT",hs.fat_addrs=tt,hs.ssz=we;var ts={},Rs=[],Gr=[],Es=[];M(Xe,hs,Pr,Rs,je,ts,Gr,mt),y(Gr,Es,Rs),Rs.shift();var Ua={FileIndex:Gr,FullPaths:Es};return Ce&&Ce.raw&&(Ua.raw={header:Yt,sectors:Pr}),Ua}function p(ce){if(ce[ce.l]==80&&ce[ce.l+1]==75)return[0,0];ce.chk(Z,"Header Signature: "),ce.l+=16;var Ce=ce.read_shift(2,"u");return[ce.read_shift(2,"u"),Ce]}function x(ce,Ce){var be=9;switch(ce.l+=2,be=ce.read_shift(2)){case 9:if(Ce!=3)throw new Error("Sector Shift: Expected 9 saw "+be);break;case 12:if(Ce!=4)throw new Error("Sector Shift: Expected 12 saw "+be);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+be)}ce.chk("0600","Mini Sector Shift: "),ce.chk("000000000000","Reserved: ")}function f(ce,Ce){for(var be=Math.ceil(ce.length/Ce)-1,we=[],je=1;je<be;++je)we[je-1]=ce.slice(je*Ce,(je+1)*Ce);return we[be-1]=ce.slice(be*Ce),we}function y(ce,Ce,be){for(var we=0,je=0,Me=0,Xe=0,mt=0,nt=be.length,tt=[],st=[];we<nt;++we)tt[we]=st[we]=we,Ce[we]=be[we];for(;mt<st.length;++mt)we=st[mt],je=ce[we].L,Me=ce[we].R,Xe=ce[we].C,tt[we]===we&&(je!==-1&&tt[je]!==je&&(tt[we]=tt[je]),Me!==-1&&tt[Me]!==Me&&(tt[we]=tt[Me])),Xe!==-1&&(tt[Xe]=we),je!==-1&&we!=tt[we]&&(tt[je]=tt[we],st.lastIndexOf(je)<mt&&st.push(je)),Me!==-1&&we!=tt[we]&&(tt[Me]=tt[we],st.lastIndexOf(Me)<mt&&st.push(Me));for(we=1;we<nt;++we)tt[we]===we&&(Me!==-1&&tt[Me]!==Me?tt[we]=tt[Me]:je!==-1&&tt[je]!==je&&(tt[we]=tt[je]));for(we=1;we<nt;++we)if(ce[we].type!==0){if(mt=we,mt!=tt[mt])do mt=tt[mt],Ce[we]=Ce[mt]+"/"+Ce[we];while(mt!==0&&tt[mt]!==-1&&mt!=tt[mt]);tt[we]=-1}for(Ce[0]+="/",we=1;we<nt;++we)ce[we].type!==2&&(Ce[we]+="/")}function v(ce,Ce,be){for(var we=ce.start,je=ce.size,Me=[],Xe=we;be&&je>0&&Xe>=0;)Me.push(Ce.slice(Xe*I,Xe*I+I)),je-=I,Xe=_f(be,Xe*4);return Me.length===0?Tt(0):Ji(Me).slice(0,ce.size)}function _(ce,Ce,be,we,je){var Me=W;if(ce===W){if(Ce!==0)throw new Error("DIFAT chain shorter than expected")}else if(ce!==-1){var Xe=be[ce],mt=(we>>>2)-1;if(!Xe)return;for(var nt=0;nt<mt&&(Me=_f(Xe,nt*4))!==W;++nt)je.push(Me);_(_f(Xe,we-4),Ce-1,be,we,je)}}function k(ce,Ce,be,we,je){var Me=[],Xe=[];je||(je=[]);var mt=we-1,nt=0,tt=0;for(nt=Ce;nt>=0;){je[nt]=!0,Me[Me.length]=nt,Xe.push(ce[nt]);var st=be[Math.floor(nt*4/we)];if(tt=nt*4&mt,we<4+tt)throw new Error("FAT boundary crossed: "+nt+" 4 "+we);if(!ce[st])break;nt=_f(ce[st],tt)}return{nodes:Me,data:Ij([Xe])}}function S(ce,Ce,be,we){var je=ce.length,Me=[],Xe=[],mt=[],nt=[],tt=we-1,st=0,Rt=0,Yt=0,sr=0;for(st=0;st<je;++st)if(mt=[],Yt=st+Ce,Yt>=je&&(Yt-=je),!Xe[Yt]){nt=[];var $t=[];for(Rt=Yt;Rt>=0;){$t[Rt]=!0,Xe[Rt]=!0,mt[mt.length]=Rt,nt.push(ce[Rt]);var Ht=be[Math.floor(Rt*4/we)];if(sr=Rt*4&tt,we<4+sr)throw new Error("FAT boundary crossed: "+Rt+" 4 "+we);if(!ce[Ht]||(Rt=_f(ce[Ht],sr),$t[Rt]))break}Me[Yt]={nodes:mt,data:Ij([nt])}}return Me}function M(ce,Ce,be,we,je,Me,Xe,mt){for(var nt=0,tt=we.length?2:0,st=Ce[ce].data,Rt=0,Yt=0,sr;Rt<st.length;Rt+=128){var $t=st.slice(Rt,Rt+128);vo($t,64),Yt=$t.read_shift(2),sr=T5($t,0,Yt-tt),we.push(sr);var Ht={name:sr,type:$t.read_shift(1),color:$t.read_shift(1),L:$t.read_shift(4,"i"),R:$t.read_shift(4,"i"),C:$t.read_shift(4,"i"),clsid:$t.read_shift(16),state:$t.read_shift(4,"i"),start:0,size:0},Pr=$t.read_shift(2)+$t.read_shift(2)+$t.read_shift(2)+$t.read_shift(2);Pr!==0&&(Ht.ct=T($t,$t.l-8));var hs=$t.read_shift(2)+$t.read_shift(2)+$t.read_shift(2)+$t.read_shift(2);hs!==0&&(Ht.mt=T($t,$t.l-8)),Ht.start=$t.read_shift(4,"i"),Ht.size=$t.read_shift(4,"i"),Ht.size<0&&Ht.start<0&&(Ht.size=Ht.type=0,Ht.start=W,Ht.name=""),Ht.type===5?(nt=Ht.start,je>0&&nt!==W&&(Ce[nt].name="!StreamData")):Ht.size>=4096?(Ht.storage="fat",Ce[Ht.start]===void 0&&(Ce[Ht.start]=k(be,Ht.start,Ce.fat_addrs,Ce.ssz)),Ce[Ht.start].name=Ht.name,Ht.content=Ce[Ht.start].data.slice(0,Ht.size)):(Ht.storage="minifat",Ht.size<0?Ht.size=0:nt!==W&&Ht.start!==W&&Ce[nt]&&(Ht.content=v(Ht,Ce[nt].data,(Ce[mt]||{}).data))),Ht.content&&vo(Ht.content,0),Me[sr]=Ht,Xe.push(Ht)}}function T(ce,Ce){return new Date((Sc(ce,Ce+4)/1e7*Math.pow(2,32)+Sc(ce,Ce)/1e7-11644473600)*1e3)}function O(ce,Ce){return d(),u(c.readFileSync(ce),Ce)}function A(ce,Ce){var be=Ce&&Ce.type;switch(be||_s&&Buffer.isBuffer(ce)&&(be="buffer"),be||"base64"){case"file":return O(ce,Ce);case"base64":return u(Ec(Pc(ce)),Ce);case"binary":return u(Ec(ce),Ce)}return u(ce,Ce)}function C(ce,Ce){var be=Ce||{},we=be.root||"Root Entry";if(ce.FullPaths||(ce.FullPaths=[]),ce.FileIndex||(ce.FileIndex=[]),ce.FullPaths.length!==ce.FileIndex.length)throw new Error("inconsistent CFB structure");ce.FullPaths.length===0&&(ce.FullPaths[0]=we+"/",ce.FileIndex[0]={name:we,type:5}),be.CLSID&&(ce.FileIndex[0].clsid=be.CLSID),N(ce)}function N(ce){var Ce="Sh33tJ5";if(!Rr.find(ce,"/"+Ce)){var be=Tt(4);be[0]=55,be[1]=be[3]=50,be[2]=54,ce.FileIndex.push({name:Ce,type:2,content:be,size:4,L:69,R:69,C:69}),ce.FullPaths.push(ce.FullPaths[0]+Ce),E(ce)}}function E(ce,Ce){C(ce);for(var be=!1,we=!1,je=ce.FullPaths.length-1;je>=0;--je){var Me=ce.FileIndex[je];switch(Me.type){case 0:we?be=!0:(ce.FileIndex.pop(),ce.FullPaths.pop());break;case 1:case 2:case 5:we=!0,isNaN(Me.R*Me.L*Me.C)&&(be=!0),Me.R>-1&&Me.L>-1&&Me.R==Me.L&&(be=!0);break;default:be=!0;break}}if(!(!be&&!Ce)){var Xe=new Date(1987,1,19),mt=0,nt=Object.create?Object.create(null):{},tt=[];for(je=0;je<ce.FullPaths.length;++je)nt[ce.FullPaths[je]]=!0,ce.FileIndex[je].type!==0&&tt.push([ce.FullPaths[je],ce.FileIndex[je]]);for(je=0;je<tt.length;++je){var st=s(tt[je][0]);we=nt[st],we||(tt.push([st,{name:a(st).replace("/",""),type:1,clsid:te,ct:Xe,mt:Xe,content:null}]),nt[st]=!0)}for(tt.sort(function(sr,$t){return r(sr[0],$t[0])}),ce.FullPaths=[],ce.FileIndex=[],je=0;je<tt.length;++je)ce.FullPaths[je]=tt[je][0],ce.FileIndex[je]=tt[je][1];for(je=0;je<tt.length;++je){var Rt=ce.FileIndex[je],Yt=ce.FullPaths[je];if(Rt.name=a(Yt).replace("/",""),Rt.L=Rt.R=Rt.C=-(Rt.color=1),Rt.size=Rt.content?Rt.content.length:0,Rt.start=0,Rt.clsid=Rt.clsid||te,je===0)Rt.C=tt.length>1?1:-1,Rt.size=0,Rt.type=5;else if(Yt.slice(-1)=="/"){for(mt=je+1;mt<tt.length&&s(ce.FullPaths[mt])!=Yt;++mt);for(Rt.C=mt>=tt.length?-1:mt,mt=je+1;mt<tt.length&&s(ce.FullPaths[mt])!=s(Yt);++mt);Rt.R=mt>=tt.length?-1:mt,Rt.type=1}else s(ce.FullPaths[je+1]||"")==s(Yt)&&(Rt.R=je+1),Rt.type=2}}}function z(ce,Ce){var be=Ce||{};if(be.fileType=="mad")return et(ce,be);switch(E(ce),be.fileType){case"zip":return us(ce,be)}var we=(function(sr){for(var $t=0,Ht=0,Pr=0;Pr<sr.FileIndex.length;++Pr){var hs=sr.FileIndex[Pr];if(hs.content){var ts=hs.content.length;ts>0&&(ts<4096?$t+=ts+63>>6:Ht+=ts+511>>9)}}for(var Rs=sr.FullPaths.length+3>>2,Gr=$t+7>>3,Es=$t+127>>7,Ua=Gr+Ht+Rs+Es,Os=Ua+127>>7,Ts=Os<=109?0:Math.ceil((Os-109)/127);Ua+Os+Ts+127>>7>Os;)Ts=++Os<=109?0:Math.ceil((Os-109)/127);var vr=[1,Ts,Os,Es,Rs,Ht,$t,0];return sr.FileIndex[0].size=$t<<6,vr[7]=(sr.FileIndex[0].start=vr[0]+vr[1]+vr[2]+vr[3]+vr[4]+vr[5])+(vr[6]+7>>3),vr})(ce),je=Tt(we[7]<<9),Me=0,Xe=0;{for(Me=0;Me<8;++Me)je.write_shift(1,Y[Me]);for(Me=0;Me<8;++Me)je.write_shift(2,0);for(je.write_shift(2,62),je.write_shift(2,3),je.write_shift(2,65534),je.write_shift(2,9),je.write_shift(2,6),Me=0;Me<3;++Me)je.write_shift(2,0);for(je.write_shift(4,0),je.write_shift(4,we[2]),je.write_shift(4,we[0]+we[1]+we[2]+we[3]-1),je.write_shift(4,0),je.write_shift(4,4096),je.write_shift(4,we[3]?we[0]+we[1]+we[2]-1:W),je.write_shift(4,we[3]),je.write_shift(-4,we[1]?we[0]-1:W),je.write_shift(4,we[1]),Me=0;Me<109;++Me)je.write_shift(-4,Me<we[2]?we[1]+Me:-1)}if(we[1])for(Xe=0;Xe<we[1];++Xe){for(;Me<236+Xe*127;++Me)je.write_shift(-4,Me<we[2]?we[1]+Me:-1);je.write_shift(-4,Xe===we[1]-1?W:Xe+1)}var mt=function(sr){for(Xe+=sr;Me<Xe-1;++Me)je.write_shift(-4,Me+1);sr&&(++Me,je.write_shift(-4,W))};for(Xe=Me=0,Xe+=we[1];Me<Xe;++Me)je.write_shift(-4,ie.DIFSECT);for(Xe+=we[2];Me<Xe;++Me)je.write_shift(-4,ie.FATSECT);mt(we[3]),mt(we[4]);for(var nt=0,tt=0,st=ce.FileIndex[0];nt<ce.FileIndex.length;++nt)st=ce.FileIndex[nt],st.content&&(tt=st.content.length,!(tt<4096)&&(st.start=Xe,mt(tt+511>>9)));for(mt(we[6]+7>>3);je.l&511;)je.write_shift(-4,ie.ENDOFCHAIN);for(Xe=Me=0,nt=0;nt<ce.FileIndex.length;++nt)st=ce.FileIndex[nt],st.content&&(tt=st.content.length,!(!tt||tt>=4096)&&(st.start=Xe,mt(tt+63>>6)));for(;je.l&511;)je.write_shift(-4,ie.ENDOFCHAIN);for(Me=0;Me<we[4]<<2;++Me){var Rt=ce.FullPaths[Me];if(!Rt||Rt.length===0){for(nt=0;nt<17;++nt)je.write_shift(4,0);for(nt=0;nt<3;++nt)je.write_shift(4,-1);for(nt=0;nt<12;++nt)je.write_shift(4,0);continue}st=ce.FileIndex[Me],Me===0&&(st.start=st.size?st.start-1:W);var Yt=Me===0&&be.root||st.name;if(tt=2*(Yt.length+1),je.write_shift(64,Yt,"utf16le"),je.write_shift(2,tt),je.write_shift(1,st.type),je.write_shift(1,st.color),je.write_shift(-4,st.L),je.write_shift(-4,st.R),je.write_shift(-4,st.C),st.clsid)je.write_shift(16,st.clsid,"hex");else for(nt=0;nt<4;++nt)je.write_shift(4,0);je.write_shift(4,st.state||0),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(4,st.start),je.write_shift(4,st.size),je.write_shift(4,0)}for(Me=1;Me<ce.FileIndex.length;++Me)if(st=ce.FileIndex[Me],st.size>=4096)if(je.l=st.start+1<<9,_s&&Buffer.isBuffer(st.content))st.content.copy(je,je.l,0,st.size),je.l+=st.size+511&-512;else{for(nt=0;nt<st.size;++nt)je.write_shift(1,st.content[nt]);for(;nt&511;++nt)je.write_shift(1,0)}for(Me=1;Me<ce.FileIndex.length;++Me)if(st=ce.FileIndex[Me],st.size>0&&st.size<4096)if(_s&&Buffer.isBuffer(st.content))st.content.copy(je,je.l,0,st.size),je.l+=st.size+63&-64;else{for(nt=0;nt<st.size;++nt)je.write_shift(1,st.content[nt]);for(;nt&63;++nt)je.write_shift(1,0)}if(_s)je.l=je.length;else for(;je.l<je.length;)je.write_shift(1,0);return je}function P(ce,Ce){var be=ce.FullPaths.map(function(nt){return nt.toUpperCase()}),we=be.map(function(nt){var tt=nt.split("/");return tt[tt.length-(nt.slice(-1)=="/"?2:1)]}),je=!1;Ce.charCodeAt(0)===47?(je=!0,Ce=be[0].slice(0,-1)+Ce):je=Ce.indexOf("/")!==-1;var Me=Ce.toUpperCase(),Xe=je===!0?be.indexOf(Me):we.indexOf(Me);if(Xe!==-1)return ce.FileIndex[Xe];var mt=!Me.match(F1);for(Me=Me.replace(wl,""),mt&&(Me=Me.replace(F1,"!")),Xe=0;Xe<be.length;++Xe)if((mt?be[Xe].replace(F1,"!"):be[Xe]).replace(wl,"")==Me||(mt?we[Xe].replace(F1,"!"):we[Xe]).replace(wl,"")==Me)return ce.FileIndex[Xe];return null}var I=64,W=-2,Z="d0cf11e0a1b11ae1",Y=[208,207,17,224,161,177,26,225],te="00000000000000000000000000000000",ie={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:W,FREESECT:-1,HEADER_SIGNATURE:Z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:te,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function le(ce,Ce,be){d();var we=z(ce,be);c.writeFileSync(Ce,we)}function se(ce){for(var Ce=new Array(ce.length),be=0;be<ce.length;++be)Ce[be]=String.fromCharCode(ce[be]);return Ce.join("")}function oe(ce,Ce){var be=z(ce,Ce);switch(Ce&&Ce.type||"buffer"){case"file":return d(),c.writeFileSync(Ce.filename,be),be;case"binary":return typeof be=="string"?be:se(be);case"base64":return Mx(typeof be=="string"?be:se(be));case"buffer":if(_s)return Buffer.isBuffer(be)?be:Ou(be);case"array":return typeof be=="string"?Ec(be):be}return be}var ee;function B(ce){try{var Ce=ce.InflateRaw,be=new Ce;if(be._processChunk(new Uint8Array([3,0]),be._finishFlushFlag),be.bytesRead)ee=ce;else throw new Error("zlib does not expose bytesRead")}catch(we){console.error("cannot use native zlib: "+(we.message||we))}}function q(ce,Ce){if(!ee)return zr(ce,Ce);var be=ee.InflateRaw,we=new be,je=we._processChunk(ce.slice(ce.l),we._finishFlushFlag);return ce.l+=we.bytesRead,je}function Q(ce){return ee?ee.deflateRawSync(ce):Et(ce)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ge=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function he(ce){var Ce=(ce<<1|ce<<11)&139536|(ce<<5|ce<<15)&558144;return(Ce>>16|Ce>>8|Ce)&255}for(var ke=typeof Uint8Array<"u",Ae=ke?new Uint8Array(256):[],We=0;We<256;++We)Ae[We]=he(We);function fe(ce,Ce){var be=Ae[ce&255];return Ce<=8?be>>>8-Ce:(be=be<<8|Ae[ce>>8&255],Ce<=16?be>>>16-Ce:(be=be<<8|Ae[ce>>16&255],be>>>24-Ce))}function ht(ce,Ce){var be=Ce&7,we=Ce>>>3;return(ce[we]|(be<=6?0:ce[we+1]<<8))>>>be&3}function De(ce,Ce){var be=Ce&7,we=Ce>>>3;return(ce[we]|(be<=5?0:ce[we+1]<<8))>>>be&7}function Ee(ce,Ce){var be=Ce&7,we=Ce>>>3;return(ce[we]|(be<=4?0:ce[we+1]<<8))>>>be&15}function Ue(ce,Ce){var be=Ce&7,we=Ce>>>3;return(ce[we]|(be<=3?0:ce[we+1]<<8))>>>be&31}function rt(ce,Ce){var be=Ce&7,we=Ce>>>3;return(ce[we]|(be<=1?0:ce[we+1]<<8))>>>be&127}function ft(ce,Ce,be){var we=Ce&7,je=Ce>>>3,Me=(1<<be)-1,Xe=ce[je]>>>we;return be<8-we||(Xe|=ce[je+1]<<8-we,be<16-we)||(Xe|=ce[je+2]<<16-we,be<24-we)||(Xe|=ce[je+3]<<24-we),Xe&Me}function Re(ce,Ce,be){var we=Ce&7,je=Ce>>>3;return we<=5?ce[je]|=(be&7)<<we:(ce[je]|=be<<we&255,ce[je+1]=(be&7)>>8-we),Ce+3}function pe(ce,Ce,be){var we=Ce&7,je=Ce>>>3;return be=(be&1)<<we,ce[je]|=be,Ce+1}function Le(ce,Ce,be){var we=Ce&7,je=Ce>>>3;return be<<=we,ce[je]|=be&255,be>>>=8,ce[je+1]=be,Ce+8}function He(ce,Ce,be){var we=Ce&7,je=Ce>>>3;return be<<=we,ce[je]|=be&255,be>>>=8,ce[je+1]=be&255,ce[je+2]=be>>>8,Ce+16}function ve(ce,Ce){var be=ce.length,we=2*be>Ce?2*be:Ce+5,je=0;if(be>=Ce)return ce;if(_s){var Me=gj(we);if(ce.copy)ce.copy(Me);else for(;je<ce.length;++je)Me[je]=ce[je];return Me}else if(ke){var Xe=new Uint8Array(we);if(Xe.set)Xe.set(ce);else for(;je<be;++je)Xe[je]=ce[je];return Xe}return ce.length=we,ce}function Ne(ce){for(var Ce=new Array(ce),be=0;be<ce;++be)Ce[be]=0;return Ce}function ze(ce,Ce,be){var we=1,je=0,Me=0,Xe=0,mt=0,nt=ce.length,tt=ke?new Uint16Array(32):Ne(32);for(Me=0;Me<32;++Me)tt[Me]=0;for(Me=nt;Me<be;++Me)ce[Me]=0;nt=ce.length;var st=ke?new Uint16Array(nt):Ne(nt);for(Me=0;Me<nt;++Me)tt[je=ce[Me]]++,we<je&&(we=je),st[Me]=0;for(tt[0]=0,Me=1;Me<=we;++Me)tt[Me+16]=mt=mt+tt[Me-1]<<1;for(Me=0;Me<nt;++Me)mt=ce[Me],mt!=0&&(st[Me]=tt[mt+16]++);var Rt=0;for(Me=0;Me<nt;++Me)if(Rt=ce[Me],Rt!=0)for(mt=fe(st[Me],we)>>we-Rt,Xe=(1<<we+4-Rt)-1;Xe>=0;--Xe)Ce[mt|Xe<<Rt]=Rt&15|Me<<4;return we}var qe=ke?new Uint16Array(512):Ne(512),pt=ke?new Uint16Array(32):Ne(32);if(!ke){for(var xt=0;xt<512;++xt)qe[xt]=0;for(xt=0;xt<32;++xt)pt[xt]=0}(function(){for(var ce=[],Ce=0;Ce<32;Ce++)ce.push(5);ze(ce,pt,32);var be=[];for(Ce=0;Ce<=143;Ce++)be.push(8);for(;Ce<=255;Ce++)be.push(9);for(;Ce<=279;Ce++)be.push(7);for(;Ce<=287;Ce++)be.push(8);ze(be,qe,288)})();var Ft=(function(){for(var Ce=ke?new Uint8Array(32768):[],be=0,we=0;be<ge.length-1;++be)for(;we<ge[be+1];++we)Ce[we]=be;for(;we<32768;++we)Ce[we]=29;var je=ke?new Uint8Array(259):[];for(be=0,we=0;be<ae.length-1;++be)for(;we<ae[be+1];++we)je[we]=be;function Me(mt,nt){for(var tt=0;tt<mt.length;){var st=Math.min(65535,mt.length-tt),Rt=tt+st==mt.length;for(nt.write_shift(1,+Rt),nt.write_shift(2,st),nt.write_shift(2,~st&65535);st-- >0;)nt[nt.l++]=mt[tt++]}return nt.l}function Xe(mt,nt){for(var tt=0,st=0,Rt=ke?new Uint16Array(32768):[];st<mt.length;){var Yt=Math.min(65535,mt.length-st);if(Yt<10){for(tt=Re(nt,tt,+(st+Yt==mt.length)),tt&7&&(tt+=8-(tt&7)),nt.l=tt/8|0,nt.write_shift(2,Yt),nt.write_shift(2,~Yt&65535);Yt-- >0;)nt[nt.l++]=mt[st++];tt=nt.l*8;continue}tt=Re(nt,tt,+(st+Yt==mt.length)+2);for(var sr=0;Yt-- >0;){var $t=mt[st];sr=(sr<<5^$t)&32767;var Ht=-1,Pr=0;if((Ht=Rt[sr])&&(Ht|=st&-32768,Ht>st&&(Ht-=32768),Ht<st))for(;mt[Ht+Pr]==mt[st+Pr]&&Pr<250;)++Pr;if(Pr>2){$t=je[Pr],$t<=22?tt=Le(nt,tt,Ae[$t+1]>>1)-1:(Le(nt,tt,3),tt+=5,Le(nt,tt,Ae[$t-23]>>5),tt+=3);var hs=$t<8?0:$t-4>>2;hs>0&&(He(nt,tt,Pr-ae[$t]),tt+=hs),$t=Ce[st-Ht],tt=Le(nt,tt,Ae[$t]>>3),tt-=3;var ts=$t<4?0:$t-2>>1;ts>0&&(He(nt,tt,st-Ht-ge[$t]),tt+=ts);for(var Rs=0;Rs<Pr;++Rs)Rt[sr]=st&32767,sr=(sr<<5^mt[st])&32767,++st;Yt-=Pr-1}else $t<=143?$t=$t+48:tt=pe(nt,tt,1),tt=Le(nt,tt,Ae[$t]),Rt[sr]=st&32767,++st}tt=Le(nt,tt,0)-1}return nt.l=(tt+7)/8|0,nt.l}return function(nt,tt){return nt.length<8?Me(nt,tt):Xe(nt,tt)}})();function Et(ce){var Ce=Tt(50+Math.floor(ce.length*1.1)),be=Ft(ce,Ce);return Ce.slice(0,be)}var At=ke?new Uint16Array(32768):Ne(32768),ar=ke?new Uint16Array(32768):Ne(32768),er=ke?new Uint16Array(128):Ne(128),Qt=1,Lt=1;function rs(ce,Ce){var be=Ue(ce,Ce)+257;Ce+=5;var we=Ue(ce,Ce)+1;Ce+=5;var je=Ee(ce,Ce)+4;Ce+=4;for(var Me=0,Xe=ke?new Uint8Array(19):Ne(19),mt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],nt=1,tt=ke?new Uint8Array(8):Ne(8),st=ke?new Uint8Array(8):Ne(8),Rt=Xe.length,Yt=0;Yt<je;++Yt)Xe[K[Yt]]=Me=De(ce,Ce),nt<Me&&(nt=Me),tt[Me]++,Ce+=3;var sr=0;for(tt[0]=0,Yt=1;Yt<=nt;++Yt)st[Yt]=sr=sr+tt[Yt-1]<<1;for(Yt=0;Yt<Rt;++Yt)(sr=Xe[Yt])!=0&&(mt[Yt]=st[sr]++);var $t=0;for(Yt=0;Yt<Rt;++Yt)if($t=Xe[Yt],$t!=0){sr=Ae[mt[Yt]]>>8-$t;for(var Ht=(1<<7-$t)-1;Ht>=0;--Ht)er[sr|Ht<<$t]=$t&7|Yt<<3}var Pr=[];for(nt=1;Pr.length<be+we;)switch(sr=er[rt(ce,Ce)],Ce+=sr&7,sr>>>=3){case 16:for(Me=3+ht(ce,Ce),Ce+=2,sr=Pr[Pr.length-1];Me-- >0;)Pr.push(sr);break;case 17:for(Me=3+De(ce,Ce),Ce+=3;Me-- >0;)Pr.push(0);break;case 18:for(Me=11+rt(ce,Ce),Ce+=7;Me-- >0;)Pr.push(0);break;default:Pr.push(sr),nt<sr&&(nt=sr);break}var hs=Pr.slice(0,be),ts=Pr.slice(be);for(Yt=be;Yt<286;++Yt)hs[Yt]=0;for(Yt=we;Yt<30;++Yt)ts[Yt]=0;return Qt=ze(hs,At,286),Lt=ze(ts,ar,30),Ce}function gr(ce,Ce){if(ce[0]==3&&!(ce[1]&3))return[Dh(Ce),2];for(var be=0,we=0,je=gj(Ce||1<<18),Me=0,Xe=je.length>>>0,mt=0,nt=0;(we&1)==0;){if(we=De(ce,be),be+=3,we>>>1)we>>1==1?(mt=9,nt=5):(be=rs(ce,be),mt=Qt,nt=Lt);else{be&7&&(be+=8-(be&7));var tt=ce[be>>>3]|ce[(be>>>3)+1]<<8;if(be+=32,tt>0)for(!Ce&&Xe<Me+tt&&(je=ve(je,Me+tt),Xe=je.length);tt-- >0;)je[Me++]=ce[be>>>3],be+=8;continue}for(;;){!Ce&&Xe<Me+32767&&(je=ve(je,Me+32767),Xe=je.length);var st=ft(ce,be,mt),Rt=we>>>1==1?qe[st]:At[st];if(be+=Rt&15,Rt>>>=4,(Rt>>>8&255)===0)je[Me++]=Rt;else{if(Rt==256)break;Rt-=257;var Yt=Rt<8?0:Rt-4>>2;Yt>5&&(Yt=0);var sr=Me+ae[Rt];Yt>0&&(sr+=ft(ce,be,Yt),be+=Yt),st=ft(ce,be,nt),Rt=we>>>1==1?pt[st]:ar[st],be+=Rt&15,Rt>>>=4;var $t=Rt<4?0:Rt-2>>1,Ht=ge[Rt];for($t>0&&(Ht+=ft(ce,be,$t),be+=$t),!Ce&&Xe<sr&&(je=ve(je,sr+100),Xe=je.length);Me<sr;)je[Me]=je[Me-Ht],++Me}}}return Ce?[je,be+7>>>3]:[je.slice(0,Me),be+7>>>3]}function zr(ce,Ce){var be=ce.slice(ce.l||0),we=gr(be,Ce);return ce.l+=we[1],we[0]}function Ir(ce,Ce){if(ce)typeof console<"u"&&console.error(Ce);else throw new Error(Ce)}function Ds(ce,Ce){var be=ce;vo(be,0);var we=[],je=[],Me={FileIndex:we,FullPaths:je};C(Me,{root:Ce.root});for(var Xe=be.length-4;(be[Xe]!=80||be[Xe+1]!=75||be[Xe+2]!=5||be[Xe+3]!=6)&&Xe>=0;)--Xe;be.l=Xe+4,be.l+=4;var mt=be.read_shift(2);be.l+=6;var nt=be.read_shift(4);for(be.l=nt,Xe=0;Xe<mt;++Xe){be.l+=20;var tt=be.read_shift(4),st=be.read_shift(4),Rt=be.read_shift(2),Yt=be.read_shift(2),sr=be.read_shift(2);be.l+=8;var $t=be.read_shift(4),Ht=l(be.slice(be.l+Rt,be.l+Rt+Yt));be.l+=Rt+Yt+sr;var Pr=be.l;be.l=$t+4,zs(be,tt,st,Me,Ht),be.l=Pr}return Me}function zs(ce,Ce,be,we,je){ce.l+=2;var Me=ce.read_shift(2),Xe=ce.read_shift(2),mt=o(ce);if(Me&8257)throw new Error("Unsupported ZIP encryption");for(var nt=ce.read_shift(4),tt=ce.read_shift(4),st=ce.read_shift(4),Rt=ce.read_shift(2),Yt=ce.read_shift(2),sr="",$t=0;$t<Rt;++$t)sr+=String.fromCharCode(ce[ce.l++]);if(Yt){var Ht=l(ce.slice(ce.l,ce.l+Yt));(Ht[21589]||{}).mt&&(mt=Ht[21589].mt),((je||{})[21589]||{}).mt&&(mt=je[21589].mt)}ce.l+=Yt;var Pr=ce.slice(ce.l,ce.l+tt);switch(Xe){case 8:Pr=q(ce,st);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Xe)}var hs=!1;Me&8&&(nt=ce.read_shift(4),nt==134695760&&(nt=ce.read_shift(4),hs=!0),tt=ce.read_shift(4),st=ce.read_shift(4)),tt!=Ce&&Ir(hs,"Bad compressed size: "+Ce+" != "+tt),st!=be&&Ir(hs,"Bad uncompressed size: "+be+" != "+st),Dt(we,sr,Pr,{unsafe:!0,mt})}function us(ce,Ce){var be=Ce||{},we=[],je=[],Me=Tt(1),Xe=be.compression?8:0,mt=0,nt=0,tt=0,st=0,Rt=0,Yt=ce.FullPaths[0],sr=Yt,$t=ce.FileIndex[0],Ht=[],Pr=0;for(nt=1;nt<ce.FullPaths.length;++nt)if(sr=ce.FullPaths[nt].slice(Yt.length),$t=ce.FileIndex[nt],!(!$t.size||!$t.content||sr=="Sh33tJ5")){var hs=st,ts=Tt(sr.length);for(tt=0;tt<sr.length;++tt)ts.write_shift(1,sr.charCodeAt(tt)&127);ts=ts.slice(0,ts.l),Ht[Rt]=aq.buf($t.content,0);var Rs=$t.content;Xe==8&&(Rs=Q(Rs)),Me=Tt(30),Me.write_shift(4,67324752),Me.write_shift(2,20),Me.write_shift(2,mt),Me.write_shift(2,Xe),$t.mt?i(Me,$t.mt):Me.write_shift(4,0),Me.write_shift(-4,Ht[Rt]),Me.write_shift(4,Rs.length),Me.write_shift(4,$t.content.length),Me.write_shift(2,ts.length),Me.write_shift(2,0),st+=Me.length,we.push(Me),st+=ts.length,we.push(ts),st+=Rs.length,we.push(Rs),Me=Tt(46),Me.write_shift(4,33639248),Me.write_shift(2,0),Me.write_shift(2,20),Me.write_shift(2,mt),Me.write_shift(2,Xe),Me.write_shift(4,0),Me.write_shift(-4,Ht[Rt]),Me.write_shift(4,Rs.length),Me.write_shift(4,$t.content.length),Me.write_shift(2,ts.length),Me.write_shift(2,0),Me.write_shift(2,0),Me.write_shift(2,0),Me.write_shift(2,0),Me.write_shift(4,0),Me.write_shift(4,hs),Pr+=Me.l,je.push(Me),Pr+=ts.length,je.push(ts),++Rt}return Me=Tt(22),Me.write_shift(4,101010256),Me.write_shift(2,0),Me.write_shift(2,0),Me.write_shift(2,Rt),Me.write_shift(2,Rt),Me.write_shift(4,Pr),Me.write_shift(4,st),Me.write_shift(2,0),Ji([Ji(we),Ji(je),Me])}var Fr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function gs(ce,Ce){if(ce.ctype)return ce.ctype;var be=ce.name||"",we=be.match(/\.([^\.]+)$/);return we&&Fr[we[1]]||Ce&&(we=(be=Ce).match(/[\.\\]([^\.\\])+$/),we&&Fr[we[1]])?Fr[we[1]]:"application/octet-stream"}function Ni(ce){for(var Ce=Mx(ce),be=[],we=0;we<Ce.length;we+=76)be.push(Ce.slice(we,we+76));return be.join(`\r
`)+`\r
`}function ka(ce){var Ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(tt){var st=tt.charCodeAt(0).toString(16).toUpperCase();return"="+(st.length==1?"0"+st:st)});Ce=Ce.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ce.charAt(0)==`
`&&(Ce="=0D"+Ce.slice(1)),Ce=Ce.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var be=[],we=Ce.split(`\r
`),je=0;je<we.length;++je){var Me=we[je];if(Me.length==0){be.push("");continue}for(var Xe=0;Xe<Me.length;){var mt=76,nt=Me.slice(Xe,Xe+mt);nt.charAt(mt-1)=="="?mt--:nt.charAt(mt-2)=="="?mt-=2:nt.charAt(mt-3)=="="&&(mt-=3),nt=Me.slice(Xe,Xe+mt),Xe+=mt,Xe<Me.length&&(nt+="="),be.push(nt)}}return be.join(`\r
`)}function Oi(ce){for(var Ce=[],be=0;be<ce.length;++be){for(var we=ce[be];be<=ce.length&&we.charAt(we.length-1)=="=";)we=we.slice(0,we.length-1)+ce[++be];Ce.push(we)}for(var je=0;je<Ce.length;++je)Ce[je]=Ce[je].replace(/[=][0-9A-Fa-f]{2}/g,function(Me){return String.fromCharCode(parseInt(Me.slice(1),16))});return Ec(Ce.join(`\r
`))}function ni(ce,Ce,be){for(var we="",je="",Me="",Xe,mt=0;mt<10;++mt){var nt=Ce[mt];if(!nt||nt.match(/^\s*$/))break;var tt=nt.match(/^(.*?):\s*([^\s].*)$/);if(tt)switch(tt[1].toLowerCase()){case"content-location":we=tt[2].trim();break;case"content-type":Me=tt[2].trim();break;case"content-transfer-encoding":je=tt[2].trim();break}}switch(++mt,je.toLowerCase()){case"base64":Xe=Ec(Pc(Ce.slice(mt).join("")));break;case"quoted-printable":Xe=Oi(Ce.slice(mt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+je)}var st=Dt(ce,we.slice(be.length),Xe,{unsafe:!0});Me&&(st.ctype=Me)}function Oe(ce,Ce){if(se(ce.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var be=Ce&&Ce.root||"",we=(_s&&Buffer.isBuffer(ce)?ce.toString("binary"):se(ce)).split(`\r
`),je=0,Me="";for(je=0;je<we.length;++je)if(Me=we[je],!!/^Content-Location:/i.test(Me)&&(Me=Me.slice(Me.indexOf("file")),be||(be=Me.slice(0,Me.lastIndexOf("/")+1)),Me.slice(0,be.length)!=be))for(;be.length>0&&(be=be.slice(0,be.length-1),be=be.slice(0,be.lastIndexOf("/")+1),Me.slice(0,be.length)!=be););var Xe=(we[1]||"").match(/boundary="(.*?)"/);if(!Xe)throw new Error("MAD cannot find boundary");var mt="--"+(Xe[1]||""),nt=[],tt=[],st={FileIndex:nt,FullPaths:tt};C(st);var Rt,Yt=0;for(je=0;je<we.length;++je){var sr=we[je];sr!==mt&&sr!==mt+"--"||(Yt++&&ni(st,we.slice(Rt,je),be),Rt=je)}return st}function et(ce,Ce){var be=Ce||{},we=be.boundary||"SheetJS";we="------="+we;for(var je=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+we.slice(2)+'"',"","",""],Me=ce.FullPaths[0],Xe=Me,mt=ce.FileIndex[0],nt=1;nt<ce.FullPaths.length;++nt)if(Xe=ce.FullPaths[nt].slice(Me.length),mt=ce.FileIndex[nt],!(!mt.size||!mt.content||Xe=="Sh33tJ5")){Xe=Xe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Pr){return"_x"+Pr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Pr){return"_u"+Pr.charCodeAt(0).toString(16)+"_"});for(var tt=mt.content,st=_s&&Buffer.isBuffer(tt)?tt.toString("binary"):se(tt),Rt=0,Yt=Math.min(1024,st.length),sr=0,$t=0;$t<=Yt;++$t)(sr=st.charCodeAt($t))>=32&&sr<128&&++Rt;var Ht=Rt>=Yt*4/5;je.push(we),je.push("Content-Location: "+(be.root||"file:///C:/SheetJS/")+Xe),je.push("Content-Transfer-Encoding: "+(Ht?"quoted-printable":"base64")),je.push("Content-Type: "+gs(mt,Xe)),je.push(""),je.push(Ht?ka(st):Ni(st))}return je.push(we+`--\r
`),je.join(`\r
`)}function gt(ce){var Ce={};return C(Ce,ce),Ce}function Dt(ce,Ce,be,we){var je=we&&we.unsafe;je||C(ce);var Me=!je&&Rr.find(ce,Ce);if(!Me){var Xe=ce.FullPaths[0];Ce.slice(0,Xe.length)==Xe?Xe=Ce:(Xe.slice(-1)!="/"&&(Xe+="/"),Xe=(Xe+Ce).replace("//","/")),Me={name:a(Ce),type:2},ce.FileIndex.push(Me),ce.FullPaths.push(Xe),je||Rr.utils.cfb_gc(ce)}return Me.content=be,Me.size=be?be.length:0,we&&(we.CLSID&&(Me.clsid=we.CLSID),we.mt&&(Me.mt=we.mt),we.ct&&(Me.ct=we.ct)),Me}function Xt(ce,Ce){C(ce);var be=Rr.find(ce,Ce);if(be){for(var we=0;we<ce.FileIndex.length;++we)if(ce.FileIndex[we]==be)return ce.FileIndex.splice(we,1),ce.FullPaths.splice(we,1),!0}return!1}function Kt(ce,Ce,be){C(ce);var we=Rr.find(ce,Ce);if(we){for(var je=0;je<ce.FileIndex.length;++je)if(ce.FileIndex[je]==we)return ce.FileIndex[je].name=a(be),ce.FullPaths[je]=be,!0}return!1}function Nt(ce){E(ce,!0)}return t.find=P,t.read=A,t.parse=u,t.write=oe,t.writeFile=le,t.utils={cfb_new:gt,cfb_add:Dt,cfb_del:Xt,cfb_mov:Kt,cfb_gc:Nt,ReadShift:Y1,CheckField:fT,prep_blob:vo,bconcat:Ji,use_zlib:B,_deflateRaw:Et,_inflateRaw:zr,consts:ie},t})();function nq(e){return typeof e=="string"?Yy(e):Array.isArray(e)?MG(e):e}function mg(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Yy(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var s=r=="utf8"?O0(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(s,e);if(typeof Blob<"u"){var a=new Blob([nq(s)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Gh(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function iq(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(s){if(!s.message||!s.message.match(/onstruct/))throw s}throw new Error("Cannot access file "+e)}function Bn(e){for(var t=Object.keys(e),r=[],s=0;s<t.length;++s)Object.prototype.hasOwnProperty.call(e,t[s])&&r.push(t[s]);return r}function jj(e,t){for(var r=[],s=Bn(e),a=0;a!==s.length;++a)r[e[s[a]][t]]==null&&(r[e[s[a]][t]]=s[a]);return r}function Xy(e){for(var t=[],r=Bn(e),s=0;s!==r.length;++s)t[e[r[s]]]=r[s];return t}function Jy(e){for(var t=[],r=Bn(e),s=0;s!==r.length;++s)t[e[r[s]]]=parseInt(r[s],10);return t}function oq(e){for(var t=[],r=Bn(e),s=0;s!==r.length;++s)t[e[r[s]]]==null&&(t[e[r[s]]]=[]),t[e[r[s]]].push(r[s]);return t}var Qv=new Date(1899,11,30,0,0,0);function Ri(e,t){var r=e.getTime(),s=Qv.getTime()+(e.getTimezoneOffset()-Qv.getTimezoneOffset())*6e4;return(r-s)/(1440*60*1e3)}var GA=new Date,lq=Qv.getTime()+(GA.getTimezoneOffset()-Qv.getTimezoneOffset())*6e4,Cj=GA.getTimezoneOffset();function Qy(e){var t=new Date;return t.setTime(e*24*60*60*1e3+lq),t.getTimezoneOffset()!==Cj&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Cj)*6e4),t}function cq(e){var t=0,r=0,s=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(s=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(s)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var Sj=new Date("2017-02-19T19:06:09.000Z"),qA=isNaN(Sj.getFullYear())?new Date("2/19/17"):Sj,dq=qA.getFullYear()==2017;function Xa(e,t){var r=new Date(e);if(dq)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(qA.getFullYear()==1917&&!isNaN(r.getFullYear())){var s=r.getFullYear();return e.indexOf(""+s)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function $f(e,t){if(_s&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return O0(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return O0(FA(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return O0(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return O0(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var s=[],a=0;a!=e.length;++a)s.push(String.fromCharCode(e[a]));return s.join("")}function Ja(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ja(e[r]));return t}function In(e,t){for(var r="";r.length<t;)r+=e;return r}function qd(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,s=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(s))||(s=s.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(s)))?t/r:t}var uq=["january","february","march","april","may","june","july","august","september","october","november","december"];function bp(e){var t=new Date(e),r=new Date(NaN),s=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&uq.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return s<0||s>8099?r:(a>0||i>1)&&s!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var hq=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,s,a){if(e||typeof s=="string")return r.split(s);for(var i=r.split(s),o=[i[0]],l=1;l<i.length;++l)o.push(a),o.push(i[l]);return o}})();function KA(e){return e?e.content&&e.type?$f(e.content,!0):e.data?P1(e.data):e.asNodeBuffer&&_s?P1(e.asNodeBuffer().toString("binary")):e.asBinary?P1(e.asBinary()):e._data&&e._data.getContent?P1($f(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function YA(e){if(!e)return null;if(e.data)return pj(e.data);if(e.asNodeBuffer&&_s)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?pj(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function fq(e){return e&&e.name.slice(-4)===".bin"?YA(e):KA(e)}function nd(e,t){for(var r=e.FullPaths||Bn(e.files),s=t.toLowerCase().replace(/[\/]/g,"\\"),a=s.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(s==o||a==o)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function k5(e,t){var r=nd(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function pi(e,t,r){if(!r)return fq(k5(e,t));if(!t)return null;try{return pi(e,t)}catch{return null}}function Ac(e,t,r){if(!r)return KA(k5(e,t));if(!t)return null;try{return Ac(e,t)}catch{return null}}function mq(e,t,r){return YA(k5(e,t))}function Ej(e){for(var t=e.FullPaths||Bn(e.files),r=[],s=0;s<t.length;++s)t[s].slice(-1)!="/"&&r.push(t[s].replace(/^Root Entry[\/]/,""));return r.sort()}function xs(e,t,r){if(e.FullPaths){if(typeof r=="string"){var s;return _s?s=Ou(r):s=LG(r),Rr.utils.cfb_add(e,t,s)}Rr.utils.cfb_add(e,t,r)}else e.file(t,r)}function j5(){return Rr.utils.cfb_new()}function ZA(e,t){switch(t.type){case"base64":return Rr.read(e,{type:"base64"});case"binary":return Rr.read(e,{type:"binary"});case"buffer":case"array":return Rr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function D1(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var s=e.split("/");s.length!==0;){var a=s.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var ai=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,pq=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Aj=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,xq=/<[^>]*>/g,sl=ai.match(Aj)?Aj:xq,gq=/<\w*:/,vq=/<(\/?)\w+:/;function Jr(e,t,r){for(var s={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(s[0]=e.slice(0,a)),a===e.length)return s;var o=e.match(pq),l=0,c="",d=0,u="",p="",x=1;if(o)for(d=0;d!=o.length;++d){for(p=o[d],i=0;i!=p.length&&p.charCodeAt(i)!==61;++i);for(u=p.slice(0,i).trim();p.charCodeAt(i+1)==32;)++i;for(x=(a=p.charCodeAt(i+1))==34||a==39?1:0,c=p.slice(i+1+x,p.length-x),l=0;l!=u.length&&u.charCodeAt(l)!==58;++l);if(l===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),s[u]=c,s[u.toLowerCase()]=c;else{var f=(l===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(l+1);if(s[f]&&u.slice(l-3,l)=="ext")continue;s[f]=c,s[f.toLowerCase()]=c}}return s}function Z0(e){return e.replace(vq,"<$1")}var XA={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},C5=Xy(XA),Gs=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(s){var a=s+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(l,c){return XA[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,o)+r(a.slice(o+3))}})(),S5=/[&<>'"]/g,yq=/[\u0000-\u0008\u000b-\u001f]/g;function Na(e){var t=e+"";return t.replace(S5,function(r){return C5[r]}).replace(yq,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Tj(e){return Na(e).replace(/ /g,"_x0020_")}var JA=/[\u0000-\u001f]/g;function E5(e){var t=e+"";return t.replace(S5,function(r){return C5[r]}).replace(/\n/g,"<br/>").replace(JA,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function bq(e){var t=e+"";return t.replace(S5,function(r){return C5[r]}).replace(JA,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var Mj=(function(){var e=/&#(\d+);/g;function t(r,s){return String.fromCharCode(parseInt(s,10))}return function(s){return s.replace(e,t)}})();function _q(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function qa(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function T_(e){for(var t="",r=0,s=0,a=0,i=0,o=0,l=0;r<e.length;){if(s=e.charCodeAt(r++),s<128){t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(r++),s>191&&s<224){o=(s&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),s<240){t+=String.fromCharCode((s&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((s&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function Lj(e){var t=Dh(2*e.length),r,s,a=1,i=0,o=0,l;for(s=0;s<e.length;s+=a)a=1,(l=e.charCodeAt(s))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(s+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(s+1)&63)*64+(e.charCodeAt(s+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(s+1)&63)*4096+(e.charCodeAt(s+2)&63)*64+(e.charCodeAt(s+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function Pj(e){return Ou(e,"binary").toString("utf8")}var A2="foo bar baz",Sa=_s&&(Pj(A2)==T_(A2)&&Pj||Lj(A2)==T_(A2)&&Lj)||T_,O0=_s?function(e){return Ou(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,s=0,a=0;r<e.length;)switch(s=e.charCodeAt(r++),!0){case s<128:t.push(String.fromCharCode(s));break;case s<2048:t.push(String.fromCharCode(192+(s>>6))),t.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,a=e.charCodeAt(r++)-56320+(s<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(s>>12))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)))}return t.join("")},Px=(function(){var e={};return function(r,s){var a=r+"|"+(s||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",s||"")}})(),QA=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var s=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)s=s.replace(e[a][0],e[a][1]);return s}})(),wq=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),Nq=/<\/?(?:vt:)?variant>/g,kq=/<(?:vt:)([^>]*)>([\s\S]*)</;function Fj(e,t){var r=Jr(e),s=e.match(wq(r.baseType))||[],a=[];if(s.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+s.length+" != "+r.size);return a}return s.forEach(function(i){var o=i.replace(Nq,"").match(kq);o&&a.push({v:Sa(o[2]),t:o[1]})}),a}var eT=/(^\s|\s$|\n)/;function yo(e,t){return"<"+e+(t.match(eT)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Fx(e){return Bn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function nr(e,t,r){return"<"+e+(r!=null?Fx(r):"")+(t!=null?(t.match(eT)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Zw(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function jq(e,t){switch(typeof e){case"string":var r=nr("vt:lpwstr",Na(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return nr((e|0)==e?"vt:i4":"vt:r8",Na(String(e)));case"boolean":return nr("vt:bool",e?"true":"false")}if(e instanceof Date)return nr("vt:filetime",Zw(e));throw new Error("Unable to serialize "+e)}function A5(e){if(_s&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Sa(Gh(_5(e)));throw new Error("Bad input format: expected Buffer or string")}var Dx=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Di={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},em=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Cc={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Cq(e,t){for(var r=1-2*(e[t+7]>>>7),s=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return s==2047?a==0?r*(1/0):NaN:(s==0?s=-1022:(s-=1023,a+=Math.pow(2,52)),r*Math.pow(2,s-52)*a)}function Sq(e,t,r){var s=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=s?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|s}var Dj=function(e){for(var t=[],r=10240,s=0;s<e[0].length;++s)if(e[0][s])for(var a=0,i=e[0][s].length;a<i;a+=r)t.push.apply(t,e[0][s].slice(a,a+r));return t},Ij=_s?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Ou(t)})):Dj(e)}:Dj,Rj=function(e,t,r){for(var s=[],a=t;a<r;a+=2)s.push(String.fromCharCode(wu(e,a)));return s.join("").replace(wl,"")},T5=_s?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(wl,""):Rj(e,t,r)}:Rj,Oj=function(e,t,r){for(var s=[],a=t;a<t+r;++a)s.push(("0"+e[a].toString(16)).slice(-2));return s.join("")},tT=_s?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):Oj(e,t,r)}:Oj,Bj=function(e,t,r){for(var s=[],a=t;a<r;a++)s.push(String.fromCharCode(Im(e,a)));return s.join("")},pg=_s?function(t,r,s){return Buffer.isBuffer(t)?t.toString("utf8",r,s):Bj(t,r,s)}:Bj,rT=function(e,t){var r=Sc(e,t);return r>0?pg(e,t+4,t+4+r-1):""},sT=rT,aT=function(e,t){var r=Sc(e,t);return r>0?pg(e,t+4,t+4+r-1):""},nT=aT,iT=function(e,t){var r=2*Sc(e,t);return r>0?pg(e,t+4,t+4+r-1):""},oT=iT,lT=function(t,r){var s=Sc(t,r);return s>0?T5(t,r+4,r+4+s):""},cT=lT,dT=function(e,t){var r=Sc(e,t);return r>0?pg(e,t+4,t+4+r):""},uT=dT,hT=function(e,t){return Cq(e,t)},ey=hT,M5=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};_s&&(sT=function(t,r){if(!Buffer.isBuffer(t))return rT(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},nT=function(t,r){if(!Buffer.isBuffer(t))return aT(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},oT=function(t,r){if(!Buffer.isBuffer(t))return iT(t,r);var s=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s-1)},cT=function(t,r){if(!Buffer.isBuffer(t))return lT(t,r);var s=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s)},uT=function(t,r){if(!Buffer.isBuffer(t))return dT(t,r);var s=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+s)},ey=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):hT(t,r)},M5=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Im=function(e,t){return e[t]},wu=function(e,t){return e[t+1]*256+e[t]},Eq=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Sc=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},_f=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Aq=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Y1(e,t){var r="",s,a,i=[],o,l,c,d;switch(t){case"dbcs":if(d=this.l,_s&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(wu(this,d)),d+=2;e*=2;break;case"utf8":r=pg(this,this.l,this.l+e);break;case"utf16le":e*=2,r=T5(this,this.l,this.l+e);break;case"wstr":return Y1.call(this,e,"dbcs");case"lpstr-ansi":r=sT(this,this.l),e=4+Sc(this,this.l);break;case"lpstr-cp":r=nT(this,this.l),e=4+Sc(this,this.l);break;case"lpwstr":r=oT(this,this.l),e=4+2*Sc(this,this.l);break;case"lpp4":e=4+Sc(this,this.l),r=cT(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Sc(this,this.l),r=uT(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Im(this,this.l+e++))!==0;)i.push(E2(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=wu(this,this.l+e))!==0;)i.push(E2(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Im(this,d),this.l=d+1,l=Y1.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(E2(wu(this,d))),d+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Im(this,d),this.l=d+1,l=Y1.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(E2(Im(this,d))),d+=1}r=i.join("");break;default:switch(e){case 1:return s=Im(this,this.l),this.l++,s;case 2:return s=(t==="i"?Eq:wu)(this,this.l),this.l+=2,s;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(s=(e>0?_f:Aq)(this,this.l),this.l+=4,s):(a=Sc(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=ey(this,this.l):a=ey([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=tT(this,this.l,e);break}}return this.l+=e,r}var Tq=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Mq=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Lq=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Pq(e,t,r){var s=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Lq(this,t.charCodeAt(a),this.l+2*a);s=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;s=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:s=1,this[this.l]=t&255;break;case 2:s=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:s=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:s=4,Tq(this,t,this.l);break;case 8:if(s=8,r==="f"){Sq(this,t,this.l);break}case 16:break;case-4:s=4,Mq(this,t,this.l);break}return this.l+=s,this}function fT(e,t){var r=tT(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function vo(e,t){e.l=t,e.read_shift=Y1,e.chk=fT,e.write_shift=Pq}function tl(e,t){e.l+=t}function Tt(e){var t=Dh(e);return vo(t,0),t}function Bu(e,t,r){if(e){var s,a,i;vo(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var d=Ux[l]||Ux[65535];for(s=e.read_shift(1),i=s&127,a=1;a<4&&s&128;++a)i+=((s=e.read_shift(1))&127)<<7*a;c=e.l+i;var u=d.f&&d.f(e,i,r);if(e.l=c,t(u,d,l))return}}}function Zl(){var e=[],t=_s?256:2048,r=function(d){var u=Tt(d);return vo(u,0),u},s=r(t),a=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&e.push(s),s=null)},i=function(d){return s&&d<s.length-s.l?s:(a(),s=r(Math.max(d+1,t)))},o=function(){return a(),Ji(e)},l=function(d){a(),s=d,s.l==null&&(s.l=s.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function Wt(e,t,r,s){var a=+t,i;if(!isNaN(a)){s||(s=Ux[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,s>=128&&++i,s>=16384&&++i,s>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(s>=128)o.write_shift(1,(s&127)+128),s>>=7;else{o.write_shift(1,s);break}s>0&&M5(r)&&e.push(r)}}function Z1(e,t,r){var s=Ja(e);if(t.s?(s.cRel&&(s.c+=t.s.c),s.rRel&&(s.r+=t.s.r)):(s.cRel&&(s.c+=t.c),s.rRel&&(s.r+=t.r)),!r||r.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function zj(e,t,r){var s=Ja(e);return s.s=Z1(s.s,t.s,r),s.e=Z1(s.e,t.s,r),s}function X1(e,t){if(e.cRel&&e.c<0)for(e=Ja(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ja(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Xr(e);return!e.cRel&&e.cRel!=null&&(r=Iq(r)),!e.rRel&&e.rRel!=null&&(r=Fq(r)),r}function M_(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+_n(e.s.c)+":"+(e.e.cRel?"":"$")+_n(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ti(e.s.r)+":"+(e.e.rRel?"":"$")+ti(e.e.r):X1(e.s,t.biff)+":"+X1(e.e,t.biff)}function L5(e){return parseInt(Dq(e),10)-1}function ti(e){return""+(e+1)}function Fq(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Dq(e){return e.replace(/\$(\d+)$/,"$1")}function P5(e){for(var t=Rq(e),r=0,s=0;s!==t.length;++s)r=26*r+t.charCodeAt(s)-64;return r-1}function _n(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Iq(e){return e.replace(/^([A-Z])/,"$$$1")}function Rq(e){return e.replace(/^\$([A-Z])/,"$1")}function Oq(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function wn(e){for(var t=0,r=0,s=0;s<e.length;++s){var a=e.charCodeAt(s);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Xr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ql(e){var t=e.indexOf(":");return t==-1?{s:wn(e),e:wn(e)}:{s:wn(e.slice(0,t)),e:wn(e.slice(t+1))}}function ms(e,t){return typeof t>"u"||typeof t=="number"?ms(e.s,e.e):(typeof e!="string"&&(e=Xr(e)),typeof t!="string"&&(t=Xr(t)),e==t?e:e+":"+t)}function Ks(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,s=0,a=0,i=e.length;for(r=0;s<i&&!((a=e.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(t.s.c=--r,r=0;s<i&&!((a=e.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;if(t.s.r=--r,s===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++s,r=0;s!=i&&!((a=e.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(t.e.c=--r,r=0;s!=i&&!((a=e.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;return t.e.r=--r,t}function Uj(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=fd(e.z,r?Ri(t):t)}catch{}try{return e.w=fd((e.XF||{}).numFmtId||(r?14:0),r?Ri(t):t)}catch{return""+t}}function Pu(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?zu[e.v]||e.v:t==null?Uj(e,e.v):Uj(e,t))}function qh(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",s={};return s[r]=e,{SheetNames:[r],Sheets:s}}function mT(e,t,r){var s=r||{},a=e?Array.isArray(e):s.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&s.origin!=null){if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?wn(s.origin):s.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Ks(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=t[p].length;++x)if(!(typeof t[p][x]>"u")){var f={v:t[p][x]},y=o+p,v=l+x;if(d.s.r>y&&(d.s.r=y),d.s.c>v&&(d.s.c=v),d.e.r<y&&(d.e.r=y),d.e.c<v&&(d.e.c=v),t[p][x]&&typeof t[p][x]=="object"&&!Array.isArray(t[p][x])&&!(t[p][x]instanceof Date))f=t[p][x];else if(Array.isArray(f.v)&&(f.f=t[p][x][1],f.v=f.v[0]),f.v===null)if(f.f)f.t="n";else if(s.nullError)f.t="e",f.v=0;else if(s.sheetStubs)f.t="z";else continue;else typeof f.v=="number"?f.t="n":typeof f.v=="boolean"?f.t="b":f.v instanceof Date?(f.z=s.dateNF||Yr[14],s.cellDates?(f.t="d",f.w=fd(f.z,Ri(f.v))):(f.t="n",f.v=Ri(f.v),f.w=fd(f.z,f.v))):f.t="s";if(a)i[y]||(i[y]=[]),i[y][v]&&i[y][v].z&&(f.z=i[y][v].z),i[y][v]=f;else{var _=Xr({c:v,r:y});i[_]&&i[_].z&&(f.z=i[_].z),i[_]=f}}}return d.s.c<1e7&&(i["!ref"]=ms(d)),i}function $p(e,t){return mT(null,e,t)}function Bq(e){return e.read_shift(4,"i")}function Kd(e,t){return t||(t=Tt(4)),t.write_shift(4,e),t}function Jo(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Qi(e,t){var r=!1;return t==null&&(r=!0,t=Tt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function zq(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Uq(e,t){return t||(t=Tt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function F5(e,t){var r=e.l,s=e.read_shift(1),a=Jo(e),i=[],o={t:a,h:a};if((s&1)!==0){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(zq(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function $q(e,t){var r=!1;return t==null&&(r=!0,t=Tt(15+4*e.t.length)),t.write_shift(1,0),Qi(e.t,t),r?t.slice(0,t.l):t}var Wq=F5;function Hq(e,t){var r=!1;return t==null&&(r=!0,t=Tt(23+4*e.t.length)),t.write_shift(1,1),Qi(e.t,t),t.write_shift(4,1),Uq({},t),r?t.slice(0,t.l):t}function gd(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function tm(e,t){return t==null&&(t=Tt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function rm(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function sm(e,t){return t==null&&(t=Tt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Vq=Jo,pT=Qi;function D5(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function ty(e,t){var r=!1;return t==null&&(r=!0,t=Tt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Gq=Jo,Xw=D5,I5=ty;function R5(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,s=t[0]&2;e.l+=4;var a=s===0?ey([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):_f(t,0)>>2;return r?a/100:a}function xT(e,t){t==null&&(t=Tt(4));var r=0,s=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?s=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(s=1,r=1),s)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function gT(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function qq(e,t){return t||(t=Tt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var am=gT,Wp=qq;function Yo(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Wf(e,t){return(t||Tt(8)).write_shift(8,e,"f")}function Kq(e){var t={},r=e.read_shift(1),s=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,s){case 0:t.auto=1;break;case 1:t.index=a;var d=Mf[a];d&&(t.rgb=Rx(d));break;case 2:t.rgb=Rx([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function ry(e,t){if(t||(t=Tt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var s=e.rgb||"FFFFFF";typeof s=="number"&&(s=("000000"+s.toString(16)).slice(-6)),t.write_shift(1,parseInt(s.slice(0,2),16)),t.write_shift(1,parseInt(s.slice(2,4),16)),t.write_shift(1,parseInt(s.slice(4,6),16)),t.write_shift(1,255)}return t}function Yq(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Zq(e,t){t||(t=Tt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function vT(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},s=e.read_shift(4);switch(s){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(s>400)throw new Error("Unsupported Clipboard: "+s.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Xq(e){return vT(e,1)}function Jq(e){return vT(e,2)}var O5=2,$l=3,T2=11,$j=12,sy=19,M2=64,Qq=65,eK=71,tK=4108,rK=4126,Zi=80,yT=81,sK=[Zi,yT],Jw={1:{n:"CodePage",t:O5},2:{n:"Category",t:Zi},3:{n:"PresentationFormat",t:Zi},4:{n:"ByteCount",t:$l},5:{n:"LineCount",t:$l},6:{n:"ParagraphCount",t:$l},7:{n:"SlideCount",t:$l},8:{n:"NoteCount",t:$l},9:{n:"HiddenCount",t:$l},10:{n:"MultimediaClipCount",t:$l},11:{n:"ScaleCrop",t:T2},12:{n:"HeadingPairs",t:tK},13:{n:"TitlesOfParts",t:rK},14:{n:"Manager",t:Zi},15:{n:"Company",t:Zi},16:{n:"LinksUpToDate",t:T2},17:{n:"CharacterCount",t:$l},19:{n:"SharedDoc",t:T2},22:{n:"HyperlinksChanged",t:T2},23:{n:"AppVersion",t:$l,p:"version"},24:{n:"DigSig",t:Qq},26:{n:"ContentType",t:Zi},27:{n:"ContentStatus",t:Zi},28:{n:"Language",t:Zi},29:{n:"Version",t:Zi},255:{},2147483648:{n:"Locale",t:sy},2147483651:{n:"Behavior",t:sy},1919054434:{}},Qw={1:{n:"CodePage",t:O5},2:{n:"Title",t:Zi},3:{n:"Subject",t:Zi},4:{n:"Author",t:Zi},5:{n:"Keywords",t:Zi},6:{n:"Comments",t:Zi},7:{n:"Template",t:Zi},8:{n:"LastAuthor",t:Zi},9:{n:"RevNumber",t:Zi},10:{n:"EditTime",t:M2},11:{n:"LastPrinted",t:M2},12:{n:"CreatedDate",t:M2},13:{n:"ModifiedDate",t:M2},14:{n:"PageCount",t:$l},15:{n:"WordCount",t:$l},16:{n:"CharCount",t:$l},17:{n:"Thumbnail",t:eK},18:{n:"Application",t:Zi},19:{n:"DocSecurity",t:$l},255:{},2147483648:{n:"Locale",t:sy},2147483651:{n:"Behavior",t:sy},1919054434:{}},Wj={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},aK=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function nK(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var iK=nK([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Mf=Ja(iK),zu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},bT={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},e4={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},L2={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function B5(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function oK(e){var t=B5();if(!e||!e.match)return t;var r={};if((e.match(sl)||[]).forEach(function(s){var a=Jr(s);switch(a[0].replace(gq,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[e4[a.ContentType]]!==void 0&&t[e4[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Di.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function _T(e,t){var r=oq(e4),s=[],a;s[s.length]=ai,s[s.length]=nr("Types",null,{xmlns:Di.CT,"xmlns:xsd":Di.xsd,"xmlns:xsi":Di.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return nr("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],s[s.length]=nr("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:L2[c][t.bookType]||L2[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(d){s[s.length]=nr("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:L2[c][t.bookType]||L2[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(d){s[s.length]=nr("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var js={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Ix(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function J1(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var s={};return(e.match(sl)||[]).forEach(function(a){var i=Jr(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:D1(i.Target,t);r[l]=o,s[i.Id]=o}}),r["!id"]=s,r}function rp(e){var t=[ai,nr("Relationships",null,{xmlns:Di.RELS})];return Bn(e["!id"]).forEach(function(r){t[t.length]=nr("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ba(e,t,r,s,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=s,a.Target=r,[js.HLINK,js.XPATH,js.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var lK="application/vnd.oasis.opendocument.spreadsheet";function cK(e,t){for(var r=A5(e),s,a;s=Dx.exec(r);)switch(s[3]){case"manifest":break;case"file-entry":if(a=Jr(s[0],!1),a.path=="/"&&a.type!==lK)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw s}}function dK(e){var t=[ai];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function Hj(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function uK(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function hK(e){var t=[ai];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(Hj(e[r][0],e[r][1])),t.push(uK("",e[r][0]));return t.push(Hj("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function wT(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Yv.version+"</meta:generator></office:meta></office:document-meta>"}var cd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],fK=(function(){for(var e=new Array(cd.length),t=0;t<cd.length;++t){var r=cd[t],s="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+s+"[^>]*>([\\s\\S]*?)</"+s+">")}return e})();function NT(e){var t={};e=Sa(e);for(var r=0;r<cd.length;++r){var s=cd[r],a=e.match(fK[r]);a!=null&&a.length>0&&(t[s[1]]=Gs(a[1])),s[2]==="date"&&t[s[1]]&&(t[s[1]]=Xa(t[s[1]]))}return t}function L_(e,t,r,s,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Na(t),s[s.length]=r?nr(e,t,r):yo(e,t))}function kT(e,t){var r=t||{},s=[ai,nr("cp:coreProperties",null,{"xmlns:cp":Di.CORE_PROPS,"xmlns:dc":Di.dc,"xmlns:dcterms":Di.dcterms,"xmlns:dcmitype":Di.dcmitype,"xmlns:xsi":Di.xsi})],a={};if(!e&&!r.Props)return s.join("");e&&(e.CreatedDate!=null&&L_("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Zw(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a),e.ModifiedDate!=null&&L_("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Zw(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a));for(var i=0;i!=cd.length;++i){var o=cd[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&L_(o[0],l,null,s,a)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var Lf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],jT=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function CT(e,t,r,s){var a=[];if(typeof e=="string")a=Fj(e,s);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var o=typeof t=="string"?Fj(t,s).map(function(u){return u.v}):t,l=0,c=0;if(o.length>0)for(var d=0;d!==a.length;d+=2){switch(c=+a[d+1].v,a[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function mK(e,t,r){var s={};return t||(t={}),e=Sa(e),Lf.forEach(function(a){var i=(e.match(Px(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Gs(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(s[a[1]]=o[1]);break}}),s.HeadingPairs&&s.TitlesOfParts&&CT(s.HeadingPairs,s.TitlesOfParts,t,r),t}function ST(e){var t=[],r=nr;return e||(e={}),e.Application="SheetJS",t[t.length]=ai,t[t.length]=nr("Properties",null,{xmlns:Di.EXT_PROPS,"xmlns:vt":Di.vt}),Lf.forEach(function(s){if(e[s[1]]!==void 0){var a;switch(s[2]){case"string":a=Na(String(e[s[1]]));break;case"bool":a=e[s[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(s[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(s){return"<vt:lpstr>"+Na(s)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var pK=/<[^>]+>[^<]*/g;function xK(e,t){var r={},s="",a=e.match(pK);if(a)for(var i=0;i!=a.length;++i){var o=a[i],l=Jr(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":s=Gs(l.name);break;case"</property>":s=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),d=c[0].slice(4),u=c[1];switch(d){case"lpstr":case"bstr":case"lpwstr":r[s]=Gs(u);break;case"bool":r[s]=qa(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[s]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[s]=parseFloat(u);break;case"filetime":case"date":r[s]=Xa(u);break;case"cy":case"error":r[s]=Gs(u);break;default:if(d.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,d,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}function ET(e){var t=[ai,nr("Properties",null,{xmlns:Di.CUST_PROPS,"xmlns:vt":Di.vt})];if(!e)return t.join("");var r=1;return Bn(e).forEach(function(a){++r,t[t.length]=nr("property",jq(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Na(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var t4={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},P_;function gK(e,t,r){P_||(P_=Xy(t4)),t=P_[t]||t,e[t]=r}function vK(e,t){var r=[];return Bn(t4).map(function(s){for(var a=0;a<cd.length;++a)if(cd[a][1]==s)return cd[a];for(a=0;a<Lf.length;++a)if(Lf[a][1]==s)return Lf[a];throw s}).forEach(function(s){if(e[s[1]]!=null){var a=t&&t.Props&&t.Props[s[1]]!=null?t.Props[s[1]]:e[s[1]];switch(s[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(yo(t4[s[1]]||s[1],a))}}),nr("DocumentProperties",r.join(""),{xmlns:Cc.o})}function yK(e,t){var r=["Worksheets","SheetNames"],s="CustomDocumentProperties",a=[];return e&&Bn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<cd.length;++o)if(i==cd[o][1])return;for(o=0;o<Lf.length;++o)if(i==Lf[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(nr(Tj(i),l,{"dt:dt":c}))}}),t&&Bn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(nr(Tj(i),o,{"dt:dt":l}))}}),"<"+s+' xmlns="'+Cc.o+'">'+a.join("")+"</"+s+">"}function z5(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function bK(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,s=r%Math.pow(2,32),a=(r-s)/Math.pow(2,32);s*=1e7,a*=1e7;var i=s/Math.pow(2,32)|0;i>0&&(s=s%Math.pow(2,32),a+=i);var o=Tt(8);return o.write_shift(4,s),o.write_shift(4,a),o}function AT(e,t,r){var s=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-s&3;)++e.l;return a}function TT(e,t,r){var s=e.read_shift(0,"lpwstr");return s}function MT(e,t,r){return t===31?TT(e):AT(e,t,r)}function r4(e,t,r){return MT(e,t,r===!1?0:4)}function _K(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return MT(e,t,0)}function wK(e){for(var t=e.read_shift(4),r=[],s=0;s!=t;++s){var a=e.l;r[s]=e.read_shift(0,"lpwstr").replace(wl,""),e.l-a&2&&(e.l+=2)}return r}function NK(e){for(var t=e.read_shift(4),r=[],s=0;s!=t;++s)r[s]=e.read_shift(0,"lpstr-cp").replace(wl,"");return r}function kK(e){var t=e.l,r=ay(e,yT);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var s=ay(e,$l);return[r,s]}function jK(e){for(var t=e.read_shift(4),r=[],s=0;s<t/2;++s)r.push(kK(e));return r}function Vj(e,t){for(var r=e.read_shift(4),s={},a=0;a!=r;++a){var i=e.read_shift(4),o=e.read_shift(4);s[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(wl,"").replace(F1,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),s}function LT(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function CK(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function ay(e,t,r){var s=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==$j&&s!==t&&sK.indexOf(t)===-1&&!((t&65534)==4126&&(s&65534)==4126))throw new Error("Expected type "+t+" saw "+s);switch(t===$j?s:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return AT(e,s,4).replace(wl,"");case 31:return TT(e);case 64:return z5(e);case 65:return LT(e);case 71:return CK(e);case 80:return r4(e,s,!i.raw).replace(wl,"");case 81:return _K(e,s).replace(wl,"");case 4108:return jK(e);case 4126:case 4127:return s==4127?wK(e):NK(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+s)}}function Gj(e,t){var r=Tt(4),s=Tt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:s.write_shift(-4,t);break;case 5:s=Tt(8),s.write_shift(8,t,"f");break;case 11:s.write_shift(4,t?1:0);break;case 64:s=bK(t);break;case 31:case 80:for(s=Tt(4+2*(t.length+1)+(t.length%2?0:2)),s.write_shift(4,t.length+1),s.write_shift(0,t,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ji([r,s])}function qj(e,t){var r=e.l,s=e.read_shift(4),a=e.read_shift(4),i=[],o=0,l=0,c=-1,d={};for(o=0;o!=a;++o){var u=e.read_shift(4),p=e.read_shift(4);i[o]=[u,p+r]}i.sort(function(S,M){return S[1]-M[1]});var x={};for(o=0;o!=a;++o){if(e.l!==i[o][1]){var f=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,f=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],f=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],f=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(f=!1,e.l=i[o][1]),f)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var y=t[i[o][0]];if(x[y.n]=ay(e,y.t,{raw:!0}),y.p==="version"&&(x[y.n]=String(x[y.n]>>16)+"."+("0000"+String(x[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(x[y.n]){case 0:x[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:$d(l=x[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+x[y.n])}}else if(i[o][0]===1){if(l=x.CodePage=ay(e,O5),$d(l),c!==-1){var v=e.l;e.l=i[c][1],d=Vj(e,l),e.l=v}}else if(i[o][0]===0){if(l===0){c=o,e.l=i[o+1][1];continue}d=Vj(e,l)}else{var _=d[i[o][0]],k;switch(e[e.l]){case 65:e.l+=4,k=LT(e);break;case 30:e.l+=4,k=r4(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,k=r4(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,k=e.read_shift(4,"i");break;case 19:e.l+=4,k=e.read_shift(4);break;case 5:e.l+=4,k=e.read_shift(8,"f");break;case 11:e.l+=4,k=qn(e,4);break;case 64:e.l+=4,k=Xa(z5(e));break;default:throw new Error("unparsed value: "+e[e.l])}x[_]=k}}return e.l=r+s,x}var PT=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function SK(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function Kj(e,t,r){var s=Tt(8),a=[],i=[],o=8,l=0,c=Tt(8),d=Tt(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),a.push(d),o+=8+c.length,!t){d=Tt(8),d.write_shift(4,0),a.unshift(d);var u=[Tt(4)];for(u[0].write_shift(4,e.length),l=0;l<e.length;++l){var p=e[l][0];for(c=Tt(8+2*(p.length+1)+(p.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,p.length+1),c.write_shift(0,p,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=Ji(u),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(PT.indexOf(e[l][0])>-1||jT.indexOf(e[l][0])>-1)&&e[l][1]!=null){var x=e[l][1],f=0;if(t){f=+t[e[l][0]];var y=r[f];if(y.p=="version"&&typeof x=="string"){var v=x.split(".");x=(+v[0]<<16)+(+v[1]||0)}c=Gj(y.t,x)}else{var _=SK(x);_==-1&&(_=31,x=String(x)),c=Gj(_,x)}i.push(c),d=Tt(8),d.write_shift(4,t?f:2+l),a.push(d),o+=8+c.length}var k=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,k),k+=i[l].length;return s.write_shift(4,o),s.write_shift(4,i.length),Ji([s].concat(a).concat(i))}function Yj(e,t,r){var s=e.content;if(!s)return{};vo(s,0);var a,i,o,l,c=0;s.chk("feff","Byte Order: "),s.read_shift(2);var d=s.read_shift(4),u=s.read_shift(16);if(u!==Rr.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=s.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=s.read_shift(16),l=s.read_shift(4),a===1&&l!==s.l)throw new Error("Length mismatch: "+l+" !== "+s.l);a===2&&(o=s.read_shift(16),c=s.read_shift(4));var p=qj(s,t),x={SystemIdentifier:d};for(var f in p)x[f]=p[f];if(x.FMTID=i,a===1)return x;if(c-s.l==2&&(s.l+=2),s.l!==c)throw new Error("Length mismatch 2: "+s.l+" !== "+c);var y;try{y=qj(s,null)}catch{}for(f in y)x[f]=y[f];return x.FMTID=[i,o],x}function Zj(e,t,r,s,a,i){var o=Tt(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Rr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=Kj(e,r,s);if(l.push(c),a){var d=Kj(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(d)}return Ji(l)}function lh(e,t){return e.read_shift(t),null}function EK(e,t){t||(t=Tt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function AK(e,t,r){for(var s=[],a=e.l+t;e.l<a;)s.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return s}function qn(e,t){return e.read_shift(t)===1}function bl(e,t){return t||(t=Tt(2)),t.write_shift(2,+!!e),t}function xi(e){return e.read_shift(2,"u")}function od(e,t){return t||(t=Tt(2)),t.write_shift(2,e),t}function FT(e,t){return AK(e,t,xi)}function TK(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function DT(e,t,r){return r||(r=Tt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function xg(e,t,r){var s=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=s?e.read_shift(s,a):"";return o}function MK(e){var t=e.read_shift(2),r=e.read_shift(1),s=r&4,a=r&8,i=1+(r&1),o=0,l,c={};a&&(o=e.read_shift(2)),s&&(l=e.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,d);return a&&(e.l+=4*o),s&&(e.l+=l),c.t=u,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function LK(e){var t=e.t||"",r=Tt(3);r.write_shift(2,t.length),r.write_shift(1,1);var s=Tt(2*t.length);s.write_shift(2*t.length,t,"utf16le");var a=[r,s];return Ji(a)}function Hf(e,t,r){var s;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?s=e.read_shift(t,"sbcs-cont"):s=e.read_shift(t,"dbcs-cont"),s}function gg(e,t,r){var s=e.read_shift(r&&r.biff==2?1:2);return s===0?(e.l++,""):Hf(e,s,r)}function nm(e,t,r){if(r.biff>5)return gg(e,t,r);var s=e.read_shift(1);return s===0?(e.l++,""):e.read_shift(s,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function IT(e,t,r){return r||(r=Tt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function PK(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function FK(e){var t=e.read_shift(4),r=e.l,s=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(s=!0),e.l=r);var a=e.read_shift((s?t-24:t)>>1,"utf16le").replace(wl,"");return s&&(e.l+=24),a}function DK(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var s=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+s.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(wl,"");return r+o}function IK(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return FK(e);case"0303000000000000c000000000000046":return DK(e);default:throw new Error("Unsupported Moniker "+r)}}function P2(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(wl,""):"";return r}function Xj(e,t){t||(t=Tt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function RK(e,t){var r=e.l+t,s=e.read_shift(4);if(s!==2)throw new Error("Unrecognized streamVersion: "+s);var a=e.read_shift(2);e.l+=2;var i,o,l,c,d="",u,p;a&16&&(i=P2(e,r-e.l)),a&128&&(o=P2(e,r-e.l)),(a&257)===257&&(l=P2(e,r-e.l)),(a&257)===1&&(c=IK(e,r-e.l)),a&8&&(d=P2(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(p=z5(e)),e.l=r;var x=o||l||c||"";x&&d&&(x+="#"+d),x||(x="#"+d),a&2&&x.charAt(0)=="/"&&x.charAt(1)!="/"&&(x="file://"+x);var f={Target:x};return u&&(f.guid=u),p&&(f.time=p),i&&(f.Tooltip=i),f}function OK(e){var t=Tt(512),r=0,s=e.Target;s.slice(0,7)=="file://"&&(s=s.slice(7));var a=s.indexOf("#"),i=a>-1?31:23;switch(s.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)s=s.slice(1),Xj(s,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?s.slice(0,a):s;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&Xj(a>-1?s.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;s.slice(c*3,c*3+3)=="../"||s.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,s.length-3*c+1),r=0;r<s.length-3*c;++r)t.write_shift(1,s.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function RT(e){var t=e.read_shift(1),r=e.read_shift(1),s=e.read_shift(1),a=e.read_shift(1);return[t,r,s,a]}function OT(e,t){var r=RT(e);return r[3]=0,r}function X0(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2);return{r:t,c:r,ixfe:s}}function Vf(e,t,r,s){return s||(s=Tt(6)),s.write_shift(2,e),s.write_shift(2,t),s.write_shift(2,r||0),s}function BK(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function zK(e,t,r){return t===0?"":nm(e,t,r)}function UK(e,t,r){var s=r.biff>8?4:2,a=e.read_shift(s),i=e.read_shift(s,"i"),o=e.read_shift(s,"i");return[a,i,o]}function BT(e){var t=e.read_shift(2),r=R5(e);return[t,r]}function $K(e,t,r){e.l+=4,t-=4;var s=e.l+t,a=xg(e,t,r),i=e.read_shift(2);if(s-=e.l,i!==s)throw new Error("Malformed AddinUdf: padding = "+s+" != "+i);return e.l+=i,a}function eb(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2);return{s:{c:s,r:t},e:{c:a,r}}}function zT(e,t){return t||(t=Tt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function UT(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(1),a=e.read_shift(1);return{s:{c:s,r:t},e:{c:a,r}}}var WK=UT;function $T(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2);return e.l+=12,[r,t,s]}function HK(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function VK(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Oo(e){e.l+=2,e.l+=e.read_shift(2)}var GK={0:Oo,4:Oo,5:Oo,6:Oo,7:VK,8:Oo,9:Oo,10:Oo,11:Oo,12:Oo,13:HK,14:Oo,15:Oo,16:Oo,17:Oo,18:Oo,19:Oo,20:Oo,21:$T};function qK(e,t){for(var r=e.l+t,s=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{s.push(GK[a](e,r-e.l))}catch{return e.l=r,s}}return e.l!=r&&(e.l=r),s}function F2(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function U5(e,t,r){var s=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":s=1280,a=8;break;case"biff4":s=4,a=6;break;case"biff3":s=3,a=6;break;case"biff2":s=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Tt(a);return i.write_shift(2,s),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function KK(e,t){return t===0||e.read_shift(2),1200}function YK(e,t,r){if(r.enc)return e.l+=t,"";var s=e.l,a=nm(e,0,r);return e.read_shift(t+s-e.l),a}function ZK(e,t){var r=!t||t.biff==8,s=Tt(r?112:54);for(s.write_shift(t.biff==8?2:1,7),r&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(r?0:536870912));s.l<s.length;)s.write_shift(1,r?0:32);return s}function XK(e,t,r){var s=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:s&16,fBelow:s&64,fRight:s&128}}function JK(e,t,r){var s=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=xg(e,0,r);return o.length===0&&(o="Sheet1"),{pos:s,hs:a,dt:i,name:o}}function QK(e,t){var r=!t||t.biff>=8?2:1,s=Tt(8+r*e.name.length);s.write_shift(4,e.pos),s.write_shift(1,e.hs||0),s.write_shift(1,e.dt),s.write_shift(1,e.name.length),t.biff>=8&&s.write_shift(1,1),s.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=s.slice(0,s.l);return a.l=s.l,a}function eY(e,t){for(var r=e.l+t,s=e.read_shift(4),a=e.read_shift(4),i=[],o=0;o!=a&&e.l<r;++o)i.push(MK(e));return i.Count=s,i.Unique=a,i}function tY(e,t){var r=Tt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var s=[],a=0;a<e.length;++a)s[a]=LK(e[a]);var i=Ji([r].concat(s));return i.parts=[r.length].concat(s.map(function(o){return o.length})),i}function rY(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function sY(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var s=e.read_shift(1);return e.l+=3,s&7&&(t.level=s&7),s&32&&(t.hidden=!0),s&64&&(t.hpt=r/20),t}function aY(e){var t=BK(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function nY(e){return e.read_shift(2),e.read_shift(4)}function Jj(e,t,r){var s=0;r&&r.biff==2||(s=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(s=1-(a>>15),a&=32767);var i={Unsynced:s&1,DyZero:(s&2)>>1,ExAsc:(s&4)>>2,ExDsc:(s&8)>>3};return[i,a]}function iY(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),d=e.read_shift(2);return{Pos:[t,r],Dim:[s,a],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:d}}function oY(){var e=Tt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function lY(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var s=e.read_shift(2);return{RTL:s&64}}function cY(e){var t=Tt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function dY(){}function uY(e,t,r){var s={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return s.name=xg(e,0,r),s}function hY(e,t){var r=e.name||"Arial",s=t&&t.biff==5,a=s?15+r.length:16+2*r.length,i=Tt(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),s||i.write_shift(1,1),i.write_shift((s?1:2)*r.length,r,s?"sbcs":"utf16le"),i}function fY(e){var t=X0(e);return t.isst=e.read_shift(4),t}function mY(e,t,r,s){var a=Tt(10);return Vf(e,t,s,a),a.write_shift(4,r),a}function pY(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var s=e.l+t,a=X0(e);r.biff==2&&e.l++;var i=gg(e,s-e.l,r);return a.val=i,a}function xY(e,t,r,s,a){var i=!a||a.biff==8,o=Tt(8+ +i+(1+i)*r.length);return Vf(e,t,s,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function gY(e,t,r){var s=e.read_shift(2),a=nm(e,0,r);return[s,a]}function vY(e,t,r,s){var a=r&&r.biff==5;s||(s=Tt(a?3+t.length:5+2*t.length)),s.write_shift(2,e),s.write_shift(a?1:2,t.length),a||s.write_shift(1,1),s.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=s.length>s.l?s.slice(0,s.l):s;return i.l==null&&(i.l=i.length),i}var yY=nm;function Qj(e,t,r){var s=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=s,{s:{r:i,c:l},e:{r:o,c}}}function bY(e,t){var r=t.biff==8||!t.biff?4:2,s=Tt(2*r+6);return s.write_shift(r,e.s.r),s.write_shift(r,e.e.r+1),s.write_shift(2,e.s.c),s.write_shift(2,e.e.c+1),s.write_shift(2,0),s}function _Y(e){var t=e.read_shift(2),r=e.read_shift(2),s=BT(e);return{r:t,c:r,ixfe:s[0],rknum:s[1]}}function wY(e,t){for(var r=e.l+t-2,s=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(BT(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:s,c:a,C:o,rkrec:i}}function NY(e,t){for(var r=e.l+t-2,s=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:s,c:a,C:o,ixfe:i}}function kY(e,t,r,s){var a={},i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=aK[l>>26],s.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function jY(e,t,r){var s={};return s.ifnt=e.read_shift(2),s.numFmtId=e.read_shift(2),s.flags=e.read_shift(2),s.fStyle=s.flags>>2&1,t-=6,s.data=kY(e,t,s.fStyle,r),s}function eC(e,t,r,s){var a=r&&r.biff==5;s||(s=Tt(a?16:20)),s.write_shift(2,0),e.style?(s.write_shift(2,e.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,e.numFmtId||0),s.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),s.write_shift(4,i),s.write_shift(4,0),a||s.write_shift(4,0),s.write_shift(2,0),s}function CY(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function SY(e){var t=Tt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function tC(e,t,r){var s=X0(e);(r.biff==2||t==9)&&++e.l;var a=TK(e);return s.val=a,s.t=a===!0||a===!1?"b":"e",s}function EY(e,t,r,s,a,i){var o=Tt(8);return Vf(e,t,s,o),DT(r,i,o),o}function AY(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var s=X0(e),a=Yo(e);return s.val=a,s}function TY(e,t,r,s){var a=Tt(14);return Vf(e,t,s,a),Wf(r,a),a}var rC=zK;function MY(e,t,r){var s=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=Hf(e,i),l=[];s>e.l;)l.push(gg(e));return[i,a,o,l]}function sC(e,t,r){var s=e.read_shift(2),a,i={fBuiltIn:s&1,fWantAdvise:s>>>1&1,fWantPict:s>>>2&1,fOle:s>>>3&1,fOleLink:s>>>4&1,cf:s>>>5&1023,fIcon:s>>>15&1};return r.sbcch===14849&&(a=$K(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var LY=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function aC(e,t,r){var s=e.l+t,a=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var d=Hf(e,o,r);a&32&&(d=LY[d.charCodeAt(0)]);var u=s-e.l;r&&r.biff==2&&--u;var p=s==e.l||l===0||!(u>0)?[]:qQ(e,u,r,l);return{chKey:i,Name:d,itab:c,rgce:p}}function WT(e,t,r){if(r.biff<8)return PY(e,t,r);for(var s=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)s.push(UK(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return s}function PY(e,t,r){e[e.l+1]==3&&e[e.l]++;var s=xg(e,t,r);return s.charCodeAt(0)==3?s.slice(1):s}function FY(e,t,r){if(r.biff<8){e.l+=t;return}var s=e.read_shift(2),a=e.read_shift(2),i=Hf(e,s,r),o=Hf(e,a,r);return[i,o]}function DY(e,t,r){var s=UT(e);e.l++;var a=e.read_shift(1);return t-=8,[KQ(e,t,r),a,s]}function nC(e,t,r){var s=WK(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[s,VQ(e,t,r)]}function IY(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,s=e.read_shift(4);return[t,r,s]}function RY(e,t,r){if(!(r.biff<8)){var s=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=nm(e,0,r);return r.biff<8&&e.read_shift(1),[{r:s,c:a},l,o,i]}}function OY(e,t,r){return RY(e,t,r)}function BY(e,t){for(var r=[],s=e.read_shift(2);s--;)r.push(eb(e));return r}function zY(e){var t=Tt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)zT(e[r],t);return t}function UY(e,t,r){if(r&&r.biff<8)return WY(e,t,r);var s=$T(e),a=qK(e,t-22,s[1]);return{cmo:s,ft:a}}var $Y={8:function(e,t){var r=e.l+t;e.l+=10;var s=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:s}}};function WY(e,t,r){e.l+=4;var s=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push(($Y[s]||tl)(e,t,r)),{cmo:[a,s,i],ft:o}}function HY(e,t,r){var s=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=PK(e,6,r);var l=e.read_shift(2);e.read_shift(2),xi(e,2);var c=e.read_shift(2);e.l+=c;for(var d=1;d<e.lens.length-1;++d){if(e.l-s!=e.lens[d])throw new Error("TxO: bad continue record");var u=e[e.l],p=Hf(e,e.lens[d+1]-e.lens[d]-1);if(a+=p,a.length>=(u?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=s+t,{t:a}}catch{return e.l=s+t,{t:a}}}function VY(e,t){var r=eb(e);e.l+=16;var s=RK(e,t-24);return[r,s]}function GY(e){var t=Tt(24),r=wn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(s[a],16));return Ji([t,OK(e[1])])}function qY(e,t){e.read_shift(2);var r=eb(e),s=e.read_shift((t-10)/2,"dbcs-cont");return s=s.replace(wl,""),[r,s]}function KY(e){var t=e[1].Tooltip,r=Tt(10+2*(t.length+1));r.write_shift(2,2048);var s=wn(e[0]);r.write_shift(2,s.r),r.write_shift(2,s.r),r.write_shift(2,s.c),r.write_shift(2,s.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function YY(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=Wj[r]||r,r=e.read_shift(2),t[1]=Wj[r]||r,t}function ZY(e){return e||(e=Tt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function XY(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(OT(e));return r}function JY(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(OT(e));return r}function QY(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function HT(e,t,r){if(!r.cellStyles)return tl(e,t);var s=r&&r.biff>=12?4:2,a=e.read_shift(s),i=e.read_shift(s),o=e.read_shift(s),l=e.read_shift(s),c=e.read_shift(2);s==2&&(e.l+=2);var d={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function eZ(e,t){var r=Tt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var s=0;return e.hidden&&(s|=1),r.write_shift(1,s),s=e.level||0,r.write_shift(1,s),r.write_shift(2,0),r}function tZ(e,t){var r={};return t<32||(e.l+=16,r.header=Yo(e),r.footer=Yo(e),e.l+=2),r}function rZ(e,t,r){var s={area:!1};if(r.biff!=5)return e.l+=t,s;var a=e.read_shift(1);return e.l+=3,a&16&&(s.area=!0),s}function sZ(e){for(var t=Tt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var aZ=X0,nZ=FT,iZ=gg;function oZ(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(4),a={fmt:t,env:r,len:s,data:e.slice(e.l,e.l+s)};return e.l+=s,a}function lZ(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var s=X0(e);++e.l;var a=nm(e,t-7,r);return s.t="str",s.val=a,s}function cZ(e){var t=X0(e);++e.l;var r=Yo(e);return t.t="n",t.val=r,t}function dZ(e,t,r){var s=Tt(15);return _g(s,e,t),s.write_shift(8,r,"f"),s}function uZ(e){var t=X0(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function hZ(e,t,r){var s=Tt(9);return _g(s,e,t),s.write_shift(2,r),s}function fZ(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function mZ(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function pZ(e,t,r){var s=e.l+t,a=X0(e),i=e.read_shift(2),o=Hf(e,i,r);return e.l=s,a.t="str",a.val=o,a}var xZ=[2,3,48,49,131,139,140,245],s4=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Xy({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=Dh(1);switch(c.type){case"base64":u=Ec(Pc(l));break;case"binary":u=Ec(l);break;case"buffer":case"array":u=l;break}vo(u,0);var p=u.read_shift(1),x=!!(p&136),f=!1,y=!1;switch(p){case 2:break;case 3:break;case 48:f=!0,x=!0;break;case 49:f=!0,x=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var v=0,_=521;p==2&&(v=u.read_shift(2)),u.l+=3,p!=2&&(v=u.read_shift(4)),v>1048576&&(v=1e6),p!=2&&(_=u.read_shift(2));var k=u.read_shift(2),S=c.codepage||1252;p!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(S=e[u[u.l]]),u.l+=1,u.l+=2),y&&(u.l+=36);for(var M=[],T={},O=Math.min(u.length,p==2?521:_-10-(f?264:0)),A=y?32:11;u.l<O&&u[u.l]!=13;)switch(T={},T.name=Tx.utils.decode(S,u.slice(u.l,u.l+A)).replace(/[\u0000\r\n].*$/g,""),u.l+=A,T.type=String.fromCharCode(u.read_shift(1)),p!=2&&!y&&(T.offset=u.read_shift(4)),T.len=u.read_shift(1),p==2&&(T.offset=u.read_shift(2)),T.dec=u.read_shift(1),T.name.length&&M.push(T),p!=2&&(u.l+=y?13:14),T.type){case"B":(!f||T.len!=8)&&c.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(u[u.l]!==13&&(u.l=_-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=_;var C=0,N=0;for(d[0]=[],N=0;N!=M.length;++N)d[0][N]=M[N].name;for(;v-- >0;){if(u[u.l]===42){u.l+=k;continue}for(++u.l,d[++C]=[],N=0,N=0;N!=M.length;++N){var E=u.slice(u.l,u.l+M[N].len);u.l+=M[N].len,vo(E,0);var z=Tx.utils.decode(S,E);switch(M[N].type){case"C":z.trim().length&&(d[C][N]=z.replace(/\s+$/,""));break;case"D":z.length===8?d[C][N]=new Date(+z.slice(0,4),+z.slice(4,6)-1,+z.slice(6,8)):d[C][N]=z;break;case"F":d[C][N]=parseFloat(z.trim());break;case"+":case"I":d[C][N]=y?E.read_shift(-4,"i")^2147483648:E.read_shift(4,"i");break;case"L":switch(z.trim().toUpperCase()){case"Y":case"T":d[C][N]=!0;break;case"N":case"F":d[C][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+z+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));d[C][N]="##MEMO##"+(y?parseInt(z.trim(),10):E.read_shift(4));break;case"N":z=z.replace(/\u0000/g,"").trim(),z&&z!="."&&(d[C][N]=+z||0);break;case"@":d[C][N]=new Date(E.read_shift(-8,"f")-621356832e5);break;case"T":d[C][N]=new Date((E.read_shift(4)-2440588)*864e5+E.read_shift(4));break;case"Y":d[C][N]=E.read_shift(4,"i")/1e4+E.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[C][N]=-E.read_shift(-8,"f");break;case"B":if(f&&M[N].len==8){d[C][N]=E.read_shift(8,"f");break}case"G":case"P":E.l+=M[N].len;break;case"0":if(M[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+M[N].type)}}}if(p!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=M,d}function s(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=$p(r(l,d),d);return u["!cols"]=d.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete d.DBF,u}function a(l,c){try{return qh(s(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&$d(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=Zl(),p=oy(l,{header:1,raw:!0,cellDates:!0}),x=p[0],f=p.slice(1),y=l["!cols"]||[],v=0,_=0,k=0,S=1;for(v=0;v<x.length;++v){if(((y[v]||{}).DBF||{}).name){x[v]=y[v].DBF.name,++k;continue}if(x[v]!=null){if(++k,typeof x[v]=="number"&&(x[v]=x[v].toString(10)),typeof x[v]!="string")throw new Error("DBF Invalid column name "+x[v]+" |"+typeof x[v]+"|");if(x.indexOf(x[v])!==v){for(_=0;_<1024;++_)if(x.indexOf(x[v]+"_"+_)==-1){x[v]+="_"+_;break}}}}var M=Ks(l["!ref"]),T=[],O=[],A=[];for(v=0;v<=M.e.c-M.s.c;++v){var C="",N="",E=0,z=[];for(_=0;_<f.length;++_)f[_][v]!=null&&z.push(f[_][v]);if(z.length==0||x[v]==null){T[v]="?";continue}for(_=0;_<z.length;++_){switch(typeof z[_]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=z[_]instanceof Date?"D":"C";break;default:N="C"}E=Math.max(E,String(z[_]).length),C=C&&C!=N?"C":N}E>250&&(E=250),N=((y[v]||{}).DBF||{}).type,N=="C"&&y[v].DBF.len>E&&(E=y[v].DBF.len),C=="B"&&N=="N"&&(C="N",A[v]=y[v].DBF.dec,E=y[v].DBF.len),O[v]=C=="C"||N=="N"?E:i[C]||0,S+=O[v],T[v]=C}var P=u.next(32);for(P.write_shift(4,318902576),P.write_shift(4,f.length),P.write_shift(2,296+32*k),P.write_shift(2,S),v=0;v<4;++v)P.write_shift(4,0);for(P.write_shift(4,0|(+t[PA]||3)<<8),v=0,_=0;v<x.length;++v)if(x[v]!=null){var I=u.next(32),W=(x[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,W,"sbcs"),I.write_shift(1,T[v]=="?"?"C":T[v],"sbcs"),I.write_shift(4,_),I.write_shift(1,O[v]||i[T[v]]||0),I.write_shift(1,A[v]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),_+=O[v]||i[T[v]]||0}var Z=u.next(264);for(Z.write_shift(4,13),v=0;v<65;++v)Z.write_shift(4,0);for(v=0;v<f.length;++v){var Y=u.next(S);for(Y.write_shift(1,0),_=0;_<x.length;++_)if(x[_]!=null)switch(T[_]){case"L":Y.write_shift(1,f[v][_]==null?63:f[v][_]?84:70);break;case"B":Y.write_shift(8,f[v][_]||0,"f");break;case"N":var te="0";for(typeof f[v][_]=="number"&&(te=f[v][_].toFixed(A[_]||0)),k=0;k<O[_]-te.length;++k)Y.write_shift(1,32);Y.write_shift(1,te,"sbcs");break;case"D":f[v][_]?(Y.write_shift(4,("0000"+f[v][_].getFullYear()).slice(-4),"sbcs"),Y.write_shift(2,("00"+(f[v][_].getMonth()+1)).slice(-2),"sbcs"),Y.write_shift(2,("00"+f[v][_].getDate()).slice(-2),"sbcs")):Y.write_shift(8,"00000000","sbcs");break;case"C":var ie=String(f[v][_]!=null?f[v][_]:"").slice(0,O[_]);for(Y.write_shift(1,ie,"sbcs"),k=0;k<O[_]-ie.length;++k)Y.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:s,from_sheet:o}})(),VT=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Bn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(x,f){var y=e[f];return typeof y=="number"?xj(y):y},s=function(x,f,y){var v=f.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return v==59?x:xj(v)};e["|"]=254;function a(x,f){switch(f.type){case"base64":return i(Pc(x),f);case"binary":return i(x,f);case"buffer":return i(_s&&Buffer.isBuffer(x)?x.toString("binary"):Gh(x),f);case"array":return i($f(x),f)}throw new Error("Unrecognized type "+f.type)}function i(x,f){var y=x.split(/[\n\r]+/),v=-1,_=-1,k=0,S=0,M=[],T=[],O=null,A={},C=[],N=[],E=[],z=0,P;for(+f.codepage>=0&&$d(+f.codepage);k!==y.length;++k){z=0;var I=y[k].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(t,r),W=I.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),Z=W[0],Y;if(I.length>0)switch(Z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":W[1].charAt(0)=="P"&&T.push(I.slice(3).replace(/;;/g,";"));break;case"C":var te=!1,ie=!1,le=!1,se=!1,oe=-1,ee=-1;for(S=1;S<W.length;++S)switch(W[S].charAt(0)){case"A":break;case"X":_=parseInt(W[S].slice(1))-1,ie=!0;break;case"Y":for(v=parseInt(W[S].slice(1))-1,ie||(_=0),P=M.length;P<=v;++P)M[P]=[];break;case"K":Y=W[S].slice(1),Y.charAt(0)==='"'?Y=Y.slice(1,Y.length-1):Y==="TRUE"?Y=!0:Y==="FALSE"?Y=!1:isNaN(qd(Y))?isNaN(bp(Y).getDate())||(Y=Xa(Y)):(Y=qd(Y),O!==null&&zp(O)&&(Y=Qy(Y))),te=!0;break;case"E":se=!0;var B=sp(W[S].slice(1),{r:v,c:_});M[v][_]=[M[v][_],B];break;case"S":le=!0,M[v][_]=[M[v][_],"S5S"];break;case"G":break;case"R":oe=parseInt(W[S].slice(1))-1;break;case"C":ee=parseInt(W[S].slice(1))-1;break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+I)}if(te&&(M[v][_]&&M[v][_].length==2?M[v][_][0]=Y:M[v][_]=Y,O=null),le){if(se)throw new Error("SYLK shared formula cannot have own formula");var q=oe>-1&&M[oe][ee];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");M[v][_][1]=c9(q[1],{r:v-oe,c:_-ee})}break;case"F":var Q=0;for(S=1;S<W.length;++S)switch(W[S].charAt(0)){case"X":_=parseInt(W[S].slice(1))-1,++Q;break;case"Y":for(v=parseInt(W[S].slice(1))-1,P=M.length;P<=v;++P)M[P]=[];break;case"M":z=parseInt(W[S].slice(1))/20;break;case"F":break;case"G":break;case"P":O=T[parseInt(W[S].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(E=W[S].slice(1).split(" "),P=parseInt(E[0],10);P<=parseInt(E[1],10);++P)z=parseInt(E[2],10),N[P-1]=z===0?{hidden:!0}:{wch:z},Ih(N[P-1]);break;case"C":_=parseInt(W[S].slice(1))-1,N[_]||(N[_]={});break;case"R":v=parseInt(W[S].slice(1))-1,C[v]||(C[v]={}),z>0?(C[v].hpt=z,C[v].hpx=wp(z)):z===0&&(C[v].hidden=!0);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+I)}Q<1&&(O=null);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+I)}}return C.length>0&&(A["!rows"]=C),N.length>0&&(A["!cols"]=N),f&&f.sheetRows&&(M=M.slice(0,f.sheetRows)),[M,A]}function o(x,f){var y=a(x,f),v=y[0],_=y[1],k=$p(v,f);return Bn(_).forEach(function(S){k[S]=_[S]}),k}function l(x,f){return qh(o(x,f),f)}function c(x,f,y,v){var _="C;Y"+(y+1)+";X"+(v+1)+";K";switch(x.t){case"n":_+=x.v||0,x.f&&!x.F&&(_+=";E"+q5(x.f,{r:y,c:v}));break;case"b":_+=x.v?"TRUE":"FALSE";break;case"e":_+=x.w||x.v;break;case"d":_+='"'+(x.w||x.v)+'"';break;case"s":_+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function d(x,f){f.forEach(function(y,v){var _="F;W"+(v+1)+" "+(v+1)+" ";y.hidden?_+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=Ox(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=Bx(y.wpx)),typeof y.wch=="number"&&(_+=Math.round(y.wch))),_.charAt(_.length-1)!=" "&&x.push(_)})}function u(x,f){f.forEach(function(y,v){var _="F;";y.hidden?_+="M0;":y.hpt?_+="M"+20*y.hpt+";":y.hpx&&(_+="M"+20*zx(y.hpx)+";"),_.length>2&&x.push(_+"R"+(v+1))})}function p(x,f){var y=["ID;PWXL;N;E"],v=[],_=Ks(x["!ref"]),k,S=Array.isArray(x),M=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),x["!cols"]&&d(y,x["!cols"]),x["!rows"]&&u(y,x["!rows"]),y.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var T=_.s.r;T<=_.e.r;++T)for(var O=_.s.c;O<=_.e.c;++O){var A=Xr({r:T,c:O});k=S?(x[T]||[])[O]:x[A],!(!k||k.v==null&&(!k.f||k.F))&&v.push(c(k,x,T,O))}return y.join(M)+M+v.join(M)+M+"E"+M}return{to_workbook:l,to_sheet:o,from_sheet:p}})(),GT=(function(){function e(i,o){switch(o.type){case"base64":return t(Pc(i),o);case"binary":return t(i,o);case"buffer":return t(_s&&Buffer.isBuffer(i)?i.toString("binary"):Gh(i),o);case"array":return t($f(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,d=-1,u=0,p=[];u!==l.length;++u){if(l[u].trim()==="BOT"){p[++c]=[],d=0;continue}if(!(c<0)){var x=l[u].trim().split(","),f=x[0],y=x[1];++u;for(var v=l[u]||"";(v.match(/["]/g)||[]).length&1&&u<l.length-1;)v+=`
`+l[++u];switch(v=v.trim(),+f){case-1:if(v==="BOT"){p[++c]=[],d=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?p[c][d]=!0:v==="FALSE"?p[c][d]=!1:isNaN(qd(y))?isNaN(bp(y).getDate())?p[c][d]=y:p[c][d]=Xa(y):p[c][d]=qd(y),++d;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),p[c][d++]=v!==""?v:null;break}if(v==="EOD")break}}return o&&o.sheetRows&&(p=p.slice(0,o.sheetRows)),p}function r(i,o){return $p(e(i,o),o)}function s(i,o){return qh(r(i,o),o)}var a=(function(){var i=function(c,d,u,p,x){c.push(d),c.push(u+","+p),c.push('"'+x.replace(/"/g,'""')+'"')},o=function(c,d,u,p){c.push(d+","+u),c.push(d==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var d=[],u=Ks(c["!ref"]),p,x=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var f=u.s.r;f<=u.e.r;++f){o(d,-1,0,"BOT");for(var y=u.s.c;y<=u.e.c;++y){var v=Xr({r:f,c:y});if(p=x?(c[f]||[])[y]:c[v],!p){o(d,1,0,"");continue}switch(p.t){case"n":var _=p.w;!_&&p.v!=null&&(_=p.v),_==null?p.f&&!p.F?o(d,1,0,"="+p.f):o(d,1,0,""):o(d,0,_,"V");break;case"b":o(d,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=fd(p.z||Yr[14],Ri(Xa(p.v)))),o(d,0,p.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var k=`\r
`,S=d.join(k);return S}})();return{to_workbook:s,to_sheet:r,from_sheet:a}})(),qT=(function(){function e(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,x){for(var f=p.split(`
`),y=-1,v=-1,_=0,k=[];_!==f.length;++_){var S=f[_].trim().split(":");if(S[0]==="cell"){var M=wn(S[1]);if(k.length<=M.r)for(y=k.length;y<=M.r;++y)k[y]||(k[y]=[]);switch(y=M.r,v=M.c,S[2]){case"t":k[y][v]=e(S[3]);break;case"v":k[y][v]=+S[3];break;case"vtf":var T=S[S.length-1];case"vtc":switch(S[3]){case"nl":k[y][v]=!!+S[4];break;default:k[y][v]=+S[4];break}S[2]=="vtf"&&(k[y][v]=[k[y][v],T])}}}return x&&x.sheetRows&&(k=k.slice(0,x.sheetRows)),k}function s(p,x){return $p(r(p,x),x)}function a(p,x){return qh(s(p,x),x)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(p){if(!p||!p["!ref"])return"";for(var x=[],f=[],y,v="",_=Ql(p["!ref"]),k=Array.isArray(p),S=_.s.r;S<=_.e.r;++S)for(var M=_.s.c;M<=_.e.c;++M)if(v=Xr({r:S,c:M}),y=k?(p[S]||[])[M]:p[v],!(!y||y.v==null||y.t==="z")){switch(f=["cell",v,"t"],y.t){case"s":case"str":f.push(t(y.v));break;case"n":y.f?(f[2]="vtf",f[3]="n",f[4]=y.v,f[5]=t(y.f)):(f[2]="v",f[3]=y.v);break;case"b":f[2]="vt"+(y.f?"f":"c"),f[3]="nl",f[4]=y.v?"1":"0",f[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var T=Ri(Xa(y.v));f[2]="vtc",f[3]="nd",f[4]=""+T,f[5]=y.w||fd(y.z||Yr[14],T);break;case"e":continue}x.push(f.join(":"))}return x.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function u(p){return[i,o,l,o,d(p),c].join(`
`)}return{to_workbook:a,to_sheet:s,from_sheet:u}})(),_p=(function(){function e(u,p,x,f,y){y.raw?p[x][f]=u:u===""||(u==="TRUE"?p[x][f]=!0:u==="FALSE"?p[x][f]=!1:isNaN(qd(u))?isNaN(bp(u).getDate())?p[x][f]=u:p[x][f]=Xa(u):p[x][f]=qd(u))}function t(u,p){var x=p||{},f=[];if(!u||u.length===0)return f;for(var y=u.split(/[\r\n]/),v=y.length-1;v>=0&&y[v].length===0;)--v;for(var _=10,k=0,S=0;S<=v;++S)k=y[S].indexOf(" "),k==-1?k=y[S].length:k++,_=Math.max(_,k);for(S=0;S<=v;++S){f[S]=[];var M=0;for(e(y[S].slice(0,_).trim(),f,S,M,x),M=1;M<=(y[S].length-_)/10+1;++M)e(y[S].slice(_+(M-1)*10,_+M*10).trim(),f,S,M,x)}return x.sheetRows&&(f=f.slice(0,x.sheetRows)),f}var r={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function a(u){for(var p={},x=!1,f=0,y=0;f<u.length;++f)(y=u.charCodeAt(f))==34?x=!x:!x&&y in r&&(p[y]=(p[y]||0)+1);y=[];for(f in p)Object.prototype.hasOwnProperty.call(p,f)&&y.push([p[f],f]);if(!y.length){p=s;for(f in p)Object.prototype.hasOwnProperty.call(p,f)&&y.push([p[f],f])}return y.sort(function(v,_){return v[0]-_[0]||s[v[1]]-s[_[1]]}),r[y.pop()[1]]||44}function i(u,p){var x=p||{},f="",y=x.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(f=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(f=u.charAt(4),u=u.slice(6)):f=a(u.slice(0,1024)):x&&x.FS?f=x.FS:f=a(u.slice(0,1024));var _=0,k=0,S=0,M=0,T=0,O=f.charCodeAt(0),A=!1,C=0,N=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var E=x.dateNF!=null?rq(x.dateNF):null;function z(){var P=u.slice(M,T),I={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)I.t="z";else if(x.raw)I.t="s",I.v=P;else if(P.trim().length===0)I.t="s",I.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(I.t="s",I.v=P.slice(2,-1).replace(/""/g,'"')):MJ(P)?(I.t="n",I.f=P.slice(1)):(I.t="s",I.v=P);else if(P=="TRUE")I.t="b",I.v=!0;else if(P=="FALSE")I.t="b",I.v=!1;else if(!isNaN(S=qd(P)))I.t="n",x.cellText!==!1&&(I.w=P),I.v=S;else if(!isNaN(bp(P).getDate())||E&&P.match(E)){I.z=x.dateNF||Yr[14];var W=0;E&&P.match(E)&&(P=sq(P,x.dateNF,P.match(E)||[]),W=1),x.cellDates?(I.t="d",I.v=Xa(P,W)):(I.t="n",I.v=Ri(Xa(P,W))),x.cellText!==!1&&(I.w=fd(I.z,I.v instanceof Date?Ri(I.v):I.v)),x.cellNF||delete I.z}else I.t="s",I.v=P;if(I.t=="z"||(x.dense?(y[_]||(y[_]=[]),y[_][k]=I):y[Xr({c:k,r:_})]=I),M=T+1,N=u.charCodeAt(M),v.e.c<k&&(v.e.c=k),v.e.r<_&&(v.e.r=_),C==O)++k;else if(k=0,++_,x.sheetRows&&x.sheetRows<=_)return!0}e:for(;T<u.length;++T)switch(C=u.charCodeAt(T)){case 34:N===34&&(A=!A);break;case O:case 10:case 13:if(!A&&z())break e;break}return T-M>0&&z(),y["!ref"]=ms(v),y}function o(u,p){return!(p&&p.PRN)||p.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,p):$p(t(u,p),p)}function l(u,p){var x="",f=p.type=="string"?[0,0,0,0]:t3(u,p);switch(p.type){case"base64":x=Pc(u);break;case"binary":x=u;break;case"buffer":p.codepage==65001?x=u.toString("utf8"):p.codepage&&typeof Tx<"u"||(x=_s&&Buffer.isBuffer(u)?u.toString("binary"):Gh(u));break;case"array":x=$f(u);break;case"string":x=u;break;default:throw new Error("Unrecognized type "+p.type)}return f[0]==239&&f[1]==187&&f[2]==191?x=Sa(x.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?x=Sa(x):p.type=="binary"&&typeof Tx<"u",x.slice(0,19)=="socialcalc:version:"?qT.to_sheet(p.type=="string"?x:Sa(x),p):o(x,p)}function c(u,p){return qh(l(u,p),p)}function d(u){for(var p=[],x=Ks(u["!ref"]),f,y=Array.isArray(u),v=x.s.r;v<=x.e.r;++v){for(var _=[],k=x.s.c;k<=x.e.c;++k){var S=Xr({r:v,c:k});if(f=y?(u[v]||[])[k]:u[S],!f||f.v==null){_.push("          ");continue}for(var M=(f.w||(Pu(f),f.w)||"").slice(0,10);M.length<10;)M+=" ";_.push(M+(k===0?" ":""))}p.push(_.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}})();function gZ(e,t){var r=t||{},s=!!r.WTF;r.WTF=!0;try{var a=VT.to_workbook(e,r);return r.WTF=s,a}catch(i){if(r.WTF=s,!i.message.match(/SYLK bad record ID/)&&s)throw i;return _p.to_workbook(e,t)}}var Pf=(function(){function e(B,q,Q){if(B){vo(B,B.l||0);for(var K=Q.Enum||oe;B.l<B.length;){var ae=B.read_shift(2),ge=K[ae]||K[65535],he=B.read_shift(2),ke=B.l+he,Ae=ge.f&&ge.f(B,he,Q);if(B.l=ke,q(Ae,ge,ae))return}}}function t(B,q){switch(q.type){case"base64":return r(Ec(Pc(B)),q);case"binary":return r(Ec(B),q);case"buffer":case"array":return r(B,q)}throw"Unsupported type "+q.type}function r(B,q){if(!B)return B;var Q=q||{},K=Q.dense?[]:{},ae="Sheet1",ge="",he=0,ke={},Ae=[],We=[],fe={s:{r:0,c:0},e:{r:0,c:0}},ht=Q.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)Q.Enum=oe,e(B,function(rt,ft,Re){switch(Re){case 0:Q.vers=rt,rt>=4096&&(Q.qpro=!0);break;case 6:fe=rt;break;case 204:rt&&(ge=rt);break;case 222:ge=rt;break;case 15:case 51:Q.qpro||(rt[1].v=rt[1].v.slice(1));case 13:case 14:case 16:Re==14&&(rt[2]&112)==112&&(rt[2]&15)>1&&(rt[2]&15)<15&&(rt[1].z=Q.dateNF||Yr[14],Q.cellDates&&(rt[1].t="d",rt[1].v=Qy(rt[1].v))),Q.qpro&&rt[3]>he&&(K["!ref"]=ms(fe),ke[ae]=K,Ae.push(ae),K=Q.dense?[]:{},fe={s:{r:0,c:0},e:{r:0,c:0}},he=rt[3],ae=ge||"Sheet"+(he+1),ge="");var pe=Q.dense?(K[rt[0].r]||[])[rt[0].c]:K[Xr(rt[0])];if(pe){pe.t=rt[1].t,pe.v=rt[1].v,rt[1].z!=null&&(pe.z=rt[1].z),rt[1].f!=null&&(pe.f=rt[1].f);break}Q.dense?(K[rt[0].r]||(K[rt[0].r]=[]),K[rt[0].r][rt[0].c]=rt[1]):K[Xr(rt[0])]=rt[1];break}},Q);else if(B[2]==26||B[2]==14)Q.Enum=ee,B[2]==14&&(Q.qpro=!0,B.l=0),e(B,function(rt,ft,Re){switch(Re){case 204:ae=rt;break;case 22:rt[1].v=rt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(rt[3]>he&&(K["!ref"]=ms(fe),ke[ae]=K,Ae.push(ae),K=Q.dense?[]:{},fe={s:{r:0,c:0},e:{r:0,c:0}},he=rt[3],ae="Sheet"+(he+1)),ht>0&&rt[0].r>=ht)break;Q.dense?(K[rt[0].r]||(K[rt[0].r]=[]),K[rt[0].r][rt[0].c]=rt[1]):K[Xr(rt[0])]=rt[1],fe.e.c<rt[0].c&&(fe.e.c=rt[0].c),fe.e.r<rt[0].r&&(fe.e.r=rt[0].r);break;case 27:rt[14e3]&&(We[rt[14e3][0]]=rt[14e3][1]);break;case 1537:We[rt[0]]=rt[1],rt[0]==he&&(ae=rt[1]);break}},Q);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(K["!ref"]=ms(fe),ke[ge||ae]=K,Ae.push(ge||ae),!We.length)return{SheetNames:Ae,Sheets:ke};for(var De={},Ee=[],Ue=0;Ue<We.length;++Ue)ke[Ae[Ue]]?(Ee.push(We[Ue]||Ae[Ue]),De[We[Ue]]=ke[We[Ue]]||ke[Ae[Ue]]):(Ee.push(We[Ue]),De[We[Ue]]={"!ref":"A1"});return{SheetNames:Ee,Sheets:De}}function s(B,q){var Q=q||{};if(+Q.codepage>=0&&$d(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var K=Zl(),ae=Ks(B["!ref"]),ge=Array.isArray(B),he=[];ir(K,0,i(1030)),ir(K,6,c(ae));for(var ke=Math.min(ae.e.r,8191),Ae=ae.s.r;Ae<=ke;++Ae)for(var We=ti(Ae),fe=ae.s.c;fe<=ae.e.c;++fe){Ae===ae.s.r&&(he[fe]=_n(fe));var ht=he[fe]+We,De=ge?(B[Ae]||[])[fe]:B[ht];if(!(!De||De.t=="z"))if(De.t=="n")(De.v|0)==De.v&&De.v>=-32768&&De.v<=32767?ir(K,13,f(Ae,fe,De.v)):ir(K,14,v(Ae,fe,De.v));else{var Ee=Pu(De);ir(K,15,p(Ae,fe,Ee.slice(0,239)))}}return ir(K,1),K.end()}function a(B,q){var Q=q||{};if(+Q.codepage>=0&&$d(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var K=Zl();ir(K,0,o(B));for(var ae=0,ge=0;ae<B.SheetNames.length;++ae)(B.Sheets[B.SheetNames[ae]]||{})["!ref"]&&ir(K,27,se(B.SheetNames[ae],ge++));var he=0;for(ae=0;ae<B.SheetNames.length;++ae){var ke=B.Sheets[B.SheetNames[ae]];if(!(!ke||!ke["!ref"])){for(var Ae=Ks(ke["!ref"]),We=Array.isArray(ke),fe=[],ht=Math.min(Ae.e.r,8191),De=Ae.s.r;De<=ht;++De)for(var Ee=ti(De),Ue=Ae.s.c;Ue<=Ae.e.c;++Ue){De===Ae.s.r&&(fe[Ue]=_n(Ue));var rt=fe[Ue]+Ee,ft=We?(ke[De]||[])[Ue]:ke[rt];if(!(!ft||ft.t=="z"))if(ft.t=="n")ir(K,23,z(De,Ue,he,ft.v));else{var Re=Pu(ft);ir(K,22,C(De,Ue,he,Re.slice(0,239)))}}++he}}return ir(K,1),K.end()}function i(B){var q=Tt(2);return q.write_shift(2,B),q}function o(B){var q=Tt(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var Q=0,K=0,ae=0,ge=0;ge<B.SheetNames.length;++ge){var he=B.SheetNames[ge],ke=B.Sheets[he];if(!(!ke||!ke["!ref"])){++ae;var Ae=Ql(ke["!ref"]);Q<Ae.e.r&&(Q=Ae.e.r),K<Ae.e.c&&(K=Ae.e.c)}}return Q>8191&&(Q=8191),q.write_shift(2,Q),q.write_shift(1,ae),q.write_shift(1,K),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function l(B,q,Q){var K={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&Q.qpro?(K.s.c=B.read_shift(1),B.l++,K.s.r=B.read_shift(2),K.e.c=B.read_shift(1),B.l++,K.e.r=B.read_shift(2),K):(K.s.c=B.read_shift(2),K.s.r=B.read_shift(2),q==12&&Q.qpro&&(B.l+=2),K.e.c=B.read_shift(2),K.e.r=B.read_shift(2),q==12&&Q.qpro&&(B.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function c(B){var q=Tt(8);return q.write_shift(2,B.s.c),q.write_shift(2,B.s.r),q.write_shift(2,B.e.c),q.write_shift(2,B.e.r),q}function d(B,q,Q){var K=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(K[0].c=B.read_shift(1),K[3]=B.read_shift(1),K[0].r=B.read_shift(2),B.l+=2):(K[2]=B.read_shift(1),K[0].c=B.read_shift(2),K[0].r=B.read_shift(2)),K}function u(B,q,Q){var K=B.l+q,ae=d(B,q,Q);if(ae[1].t="s",Q.vers==20768){B.l++;var ge=B.read_shift(1);return ae[1].v=B.read_shift(ge,"utf8"),ae}return Q.qpro&&B.l++,ae[1].v=B.read_shift(K-B.l,"cstr"),ae}function p(B,q,Q){var K=Tt(7+Q.length);K.write_shift(1,255),K.write_shift(2,q),K.write_shift(2,B),K.write_shift(1,39);for(var ae=0;ae<K.length;++ae){var ge=Q.charCodeAt(ae);K.write_shift(1,ge>=128?95:ge)}return K.write_shift(1,0),K}function x(B,q,Q){var K=d(B,q,Q);return K[1].v=B.read_shift(2,"i"),K}function f(B,q,Q){var K=Tt(7);return K.write_shift(1,255),K.write_shift(2,q),K.write_shift(2,B),K.write_shift(2,Q,"i"),K}function y(B,q,Q){var K=d(B,q,Q);return K[1].v=B.read_shift(8,"f"),K}function v(B,q,Q){var K=Tt(13);return K.write_shift(1,255),K.write_shift(2,q),K.write_shift(2,B),K.write_shift(8,Q,"f"),K}function _(B,q,Q){var K=B.l+q,ae=d(B,q,Q);if(ae[1].v=B.read_shift(8,"f"),Q.qpro)B.l=K;else{var ge=B.read_shift(2);T(B.slice(B.l,B.l+ge),ae),B.l+=ge}return ae}function k(B,q,Q){var K=q&32768;return q&=-32769,q=(K?B:0)+(q>=8192?q-16384:q),(K?"":"$")+(Q?_n(q):ti(q))}var S={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},M=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(B,q){vo(B,0);for(var Q=[],K=0,ae="",ge="",he="",ke="";B.l<B.length;){var Ae=B[B.l++];switch(Ae){case 0:Q.push(B.read_shift(8,"f"));break;case 1:ge=k(q[0].c,B.read_shift(2),!0),ae=k(q[0].r,B.read_shift(2),!1),Q.push(ge+ae);break;case 2:{var We=k(q[0].c,B.read_shift(2),!0),fe=k(q[0].r,B.read_shift(2),!1);ge=k(q[0].c,B.read_shift(2),!0),ae=k(q[0].r,B.read_shift(2),!1),Q.push(We+fe+":"+ge+ae)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(B.read_shift(2));break;case 6:{for(var ht="";Ae=B[B.l++];)ht+=String.fromCharCode(Ae);Q.push('"'+ht.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:ke=Q.pop(),he=Q.pop(),Q.push(["AND","OR"][Ae-20]+"("+he+","+ke+")");break;default:if(Ae<32&&M[Ae])ke=Q.pop(),he=Q.pop(),Q.push(he+M[Ae]+ke);else if(S[Ae]){if(K=S[Ae][1],K==69&&(K=B[B.l++]),K>Q.length){console.error("WK1 bad formula parse 0x"+Ae.toString(16)+":|"+Q.join("|")+"|");return}var De=Q.slice(-K);Q.length-=K,Q.push(S[Ae][0]+"("+De.join(",")+")")}else return Ae<=7?console.error("WK1 invalid opcode "+Ae.toString(16)):Ae<=24?console.error("WK1 unsupported op "+Ae.toString(16)):Ae<=30?console.error("WK1 invalid opcode "+Ae.toString(16)):Ae<=115?console.error("WK1 unsupported function opcode "+Ae.toString(16)):console.error("WK1 unrecognized opcode "+Ae.toString(16))}}Q.length==1?q[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function O(B){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=B.read_shift(2),q[3]=B[B.l++],q[0].c=B[B.l++],q}function A(B,q){var Q=O(B);return Q[1].t="s",Q[1].v=B.read_shift(q-4,"cstr"),Q}function C(B,q,Q,K){var ae=Tt(6+K.length);ae.write_shift(2,B),ae.write_shift(1,Q),ae.write_shift(1,q),ae.write_shift(1,39);for(var ge=0;ge<K.length;++ge){var he=K.charCodeAt(ge);ae.write_shift(1,he>=128?95:he)}return ae.write_shift(1,0),ae}function N(B,q){var Q=O(B);Q[1].v=B.read_shift(2);var K=Q[1].v>>1;if(Q[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return Q[1].v=K,Q}function E(B,q){var Q=O(B),K=B.read_shift(4),ae=B.read_shift(4),ge=B.read_shift(2);if(ge==65535)return K===0&&ae===3221225472?(Q[1].t="e",Q[1].v=15):K===0&&ae===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var he=ge&32768;return ge=(ge&32767)-16446,Q[1].v=(1-he*2)*(ae*Math.pow(2,ge+32)+K*Math.pow(2,ge)),Q}function z(B,q,Q,K){var ae=Tt(14);if(ae.write_shift(2,B),ae.write_shift(1,Q),ae.write_shift(1,q),K==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var ge=0,he=0,ke=0,Ae=0;return K<0&&(ge=1,K=-K),he=Math.log2(K)|0,K/=Math.pow(2,he-31),Ae=K>>>0,(Ae&2147483648)==0&&(K/=2,++he,Ae=K>>>0),K-=Ae,Ae|=2147483648,Ae>>>=0,K*=Math.pow(2,32),ke=K>>>0,ae.write_shift(4,ke),ae.write_shift(4,Ae),he+=16383+(ge?32768:0),ae.write_shift(2,he),ae}function P(B,q){var Q=E(B);return B.l+=q-14,Q}function I(B,q){var Q=O(B),K=B.read_shift(4);return Q[1].v=K>>6,Q}function W(B,q){var Q=O(B),K=B.read_shift(8,"f");return Q[1].v=K,Q}function Z(B,q){var Q=W(B);return B.l+=q-10,Q}function Y(B,q){return B[B.l+q-1]==0?B.read_shift(q,"cstr"):""}function te(B,q){var Q=B[B.l++];Q>q-1&&(Q=q-1);for(var K="";K.length<Q;)K+=String.fromCharCode(B[B.l++]);return K}function ie(B,q,Q){if(!(!Q.qpro||q<21)){var K=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var ae=B.read_shift(q-21,"cstr");return[K,ae]}}function le(B,q){for(var Q={},K=B.l+q;B.l<K;){var ae=B.read_shift(2);if(ae==14e3){for(Q[ae]=[0,""],Q[ae][0]=B.read_shift(2);B[B.l];)Q[ae][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return Q}function se(B,q){var Q=Tt(5+B.length);Q.write_shift(2,14e3),Q.write_shift(2,q);for(var K=0;K<B.length;++K){var ae=B.charCodeAt(K);Q[Q.l++]=ae>127?95:ae}return Q[Q.l++]=0,Q}var oe={0:{n:"BOF",f:xi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Y},222:{n:"SHEETNAMELP",f:te},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:A},23:{n:"NUMBER17",f:E},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:le},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:Z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Y},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ie},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:a,to_workbook:t}})();function vZ(e){var t={},r=e.match(sl),s=0,a=!1;if(r)for(;s!=r.length;++s){var i=Jr(r[s]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=v5[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var yZ=(function(){var e=Px("t"),t=Px("rPr");function r(i){var o=i.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:Gs(o[1])},c=i.match(t);return c&&(l.s=vZ(c[1])),l}var s=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(s,"").split(a).map(r).filter(function(l){return l.v})}})(),bZ=(function(){var t=/(\r\n|\n)/g;function r(a,i,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function s(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(s).join("")}})(),_Z=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,wZ=/<(?:\w+:)?r>/,NZ=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function $5(e,t){var r=t?t.cellHTML:!0,s={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(s.t=Gs(Sa(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),s.r=Sa(e),r&&(s.h=E5(s.t))):e.match(wZ)&&(s.r=Sa(e),s.t=Gs(Sa((e.replace(NZ,"").match(_Z)||[]).join("").replace(sl,""))),r&&(s.h=bZ(yZ(s.r)))),s):{t:""}}var kZ=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,jZ=/<(?:\w+:)?(?:si|sstItem)>/g,CZ=/<\/(?:\w+:)?(?:si|sstItem)>/;function SZ(e,t){var r=[],s="";if(!e)return r;var a=e.match(kZ);if(a){s=a[2].replace(jZ,"").split(CZ);for(var i=0;i!=s.length;++i){var o=$5(s[i].trim(),t);o!=null&&(r[r.length]=o)}a=Jr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var EZ=/^\s|\s$|[\t\n\r]/;function KT(e,t){if(!t.bookSST)return"";var r=[ai];r[r.length]=nr("sst",null,{xmlns:em[0],count:e.Count,uniqueCount:e.Unique});for(var s=0;s!=e.length;++s)if(e[s]!=null){var a=e[s],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(EZ)&&(i+=' xml:space="preserve"'),i+=">"+Na(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function AZ(e){return[e.read_shift(4),e.read_shift(4)]}function TZ(e,t){var r=[],s=!1;return Bu(e,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:s=!0;break;case 36:s=!1;break;default:if(o.T,!s||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function MZ(e,t){return t||(t=Tt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var LZ=$q;function PZ(e){var t=Zl();Wt(t,159,MZ(e));for(var r=0;r<e.length;++r)Wt(t,19,LZ(e[r]));return Wt(t,160),t.end()}function YT(e){for(var t=[],r=e.split(""),s=0;s<r.length;++s)t[s]=r[s].charCodeAt(0);return t}function Au(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function FZ(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Au(e,4),t.U=Au(e,4),t.W=Au(e,4),t}function DZ(e){for(var t=e.read_shift(4),r=e.l+t-4,s={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(s.name=e.read_shift(0,"lpp4"),s.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return s}function IZ(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(DZ(e));return t}function RZ(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function OZ(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Au(e,4),t.U=Au(e,4),t.W=Au(e,4),t}function BZ(e){var t=OZ(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function ZT(e,t){var r=e.l+t,s={};s.Flags=e.read_shift(4)&63,e.l+=4,s.AlgID=e.read_shift(4);var a=!1;switch(s.AlgID){case 26126:case 26127:case 26128:a=s.Flags==36;break;case 26625:a=s.Flags==4;break;case 0:a=s.Flags==16||s.Flags==4||s.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+s.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return s.AlgIDHash=e.read_shift(4),s.KeySize=e.read_shift(4),s.ProviderType=e.read_shift(4),e.l+=8,s.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,s}function XT(e,t){var r={},s=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,s),e.l=s,r}function zZ(e){var t=Au(e);switch(t.Minor){case 2:return[t.Minor,UZ(e)];case 3:return[t.Minor,$Z()];case 4:return[t.Minor,WZ(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function UZ(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),s=ZT(e,r),a=XT(e,e.length-e.l);return{t:"Std",h:s,v:a}}function $Z(){throw new Error("File is password-protected: ECMA-376 Extensible")}function WZ(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),s={};return r.replace(sl,function(i){var o=Jr(i);switch(Z0(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){s[l]=o[l]});break;case"<dataIntegrity":s.encryptedHmacKey=o.encryptedHmacKey,s.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":s.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":s.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":s.encs.push(o);break;default:throw o[0]}}),s}function HZ(e,t){var r={},s=r.EncryptionVersionInfo=Au(e,4);if(t-=4,s.Minor!=2)throw new Error("unrecognized minor version code: "+s.Minor);if(s.Major>4||s.Major<2)throw new Error("unrecognized major version code: "+s.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=ZT(e,a),t-=a,r.EncryptionVerifier=XT(e,t),r}function VZ(e){var t={},r=t.EncryptionVersionInfo=Au(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function W5(e){var t=0,r,s=YT(e),a=s.length+1,i,o,l,c,d;for(r=Dh(a),r[0]=s.length,i=1;i!=a;++i)r[i]=s[i-1];for(i=a-1;i>=0;--i)o=r[i],l=(t&16384)===0?0:1,c=t<<1&32767,d=l|c,t=d^o;return t^52811}var JT=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],s=function(o){return(o/2|o*128)&255},a=function(o,l){return s(o^l)},i=function(o){for(var l=t[o.length-1],c=104,d=o.length-1;d>=0;--d)for(var u=o[d],p=0;p!=7;++p)u&64&&(l^=r[c]),u*=2,--c;return l};return function(o){for(var l=YT(o),c=i(l),d=l.length,u=Dh(16),p=0;p!=16;++p)u[p]=0;var x,f,y;for((d&1)===1&&(x=c>>8,u[d]=a(e[0],x),--d,x=c&255,f=l[l.length-1],u[d]=a(f,x));d>0;)--d,x=c>>8,u[d]=a(l[d],x),--d,x=c&255,u[d]=a(l[d],x);for(d=15,y=15-l.length;y>0;)x=c>>8,u[d]=a(e[y],x),--d,--y,x=c&255,u[d]=a(l[d],x),--d,--y;return u}})(),GZ=function(e,t,r,s,a){a||(a=t),s||(s=JT(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=s[r],o=(o>>5|o<<3)&255,a[i]=o,++r;return[a,r,s]},qZ=function(e){var t=0,r=JT(e);return function(s){var a=GZ("",s,t,r);return t=a[1],a[0]}};function KZ(e,t,r,s){var a={key:xi(e),verificationBytes:xi(e)};return r.password&&(a.verifier=W5(r.password)),s.valid=a.verificationBytes===a.verifier,s.valid&&(s.insitu=qZ(r.password)),a}function YZ(e,t,r){var s=r||{};return s.Info=e.read_shift(2),e.l-=2,s.Info===1?s.Data=VZ(e):s.Data=HZ(e,t),s}function ZZ(e,t,r){var s={Type:r.biff>=8?e.read_shift(2):0};return s.Type?YZ(e,t-2,s):KZ(e,r.biff>=8?t:t-2,r,s),s}var QT=(function(){function e(a,i){switch(i.type){case"base64":return t(Pc(a),i);case"binary":return t(a,i);case"buffer":return t(_s&&Buffer.isBuffer(a)?a.toString("binary"):Gh(a),i);case"array":return t($f(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,p){Array.isArray(l)&&(l[p]=[]);for(var x=/\\\w+\b/g,f=0,y,v=-1;y=x.exec(u);){switch(y[0]){case"\\cell":var _=u.slice(f,x.lastIndex-y[0].length);if(_[0]==" "&&(_=_.slice(1)),++v,_.length){var k={v:_,t:"s"};Array.isArray(l)?l[p][v]=k:l[Xr({r:p,c:v})]=k}break}f=x.lastIndex}v>d.e.c&&(d.e.c=v)}),l["!ref"]=ms(d),l}function r(a,i){return qh(e(a,i),i)}function s(a){for(var i=["{\\rtf1\\ansi"],o=Ks(a["!ref"]),l,c=Array.isArray(a),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var p=Xr({r:d,c:u});l=c?(a[d]||[])[u]:a[p],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Pu(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:s}})();function XZ(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Rx(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function JZ(e){var t=e[0]/255,r=e[1]/255,s=e[2]/255,a=Math.max(t,r,s),i=Math.min(t,r,s),o=a-i;if(o===0)return[0,0,t];var l=0,c=0,d=a+i;switch(c=o/(d>1?2-d:d),a){case t:l=((r-s)/o+6)%6;break;case r:l=(s-t)/o+2;break;case s:l=(t-r)/o+4;break}return[l/6,c,d/2]}function QZ(e){var t=e[0],r=e[1],s=e[2],a=r*2*(s<.5?s:1-s),i=s-a/2,o=[i,i,i],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function ny(e,t){if(t===0)return e;var r=JZ(XZ(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Rx(QZ(r))}var e9=6,eX=15,tX=1,qo=e9;function Ox(e){return Math.floor((e+Math.round(128/qo)/256)*qo)}function Bx(e){return Math.floor((e-5)/qo*100+.5)/100}function iy(e){return Math.round((e*qo+5)/qo*256)/256}function F_(e){return iy(Bx(Ox(e)))}function H5(e){var t=Math.abs(e-F_(e)),r=qo;if(t>.005)for(qo=tX;qo<eX;++qo)Math.abs(e-F_(e))<=t&&(t=Math.abs(e-F_(e)),r=qo);qo=r}function Ih(e){e.width?(e.wpx=Ox(e.width),e.wch=Bx(e.wpx),e.MDW=qo):e.wpx?(e.wch=Bx(e.wpx),e.width=iy(e.wch),e.MDW=qo):typeof e.wch=="number"&&(e.width=iy(e.wch),e.wpx=Ox(e.width),e.MDW=qo),e.customWidth&&delete e.customWidth}var rX=96,t9=rX;function zx(e){return e*96/t9}function wp(e){return e*t9/96}var sX={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function aX(e,t,r,s){t.Borders=[];var a={},i=!1;(e[0].match(sl)||[]).forEach(function(o){var l=Jr(o);switch(Z0(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=qa(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=qa(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s&&s.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function nX(e,t,r,s){t.Fills=[];var a={},i=!1;(e[0].match(sl)||[]).forEach(function(o){var l=Jr(o);switch(Z0(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s&&s.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function iX(e,t,r,s){t.Fonts=[];var a={},i=!1;(e[0].match(sl)||[]).forEach(function(o){var l=Jr(o);switch(Z0(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Sa(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?qa(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?qa(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?qa(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?qa(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?qa(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?qa(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?qa(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=v5[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=qa(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=Mf[a.color.index];a.color.index==81&&(c=Mf[1]),c||(c=Mf[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=ny(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s&&s.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function oX(e,t,r){t.NumberFmt=[];for(var s=Bn(Yr),a=0;a<s.length;++a)t.NumberFmt[s[a]]=Yr[s[a]];var i=e[0].match(sl);if(i)for(a=0;a<i.length;++a){var o=Jr(i[a]);switch(Z0(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Gs(Sa(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Eu(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function lX(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&(t[t.length]=nr("numFmt",null,{numFmtId:s,formatCode:Na(e[s])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=nr("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var D2=["numFmtId","fillId","fontId","borderId","xfId"],I2=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function cX(e,t,r){t.CellXf=[];var s,a=!1;(e[0].match(sl)||[]).forEach(function(i){var o=Jr(i),l=0;switch(Z0(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(s=o,delete s[0],l=0;l<D2.length;++l)s[D2[l]]&&(s[D2[l]]=parseInt(s[D2[l]],10));for(l=0;l<I2.length;++l)s[I2[l]]&&(s[I2[l]]=qa(s[I2[l]]));if(t.NumberFmt&&s.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[s.numFmtId]==t.NumberFmt[l]){s.numFmtId=l;break}}t.CellXf.push(s);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=qa(o.wrapText)),s.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function dX(e){var t=[];return t[t.length]=nr("cellXfs",null),e.forEach(function(r){t[t.length]=nr("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=nr("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var uX=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,s=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,d){var u={};if(!l)return u;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=l.match(t))&&oX(p,u,d),(p=l.match(a))&&iX(p,u,c,d),(p=l.match(s))&&nX(p,u,c,d),(p=l.match(i))&&aX(p,u,c,d),(p=l.match(r))&&cX(p,u,d),u}})();function r9(e,t){var r=[ai,nr("styleSheet",null,{xmlns:em[0],"xmlns:vt":Di.vt})],s;return e.SSF&&(s=lX(e.SSF))!=null&&(r[r.length]=s),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=dX(t.cellXfs))&&(r[r.length]=s),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function hX(e,t){var r=e.read_shift(2),s=Jo(e);return[r,s]}function fX(e,t,r){r||(r=Tt(6+4*t.length)),r.write_shift(2,e),Qi(t,r);var s=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),s}function mX(e,t,r){var s={};s.sz=e.read_shift(2)/20;var a=Yq(e);a.fItalic&&(s.italic=1),a.fCondense&&(s.condense=1),a.fExtend&&(s.extend=1),a.fShadow&&(s.shadow=1),a.fOutline&&(s.outline=1),a.fStrikeout&&(s.strike=1);var i=e.read_shift(2);switch(i===700&&(s.bold=1),e.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(s.underline=o);var l=e.read_shift(1);l>0&&(s.family=l);var c=e.read_shift(1);switch(c>0&&(s.charset=c),e.l++,s.color=Kq(e),e.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=Jo(e),s}function pX(e,t){t||(t=Tt(153)),t.write_shift(2,e.sz*20),Zq(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),ry(e.color,t);var s=0;return s=2,t.write_shift(1,s),Qi(e.name,t),t.length>t.l?t.slice(0,t.l):t}var xX=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],D_,gX=tl;function iC(e,t){t||(t=Tt(84)),D_||(D_=Xy(xX));var r=D_[e.patternType];r==null&&(r=40),t.write_shift(4,r);var s=0;if(r!=40)for(ry({auto:1},t),ry({auto:1},t);s<12;++s)t.write_shift(4,0);else{for(;s<4;++s)t.write_shift(4,0);for(;s<12;++s)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function vX(e,t){var r=e.l+t,s=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:s,numFmtId:a}}function s9(e,t,r){r||(r=Tt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var s=0;return r.write_shift(1,s),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function w1(e,t){return t||(t=Tt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var yX=tl;function bX(e,t){return t||(t=Tt(51)),t.write_shift(1,0),w1(null,t),w1(null,t),w1(null,t),w1(null,t),w1(null,t),t.length>t.l?t.slice(0,t.l):t}function _X(e,t){return t||(t=Tt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),ty(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function wX(e,t,r){var s=Tt(2052);return s.write_shift(4,e),ty(t,s),ty(r,s),s.length>s.l?s.slice(0,s.l):s}function NX(e,t,r){var s={};s.NumberFmt=[];for(var a in Yr)s.NumberFmt[a]=Yr[a];s.CellXf=[],s.Fonts=[];var i=[],o=!1;return Bu(e,function(c,d,u){switch(u){case 44:s.NumberFmt[c[0]]=c[1],Eu(c[1],c[0]);break;case 43:s.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=ny(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&s.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(u),o=!0;break;case 38:i.pop(),o=!1;break;default:if(d.T>0)i.push(u);else if(d.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),s}function kX(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&++r}),r!=0&&(Wt(e,615,Kd(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&Wt(e,44,fX(a,t[a]))}),Wt(e,616))}}function jX(e){var t=1;Wt(e,611,Kd(t)),Wt(e,43,pX({sz:12,color:{theme:1},name:"Calibri",family:2})),Wt(e,612)}function CX(e){var t=2;Wt(e,603,Kd(t)),Wt(e,45,iC({patternType:"none"})),Wt(e,45,iC({patternType:"gray125"})),Wt(e,604)}function SX(e){var t=1;Wt(e,613,Kd(t)),Wt(e,46,bX()),Wt(e,614)}function EX(e){var t=1;Wt(e,626,Kd(t)),Wt(e,47,s9({numFmtId:0},65535)),Wt(e,627)}function AX(e,t){Wt(e,617,Kd(t.length)),t.forEach(function(r){Wt(e,47,s9(r,0))}),Wt(e,618)}function TX(e){var t=1;Wt(e,619,Kd(t)),Wt(e,48,_X({xfId:0,name:"Normal"})),Wt(e,620)}function MX(e){var t=0;Wt(e,505,Kd(t)),Wt(e,506)}function LX(e){var t=0;Wt(e,508,wX(t,"TableStyleMedium9","PivotStyleMedium4")),Wt(e,509)}function PX(e,t){var r=Zl();return Wt(r,278),kX(r,e.SSF),jX(r),CX(r),SX(r),EX(r),AX(r,t.cellXfs),TX(r),MX(r),LX(r),Wt(r,279),r.end()}var FX=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function DX(e,t,r){t.themeElements.clrScheme=[];var s={};(e[0].match(sl)||[]).forEach(function(a){var i=Jr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":s.rgb=i.val;break;case"<a:sysClr":s.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[FX.indexOf(i[0])]=s,s={}):s.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function IX(){}function RX(){}var OX=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,BX=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,zX=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function UX(e,t,r){t.themeElements={};var s;[["clrScheme",OX,DX],["fontScheme",BX,IX],["fmtScheme",zX,RX]].forEach(function(a){if(!(s=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](s,t,r)})}var $X=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function a9(e,t){(!e||e.length===0)&&(e=V5());var r,s={};if(!(r=e.match($X)))throw new Error("themeElements not found in theme");return UX(r[0],s,t),s.raw=e,s}function V5(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[ai];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function WX(e,t,r){var s=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=s;return}var i=e.slice(e.l);e.l=s;var o;try{o=ZA(i,{type:"array"})}catch{return}var l=Ac(o,"theme/theme/theme1.xml",!0);if(l)return a9(l,r)}}function HX(e){return e.read_shift(4)}function VX(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=GX(e,4);break;case 2:t.xclrValue=RT(e);break;case 3:t.xclrValue=HX(e);break;case 4:e.l+=4;break}return e.l+=8,t}function GX(e,t){return tl(e,t)}function qX(e,t){return tl(e,t)}function KX(e){var t=e.read_shift(2),r=e.read_shift(2)-4,s=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:s[1]=VX(e);break;case 6:s[1]=qX(e,r);break;case 14:case 15:s[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return s}function YX(e,t){var r=e.l+t;e.l+=2;var s=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(KX(e,r-e.l));return{ixfe:s,ext:i}}function ZX(e,t){t.forEach(function(r){r[0]})}function XX(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Jo(e)}}function JX(e){var t=Tt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Qi(e.name,t),t.slice(0,t.l)}function QX(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function eJ(e){var t=Tt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function tJ(e,t){var r=Tt(8+2*t.length);return r.write_shift(4,e),Qi(t,r),r.slice(0,r.l)}function rJ(e){return e.l+=4,e.read_shift(4)!=0}function sJ(e,t){var r=Tt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function aJ(e,t,r){var s={Types:[],Cell:[],Value:[]},a=r||{},i=[],o=!1,l=2;return Bu(e,function(c,d,u){switch(u){case 335:s.Types.push({name:c.name});break;case 51:c.forEach(function(p){l==1?s.Cell.push({type:s.Types[p[0]-1].name,index:p[1]}):l==0&&s.Value.push({type:s.Types[p[0]-1].name,index:p[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(u),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!d.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),s}function nJ(){var e=Zl();return Wt(e,332),Wt(e,334,Kd(1)),Wt(e,335,JX({name:"XLDAPR",version:12e4,flags:3496657072})),Wt(e,336),Wt(e,339,tJ(1,"XLDAPR")),Wt(e,52),Wt(e,35,Kd(514)),Wt(e,4096,Kd(0)),Wt(e,4097,od(1)),Wt(e,36),Wt(e,53),Wt(e,340),Wt(e,337,sJ(1)),Wt(e,51,eJ([[1,0]])),Wt(e,338),Wt(e,333),e.end()}function iJ(e,t,r){var s={Types:[],Cell:[],Value:[]};if(!e)return s;var a=!1,i=2,o;return e.replace(sl,function(l){var c=Jr(l);switch(Z0(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":s.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<s.Types.length;++d)s.Types[d].name==c.name&&(o=s.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?s.Cell.push({type:s.Types[c.t-1].name,index:+c.v}):i==0&&s.Value.push({type:s.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),s}function n9(){var e=[ai];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function oJ(e){var t=[];if(!e)return t;var r=1;return(e.match(sl)||[]).forEach(function(s){var a=Jr(s);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function lJ(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Xr(r);var s=e.read_shift(1);return s&2&&(t.l="1"),s&8&&(t.a="1"),t}function cJ(e,t,r){var s=[];return Bu(e,function(i,o,l){switch(l){case 63:s.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),s}function dJ(e,t,r,s){if(!e)return e;var a=s||{},i=!1;Bu(e,function(l,c,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},a)}function uJ(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Wm=1024;function i9(e,t){for(var r=[21600,21600],s=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[nr("xml",null,{"xmlns:v":Cc.v,"xmlns:o":Cc.o,"xmlns:x":Cc.x,"xmlns:mv":Cc.mv}).replace(/\/>/,">"),nr("o:shapelayout",nr("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),nr("v:shapetype",[nr("v:stroke",null,{joinstyle:"miter"}),nr("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:s})];Wm<e*1e3;)Wm+=1e3;return t.forEach(function(i){var o=wn(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?nr("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=nr("v:fill",c,l),u={on:"t",obscured:"t"};++Wm,a=a.concat(["<v:shape"+Fx({id:"_x0000_s"+Wm,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,nr("v:shadow",null,u),nr("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",yo("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),yo("x:AutoFill","False"),yo("x:Row",String(o.r)),yo("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function oC(e,t,r,s){var a=Array.isArray(e),i;t.forEach(function(o){var l=wn(o.ref);if(a?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[o.ref],!i){i={t:"z"},a?e[l.r][l.c]=i:e[o.ref]=i;var c=Ks(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var d=ms(c);d!==e["!ref"]&&(e["!ref"]=d)}i.c||(i.c=[]);var u={a:o.author,t:o.t,r:o.r,T:r};o.h&&(u.h=o.h);for(var p=i.c.length-1;p>=0;--p){if(!r&&i.c[p].T)return;r&&!i.c[p].T&&i.c.splice(p,1)}if(r&&s){for(p=0;p<s.length;++p)if(u.a==s[p].id){u.a=s[p].name||u.a;break}}i.c.push(u)})}function hJ(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],s=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Jr(l[0]),d={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=wn(c.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var p=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),x=!!p&&!!p[1]&&$5(p[1])||{r:"",t:"",h:""};d.r=x.r,x.r=="<t></t>"&&(x.t=x.h=""),d.t=(x.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(d.h=x.h),s.push(d)}}}}),s}function o9(e){var t=[ai,nr("comments",null,{xmlns:em[0]})],r=[];return t.push("<authors>"),e.forEach(function(s){s[1].forEach(function(a){var i=Na(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(s){var a=0,i=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?a=r.indexOf("tc="+s[1][0].ID):s[1].forEach(function(c){c.a&&(a=r.indexOf(Na(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+s[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(yo("t",Na(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(yo("t",Na(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function fJ(e,t){var r=[],s=!1,a={},i=0;return e.replace(sl,function(l,c){var d=Jr(l);switch(Z0(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":a.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":s=!0;break;case"</mentions>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(!s&&t.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return l}),r}function mJ(e,t,r){var s=[ai,nr("ThreadedComments",null,{xmlns:Di.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),s.push(nr("threadedComment",yo("text",o.t||""),c))})}),s.push("</ThreadedComments>"),s.join("")}function pJ(e,t){var r=[],s=!1;return e.replace(sl,function(i){var o=Jr(i);switch(Z0(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(!s&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function xJ(e){var t=[ai,nr("personList",null,{xmlns:Di.TCMNT,"xmlns:x":em[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,s){t.push(nr("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function gJ(e){var t={};t.iauthor=e.read_shift(4);var r=am(e);return t.rfx=r.s,t.ref=Xr(r.s),e.l+=16,t}function vJ(e,t){return t==null&&(t=Tt(36)),t.write_shift(4,e[1].iauthor),Wp(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var yJ=Jo;function bJ(e){return Qi(e.slice(0,54))}function _J(e,t){var r=[],s=[],a={},i=!1;return Bu(e,function(l,c,d){switch(d){case 632:s.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=s[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function wJ(e){var t=Zl(),r=[];return Wt(t,628),Wt(t,630),e.forEach(function(s){s[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Wt(t,632,bJ(a.a)))})}),Wt(t,631),Wt(t,633),e.forEach(function(s){s[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:wn(s[0]),e:wn(s[0])};Wt(t,635,vJ([i,a])),a.t&&a.t.length>0&&Wt(t,637,Hq(a)),Wt(t,636),delete a.iauthor})}),Wt(t,634),Wt(t,629),t.end()}var NJ="application/vnd.ms-office.vbaProject";function kJ(e){var t=Rr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,s){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Rr.utils.cfb_add(t,a,e.FileIndex[s].content)}}),Rr.write(t)}function jJ(e,t){t.FullPaths.forEach(function(r,s){if(s!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Rr.utils.cfb_add(e,a,t.FileIndex[s].content)}})}var l9=["xlsb","xlsm","xlam","biff8","xla"];function CJ(){return{"!type":"dialog"}}function SJ(){return{"!type":"dialog"}}function EJ(){return{"!type":"macro"}}function AJ(){return{"!type":"macro"}}var sp=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(s,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=t.c:--u,c?d+=t.r:--d,a+(l?"":"$")+_n(u)+(c?"":"$")+ti(d)}return function(a,i){return t=i,a.replace(e,r)}})(),G5=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,q5=(function(){return function(t,r){return t.replace(G5,function(s,a,i,o,l,c){var d=P5(o)-(i?0:r.c),u=L5(c)-(l?0:r.r),p=u==0?"":l?u+1:"["+u+"]",x=d==0?"":i?d+1:"["+d+"]";return a+"R"+p+"C"+x})}})();function c9(e,t){return e.replace(G5,function(r,s,a,i,o,l){return s+(a=="$"?a+i:_n(P5(i)+t.c))+(o=="$"?o+l:ti(L5(l)+t.r))})}function TJ(e,t,r){var s=Ql(t),a=s.s,i=wn(r),o={r:i.r-a.r,c:i.c-a.c};return c9(e,o)}function MJ(e){return e.length!=1}function lC(e){return e.replace(/_xlfn\./g,"")}function fi(e){e.l+=1}function Rh(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function d9(e,t,r){var s=2;if(r){if(r.biff>=2&&r.biff<=5)return u9(e);r.biff==12&&(s=4)}var a=e.read_shift(s),i=e.read_shift(s),o=Rh(e),l=Rh(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function u9(e){var t=Rh(e),r=Rh(e),s=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:s,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function LJ(e,t,r){if(r.biff<8)return u9(e);var s=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Rh(e),o=Rh(e);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function h9(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return PJ(e);var s=e.read_shift(r&&r.biff==12?4:2),a=Rh(e);return{r:s,c:a[0],cRel:a[1],rRel:a[2]}}function PJ(e){var t=Rh(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function FJ(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function DJ(e,t,r){var s=r&&r.biff?r.biff:8;if(s>=2&&s<=5)return IJ(e);var a=e.read_shift(s>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function IJ(e){var t=e.read_shift(2),r=e.read_shift(1),s=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,s==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:s}}function RJ(e,t,r){var s=(e[e.l++]&96)>>5,a=d9(e,r.biff>=2&&r.biff<=5?6:8,r);return[s,a]}function OJ(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=d9(e,i,r);return[s,a,o]}function BJ(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[s]}function zJ(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[s,a]}function UJ(e,t,r){var s=(e[e.l++]&96)>>5,a=LJ(e,t-1,r);return[s,a]}function $J(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[s]}function cC(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function WJ(e,t,r){e.l+=2;for(var s=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=s;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function HJ(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function VJ(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function GJ(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function qJ(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[s]}function f9(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function KJ(e){return e.read_shift(2),f9(e)}function YJ(e){return e.read_shift(2),f9(e)}function ZJ(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=h9(e,0,r);return[s,a]}function XJ(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=DJ(e,0,r);return[s,a]}function JJ(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=h9(e,0,r);return[s,a,i]}function QJ(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[ree[a],x9[a],s]}function eQ(e,t,r){var s=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[s==88?-1:0,e.read_shift(1)]:tQ(e);return[a,(i[0]===0?x9:tee)[i[1]]]}function tQ(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function rQ(e,t,r){e.l+=r&&r.biff==2?3:4}function sQ(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var s=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function aQ(e){return e.l++,zu[e.read_shift(1)]}function nQ(e){return e.l++,e.read_shift(2)}function iQ(e){return e.l++,e.read_shift(1)!==0}function oQ(e){return e.l++,Yo(e)}function lQ(e,t,r){return e.l++,xg(e,t-1,r)}function cQ(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=qn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=zu[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Yo(e);break;case 2:r[1]=nm(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function dQ(e,t,r){for(var s=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=s;++i)a.push((r.biff==12?am:eb)(e));return a}function uQ(e,t,r){var s=0,a=0;r.biff==12?(s=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),s=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--s,--a==0&&(a=256));for(var i=0,o=[];i!=s&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=cQ(e,r.biff);return o}function hQ(e,t,r){var s=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[s,0,i]}function fQ(e,t,r){if(r.biff==5)return mQ(e);var s=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[s,a,i]}function mQ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var s=e.read_shift(2);return e.l+=12,[t,r,s]}function pQ(e,t,r){var s=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function xQ(e,t,r){var s=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function gQ(e,t,r){var s=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[s]}function vQ(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[s,a]}var yQ=tl,bQ=tl,_Q=tl;function vg(e,t,r){return e.l+=2,[FJ(e)]}function K5(e){return e.l+=6,[]}var wQ=vg,NQ=K5,kQ=K5,jQ=vg;function m9(e){return e.l+=2,[xi(e),e.read_shift(2)&1]}var CQ=vg,SQ=m9,EQ=K5,AQ=vg,TQ=vg,MQ=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function LQ(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=MQ[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:s,c:a,C:i}}function PQ(e){return e.l+=2,[e.read_shift(4)]}function FQ(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function DQ(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function IQ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function RQ(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function OQ(e){return e.l+=4,[0,0]}var dC={1:{n:"PtgExp",f:sQ},2:{n:"PtgTbl",f:_Q},3:{n:"PtgAdd",f:fi},4:{n:"PtgSub",f:fi},5:{n:"PtgMul",f:fi},6:{n:"PtgDiv",f:fi},7:{n:"PtgPower",f:fi},8:{n:"PtgConcat",f:fi},9:{n:"PtgLt",f:fi},10:{n:"PtgLe",f:fi},11:{n:"PtgEq",f:fi},12:{n:"PtgGe",f:fi},13:{n:"PtgGt",f:fi},14:{n:"PtgNe",f:fi},15:{n:"PtgIsect",f:fi},16:{n:"PtgUnion",f:fi},17:{n:"PtgRange",f:fi},18:{n:"PtgUplus",f:fi},19:{n:"PtgUminus",f:fi},20:{n:"PtgPercent",f:fi},21:{n:"PtgParen",f:fi},22:{n:"PtgMissArg",f:fi},23:{n:"PtgStr",f:lQ},26:{n:"PtgSheet",f:FQ},27:{n:"PtgEndSheet",f:DQ},28:{n:"PtgErr",f:aQ},29:{n:"PtgBool",f:iQ},30:{n:"PtgInt",f:nQ},31:{n:"PtgNum",f:oQ},32:{n:"PtgArray",f:$J},33:{n:"PtgFunc",f:QJ},34:{n:"PtgFuncVar",f:eQ},35:{n:"PtgName",f:hQ},36:{n:"PtgRef",f:ZJ},37:{n:"PtgArea",f:RJ},38:{n:"PtgMemArea",f:pQ},39:{n:"PtgMemErr",f:yQ},40:{n:"PtgMemNoMem",f:bQ},41:{n:"PtgMemFunc",f:xQ},42:{n:"PtgRefErr",f:gQ},43:{n:"PtgAreaErr",f:BJ},44:{n:"PtgRefN",f:XJ},45:{n:"PtgAreaN",f:UJ},46:{n:"PtgMemAreaN",f:IQ},47:{n:"PtgMemNoMemN",f:RQ},57:{n:"PtgNameX",f:fQ},58:{n:"PtgRef3d",f:JJ},59:{n:"PtgArea3d",f:OJ},60:{n:"PtgRefErr3d",f:vQ},61:{n:"PtgAreaErr3d",f:zJ},255:{}},BQ={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},zQ={1:{n:"PtgElfLel",f:m9},2:{n:"PtgElfRw",f:AQ},3:{n:"PtgElfCol",f:wQ},6:{n:"PtgElfRwV",f:TQ},7:{n:"PtgElfColV",f:jQ},10:{n:"PtgElfRadical",f:CQ},11:{n:"PtgElfRadicalS",f:EQ},13:{n:"PtgElfColS",f:NQ},15:{n:"PtgElfColSV",f:kQ},16:{n:"PtgElfRadicalLel",f:SQ},25:{n:"PtgList",f:LQ},29:{n:"PtgSxName",f:PQ},255:{}},UQ={0:{n:"PtgAttrNoop",f:OQ},1:{n:"PtgAttrSemi",f:qJ},2:{n:"PtgAttrIf",f:VJ},4:{n:"PtgAttrChoose",f:WJ},8:{n:"PtgAttrGoto",f:HJ},16:{n:"PtgAttrSum",f:rQ},32:{n:"PtgAttrBaxcel",f:cC},33:{n:"PtgAttrBaxcel",f:cC},64:{n:"PtgAttrSpace",f:KJ},65:{n:"PtgAttrSpaceSemi",f:YJ},128:{n:"PtgAttrIfError",f:GJ},255:{}};function yg(e,t,r,s){if(s.biff<8)return tl(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=uQ(e,0,s),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=dQ(e,r[o][1],s),i.push(r[o][2]);break;case"PtgExp":s&&s.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(tl(e,t)),i}function bg(e,t,r){for(var s=e.l+t,a,i,o=[];s!=e.l;)t=s-e.l,i=e[e.l],a=dC[i]||dC[BQ[i]],(i===24||i===25)&&(a=(i===24?zQ:UQ)[e[e.l+1]]),!a||!a.f?tl(e,t):o.push([a.n,a.f(e,t,r)]);return o}function $Q(e){for(var t=[],r=0;r<e.length;++r){for(var s=e[r],a=[],i=0;i<s.length;++i){var o=s[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var WQ={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function HQ(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function p9(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var s=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!s)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[s[0]][0]){case 357:return a=s[1]==-1?"#REF":e.SheetNames[s[1]],s[1]==s[2]?a:a+":"+e.SheetNames[s[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[s[0]][0];case 355:default:return"SH33TJSSRC"+e[s[0]][0]}switch(e[s[0]][0][0]){case 1025:return a=s[1]==-1?"#REF":e.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?a:a+":"+e.SheetNames[s[2]];case 14849:return e[s[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[s[0]][0][3]?(a=s[1]==-1?"#REF":e[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?a:a+":"+e[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function uC(e,t,r){var s=p9(e,t,r);return s=="#REF"?s:HQ(s,r)}function Go(e,t,r,s,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,d,u,p=0,x=0,f,y="";if(!e[0]||!e[0][0])return"";for(var v=-1,_="",k=0,S=e[0].length;k<S;++k){var M=e[0][k];switch(M[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),v>=0){switch(e[0][v][1][0]){case 0:_=In(" ",e[0][v][1][1]);break;case 1:_=In("\r",e[0][v][1][1]);break;default:if(_="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}d=d+_,v=-1}l.push(d+WQ[M[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Z1(M[1][1],o,a),l.push(X1(u,i));break;case"PtgRefN":u=r?Z1(M[1][1],r,a):M[1][1],l.push(X1(u,i));break;case"PtgRef3d":p=M[1][1],u=Z1(M[1][2],o,a),y=uC(s,p,a),l.push(y+"!"+X1(u,i));break;case"PtgFunc":case"PtgFuncVar":var T=M[1][0],O=M[1][1];T||(T=0),T&=127;var A=T==0?[]:l.slice(-T);l.length-=T,O==="User"&&(O=A.shift()),l.push(O+"("+A.join(",")+")");break;case"PtgBool":l.push(M[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(M[1]);break;case"PtgNum":l.push(String(M[1]));break;case"PtgStr":l.push('"'+M[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(M[1]);break;case"PtgAreaN":f=zj(M[1][1],r?{s:r}:o,a),l.push(M_(f,a));break;case"PtgArea":f=zj(M[1][1],o,a),l.push(M_(f,a));break;case"PtgArea3d":p=M[1][1],f=M[1][2],y=uC(s,p,a),l.push(y+"!"+M_(f,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=M[1][2];var C=(s.names||[])[x-1]||(s[0]||[])[x],N=C?C.Name:"SH33TJSNAME"+String(x);N&&N.slice(0,6)=="_xlfn."&&!a.xlfn&&(N=N.slice(6)),l.push(N);break;case"PtgNameX":var E=M[1][1];x=M[1][2];var z;if(a.biff<=5)E<0&&(E=-E),s[E]&&(z=s[E][x]);else{var P="";if(((s[E]||[])[0]||[])[0]==14849||(((s[E]||[])[0]||[])[0]==1025?s[E][x]&&s[E][x].itab>0&&(P=s.SheetNames[s[E][x].itab-1]+"!"):P=s.SheetNames[x-1]+"!"),s[E]&&s[E][x])P+=s[E][x].Name;else if(s[0]&&s[0][x])P+=s[0][x].Name;else{var I=(p9(s,E,a)||"").split(";;");I[x-1]?P=I[x-1]:P+="SH33TJSERRX"}l.push(P);break}z||(z={Name:"SH33TJSERRY"}),l.push(z.Name);break;case"PtgParen":var W="(",Z=")";if(v>=0){switch(_="",e[0][v][1][0]){case 2:W=In(" ",e[0][v][1][1])+W;break;case 3:W=In("\r",e[0][v][1][1])+W;break;case 4:Z=In(" ",e[0][v][1][1])+Z;break;case 5:Z=In("\r",e[0][v][1][1])+Z;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}l.push(W+l.pop()+Z);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:M[1][1],r:M[1][0]};var Y={c:r.c,r:r.r};if(s.sharedf[Xr(u)]){var te=s.sharedf[Xr(u)];l.push(Go(te,o,Y,s,a))}else{var ie=!1;for(c=0;c!=s.arrayf.length;++c)if(d=s.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(Go(d[1],o,Y,s,a)),ie=!0;break}ie||l.push(M[1])}break;case"PtgArray":l.push("{"+$Q(M[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+M[1].idx+"[#"+M[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(M));default:throw new Error("Unrecognized Formula Token: "+String(M))}var le=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&le.indexOf(e[0][k][0])==-1){M=e[0][v];var se=!0;switch(M[1][0]){case 4:se=!1;case 0:_=In(" ",M[1][1]);break;case 5:se=!1;case 1:_=In("\r",M[1][1]);break;default:if(_="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+M[1][0])}l.push((se?_:"")+l.pop()+(se?"":_)),v=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function VQ(e,t,r){var s=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],tl(e,t-2)];var l=bg(e,o,r);return t!==o+a&&(i=yg(e,t-o-a,l,r)),e.l=s,[l,i]}function GQ(e,t,r){var s=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],tl(e,t-2)];var l=bg(e,o,r);return t!==o+a&&(i=yg(e,t-o-a,l,r)),e.l=s,[l,i]}function qQ(e,t,r,s){var a=e.l+t,i=bg(e,s,r),o;return a!==e.l&&(o=yg(e,a-e.l,i,r)),[i,o]}function KQ(e,t,r){var s=e.l+t,a,i=e.read_shift(2),o=bg(e,i,r);return i==65535?[[],tl(e,t-2)]:(t!==i+2&&(a=yg(e,s-i-2,o,r)),[o,a])}function YQ(e){var t;if(wu(e,e.l+6)!==65535)return[Yo(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function ZQ(e){if(e==null){var t=Tt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Wf(e);return Wf(0)}function I_(e,t,r){var s=e.l+t,a=X0(e);r.biff==2&&++e.l;var i=YQ(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=GQ(e,s-e.l,r);return{cell:a,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function XQ(e,t,r,s,a){var i=Vf(t,r,a),o=ZQ(e.v),l=Tt(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=Tt(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var p=Ji([i,o,l,d]);return p}function tb(e,t,r){var s=e.read_shift(4),a=bg(e,s,r),i=e.read_shift(4),o=i>0?yg(e,i,a,r):null;return[a,o]}var JQ=tb,rb=tb,QQ=tb,eee=tb,tee={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},x9={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ree={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function hC(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function see(e){var t="of:="+e.replace(G5,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function R_(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function aee(e){return e.replace(/\./,"!")}var Q1={},ap={},ex=typeof Map<"u";function Y5(e,t,r){var s=0,a=e.length;if(r){if(ex?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=ex?r.get(t):r[t];s<i.length;++s)if(e[i[s]].t===t)return e.Count++,i[s]}}else for(;s<a;++s)if(e[s].t===t)return e.Count++,s;return e[a]={t},e.Count++,e.Unique++,r&&(ex?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function sb(e,t){var r={min:e+1,max:e+1},s=-1;return t.MDW&&(qo=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?s=Bx(t.wpx):t.wch!=null&&(s=t.wch),s>-1?(r.width=iy(s),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Ff(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Kh(e,t,r){var s=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(s==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Eu(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=s=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===s)return a;return e[i]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function g9(e,t,r,s,a,i){try{s.cellNF&&(e.z=Yr[t])}catch(l){if(s.WTF)throw l}if(!(e.t==="z"&&!s.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Xa(e.v)),(!s||s.cellText!==!1)&&e.t!=="z")try{if(Yr[t]==null&&Eu(tq[t]||"General",t),e.t==="e")e.w=e.w||zu[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Lx(e.v);else if(e.t==="d"){var o=Ri(e.v);(o|0)===o?e.w=o.toString(10):e.w=Lx(o)}else{if(e.v===void 0)return"";e.w=Uf(e.v,ap)}else e.t==="d"?e.w=fd(t,Ri(e.v),ap):e.w=fd(t,e.v,ap)}catch(l){if(s.WTF)throw l}if(s.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=ny(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),s.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=ny(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),s.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(s.WTF&&i.Fills)throw l}}}function nee(e,t,r){if(e&&e["!ref"]){var s=Ks(e["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function iee(e,t){var r=Ks(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=ms(r))}var oee=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,lee=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,cee=/<(?:\w:)?hyperlink [^>]*>/mg,dee=/"(\w*:\w*)"/,uee=/<(?:\w:)?col\b[^>]*[\/]?>/g,hee=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,fee=/<(?:\w:)?pageMargins[^>]*\/>/g,v9=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,mee=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,pee=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function xee(e,t,r,s,a,i,o){if(!e)return e;s||(s={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",u="",p=e.match(lee);p?(d=e.slice(0,p.index),u=e.slice(p.index+p[0].length)):d=u=e;var x=d.match(v9);x?Z5(x[0],l,a,r):(x=d.match(mee))&&vee(x[0],x[1]||"",l,a,r);var f=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(f>0){var y=d.slice(f,f+50).match(dee);y&&iee(l,y[1])}var v=d.match(pee);v&&v[1]&&Mee(v[1],a);var _=[];if(t.cellStyles){var k=d.match(uee);k&&Cee(_,k)}p&&Fee(p[1],l,t,c,i,o);var S=u.match(hee);S&&(l["!autofilter"]=Eee(S[0]));var M=[],T=u.match(oee);if(T)for(f=0;f!=T.length;++f)M[f]=Ks(T[f].slice(T[f].indexOf('"')+1));var O=u.match(cee);O&&Nee(l,O,s);var A=u.match(fee);if(A&&(l["!margins"]=kee(Jr(A[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=ms(c)),t.sheetRows>0&&l["!ref"]){var C=Ks(l["!ref"]);t.sheetRows<=+C.e.r&&(C.e.r=t.sheetRows-1,C.e.r>c.e.r&&(C.e.r=c.e.r),C.e.r<C.s.r&&(C.s.r=C.e.r),C.e.c>c.e.c&&(C.e.c=c.e.c),C.e.c<C.s.c&&(C.s.c=C.e.c),l["!fullref"]=l["!ref"],l["!ref"]=ms(C))}return _.length>0&&(l["!cols"]=_),M.length>0&&(l["!merges"]=M),l}function gee(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ms(e[r])+'"/>';return t+"</mergeCells>"}function Z5(e,t,r,s){var a=Jr(e);r.Sheets[s]||(r.Sheets[s]={}),a.codeName&&(r.Sheets[s].CodeName=Gs(Sa(a.codeName)))}function vee(e,t,r,s,a){Z5(e.slice(0,e.indexOf(">")),r,s,a)}function yee(e,t,r,s,a){var i=!1,o={},l=null;if(s.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=O0(Na(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+nr("outlinePr",null,d)}!i&&!l||(a[a.length]=nr("sheetPr",l,o))}var bee=["objects","scenarios","selectLockedCells","selectUnlockedCells"],_ee=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function wee(e){var t={sheet:1};return bee.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),_ee.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=W5(e.password).toString(16).toUpperCase()),nr("sheetProtection",null,t)}function Nee(e,t,r){for(var s=Array.isArray(e),a=0;a!=t.length;++a){var i=Jr(Sa(t[a]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+Gs(i.location))):(i.Target="#"+Gs(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=Ks(i.ref),c=l.s.r;c<=l.e.r;++c)for(var d=l.s.c;d<=l.e.c;++d){var u=Xr({c:d,r:c});s?(e[c]||(e[c]=[]),e[c][d]||(e[c][d]={t:"z",v:void 0}),e[c][d].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function kee(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function jee(e){return Ff(e),nr("pageMargins",null,e)}function Cee(e,t){for(var r=!1,s=0;s!=t.length;++s){var a=Jr(t[s],!0);a.hidden&&(a.hidden=qa(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,H5(a.width)),Ih(a);i<=o;)e[i++]=Ja(a)}}function See(e,t){for(var r=["<cols>"],s,a=0;a!=t.length;++a)(s=t[a])&&(r[r.length]=nr("col",null,sb(a,s)));return r[r.length]="</cols>",r.join("")}function Eee(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function Aee(e,t,r,s){var a=typeof e.ref=="string"?e.ref:ms(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Ql(a);o.s.r==o.e.r&&(o.e.r=Ql(t["!ref"]).e.r,a=ms(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==s){c.Ref="'"+r.SheetNames[s]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+r.SheetNames[s]+"'!"+a}),nr("autoFilter",null,{ref:a})}var Tee=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Mee(e,t){t.Views||(t.Views=[{}]),(e.match(Tee)||[]).forEach(function(r,s){var a=Jr(r);t.Views[s]||(t.Views[s]={}),+a.zoomScale&&(t.Views[s].zoom=+a.zoomScale),qa(a.rightToLeft)&&(t.Views[s].RTL=!0)})}function Lee(e,t,r,s){var a={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),nr("sheetViews",nr("sheetView",null,a),{})}function Pee(e,t,r,s){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=zu[e.v];break;case"d":s&&s.cellDates?a=Xa(e.v,-1).toISOString():(e=Ja(e),e.t="n",a=""+(e.v=Ri(Xa(e.v)))),typeof e.z>"u"&&(e.z=Yr[14]);break;default:a=e.v;break}var l=yo("v",Na(a)),c={r:t},d=Kh(s.cellXfs,e,s);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){l=yo("v",""+Y5(s.Strings,e.v,s.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=nr("f",Na(e.f),u)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),nr("c",l,c)}var Fee=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,s=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Px("v"),o=Px("f");return function(c,d,u,p,x,f){for(var y=0,v="",_=[],k=[],S=0,M=0,T=0,O="",A,C,N=0,E=0,z,P,I=0,W=0,Z=Array.isArray(f.CellXf),Y,te=[],ie=[],le=Array.isArray(d),se=[],oe={},ee=!1,B=!!u.sheetStubs,q=c.split(t),Q=0,K=q.length;Q!=K;++Q){v=q[Q].trim();var ae=v.length;if(ae!==0){var ge=0;e:for(y=0;y<ae;++y)switch(v[y]){case">":if(v[y-1]!="/"){++y;break e}if(u&&u.cellStyles){if(C=Jr(v.slice(ge,y),!0),N=C.r!=null?parseInt(C.r,10):N+1,E=-1,u.sheetRows&&u.sheetRows<N)continue;oe={},ee=!1,C.ht&&(ee=!0,oe.hpt=parseFloat(C.ht),oe.hpx=wp(oe.hpt)),C.hidden=="1"&&(ee=!0,oe.hidden=!0),C.outlineLevel!=null&&(ee=!0,oe.level=+C.outlineLevel),ee&&(se[N-1]=oe)}break;case"<":ge=y;break}if(ge>=y)break;if(C=Jr(v.slice(ge,y),!0),N=C.r!=null?parseInt(C.r,10):N+1,E=-1,!(u.sheetRows&&u.sheetRows<N)){p.s.r>N-1&&(p.s.r=N-1),p.e.r<N-1&&(p.e.r=N-1),u&&u.cellStyles&&(oe={},ee=!1,C.ht&&(ee=!0,oe.hpt=parseFloat(C.ht),oe.hpx=wp(oe.hpt)),C.hidden=="1"&&(ee=!0,oe.hidden=!0),C.outlineLevel!=null&&(ee=!0,oe.level=+C.outlineLevel),ee&&(se[N-1]=oe)),_=v.slice(y).split(e);for(var he=0;he!=_.length&&_[he].trim().charAt(0)=="<";++he);for(_=_.slice(he),y=0;y!=_.length;++y)if(v=_[y].trim(),v.length!==0){if(k=v.match(r),S=y,M=0,T=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,k!=null&&k.length===2){for(S=0,O=k[1],M=0;M!=O.length&&!((T=O.charCodeAt(M)-64)<1||T>26);++M)S=26*S+T;--S,E=S}else++E;for(M=0;M!=v.length&&v.charCodeAt(M)!==62;++M);if(++M,C=Jr(v.slice(0,M),!0),C.r||(C.r=Xr({r:N-1,c:E})),O=v.slice(M),A={t:""},(k=O.match(i))!=null&&k[1]!==""&&(A.v=Gs(k[1])),u.cellFormula){if((k=O.match(o))!=null&&k[1]!==""){if(A.f=Gs(Sa(k[1])).replace(/\r\n/g,`
`),u.xlfn||(A.f=lC(A.f)),k[0].indexOf('t="array"')>-1)A.F=(O.match(a)||[])[1],A.F.indexOf(":")>-1&&te.push([Ks(A.F),A.F]);else if(k[0].indexOf('t="shared"')>-1){P=Jr(k[0]);var ke=Gs(Sa(k[1]));u.xlfn||(ke=lC(ke)),ie[parseInt(P.si,10)]=[P,ke,C.r]}}else(k=O.match(/<f[^>]*\/>/))&&(P=Jr(k[0]),ie[P.si]&&(A.f=TJ(ie[P.si][1],ie[P.si][2],C.r)));var Ae=wn(C.r);for(M=0;M<te.length;++M)Ae.r>=te[M][0].s.r&&Ae.r<=te[M][0].e.r&&Ae.c>=te[M][0].s.c&&Ae.c<=te[M][0].e.c&&(A.F=te[M][1])}if(C.t==null&&A.v===void 0)if(A.f||A.F)A.v=0,A.t="n";else if(B)A.t="z";else continue;else A.t=C.t||"n";switch(p.s.c>E&&(p.s.c=E),p.e.c<E&&(p.e.c=E),A.t){case"n":if(A.v==""||A.v==null){if(!B)continue;A.t="z"}else A.v=parseFloat(A.v);break;case"s":if(typeof A.v>"u"){if(!B)continue;A.t="z"}else z=Q1[parseInt(A.v,10)],A.v=z.t,A.r=z.r,u.cellHTML&&(A.h=z.h);break;case"str":A.t="s",A.v=A.v!=null?Sa(A.v):"",u.cellHTML&&(A.h=E5(A.v));break;case"inlineStr":k=O.match(s),A.t="s",k!=null&&(z=$5(k[1]))?(A.v=z.t,u.cellHTML&&(A.h=z.h)):A.v="";break;case"b":A.v=qa(A.v);break;case"d":u.cellDates?A.v=Xa(A.v,1):(A.v=Ri(Xa(A.v,1)),A.t="n");break;case"e":(!u||u.cellText!==!1)&&(A.w=A.v),A.v=bT[A.v];break}if(I=W=0,Y=null,Z&&C.s!==void 0&&(Y=f.CellXf[C.s],Y!=null&&(Y.numFmtId!=null&&(I=Y.numFmtId),u.cellStyles&&Y.fillId!=null&&(W=Y.fillId))),g9(A,I,W,u,x,f),u.cellDates&&Z&&A.t=="n"&&zp(Yr[I])&&(A.t="d",A.v=Qy(A.v)),C.cm&&u.xlmeta){var We=(u.xlmeta.Cell||[])[+C.cm-1];We&&We.type=="XLDAPR"&&(A.D=!0)}if(le){var fe=wn(C.r);d[fe.r]||(d[fe.r]=[]),d[fe.r][fe.c]=A}else d[C.r]=A}}}}se.length>0&&(d["!rows"]=se)}})();function Dee(e,t,r,s){var a=[],i=[],o=Ks(e["!ref"]),l="",c,d="",u=[],p=0,x=0,f=e["!rows"],y=Array.isArray(e),v={r:d},_,k=-1;for(x=o.s.c;x<=o.e.c;++x)u[x]=_n(x);for(p=o.s.r;p<=o.e.r;++p){for(i=[],d=ti(p),x=o.s.c;x<=o.e.c;++x){c=u[x]+d;var S=y?(e[p]||[])[x]:e[c];S!==void 0&&(l=Pee(S,c,e,t))!=null&&i.push(l)}(i.length>0||f&&f[p])&&(v={r:d},f&&f[p]&&(_=f[p],_.hidden&&(v.hidden=1),k=-1,_.hpx?k=zx(_.hpx):_.hpt&&(k=_.hpt),k>-1&&(v.ht=k,v.customHeight=1),_.level&&(v.outlineLevel=_.level)),a[a.length]=nr("row",i.join(""),v))}if(f)for(;p<f.length;++p)f&&f[p]&&(v={r:p+1},_=f[p],_.hidden&&(v.hidden=1),k=-1,_.hpx?k=zx(_.hpx):_.hpt&&(k=_.hpt),k>-1&&(v.ht=k,v.customHeight=1),_.level&&(v.outlineLevel=_.level),a[a.length]=nr("row","",v));return a.join("")}function y9(e,t,r,s){var a=[ai,nr("worksheet",null,{xmlns:em[0],"xmlns:r":Di.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=Ks(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=ms(u)}s||(s={}),c["!comments"]=[];var p=[];yee(c,r,e,t,a),a[a.length]=nr("dimension",null,{ref:d}),a[a.length]=Lee(c,t,e,r),t.sheetFormat&&(a[a.length]=nr("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=See(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=Dee(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=wee(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=Aee(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=gee(c["!merges"]));var x=-1,f,y=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(v){v[1].Target&&(f={ref:v[0]},v[1].Target.charAt(0)!="#"&&(y=ba(s,-1,Na(v[1].Target).replace(/#.*$/,""),js.HLINK),f["r:id"]="rId"+y),(x=v[1].Target.indexOf("#"))>-1&&(f.location=Na(v[1].Target.slice(x+1))),v[1].Tooltip&&(f.tooltip=Na(v[1].Tooltip)),a[a.length]=nr("hyperlink",null,f))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=jee(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=yo("ignoredErrors",nr("ignoredError",null,{numberStoredAsText:1,sqref:d}))),p.length>0&&(y=ba(s,-1,"../drawings/drawing"+(e+1)+".xml",js.DRAW),a[a.length]=nr("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=p),c["!comments"].length>0&&(y=ba(s,-1,"../drawings/vmlDrawing"+(e+1)+".vml",js.VML),a[a.length]=nr("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Iee(e,t){var r={},s=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=s,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function Ree(e,t,r){var s=Tt(145),a=(r["!rows"]||[])[e]||{};s.write_shift(4,e),s.write_shift(4,0);var i=320;a.hpx?i=zx(a.hpx)*20:a.hpt&&(i=a.hpt*20),s.write_shift(2,i),s.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),s.write_shift(1,o),s.write_shift(1,0);var l=0,c=s.l;s.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var p=-1,x=-1,f=u<<10;f<u+1<<10;++f){d.c=f;var y=Array.isArray(r)?(r[d.r]||[])[d.c]:r[Xr(d)];y&&(p<0&&(p=f),x=f)}p<0||(++l,s.write_shift(4,p),s.write_shift(4,x))}var v=s.l;return s.l=c,s.write_shift(4,l),s.l=v,s.length>s.l?s.slice(0,s.l):s}function Oee(e,t,r,s){var a=Ree(s,r,t);(a.length>17||(t["!rows"]||[])[s])&&Wt(e,0,a)}var Bee=am,zee=Wp;function Uee(){}function $ee(e,t){var r={},s=e[e.l];return++e.l,r.above=!(s&64),r.left=!(s&128),e.l+=18,r.name=Vq(e),r}function Wee(e,t,r){r==null&&(r=Tt(84+4*e.length));var s=192;t&&(t.above&&(s&=-65),t.left&&(s&=-129)),r.write_shift(1,s);for(var a=1;a<3;++a)r.write_shift(1,0);return ry({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),pT(e,r),r.slice(0,r.l)}function Hee(e){var t=gd(e);return[t]}function Vee(e,t,r){return r==null&&(r=Tt(8)),tm(t,r)}function Gee(e){var t=rm(e);return[t]}function qee(e,t,r){return r==null&&(r=Tt(4)),sm(t,r)}function Kee(e){var t=gd(e),r=e.read_shift(1);return[t,r,"b"]}function Yee(e,t,r){return r==null&&(r=Tt(9)),tm(t,r),r.write_shift(1,e.v?1:0),r}function Zee(e){var t=rm(e),r=e.read_shift(1);return[t,r,"b"]}function Xee(e,t,r){return r==null&&(r=Tt(5)),sm(t,r),r.write_shift(1,e.v?1:0),r}function Jee(e){var t=gd(e),r=e.read_shift(1);return[t,r,"e"]}function Qee(e,t,r){return r==null&&(r=Tt(9)),tm(t,r),r.write_shift(1,e.v),r}function ete(e){var t=rm(e),r=e.read_shift(1);return[t,r,"e"]}function tte(e,t,r){return r==null&&(r=Tt(8)),sm(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function rte(e){var t=gd(e),r=e.read_shift(4);return[t,r,"s"]}function ste(e,t,r){return r==null&&(r=Tt(12)),tm(t,r),r.write_shift(4,t.v),r}function ate(e){var t=rm(e),r=e.read_shift(4);return[t,r,"s"]}function nte(e,t,r){return r==null&&(r=Tt(8)),sm(t,r),r.write_shift(4,t.v),r}function ite(e){var t=gd(e),r=Yo(e);return[t,r,"n"]}function ote(e,t,r){return r==null&&(r=Tt(16)),tm(t,r),Wf(e.v,r),r}function b9(e){var t=rm(e),r=Yo(e);return[t,r,"n"]}function lte(e,t,r){return r==null&&(r=Tt(12)),sm(t,r),Wf(e.v,r),r}function cte(e){var t=gd(e),r=R5(e);return[t,r,"n"]}function dte(e,t,r){return r==null&&(r=Tt(12)),tm(t,r),xT(e.v,r),r}function ute(e){var t=rm(e),r=R5(e);return[t,r,"n"]}function hte(e,t,r){return r==null&&(r=Tt(8)),sm(t,r),xT(e.v,r),r}function fte(e){var t=gd(e),r=F5(e);return[t,r,"is"]}function mte(e){var t=gd(e),r=Jo(e);return[t,r,"str"]}function pte(e,t,r){return r==null&&(r=Tt(12+4*e.v.length)),tm(t,r),Qi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function xte(e){var t=rm(e),r=Jo(e);return[t,r,"str"]}function gte(e,t,r){return r==null&&(r=Tt(8+4*e.v.length)),sm(t,r),Qi(e.v,r),r.length>r.l?r.slice(0,r.l):r}function vte(e,t,r){var s=e.l+t,a=gd(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=rb(e,s-e.l,r);o[3]=Go(l,null,a,r.supbooks,r)}else e.l=s;return o}function yte(e,t,r){var s=e.l+t,a=gd(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=rb(e,s-e.l,r);o[3]=Go(l,null,a,r.supbooks,r)}else e.l=s;return o}function bte(e,t,r){var s=e.l+t,a=gd(e);a.r=r["!row"];var i=Yo(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=rb(e,s-e.l,r);o[3]=Go(l,null,a,r.supbooks,r)}else e.l=s;return o}function _te(e,t,r){var s=e.l+t,a=gd(e);a.r=r["!row"];var i=Jo(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=rb(e,s-e.l,r);o[3]=Go(l,null,a,r.supbooks,r)}else e.l=s;return o}var wte=am,Nte=Wp;function kte(e,t){return t==null&&(t=Tt(4)),t.write_shift(4,e),t}function jte(e,t){var r=e.l+t,s=am(e),a=D5(e),i=Jo(e),o=Jo(e),l=Jo(e);e.l=r;var c={rfx:s,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function Cte(e,t){var r=Tt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Wp({s:wn(e[0]),e:wn(e[0])},r),I5("rId"+t,r);var s=e[1].Target.indexOf("#"),a=s==-1?"":e[1].Target.slice(s+1);return Qi(a||"",r),Qi(e[1].Tooltip||"",r),Qi("",r),r.slice(0,r.l)}function Ste(){}function Ete(e,t,r){var s=e.l+t,a=gT(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=JQ(e,s-e.l,r);o[1]=l}else e.l=s;return o}function Ate(e,t,r){var s=e.l+t,a=am(e),i=[a];if(r.cellFormula){var o=eee(e,s-e.l,r);i[1]=o,e.l=s}else e.l=s;return i}function Tte(e,t,r){r==null&&(r=Tt(18));var s=sb(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(s.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof s.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var _9=["left","right","top","bottom","header","footer"];function Mte(e){var t={};return _9.forEach(function(r){t[r]=Yo(e)}),t}function Lte(e,t){return t==null&&(t=Tt(48)),Ff(e),_9.forEach(function(r){Wf(e[r],t)}),t}function Pte(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Fte(e,t,r){r==null&&(r=Tt(30));var s=924;return(((t||{}).Views||[])[0]||{}).RTL&&(s|=32),r.write_shift(2,s),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Dte(e){var t=Tt(24);return t.write_shift(4,4),t.write_shift(4,1),Wp(e,t),t}function Ite(e,t){return t==null&&(t=Tt(66)),t.write_shift(2,e.password?W5(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Rte(){}function Ote(){}function Bte(e,t,r,s,a,i,o){if(!e)return e;var l=t||{};s||(s={"!id":{}});var c=l.dense?[]:{},d,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,x=!1,f,y,v,_,k,S,M,T,O,A=[];l.biff=12,l["!row"]=0;var C=0,N=!1,E=[],z={},P=l.supbooks||a.supbooks||[[]];if(P.sharedf=z,P.arrayf=E,P.SheetNames=a.SheetNames||a.Sheets.map(function(le){return le.name}),!l.supbooks&&(l.supbooks=P,a.Names))for(var I=0;I<a.Names.length;++I)P[0][I+1]=a.Names[I];var W=[],Z=[],Y=!1;Ux[16]={n:"BrtShortReal",f:b9};var te;if(Bu(e,function(se,oe,ee){if(!x)switch(ee){case 148:d=se;break;case 0:f=se,l.sheetRows&&l.sheetRows<=f.r&&(x=!0),T=ti(_=f.r),l["!row"]=f.r,(se.hidden||se.hpt||se.level!=null)&&(se.hpt&&(se.hpx=wp(se.hpt)),Z[se.r]=se);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:se[2]},se[2]){case"n":y.v=se[1];break;case"s":M=Q1[se[1]],y.v=M.t,y.r=M.r;break;case"b":y.v=!!se[1];break;case"e":y.v=se[1],l.cellText!==!1&&(y.w=zu[y.v]);break;case"str":y.t="s",y.v=se[1];break;case"is":y.t="s",y.v=se[1].t;break}if((v=o.CellXf[se[0].iStyleRef])&&g9(y,v.numFmtId,null,l,i,o),k=se[0].c==-1?k+1:se[0].c,l.dense?(c[_]||(c[_]=[]),c[_][k]=y):c[_n(k)+T]=y,l.cellFormula){for(N=!1,C=0;C<E.length;++C){var B=E[C];f.r>=B[0].s.r&&f.r<=B[0].e.r&&k>=B[0].s.c&&k<=B[0].e.c&&(y.F=ms(B[0]),N=!0)}!N&&se.length>3&&(y.f=se[3])}if(u.s.r>f.r&&(u.s.r=f.r),u.s.c>k&&(u.s.c=k),u.e.r<f.r&&(u.e.r=f.r),u.e.c<k&&(u.e.c=k),l.cellDates&&v&&y.t=="n"&&zp(Yr[v.numFmtId])){var q=Cf(y.v);q&&(y.t="d",y.v=new Date(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u))}te&&(te.type=="XLDAPR"&&(y.D=!0),te=void 0);break;case 1:case 12:if(!l.sheetStubs||p)break;y={t:"z",v:void 0},k=se[0].c==-1?k+1:se[0].c,l.dense?(c[_]||(c[_]=[]),c[_][k]=y):c[_n(k)+T]=y,u.s.r>f.r&&(u.s.r=f.r),u.s.c>k&&(u.s.c=k),u.e.r<f.r&&(u.e.r=f.r),u.e.c<k&&(u.e.c=k),te&&(te.type=="XLDAPR"&&(y.D=!0),te=void 0);break;case 176:A.push(se);break;case 49:te=((l.xlmeta||{}).Cell||[])[se-1];break;case 494:var Q=s["!id"][se.relId];for(Q?(se.Target=Q.Target,se.loc&&(se.Target+="#"+se.loc),se.Rel=Q):se.relId==""&&(se.Target="#"+se.loc),_=se.rfx.s.r;_<=se.rfx.e.r;++_)for(k=se.rfx.s.c;k<=se.rfx.e.c;++k)l.dense?(c[_]||(c[_]=[]),c[_][k]||(c[_][k]={t:"z",v:void 0}),c[_][k].l=se):(S=Xr({c:k,r:_}),c[S]||(c[S]={t:"z",v:void 0}),c[S].l=se);break;case 426:if(!l.cellFormula)break;E.push(se),O=l.dense?c[_][k]:c[_n(k)+T],O.f=Go(se[1],u,{r:f.r,c:k},P,l),O.F=ms(se[0]);break;case 427:if(!l.cellFormula)break;z[Xr(se[0].s)]=se[1],O=l.dense?c[_][k]:c[_n(k)+T],O.f=Go(se[1],u,{r:f.r,c:k},P,l);break;case 60:if(!l.cellStyles)break;for(;se.e>=se.s;)W[se.e--]={width:se.w/256,hidden:!!(se.flags&1),level:se.level},Y||(Y=!0,H5(se.w/256)),Ih(W[se.e+1]);break;case 161:c["!autofilter"]={ref:ms(se)};break;case 476:c["!margins"]=se;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),se.name&&(a.Sheets[r].CodeName=se.name),(se.above||se.left)&&(c["!outline"]={above:se.above,left:se.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),se.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!oe.T){if(!p||l.WTF)throw new Error("Unexpected record 0x"+ee.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(u.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(c["!ref"]=ms(d||u)),l.sheetRows&&c["!ref"]){var ie=Ks(c["!ref"]);l.sheetRows<=+ie.e.r&&(ie.e.r=l.sheetRows-1,ie.e.r>u.e.r&&(ie.e.r=u.e.r),ie.e.r<ie.s.r&&(ie.s.r=ie.e.r),ie.e.c>u.e.c&&(ie.e.c=u.e.c),ie.e.c<ie.s.c&&(ie.s.c=ie.e.c),c["!fullref"]=c["!ref"],c["!ref"]=ms(ie))}return A.length>0&&(c["!merges"]=A),W.length>0&&(c["!cols"]=W),Z.length>0&&(c["!rows"]=Z),c}function zte(e,t,r,s,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Ja(t),t.z=t.z||Yr[14],t.v=Ri(Xa(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:s};switch(c.s=Kh(a.cellXfs,t,a),t.l&&i["!links"].push([Xr(c),t.l]),t.c&&i["!comments"].push([Xr(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=Y5(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?Wt(e,18,nte(t,c)):Wt(e,7,ste(t,c))):(c.t="str",o?Wt(e,17,gte(t,c)):Wt(e,6,pte(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Wt(e,13,hte(t,c)):Wt(e,2,dte(t,c)):o?Wt(e,16,lte(t,c)):Wt(e,5,ote(t,c)),!0;case"b":return c.t="b",o?Wt(e,15,Xee(t,c)):Wt(e,4,Yee(t,c)),!0;case"e":return c.t="e",o?Wt(e,14,tte(t,c)):Wt(e,3,Qee(t,c)),!0}return o?Wt(e,12,qee(t,c)):Wt(e,1,Vee(t,c)),!0}function Ute(e,t,r,s){var a=Ks(t["!ref"]||"A1"),i,o="",l=[];Wt(e,145);var c=Array.isArray(t),d=a.e.r;t["!rows"]&&(d=Math.max(a.e.r,t["!rows"].length-1));for(var u=a.s.r;u<=d;++u){o=ti(u),Oee(e,t,a,u);var p=!1;if(u<=a.e.r)for(var x=a.s.c;x<=a.e.c;++x){u===a.s.r&&(l[x]=_n(x)),i=l[x]+o;var f=c?(t[u]||[])[x]:t[i];if(!f){p=!1;continue}p=zte(e,f,u,x,s,t,p)}}Wt(e,146)}function $te(e,t){!t||!t["!merges"]||(Wt(e,177,kte(t["!merges"].length)),t["!merges"].forEach(function(r){Wt(e,176,Nte(r))}),Wt(e,178))}function Wte(e,t){!t||!t["!cols"]||(Wt(e,390),t["!cols"].forEach(function(r,s){r&&Wt(e,60,Tte(s,r))}),Wt(e,391))}function Hte(e,t){!t||!t["!ref"]||(Wt(e,648),Wt(e,649,Dte(Ks(t["!ref"]))),Wt(e,650))}function Vte(e,t,r){t["!links"].forEach(function(s){if(s[1].Target){var a=ba(r,-1,s[1].Target.replace(/#.*$/,""),js.HLINK);Wt(e,494,Cte(s,a))}}),delete t["!links"]}function Gte(e,t,r,s){if(t["!comments"].length>0){var a=ba(s,-1,"../drawings/vmlDrawing"+(r+1)+".vml",js.VML);Wt(e,551,I5("rId"+a)),t["!legacy"]=a}}function qte(e,t,r,s){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:ms(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Ql(i);l.s.r==l.e.r&&(l.e.r=Ql(t["!ref"]).e.r,i=ms(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==s){d.Ref="'"+r.SheetNames[s]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+r.SheetNames[s]+"'!"+i}),Wt(e,161,Wp(Ks(i))),Wt(e,162)}}function Kte(e,t,r){Wt(e,133),Wt(e,137,Fte(t,r)),Wt(e,138),Wt(e,134)}function Yte(e,t){t["!protect"]&&Wt(e,535,Ite(t["!protect"]))}function Zte(e,t,r,s){var a=Zl(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Ks(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Wt(a,129),(r.vbaraw||o["!outline"])&&Wt(a,147,Wee(l,o["!outline"])),Wt(a,148,zee(c)),Kte(a,o,r.Workbook),Wte(a,o),Ute(a,o,e,t),Yte(a,o),qte(a,o,r,e),$te(a,o),Vte(a,o,s),o["!margins"]&&Wt(a,476,Lte(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Hte(a,o),Gte(a,o,e,s),Wt(a,130),a.end()}function Xte(e){var t=[],r=e.match(/^<c:numCache>/),s;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=Gs((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){s=i.replace(/<.*?>/g,"")}),[t,a,s]}function Jte(e,t,r,s,a,i){var o=i||{"!type":"chart"};if(!e)return i;var l=0,c=0,d="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var x=Xte(p);u.s.r=u.s.c=0,u.e.c=l,d=_n(l),x[0].forEach(function(f,y){o[d+ti(y)]={t:"n",v:f,z:x[1]},c=y}),u.e.r<c&&(u.e.r=c),++l}),l>0&&(o["!ref"]=ms(u)),o}function Qte(e,t,r,s,a){if(!e)return e;s||(s={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(v9);return l&&Z5(l[0],i,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),s["!id"][i["!rel"]]&&(i["!drawel"]=s["!id"][i["!rel"]]),i}function ere(e,t){e.l+=10;var r=Jo(e);return{name:r}}function tre(e,t,r,s,a){if(!e)return e;s||(s={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Bu(e,function(c,d,u){switch(u){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),s["!id"][i["!rel"]]&&(i["!drawel"]=s["!id"][i["!rel"]]),i}var X5=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],rre=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],sre=[],are=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function fC(e,t){for(var r=0;r!=e.length;++r)for(var s=e[r],a=0;a!=t.length;++a){var i=t[a];if(s[i[0]]==null)s[i[0]]=i[1];else switch(i[2]){case"bool":typeof s[i[0]]=="string"&&(s[i[0]]=qa(s[i[0]]));break;case"int":typeof s[i[0]]=="string"&&(s[i[0]]=parseInt(s[i[0]],10));break}}}function mC(e,t){for(var r=0;r!=t.length;++r){var s=t[r];if(e[s[0]]==null)e[s[0]]=s[1];else switch(s[2]){case"bool":typeof e[s[0]]=="string"&&(e[s[0]]=qa(e[s[0]]));break;case"int":typeof e[s[0]]=="string"&&(e[s[0]]=parseInt(e[s[0]],10));break}}}function w9(e){mC(e.WBProps,X5),mC(e.CalcPr,are),fC(e.WBView,rre),fC(e.Sheets,sre),ap.date1904=qa(e.WBProps.date1904)}function nre(e){return!e.Workbook||!e.Workbook.WBProps?"false":qa(e.Workbook.WBProps.date1904)?"true":"false"}var ire="][*?/\\".split("");function N9(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return ire.forEach(function(s){if(e.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function ore(e,t,r){e.forEach(function(s,a){N9(s);for(var i=0;i<a;++i)if(s==e[i])throw new Error("Duplicate Sheet Name: "+s);if(r){var o=t&&t[a]&&t[a].CodeName||s;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function lre(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];ore(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)nee(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var cre=/<\w+:workbook/;function dre(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},s=!1,a="xmlns",i={},o=0;if(e.replace(sl,function(c,d){var u=Jr(c);switch(Z0(u[0])){case"<?xml":break;case"<workbook":c.match(cre)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":X5.forEach(function(p){if(u[p[0]]!=null)switch(p[2]){case"bool":r.WBProps[p[0]]=qa(u[p[0]]);break;case"int":r.WBProps[p[0]]=parseInt(u[p[0]],10);break;default:r.WBProps[p[0]]=u[p[0]]}}),u.codeName&&(r.WBProps.CodeName=Sa(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Gs(Sa(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":s=!0;break;case"</definedNames>":s=!1;break;case"<definedName":i={},i.Name=Sa(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),qa(u.hidden||"0")&&(i.Hidden=!0),o=d+c.length;break;case"</definedName>":i.Ref=Gs(Sa(e.slice(o,d))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":s=!0;break;case"</AlternateContent>":s=!1;break;case"<revisionPtr":break;default:if(!s&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),em.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return w9(r),r}function k9(e){var t=[ai];t[t.length]=nr("workbook",null,{xmlns:em[0],"xmlns:r":Di.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(X5.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(s[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(s.codeName=e.Workbook.WBProps.CodeName,delete s.CodeName)),t[t.length]=nr("workbookPr",null,s);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Na(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=nr("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=nr("definedName",Na(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function ure(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Xw(e),r.name=Jo(e),r}function hre(e,t){return t||(t=Tt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),I5(e.strRelID,t),Qi(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function fre(e,t){var r={},s=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Jo(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(s&65536),r.backupFile=!!(s&64),r.checkCompatibility=!!(s&4096),r.date1904=!!(s&1),r.filterPrivacy=!!(s&8),r.hidePivotFieldList=!!(s&1024),r.promptedSolutions=!!(s&16),r.publishItems=!!(s&2048),r.refreshAllConnections=!!(s&262144),r.saveExternalLinkValues=!!(s&128),r.showBorderUnselectedTables=!!(s&4),r.showInkAnnotation=!!(s&32),r.showObjects=["all","placeholders","none"][s>>13&3],r.showPivotChartFilter=!!(s&32768),r.updateLinks=["userSet","never","always"][s>>8&3],r}function mre(e,t){t||(t=Tt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),pT(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function pre(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function xre(e,t,r){var s=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=Gq(e),o=QQ(e,0,r),l=D5(e);e.l=s;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function gre(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},s=[],a=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],Ux[16]={n:"BrtFRTArchID$",f:pre},Bu(e,function(c,d,u){switch(u){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Go(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([u,c]):o[0]=[u,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:s.push(u),a=!0;break;case 36:s.pop(),a=!1;break;case 37:s.push(u),a=!0;break;case 38:s.pop(),a=!1;break;case 16:break;default:if(!d.T){if(!a||t.WTF&&s[s.length-1]!=37&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),w9(r),r.Names=i,r.supbooks=o,r}function vre(e,t){Wt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var s=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:s,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Wt(e,156,hre(a))}Wt(e,144)}function yre(e,t){t||(t=Tt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Qi("SheetJS",t),Qi(Yv.version,t),Qi(Yv.version,t),Qi("7262",t),t.length>t.l?t.slice(0,t.l):t}function bre(e,t){t||(t=Tt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function _re(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,s=0,a=-1,i=-1;s<r.length;++s)!r[s]||!r[s].Hidden&&a==-1?a=s:r[s].Hidden==1&&i==-1&&(i=s);i>a||(Wt(e,135),Wt(e,158,bre(a)),Wt(e,136))}}function wre(e,t){var r=Zl();return Wt(r,131),Wt(r,128,yre()),Wt(r,153,mre(e.Workbook&&e.Workbook.WBProps||null)),_re(r,e),vre(r,e),Wt(r,132),r.end()}function Nre(e,t,r){return t.slice(-4)===".bin"?gre(e,r):dre(e,r)}function kre(e,t,r,s,a,i,o,l){return t.slice(-4)===".bin"?Bte(e,s,r,a,i,o,l):xee(e,s,r,a,i,o,l)}function jre(e,t,r,s,a,i,o,l){return t.slice(-4)===".bin"?tre(e,s,r,a,i):Qte(e,s,r,a,i)}function Cre(e,t,r,s,a,i,o,l){return t.slice(-4)===".bin"?EJ():AJ()}function Sre(e,t,r,s,a,i,o,l){return t.slice(-4)===".bin"?CJ():SJ()}function Ere(e,t,r,s){return t.slice(-4)===".bin"?NX(e,r,s):uX(e,r,s)}function Are(e,t,r){return a9(e,r)}function Tre(e,t,r){return t.slice(-4)===".bin"?TZ(e,r):SZ(e,r)}function Mre(e,t,r){return t.slice(-4)===".bin"?_J(e,r):hJ(e,r)}function Lre(e,t,r){return t.slice(-4)===".bin"?cJ(e):oJ(e)}function Pre(e,t,r,s){return r.slice(-4)===".bin"?dJ(e,t,r,s):void 0}function Fre(e,t,r){return t.slice(-4)===".bin"?aJ(e,t,r):iJ(e,t,r)}function Dre(e,t,r){return(t.slice(-4)===".bin"?wre:k9)(e)}function Ire(e,t,r,s,a){return(t.slice(-4)===".bin"?Zte:y9)(e,r,s,a)}function Rre(e,t,r){return(t.slice(-4)===".bin"?PX:r9)(e,r)}function Ore(e,t,r){return(t.slice(-4)===".bin"?PZ:KT)(e,r)}function Bre(e,t,r){return(t.slice(-4)===".bin"?wJ:o9)(e)}function zre(e){return(e.slice(-4)===".bin"?nJ:n9)()}var j9=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,C9=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Id(e,t){var r=e.split(/\s+/),s=[];if(s[0]=r[0],r.length===1)return s;var a=e.match(j9),i,o,l,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(C9),(o=i[1].indexOf(":"))===-1?s[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),s[l]=i[2].slice(1,i[2].length-1));return s}function Ure(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var s=e.match(j9),a,i,o,l;if(s)for(l=0;l!=s.length;++l)a=s[l].match(C9),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),r[o]=a[2].slice(1,a[2].length-1));return r}var tx;function $re(e,t){var r=tx[e]||Gs(e);return r==="General"?Uf(t):fd(r,t)}function Wre(e,t,r,s){var a=s;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=qa(s);break;case"i2":case"int":a=parseInt(s,10);break;case"r4":case"float":a=parseFloat(s);break;case"date":case"dateTime.tz":a=Xa(s);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Gs(t)]=a}function Hre(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||zu[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Lx(e.v):e.w=Uf(e.v):e.w=$re(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var s=tx[t]||t||"General";if(r.cellNF&&(e.z=s),r.cellDates&&e.t=="n"&&zp(s)){var a=Cf(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function Vre(e,t,r){if(r.cellStyles&&t.Interior){var s=t.Interior;s.Pattern&&(s.patternType=sX[s.Pattern]||s.Pattern)}e[t.ID]=t}function Gre(e,t,r,s,a,i,o,l,c,d){var u="General",p=s.StyleID,x={};d=d||{};var f=[],y=0;for(p===void 0&&l&&(p=l.StyleID),p===void 0&&o&&(p=o.StyleID);i[p]!==void 0&&(i[p].nf&&(u=i[p].nf),i[p].Interior&&f.push(i[p].Interior),!!i[p].Parent);)p=i[p].Parent;switch(r.Type){case"Boolean":s.t="b",s.v=qa(e);break;case"String":s.t="s",s.r=Mj(Gs(e)),s.v=e.indexOf("<")>-1?Gs(t||e).replace(/<.*?>/g,""):s.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),s.v=(Xa(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),s.v!==s.v?s.v=Gs(e):s.v<60&&(s.v=s.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":s.v===void 0&&(s.v=+e),s.t||(s.t="n");break;case"Error":s.t="e",s.v=bT[e],d.cellText!==!1&&(s.w=e);break;default:e==""&&t==""?s.t="z":(s.t="s",s.v=Mj(t||e));break}if(Hre(s,u,d),d.cellFormula!==!1)if(s.Formula){var v=Gs(s.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),s.f=sp(v,a),delete s.Formula,s.ArrayRange=="RC"?s.F=sp("RC:RC",a):s.ArrayRange&&(s.F=sp(s.ArrayRange,a),c.push([Ks(s.F),s.F]))}else for(y=0;y<c.length;++y)a.r>=c[y][0].s.r&&a.r<=c[y][0].e.r&&a.c>=c[y][0].s.c&&a.c<=c[y][0].e.c&&(s.F=c[y][1]);d.cellStyles&&(f.forEach(function(_){!x.patternType&&_.patternType&&(x.patternType=_.patternType)}),s.s=x),s.StyleID!==void 0&&(s.ixfe=s.StyleID)}function qre(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function O_(e,t){var r=t||{};Up();var s=P1(A5(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(s=Sa(s));var a=s.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=Ja(r);return o.type="string",_p.to_workbook(s,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ft){a.indexOf("<"+ft)>=0&&(i=!0)}),i)return Lse(s,r);tx={"General Number":"General","General Date":Yr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Yr[15],"Short Date":Yr[14],"Long Time":Yr[19],"Medium Time":Yr[18],"Short Time":Yr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Yr[2],Standard:Yr[4],Percent:Yr[10],Scientific:Yr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],d,u={},p=[],x=r.dense?[]:{},f="",y={},v={},_=Id('<Data ss:Type="String">'),k=0,S=0,M=0,T={s:{r:2e6,c:2e6},e:{r:0,c:0}},O={},A={},C="",N=0,E=[],z={},P={},I=0,W=[],Z=[],Y={},te=[],ie,le=!1,se=[],oe=[],ee={},B=0,q=0,Q={Sheets:[],WBProps:{date1904:!1}},K={};Dx.lastIndex=0,s=s.replace(/<!--([\s\S]*?)-->/mg,"");for(var ae="";l=Dx.exec(s);)switch(l[3]=(ae=l[3]).toLowerCase()){case"data":if(ae=="data"){if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?Gre(s.slice(k,l.index),C,_,c[c.length-1][0]=="comment"?Y:y,{c:S,r:M},O,te[S],v,se,r):(C="",_=Id(l[0]),k=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(Z.length>0&&(y.c=Z),(!r.sheetRows||r.sheetRows>M)&&y.v!==void 0&&(r.dense?(x[M]||(x[M]=[]),x[M][S]=y):x[_n(S)+ti(M)]=y),y.HRef&&(y.l={Target:Gs(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(B=S+(parseInt(y.MergeAcross,10)|0),q=M+(parseInt(y.MergeDown,10)|0),E.push({s:{c:S,r:M},e:{c:B,r:q}})),!r.sheetStubs)y.MergeAcross?S=B+1:++S;else if(y.MergeAcross||y.MergeDown){for(var ge=S;ge<=B;++ge)for(var he=M;he<=q;++he)(ge>S||he>M)&&(r.dense?(x[he]||(x[he]=[]),x[he][ge]={t:"z"}):x[_n(ge)+ti(he)]={t:"z"});S=B+1}else++S;else y=Ure(l[0]),y.Index&&(S=+y.Index-1),S<T.s.c&&(T.s.c=S),S>T.e.c&&(T.e.c=S),l[0].slice(-2)==="/>"&&++S,Z=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(M<T.s.r&&(T.s.r=M),M>T.e.r&&(T.e.r=M),l[0].slice(-2)==="/>"&&(v=Id(l[0]),v.Index&&(M=+v.Index-1)),S=0,++M):(v=Id(l[0]),v.Index&&(M=+v.Index-1),ee={},(v.AutoFitHeight=="0"||v.Height)&&(ee.hpx=parseInt(v.Height,10),ee.hpt=zx(ee.hpx),oe[M]=ee),v.Hidden=="1"&&(ee.hidden=!0,oe[M]=ee));break;case"worksheet":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));p.push(f),T.s.r<=T.e.r&&T.s.c<=T.e.c&&(x["!ref"]=ms(T),r.sheetRows&&r.sheetRows<=T.e.r&&(x["!fullref"]=x["!ref"],T.e.r=r.sheetRows-1,x["!ref"]=ms(T))),E.length&&(x["!merges"]=E),te.length>0&&(x["!cols"]=te),oe.length>0&&(x["!rows"]=oe),u[f]=x}else T={s:{r:2e6,c:2e6},e:{r:0,c:0}},M=S=0,c.push([l[3],!1]),d=Id(l[0]),f=Gs(d.Name),x=r.dense?[]:{},E=[],se=[],oe=[],K={name:f,Hidden:0},Q.Sheets.push(K);break;case"table":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),te=[],le=!1}break;case"style":l[1]==="/"?Vre(O,A,r):A=Id(l[0]);break;case"numberformat":A.nf=Gs(Id(l[0]).Format||"General"),tx[A.nf]&&(A.nf=tx[A.nf]);for(var ke=0;ke!=392&&Yr[ke]!=A.nf;++ke);if(ke==392){for(ke=57;ke!=392;++ke)if(Yr[ke]==null){Eu(A.nf,ke);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(ie=Id(l[0]),ie.Hidden&&(ie.hidden=!0,delete ie.Hidden),ie.Width&&(ie.wpx=parseInt(ie.Width,10)),!le&&ie.wpx>10){le=!0,qo=e9;for(var Ae=0;Ae<te.length;++Ae)te[Ae]&&Ih(te[Ae])}le&&Ih(ie),te[ie.Index-1||te.length]=ie;for(var We=0;We<+ie.Span;++We)te[te.length]=Ja(ie);break;case"namedrange":if(l[1]==="/")break;Q.Names||(Q.Names=[]);var fe=Jr(l[0]),ht={Name:fe.Name,Ref:sp(fe.RefersTo.slice(1),{r:0,c:0})};Q.Sheets.length>0&&(ht.Sheet=Q.Sheets.length-1),Q.Names.push(ht);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?C+=s.slice(N,l.index):N=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;A.Interior=Id(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?gK(z,ae,s.slice(I,l.index)):I=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));qre(Y),Z.push(Y)}else c.push([l[3],!1]),d=Id(l[0]),Y={a:d.Author};break;case"autofilter":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var De=Id(l[0]);x["!autofilter"]={ref:sp(De.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return yC(s,r);var Ee=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ee=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ee=!1}break;case"excelworkbook":switch(l[3]){case"date1904":Q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ee=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Ee=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(s.slice(I,l.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2;break}else I=l.index+l[0].length;break;case"header":x["!margins"]||Ff(x["!margins"]={},"xlml"),isNaN(+Jr(l[0]).Margin)||(x["!margins"].header=+Jr(l[0]).Margin);break;case"footer":x["!margins"]||Ff(x["!margins"]={},"xlml"),isNaN(+Jr(l[0]).Margin)||(x["!margins"].footer=+Jr(l[0]).Margin);break;case"pagemargins":var Ue=Jr(l[0]);x["!margins"]||Ff(x["!margins"]={},"xlml"),isNaN(+Ue.Top)||(x["!margins"].top=+Ue.Top),isNaN(+Ue.Left)||(x["!margins"].left=+Ue.Left),isNaN(+Ue.Right)||(x["!margins"].right=+Ue.Right),isNaN(+Ue.Bottom)||(x["!margins"].bottom=+Ue.Bottom);break;case"displayrighttoleft":Q.Views||(Q.Views=[]),Q.Views[0]||(Q.Views[0]={}),Q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ee=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ee=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ee=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ee=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ee=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ee=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ee=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ee=!1}break;case"smarttags":break;default:Ee=!1;break}if(Ee||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?Wre(P,ae,W,s.slice(I,l.index)):(W=l,I=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var rt={};return!r.bookSheets&&!r.bookProps&&(rt.Sheets=u),rt.SheetNames=p,rt.Workbook=Q,rt.SSF=Ja(Yr),rt.Props=z,rt.Custprops=P,rt}function a4(e,t){switch(Q5(t=t||{}),t.type||"base64"){case"base64":return O_(Pc(e),t);case"binary":case"buffer":case"file":return O_(e,t);case"array":return O_(Gh(e),t)}}function Kre(e,t){var r=[];return e.Props&&r.push(vK(e.Props,t)),e.Custprops&&r.push(yK(e.Props,e.Custprops)),r.join("")}function Yre(){return""}function Zre(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(s,a){var i=[];i.push(nr("NumberFormat",null,{"ss:Format":Na(Yr[s.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(nr("Style",i.join(""),o))}),nr("Styles",r.join(""))}function S9(e){return nr("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+q5(e.Ref,{r:0,c:0})})}function Xre(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],s=0;s<t.length;++s){var a=t[s];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(S9(a)))}return nr("Names",r.join(""))}function Jre(e,t,r,s){if(!e||!((s||{}).Workbook||{}).Names)return"";for(var a=s.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(S9(l)))}return i.join("")}function Qre(e,t,r,s){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(nr("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(nr("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(nr("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[r])if(s.Workbook.Sheets[r].Hidden)a.push(nr("Visible",s.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(s.Workbook.Sheets[i]&&!s.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(yo("ProtectContents","True")),e["!protect"].objects&&a.push(yo("ProtectObjects","True")),e["!protect"].scenarios&&a.push(yo("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(yo("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(yo("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":nr("WorksheetOptions",a.join(""),{xmlns:Cc.x})}function ese(e){return e.map(function(t){var r=_q(t.t||""),s=nr("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return nr("Comment",s,{"ss:Author":t.a})}).join("")}function tse(e,t,r,s,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Na(q5(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=wn(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Na(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Na(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],u=0;u!=d.length;++u)d[u].s.c!=o.c||d[u].s.r!=o.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var p="",x="";switch(e.t){case"z":if(!s.sheetStubs)return"";break;case"n":p="Number",x=String(e.v);break;case"b":p="Boolean",x=e.v?"1":"0";break;case"e":p="Error",x=zu[e.v];break;case"d":p="DateTime",x=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Yr[14]);break;case"s":p="String",x=bq(e.v||"");break}var f=Kh(s.cellXfs,e,s);l["ss:StyleID"]="s"+(21+f),l["ss:Index"]=o.c+1;var y=e.v!=null?x:"",v=e.t=="z"?"":'<Data ss:Type="'+p+'">'+y+"</Data>";return(e.c||[]).length>0&&(v+=ese(e.c)),nr("Cell",v,l)}function rse(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=wp(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function sse(e,t,r,s){if(!e["!ref"])return"";var a=Ks(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(_,k){Ih(_);var S=!!_.width,M=sb(k,_),T={"ss:Index":k+1};S&&(T["ss:Width"]=Ox(M.width)),_.hidden&&(T["ss:Hidden"]="1"),l.push(nr("Column",null,T))});for(var c=Array.isArray(e),d=a.s.r;d<=a.e.r;++d){for(var u=[rse(d,(e["!rows"]||[])[d])],p=a.s.c;p<=a.e.c;++p){var x=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>p)&&!(i[o].s.r>d)&&!(i[o].e.c<p)&&!(i[o].e.r<d)){(i[o].s.c!=p||i[o].s.r!=d)&&(x=!0);break}if(!x){var f={r:d,c:p},y=Xr(f),v=c?(e[d]||[])[p]:e[y];u.push(tse(v,y,e,t,r,s,f))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function ase(e,t,r){var s=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?Jre(i,t,e,r):"";return o.length>0&&s.push("<Names>"+o+"</Names>"),o=i?sse(i,t,e,r):"",o.length>0&&s.push("<Table>"+o+"</Table>"),s.push(Qre(i,t,e,r)),s.join("")}function nse(e,t){t||(t={}),e.SSF||(e.SSF=Ja(Yr)),e.SSF&&(Up(),Zy(e.SSF),t.revssf=Jy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Kh(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Kre(e,t)),r.push(Yre()),r.push(""),r.push("");for(var s=0;s<e.SheetNames.length;++s)r.push(nr("Worksheet",ase(s,t,e),{"ss:Name":Na(e.SheetNames[s])}));return r[2]=Zre(e,t),r[3]=Xre(e),ai+nr("Workbook",r.join(""),{xmlns:Cc.ss,"xmlns:o":Cc.o,"xmlns:x":Cc.x,"xmlns:ss":Cc.ss,"xmlns:dt":Cc.dt,"xmlns:html":Cc.html})}function ise(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Xq(r),r.length-r.l<=4)return t;var s=r.read_shift(4);if(s==0||s>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(s=r.read_shift(4),s!==1907505652)||(t.UnicodeClipboardFormat=Jq(r),s=r.read_shift(4),s==0||s>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var ose=[60,1084,2066,2165,2175];function lse(e,t,r,s,a){var i=s,o=[],l=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=i;for(var c=wu(r,r.l),d=n4[c],u=0;d!=null&&ose.indexOf(c)>-1;)i=wu(r,r.l+2),u=r.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),l=r.slice(u,r.l+4+i),o.push(l),r.l+=4+i,d=n4[c=wu(r,r.l)];var p=Ji(o);vo(p,0);var x=0;p.lens=[];for(var f=0;f<o.length;++f)p.lens.push(x),x+=o[f].length;if(p.length<s)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+p.length+" < "+s;return t.f(p,p.length,a)}function k0(e,t,r){if(e.t!=="z"&&e.XF){var s=0;try{s=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Yr[s])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||zu[e.v]:s===0||s=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Lx(e.v):e.w=Uf(e.v):e.w=fd(s,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&s&&e.t=="n"&&zp(Yr[s]||String(s))){var a=Cf(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function R2(e,t,r){return{v:e,ixfe:t,t:r}}function cse(e,t){var r={opts:{}},s={},a=t.dense?[]:{},i={},o={},l=null,c=[],d="",u={},p,x="",f,y,v,_,k={},S=[],M,T,O=[],A=[],C={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},E=function(Et){return Et<8?Mf[Et]:Et<64&&A[Et-8]||Mf[Et]},z=function(Et,At,ar){var er=At.XF.data;if(!(!er||!er.patternType||!ar||!ar.cellStyles)){At.s={},At.s.patternType=er.patternType;var Qt;(Qt=Rx(E(er.icvFore)))&&(At.s.fgColor={rgb:Qt}),(Qt=Rx(E(er.icvBack)))&&(At.s.bgColor={rgb:Qt})}},P=function(Et,At,ar){if(!(ee>1)&&!(ar.sheetRows&&Et.r>=ar.sheetRows)){if(ar.cellStyles&&At.XF&&At.XF.data&&z(Et,At,ar),delete At.ixfe,delete At.XF,p=Et,x=Xr(Et),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Et.r<o.s.r&&(o.s.r=Et.r),Et.c<o.s.c&&(o.s.c=Et.c),Et.r+1>o.e.r&&(o.e.r=Et.r+1),Et.c+1>o.e.c&&(o.e.c=Et.c+1),ar.cellFormula&&At.f){for(var er=0;er<S.length;++er)if(!(S[er][0].s.c>Et.c||S[er][0].s.r>Et.r)&&!(S[er][0].e.c<Et.c||S[er][0].e.r<Et.r)){At.F=ms(S[er][0]),(S[er][0].s.c!=Et.c||S[er][0].s.r!=Et.r)&&delete At.f,At.f&&(At.f=""+Go(S[er][1],o,Et,se,I));break}}ar.dense?(a[Et.r]||(a[Et.r]=[]),a[Et.r][Et.c]=At):a[x]=At}},I={enc:!1,sbcch:0,snames:[],sharedf:k,arrayf:S,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(I.password=t.password);var W,Z=[],Y=[],te=[],ie=[],le=!1,se=[];se.SheetNames=I.snames,se.sharedf=I.sharedf,se.arrayf=I.arrayf,se.names=[],se.XTI=[];var oe=0,ee=0,B=0,q=[],Q=[],K;I.codepage=1200,$d(1200);for(var ae=!1;e.l<e.length-1;){var ge=e.l,he=e.read_shift(2);if(he===0&&oe===10)break;var ke=e.l===e.length?0:e.read_shift(2),Ae=n4[he];if(Ae&&Ae.f){if(t.bookSheets&&oe===133&&he!==133)break;if(oe=he,Ae.r===2||Ae.r==12){var We=e.read_shift(2);if(ke-=2,!I.enc&&We!==he&&((We&255)<<8|We>>8)!==he)throw new Error("rt mismatch: "+We+"!="+he);Ae.r==12&&(e.l+=10,ke-=10)}var fe={};if(he===10?fe=Ae.f(e,ke,I):fe=lse(he,Ae,e,ke,I),ee==0&&[9,521,1033,2057].indexOf(oe)===-1)continue;switch(he){case 34:r.opts.Date1904=C.WBProps.date1904=fe;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(I.enc||(e.l=0),I.enc=fe,!t.password)throw new Error("File is password-protected");if(fe.valid==null)throw new Error("Encryption scheme unsupported");if(!fe.valid)throw new Error("Password is incorrect");break;case 92:I.lastuser=fe;break;case 66:var ht=Number(fe);switch(ht){case 21010:ht=1200;break;case 32768:ht=1e4;break;case 32769:ht=1252;break}$d(I.codepage=ht),ae=!0;break;case 317:I.rrtabid=fe;break;case 25:I.winlocked=fe;break;case 439:r.opts.RefreshAll=fe;break;case 12:r.opts.CalcCount=fe;break;case 16:r.opts.CalcDelta=fe;break;case 17:r.opts.CalcIter=fe;break;case 13:r.opts.CalcMode=fe;break;case 14:r.opts.CalcPrecision=fe;break;case 95:r.opts.CalcSaveRecalc=fe;break;case 15:I.CalcRefMode=fe;break;case 2211:r.opts.FullCalc=fe;break;case 129:fe.fDialog&&(a["!type"]="dialog"),fe.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),fe.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:O.push(fe);break;case 430:se.push([fe]),se[se.length-1].XTI=[];break;case 35:case 547:se[se.length-1].push(fe);break;case 24:case 536:K={Name:fe.Name,Ref:Go(fe.rgce,o,null,se,I)},fe.itab>0&&(K.Sheet=fe.itab-1),se.names.push(K),se[0]||(se[0]=[],se[0].XTI=[]),se[se.length-1].push(fe),fe.Name=="_xlnm._FilterDatabase"&&fe.itab>0&&fe.rgce&&fe.rgce[0]&&fe.rgce[0][0]&&fe.rgce[0][0][0]=="PtgArea3d"&&(Q[fe.itab-1]={ref:ms(fe.rgce[0][0][1][2])});break;case 22:I.ExternCount=fe;break;case 23:se.length==0&&(se[0]=[],se[0].XTI=[]),se[se.length-1].XTI=se[se.length-1].XTI.concat(fe),se.XTI=se.XTI.concat(fe);break;case 2196:if(I.biff<8)break;K!=null&&(K.Comment=fe[1]);break;case 18:a["!protect"]=fe;break;case 19:fe!==0&&I.WTF&&console.error("Password verifier: "+fe);break;case 133:i[fe.pos]=fe,I.snames.push(fe.name);break;case 10:{if(--ee)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=ms(o),t.sheetRows&&t.sheetRows<=o.e.r){var De=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=ms(o),o.e.r=De}o.e.r++,o.e.c++}Z.length>0&&(a["!merges"]=Z),Y.length>0&&(a["!objects"]=Y),te.length>0&&(a["!cols"]=te),ie.length>0&&(a["!rows"]=ie),C.Sheets.push(N)}d===""?u=a:s[d]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(I.biff===8&&(I.biff={9:2,521:3,1033:4}[he]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[fe.BIFFVer]||8),I.biffguess=fe.BIFFVer==0,fe.BIFFVer==0&&fe.dt==4096&&(I.biff=5,ae=!0,$d(I.codepage=28591)),I.biff==8&&fe.BIFFVer==0&&fe.dt==16&&(I.biff=2),ee++)break;if(a=t.dense?[]:{},I.biff<8&&!ae&&(ae=!0,$d(I.codepage=t.codepage||1252)),I.biff<5||fe.BIFFVer==0&&fe.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ee={pos:e.l-ke,name:d};i[Ee.pos]=Ee,I.snames.push(d)}else d=(i[ge]||{name:""}).name;fe.dt==32&&(a["!type"]="chart"),fe.dt==64&&(a["!type"]="macro"),Z=[],Y=[],I.arrayf=S=[],te=[],ie=[],le=!1,N={Hidden:(i[ge]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[fe.r]||[])[fe.c]:a[Xr({c:fe.c,r:fe.r})])&&++fe.c,M={ixfe:fe.ixfe,XF:O[fe.ixfe]||{},v:fe.val,t:"n"},B>0&&(M.z=q[M.ixfe>>8&63]),k0(M,t,r.opts.Date1904),P({c:fe.c,r:fe.r},M,t);break;case 5:case 517:M={ixfe:fe.ixfe,XF:O[fe.ixfe],v:fe.val,t:fe.t},B>0&&(M.z=q[M.ixfe>>8&63]),k0(M,t,r.opts.Date1904),P({c:fe.c,r:fe.r},M,t);break;case 638:M={ixfe:fe.ixfe,XF:O[fe.ixfe],v:fe.rknum,t:"n"},B>0&&(M.z=q[M.ixfe>>8&63]),k0(M,t,r.opts.Date1904),P({c:fe.c,r:fe.r},M,t);break;case 189:for(var Ue=fe.c;Ue<=fe.C;++Ue){var rt=fe.rkrec[Ue-fe.c][0];M={ixfe:rt,XF:O[rt],v:fe.rkrec[Ue-fe.c][1],t:"n"},B>0&&(M.z=q[M.ixfe>>8&63]),k0(M,t,r.opts.Date1904),P({c:Ue,r:fe.r},M,t)}break;case 6:case 518:case 1030:{if(fe.val=="String"){l=fe;break}if(M=R2(fe.val,fe.cell.ixfe,fe.tt),M.XF=O[M.ixfe],t.cellFormula){var ft=fe.formula;if(ft&&ft[0]&&ft[0][0]&&ft[0][0][0]=="PtgExp"){var Re=ft[0][0][1][0],pe=ft[0][0][1][1],Le=Xr({r:Re,c:pe});k[Le]?M.f=""+Go(fe.formula,o,fe.cell,se,I):M.F=((t.dense?(a[Re]||[])[pe]:a[Le])||{}).F}else M.f=""+Go(fe.formula,o,fe.cell,se,I)}B>0&&(M.z=q[M.ixfe>>8&63]),k0(M,t,r.opts.Date1904),P(fe.cell,M,t),l=fe}break;case 7:case 519:if(l)l.val=fe,M=R2(fe,l.cell.ixfe,"s"),M.XF=O[M.ixfe],t.cellFormula&&(M.f=""+Go(l.formula,o,l.cell,se,I)),B>0&&(M.z=q[M.ixfe>>8&63]),k0(M,t,r.opts.Date1904),P(l.cell,M,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{S.push(fe);var He=Xr(fe[0].s);if(f=t.dense?(a[fe[0].s.r]||[])[fe[0].s.c]:a[He],t.cellFormula&&f){if(!l||!He||!f)break;f.f=""+Go(fe[1],o,fe[0],se,I),f.F=ms(fe[0])}}break;case 1212:{if(!t.cellFormula)break;if(x){if(!l)break;k[Xr(l.cell)]=fe[0],f=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[Xr(l.cell)],(f||{}).f=""+Go(fe[0],o,p,se,I)}}break;case 253:M=R2(c[fe.isst].t,fe.ixfe,"s"),c[fe.isst].h&&(M.h=c[fe.isst].h),M.XF=O[M.ixfe],B>0&&(M.z=q[M.ixfe>>8&63]),k0(M,t,r.opts.Date1904),P({c:fe.c,r:fe.r},M,t);break;case 513:t.sheetStubs&&(M={ixfe:fe.ixfe,XF:O[fe.ixfe],t:"z"},B>0&&(M.z=q[M.ixfe>>8&63]),k0(M,t,r.opts.Date1904),P({c:fe.c,r:fe.r},M,t));break;case 190:if(t.sheetStubs)for(var ve=fe.c;ve<=fe.C;++ve){var Ne=fe.ixfe[ve-fe.c];M={ixfe:Ne,XF:O[Ne],t:"z"},B>0&&(M.z=q[M.ixfe>>8&63]),k0(M,t,r.opts.Date1904),P({c:ve,r:fe.r},M,t)}break;case 214:case 516:case 4:M=R2(fe.val,fe.ixfe,"s"),M.XF=O[M.ixfe],B>0&&(M.z=q[M.ixfe>>8&63]),k0(M,t,r.opts.Date1904),P({c:fe.c,r:fe.r},M,t);break;case 0:case 512:ee===1&&(o=fe);break;case 252:c=fe;break;case 1054:if(I.biff==4){q[B++]=fe[1];for(var ze=0;ze<B+163&&Yr[ze]!=fe[1];++ze);ze>=163&&Eu(fe[1],B+163)}else Eu(fe[1],fe[0]);break;case 30:{q[B++]=fe;for(var qe=0;qe<B+163&&Yr[qe]!=fe;++qe);qe>=163&&Eu(fe,B+163)}break;case 229:Z=Z.concat(fe);break;case 93:Y[fe.cmo[0]]=I.lastobj=fe;break;case 438:I.lastobj.TxO=fe;break;case 127:I.lastobj.ImData=fe;break;case 440:for(_=fe[0].s.r;_<=fe[0].e.r;++_)for(v=fe[0].s.c;v<=fe[0].e.c;++v)f=t.dense?(a[_]||[])[v]:a[Xr({c:v,r:_})],f&&(f.l=fe[1]);break;case 2048:for(_=fe[0].s.r;_<=fe[0].e.r;++_)for(v=fe[0].s.c;v<=fe[0].e.c;++v)f=t.dense?(a[_]||[])[v]:a[Xr({c:v,r:_})],f&&f.l&&(f.l.Tooltip=fe[1]);break;case 28:{if(I.biff<=5&&I.biff>=2)break;f=t.dense?(a[fe[0].r]||[])[fe[0].c]:a[Xr(fe[0])];var pt=Y[fe[2]];f||(t.dense?(a[fe[0].r]||(a[fe[0].r]=[]),f=a[fe[0].r][fe[0].c]={t:"z"}):f=a[Xr(fe[0])]={t:"z"},o.e.r=Math.max(o.e.r,fe[0].r),o.s.r=Math.min(o.s.r,fe[0].r),o.e.c=Math.max(o.e.c,fe[0].c),o.s.c=Math.min(o.s.c,fe[0].c)),f.c||(f.c=[]),y={a:fe[1],t:pt.TxO.t},f.c.push(y)}break;case 2173:ZX(O[fe.ixfe],fe.ext);break;case 125:{if(!I.cellStyles)break;for(;fe.e>=fe.s;)te[fe.e--]={width:fe.w/256,level:fe.level||0,hidden:!!(fe.flags&1)},le||(le=!0,H5(fe.w/256)),Ih(te[fe.e+1])}break;case 520:{var xt={};fe.level!=null&&(ie[fe.r]=xt,xt.level=fe.level),fe.hidden&&(ie[fe.r]=xt,xt.hidden=!0),fe.hpt&&(ie[fe.r]=xt,xt.hpt=fe.hpt,xt.hpx=wp(fe.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Ff(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[he]]=fe;break;case 161:a["!margins"]||Ff(a["!margins"]={}),a["!margins"].header=fe.header,a["!margins"].footer=fe.footer;break;case 574:fe.RTL&&(C.Views[0].RTL=!0);break;case 146:A=fe;break;case 2198:W=fe;break;case 140:T=fe;break;case 442:d?N.CodeName=fe||N.name:C.WBProps.CodeName=fe||"ThisWorkbook";break}}else Ae||console.error("Missing Info for XLS Record 0x"+he.toString(16)),e.l+=ke}return r.SheetNames=Bn(i).sort(function(Ft,Et){return Number(Ft)-Number(Et)}).map(function(Ft){return i[Ft].name}),t.bookSheets||(r.Sheets=s),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&Q.forEach(function(Ft,Et){r.Sheets[r.SheetNames[Et]]["!autofilter"]=Ft}),r.Strings=c,r.SSF=Ja(Yr),I.enc&&(r.Encryption=I.enc),W&&(r.Themes=W),r.Metadata={},T!==void 0&&(r.Metadata.Country=T),se.names.length>0&&(C.Names=se.names),r.Workbook=C,r}var rx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function dse(e,t,r){var s=Rr.find(e,"/!DocumentSummaryInformation");if(s&&s.size>0)try{var a=Yj(s,Jw,rx.DSI);for(var i in a)t[i]=a[i]}catch(d){if(r.WTF)throw d}var o=Rr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=Yj(o,Qw,rx.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(d){if(r.WTF)throw d}t.HeadingPairs&&t.TitlesOfParts&&(CT(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function use(e,t){var r=[],s=[],a=[],i=0,o,l=jj(Jw,"n"),c=jj(Qw,"n");if(e.Props)for(o=Bn(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?s:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Bn(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?s:a).push([o[i],e.Custprops[o[i]]]);var d=[];for(i=0;i<a.length;++i)PT.indexOf(a[i][0])>-1||jT.indexOf(a[i][0])>-1||a[i][1]!=null&&d.push(a[i]);s.length&&Rr.utils.cfb_add(t,"/SummaryInformation",Zj(s,rx.SI,c,Qw)),(r.length||d.length)&&Rr.utils.cfb_add(t,"/DocumentSummaryInformation",Zj(r,rx.DSI,l,Jw,d.length?d:null,rx.UDI))}function E9(e,t){t||(t={}),Q5(t),b5(),t.codepage&&y5(t.codepage);var r,s;if(e.FullPaths){if(Rr.find(e,"/encryption"))throw new Error("File is password-protected");r=Rr.find(e,"!CompObj"),s=Rr.find(e,"/Workbook")||Rr.find(e,"/Book")}else{switch(t.type){case"base64":e=Ec(Pc(e));break;case"binary":e=Ec(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}vo(e,0),s={content:e}}var a,i;if(r&&ise(r),t.bookProps&&!t.bookSheets)a={};else{var o=_s?"buffer":"array";if(s&&s.content)a=cse(s.content,t);else if((i=Rr.find(e,"PerfectOffice_MAIN"))&&i.content)a=Pf.to_workbook(i.content,(t.type=o,t));else if((i=Rr.find(e,"NativeContent_MAIN"))&&i.content)a=Pf.to_workbook(i.content,(t.type=o,t));else throw(i=Rr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Rr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=kJ(e))}var l={};return e.FullPaths&&dse(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}function hse(e,t){var r=t||{},s=Rr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Rr.utils.cfb_add(s,a,A9(e,r)),r.biff==8&&(e.Props||e.Custprops)&&use(e,s),r.biff==8&&e.vbaraw&&jJ(s,Rr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),s}var Ux={0:{f:Iee},1:{f:Hee},2:{f:cte},3:{f:Jee},4:{f:Kee},5:{f:ite},6:{f:mte},7:{f:rte},8:{f:_te},9:{f:bte},10:{f:vte},11:{f:yte},12:{f:Gee},13:{f:ute},14:{f:ete},15:{f:Zee},16:{f:b9},17:{f:xte},18:{f:ate},19:{f:F5},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:xre},40:{},42:{},43:{f:mX},44:{f:hX},45:{f:gX},46:{f:yX},47:{f:vX},48:{},49:{f:Bq},50:{},51:{f:QX},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:HT},62:{f:fte},63:{f:lJ},64:{f:Rte},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:tl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Pte},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:$ee},148:{f:Bee,p:16},151:{f:Ste},152:{},153:{f:fre},154:{},155:{},156:{f:ure},157:{},158:{},159:{T:1,f:AZ},160:{T:-1},161:{T:1,f:am},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:wte},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:XX},336:{T:-1},337:{f:rJ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Xw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:WT},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Ete},427:{f:Ate},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Mte},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Uee},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:jte},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Xw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:yJ},633:{T:1},634:{T:-1},635:{T:1,f:gJ},636:{T:-1},637:{f:Wq},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:ere},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Ote},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},n4={6:{f:I_},10:{f:lh},12:{f:xi},13:{f:xi},14:{f:qn},15:{f:qn},16:{f:Yo},17:{f:qn},18:{f:qn},19:{f:xi},20:{f:rC},21:{f:rC},23:{f:WT},24:{f:aC},25:{f:qn},26:{},27:{},28:{f:OY},29:{},34:{f:qn},35:{f:sC},38:{f:Yo},39:{f:Yo},40:{f:Yo},41:{f:Yo},42:{f:qn},43:{f:qn},47:{f:ZZ},49:{f:uY},51:{f:xi},60:{},61:{f:iY},64:{f:qn},65:{f:dY},66:{f:xi},77:{},80:{},81:{},82:{},85:{f:xi},89:{},90:{},91:{},92:{f:YK},93:{f:UY},94:{},95:{f:qn},96:{},97:{},99:{f:qn},125:{f:HT},128:{f:CY},129:{f:XK},130:{f:xi},131:{f:qn},132:{f:qn},133:{f:JK},134:{},140:{f:YY},141:{f:xi},144:{},146:{f:JY},151:{},152:{},153:{},154:{},155:{},156:{f:xi},157:{},158:{},160:{f:nZ},161:{f:tZ},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:wY},190:{f:NY},193:{f:lh},197:{},198:{},199:{},200:{},201:{},202:{f:qn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:xi},220:{},221:{f:qn},222:{},224:{f:jY},225:{f:KK},226:{f:lh},227:{},229:{f:BY},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:eY},253:{f:fY},255:{f:rY},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:FT},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:qn},353:{f:lh},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:MY},431:{f:qn},432:{},433:{},434:{},437:{},438:{f:HY},439:{f:qn},440:{f:VY},441:{},442:{f:gg},443:{},444:{f:xi},445:{},446:{},448:{f:lh},449:{f:nY,r:2},450:{f:lh},512:{f:Qj},513:{f:aZ},515:{f:AY},516:{f:pY},517:{f:tC},519:{f:iZ},520:{f:sY},523:{},545:{f:nC},549:{f:Jj},566:{},574:{f:lY},638:{f:_Y},659:{},1048:{},1054:{f:gY},1084:{},1212:{f:DY},2048:{f:qY},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:F2},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:lh},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:QY,r:12},2173:{f:YX,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:qn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:FY,r:12},2197:{},2198:{f:WX,r:12},2199:{},2200:{},2201:{},2202:{f:IY,r:12},2203:{f:lh},2204:{},2205:{},2206:{},2207:{},2211:{f:aY},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:xi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:rZ},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:XY},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Qj},1:{},2:{f:uZ},3:{f:cZ},4:{f:lZ},5:{f:tC},7:{f:fZ},8:{},9:{f:F2},11:{},22:{f:xi},30:{f:yY},31:{},32:{},33:{f:nC},36:{},37:{f:Jj},50:{f:mZ},62:{},52:{},67:{},68:{f:xi},69:{},86:{},126:{},127:{f:oZ},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:pZ},223:{},234:{},354:{},421:{},518:{f:I_},521:{f:F2},536:{f:aC},547:{f:sC},561:{},579:{},1030:{f:I_},1033:{f:F2},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ir(e,t,r,s){var a=t;if(!isNaN(a)){var i=s||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&M5(r)&&e.push(r)}}function fse(e,t,r,s){var a=(r||[]).length||0;if(a<=8224)return ir(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d;c<a;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d}}}function _g(e,t,r){return e||(e=Tt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function mse(e,t,r,s){var a=Tt(9);return _g(a,e,t),DT(r,s||"b",a),a}function pse(e,t,r){var s=Tt(8+2*r.length);return _g(s,e,t),s.write_shift(1,r.length),s.write_shift(r.length,r,"sbcs"),s.l<s.length?s.slice(0,s.l):s}function xse(e,t,r,s){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Ri(Xa(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?ir(e,2,hZ(r,s,a)):ir(e,3,dZ(r,s,a));return;case"b":case"e":ir(e,5,mse(r,s,t.v,t.t));return;case"s":case"str":ir(e,4,pse(r,s,(t.v||"").slice(0,255)));return}ir(e,1,_g(null,r,s))}function gse(e,t,r,s){var a=Array.isArray(t),i=Ks(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(s.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=ms(i)}for(var d=i.s.r;d<=i.e.r;++d){l=ti(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=_n(u)),o=c[u]+l;var p=a?(t[d]||[])[u]:t[o];p&&xse(e,p,d,u)}}}function vse(e,t){for(var r=t||{},s=Zl(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ir(s,r.biff==4?1033:r.biff==3?521:9,U5(e,16,r)),gse(s,e.Sheets[e.SheetNames[a]],a,r),ir(s,10),s.end()}function yse(e,t,r){ir(e,49,hY({sz:12,name:"Arial"},r))}function bse(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&ir(e,1054,vY(a,t[a],r))})}function _se(e,t){var r=Tt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ir(e,2151,r),r=Tt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),zT(Ks(t["!ref"]||"A1"),r),r.write_shift(4,4),ir(e,2152,r)}function wse(e,t){for(var r=0;r<16;++r)ir(e,224,eC({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(s){ir(e,224,eC(s,0,t))})}function Nse(e,t){for(var r=0;r<t["!links"].length;++r){var s=t["!links"][r];ir(e,440,GY(s)),s[1].Tooltip&&ir(e,2048,KY(s))}delete t["!links"]}function kse(e,t){if(t){var r=0;t.forEach(function(s,a){++r<=256&&s&&ir(e,125,eZ(sb(a,s),a))})}}function jse(e,t,r,s,a){var i=16+Kh(a.cellXfs,t,a);if(t.v==null&&!t.bf){ir(e,513,Vf(r,s,i));return}if(t.bf)ir(e,6,XQ(t,r,s,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Ri(Xa(t.v)):t.v;ir(e,515,TY(r,s,o,i));break;case"b":case"e":ir(e,517,EY(r,s,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=Y5(a.Strings,t.v,a.revStrings);ir(e,253,mY(r,s,l,i))}else ir(e,516,xY(r,s,(t.v||"").slice(0,255),i,a));break;default:ir(e,513,Vf(r,s,i))}}function Cse(e,t,r){var s=Zl(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,u,p="",x=[],f=Ks(i["!ref"]||"A1"),y=d?65536:16384;if(f.e.c>255||f.e.r>=y){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,y-1)}ir(s,2057,U5(r,16,t)),ir(s,13,od(1)),ir(s,12,od(100)),ir(s,15,bl(!0)),ir(s,17,bl(!1)),ir(s,16,Wf(.001)),ir(s,95,bl(!0)),ir(s,42,bl(!1)),ir(s,43,bl(!1)),ir(s,130,od(1)),ir(s,128,SY()),ir(s,131,bl(!1)),ir(s,132,bl(!1)),d&&kse(s,i["!cols"]),ir(s,512,bY(f,t)),d&&(i["!links"]=[]);for(var v=f.s.r;v<=f.e.r;++v){p=ti(v);for(var _=f.s.c;_<=f.e.c;++_){v===f.s.r&&(x[_]=_n(_)),u=x[_]+p;var k=c?(i[v]||[])[_]:i[u];k&&(jse(s,k,v,_,t),d&&k.l&&i["!links"].push([u,k.l]))}}var S=l.CodeName||l.name||a;return d&&ir(s,574,cY((o.Views||[])[0])),d&&(i["!merges"]||[]).length&&ir(s,229,zY(i["!merges"])),d&&Nse(s,i),ir(s,442,IT(S)),d&&_se(s,i),ir(s,10),s.end()}function Sse(e,t,r){var s=Zl(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(ir(s,2057,U5(e,5,r)),r.bookType=="xla"&&ir(s,135),ir(s,225,l?od(1200):null),ir(s,193,EK(2)),c&&ir(s,191),c&&ir(s,192),ir(s,226),ir(s,92,ZK("SheetJS",r)),ir(s,66,od(l?1200:1252)),l&&ir(s,353,od(0)),l&&ir(s,448),ir(s,317,sZ(e.SheetNames.length)),l&&e.vbaraw&&ir(s,211),l&&e.vbaraw){var d=o.CodeName||"ThisWorkbook";ir(s,442,IT(d))}ir(s,156,od(17)),ir(s,25,bl(!1)),ir(s,18,bl(!1)),ir(s,19,od(0)),l&&ir(s,431,bl(!1)),l&&ir(s,444,od(0)),ir(s,61,oY()),ir(s,64,bl(!1)),ir(s,141,od(0)),ir(s,34,bl(nre(e)=="true")),ir(s,14,bl(!0)),l&&ir(s,439,bl(!1)),ir(s,218,od(0)),yse(s,e,r),bse(s,e.SSF,r),wse(s,r),l&&ir(s,352,bl(!1));var u=s.end(),p=Zl();l&&ir(p,140,ZY()),l&&r.Strings&&fse(p,252,tY(r.Strings)),ir(p,10);var x=p.end(),f=Zl(),y=0,v=0;for(v=0;v<e.SheetNames.length;++v)y+=(l?12:11)+(l?2:1)*e.SheetNames[v].length;var _=u.length+y+x.length;for(v=0;v<e.SheetNames.length;++v){var k=i[v]||{};ir(f,133,QK({pos:_,hs:k.Hidden||0,dt:0,name:e.SheetNames[v]},r)),_+=t[v].length}var S=f.end();if(y!=S.length)throw new Error("BS8 "+y+" != "+S.length);var M=[];return u.length&&M.push(u),S.length&&M.push(S),x.length&&M.push(x),Ji(M)}function Ese(e,t){var r=t||{},s=[];e&&!e.SSF&&(e.SSF=Ja(Yr)),e&&e.SSF&&(Up(),Zy(e.SSF),r.revssf=Jy(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,e3(r),r.cellXfs=[],Kh(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)s[s.length]=Cse(a,r,e);return s.unshift(Sse(e,s,r)),Ji(s)}function A9(e,t){for(var r=0;r<=e.SheetNames.length;++r){var s=e.Sheets[e.SheetNames[r]];if(!(!s||!s["!ref"])){var a=Ql(s["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return Ese(e,t);case 4:case 3:case 2:return vse(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function pC(e,t){var r=t||{},s=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=a.index,l=i&&i.index||e.length,c=hq(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,u=0,p=0,x=0,f={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<c.length;++o){var v=c[o].trim(),_=v.slice(0,3).toLowerCase();if(_=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}u=0;continue}if(!(_!="<td"&&_!="<th")){var k=v.split(/<\/t[dh]>/i);for(l=0;l<k.length;++l){var S=k[l].trim();if(S.match(/<t[dh]/i)){for(var M=S,T=0;M.charAt(0)=="<"&&(T=M.indexOf(">"))>-1;)M=M.slice(T+1);for(var O=0;O<y.length;++O){var A=y[O];A.s.c==u&&A.s.r<d&&d<=A.e.r&&(u=A.e.c+1,O=-1)}var C=Jr(S.slice(0,S.indexOf(">")));x=C.colspan?+C.colspan:1,((p=+C.rowspan)>1||x>1)&&y.push({s:{r:d,c:u},e:{r:d+(p||1)-1,c:u+x-1}});var N=C.t||C["data-t"]||"";if(!M.length){u+=x;continue}if(M=QA(M),f.s.r>d&&(f.s.r=d),f.e.r<d&&(f.e.r=d),f.s.c>u&&(f.s.c=u),f.e.c<u&&(f.e.c=u),!M.length){u+=x;continue}var E={t:"s",v:M};r.raw||!M.trim().length||N=="s"||(M==="TRUE"?E={t:"b",v:!0}:M==="FALSE"?E={t:"b",v:!1}:isNaN(qd(M))?isNaN(bp(M).getDate())||(E={t:"d",v:Xa(M)},r.cellDates||(E={t:"n",v:Ri(E.v)}),E.z=r.dateNF||Yr[14]):E={t:"n",v:qd(M)}),r.dense?(s[d]||(s[d]=[]),s[d][u]=E):s[Xr({r:d,c:u})]=E,u+=x}}}}return s["!ref"]=ms(f),y.length&&(s["!merges"]=y),s}function Ase(e,t,r,s){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>o)&&!(a[d].e.r<r||a[d].e.c<o)){if(a[d].s.r<r||a[d].s.c<o){l=-1;break}l=a[d].e.r-a[d].s.r+1,c=a[d].e.c-a[d].s.c+1;break}if(!(l<0)){var u=Xr({r,c:o}),p=s.dense?(e[r]||[])[o]:e[u],x=p&&p.v!=null&&(p.h||E5(p.w||(Pu(p),p.w)||""))||"",f={};l>1&&(f.rowspan=l),c>1&&(f.colspan=c),s.editable?x='<span contenteditable="true">'+x+"</span>":p&&(f["data-t"]=p&&p.t||"z",p.v!=null&&(f["data-v"]=p.v),p.z!=null&&(f["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+p.l.Target+'">'+x+"</a>")),f.id=(s.id||"sjs")+"-"+u,i.push(nr("td",x,f))}}var y="<tr>";return y+i.join("")+"</tr>"}var Tse='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Mse="</body></html>";function Lse(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return qh(pC(r[0],t),t);var s=s3();return r.forEach(function(a,i){a3(s,pC(a,t),"Sheet"+(i+1))}),s}function Pse(e,t,r){var s=[];return s.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function T9(e,t){var r=t||{},s=r.header!=null?r.header:Tse,a=r.footer!=null?r.footer:Mse,i=[s],o=Ql(e["!ref"]);r.dense=Array.isArray(e),i.push(Pse(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(Ase(e,o,l,r));return i.push("</table>"+a),i.join("")}function M9(e,t,r){var s=r||{},a=0,i=0;if(s.origin!=null)if(typeof s.origin=="number")a=s.origin;else{var o=typeof s.origin=="string"?wn(s.origin):s.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(s.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=Ql(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),a==-1&&(d.e.r=a=u.e.r+1)}var p=[],x=0,f=e["!rows"]||(e["!rows"]=[]),y=0,v=0,_=0,k=0,S=0,M=0;for(e["!cols"]||(e["!cols"]=[]);y<l.length&&v<c;++y){var T=l[y];if(xC(T)){if(s.display)continue;f[v]={hidden:!0}}var O=T.children;for(_=k=0;_<O.length;++_){var A=O[_];if(!(s.display&&xC(A))){var C=A.hasAttribute("data-v")?A.getAttribute("data-v"):A.hasAttribute("v")?A.getAttribute("v"):QA(A.innerHTML),N=A.getAttribute("data-z")||A.getAttribute("z");for(x=0;x<p.length;++x){var E=p[x];E.s.c==k+i&&E.s.r<v+a&&v+a<=E.e.r&&(k=E.e.c+1-i,x=-1)}M=+A.getAttribute("colspan")||1,((S=+A.getAttribute("rowspan")||1)>1||M>1)&&p.push({s:{r:v+a,c:k+i},e:{r:v+a+(S||1)-1,c:k+i+(M||1)-1}});var z={t:"s",v:C},P=A.getAttribute("data-t")||A.getAttribute("t")||"";C!=null&&(C.length==0?z.t=P||"z":s.raw||C.trim().length==0||P=="s"||(C==="TRUE"?z={t:"b",v:!0}:C==="FALSE"?z={t:"b",v:!1}:isNaN(qd(C))?isNaN(bp(C).getDate())||(z={t:"d",v:Xa(C)},s.cellDates||(z={t:"n",v:Ri(z.v)}),z.z=s.dateNF||Yr[14]):z={t:"n",v:qd(C)})),z.z===void 0&&N!=null&&(z.z=N);var I="",W=A.getElementsByTagName("A");if(W&&W.length)for(var Z=0;Z<W.length&&!(W[Z].hasAttribute("href")&&(I=W[Z].getAttribute("href"),I.charAt(0)!="#"));++Z);I&&I.charAt(0)!="#"&&(z.l={Target:I}),s.dense?(e[v+a]||(e[v+a]=[]),e[v+a][k+i]=z):e[Xr({c:k+i,r:v+a})]=z,d.e.c<k+i&&(d.e.c=k+i),k+=M}}++v}return p.length&&(e["!merges"]=(e["!merges"]||[]).concat(p)),d.e.r=Math.max(d.e.r,v-1+a),e["!ref"]=ms(d),v>=c&&(e["!fullref"]=ms((d.e.r=l.length-y+v-1+a,d))),e}function L9(e,t){var r=t||{},s=r.dense?[]:{};return M9(s,e,t)}function Fse(e,t){return qh(L9(e,t),t)}function xC(e){var t="",r=Dse(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Dse(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Ise(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(s,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Gs(t.replace(/<[^>]*>/g,""));return[r]}var gC={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function P9(e,t){var r=t||{},s=A5(e),a=[],i,o,l={name:""},c="",d=0,u,p,x={},f=[],y=r.dense?[]:{},v,_,k={value:""},S="",M=0,T=[],O=-1,A=-1,C={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,E={},z=[],P={},I=0,W=0,Z=[],Y=1,te=1,ie=[],le={Names:[]},se={},oe=["",""],ee=[],B={},q="",Q=0,K=!1,ae=!1,ge=0;for(Dx.lastIndex=0,s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=Dx.exec(s);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(C.e.c>=C.s.c&&C.e.r>=C.s.r?y["!ref"]=ms(C):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=C.e.r&&(y["!fullref"]=y["!ref"],C.e.r=r.sheetRows-1,y["!ref"]=ms(C)),z.length&&(y["!merges"]=z),Z.length&&(y["!rows"]=Z),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),f.push(u.name),x[u.name]=y,ae=!1):v[0].charAt(v[0].length-2)!=="/"&&(u=Jr(v[0],!1),O=A=-1,C.s.r=C.s.c=1e7,C.e.r=C.e.c=0,y=r.dense?[]:{},z=[],Z=[],ae=!0);break;case"table-row-group":v[1]==="/"?--N:++N;break;case"table-row":case"":if(v[1]==="/"){O+=Y,Y=1;break}if(p=Jr(v[0],!1),p.?O=p.-1:O==-1&&(O=0),Y=+p["number-rows-repeated"]||1,Y<10)for(ge=0;ge<Y;++ge)N>0&&(Z[O+ge]={level:N});A=-1;break;case"covered-table-cell":v[1]!=="/"&&++A,r.sheetStubs&&(r.dense?(y[O]||(y[O]=[]),y[O][A]={t:"z"}):y[Xr({r:O,c:A})]={t:"z"}),S="",T=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++A,k=Jr(v[0],!1),te=parseInt(k["number-columns-repeated"]||"1",10),_={t:"z",v:null},k.formula&&r.cellFormula!=!1&&(_.f=hC(Gs(k.formula))),(k.||k["value-type"])=="string"&&(_.t="s",_.v=Gs(k["string-value"]||""),r.dense?(y[O]||(y[O]=[]),y[O][A]=_):y[Xr({r:O,c:A})]=_),A+=te-1;else if(v[1]!=="/"){++A,S="",M=0,T=[],te=1;var he=Y?O+Y-1:O;if(A>C.e.c&&(C.e.c=A),A<C.s.c&&(C.s.c=A),O<C.s.r&&(C.s.r=O),he>C.e.r&&(C.e.r=he),k=Jr(v[0],!1),ee=[],B={},_={t:k.||k["value-type"],v:null},r.cellFormula)if(k.formula&&(k.formula=Gs(k.formula)),k["number-matrix-columns-spanned"]&&k["number-matrix-rows-spanned"]&&(I=parseInt(k["number-matrix-rows-spanned"],10)||0,W=parseInt(k["number-matrix-columns-spanned"],10)||0,P={s:{r:O,c:A},e:{r:O+I-1,c:A+W-1}},_.F=ms(P),ie.push([P,_.F])),k.formula)_.f=hC(k.formula);else for(ge=0;ge<ie.length;++ge)O>=ie[ge][0].s.r&&O<=ie[ge][0].e.r&&A>=ie[ge][0].s.c&&A<=ie[ge][0].e.c&&(_.F=ie[ge][1]);switch((k["number-columns-spanned"]||k["number-rows-spanned"])&&(I=parseInt(k["number-rows-spanned"],10)||0,W=parseInt(k["number-columns-spanned"],10)||0,P={s:{r:O,c:A},e:{r:O+I-1,c:A+W-1}},z.push(P)),k["number-columns-repeated"]&&(te=parseInt(k["number-columns-repeated"],10)),_.t){case"boolean":_.t="b",_.v=qa(k["boolean-value"]);break;case"float":_.t="n",_.v=parseFloat(k.value);break;case"percentage":_.t="n",_.v=parseFloat(k.value);break;case"currency":_.t="n",_.v=parseFloat(k.value);break;case"date":_.t="d",_.v=Xa(k["date-value"]),r.cellDates||(_.t="n",_.v=Ri(_.v)),_.z="m/d/yy";break;case"time":_.t="n",_.v=cq(k["time-value"])/86400,r.cellDates&&(_.t="d",_.v=Qy(_.v)),_.z="HH:MM:SS";break;case"number":_.t="n",_.v=parseFloat(k.);break;default:if(_.t==="string"||_.t==="text"||!_.t)_.t="s",k["string-value"]!=null&&(S=Gs(k["string-value"]),T=[]);else throw new Error("Unsupported value type "+_.t)}}else{if(K=!1,_.t==="s"&&(_.v=S||"",T.length&&(_.R=T),K=M==0),se.Target&&(_.l=se),ee.length>0&&(_.c=ee,ee=[]),S&&r.cellText!==!1&&(_.w=S),K&&(_.t="z",delete _.v),(!K||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=O))for(var ke=0;ke<Y;++ke){if(te=parseInt(k["number-columns-repeated"]||"1",10),r.dense)for(y[O+ke]||(y[O+ke]=[]),y[O+ke][A]=ke==0?_:Ja(_);--te>0;)y[O+ke][A+te]=Ja(_);else for(y[Xr({r:O+ke,c:A})]=_;--te>0;)y[Xr({r:O+ke,c:A+te})]=Ja(_);C.e.c<=A&&(C.e.c=A)}te=parseInt(k["number-columns-repeated"]||"1",10),A+=te-1,te=0,_={},S="",T=[]}se={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i;B.t=S,T.length&&(B.R=T),B.a=q,ee.push(B)}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);q="",Q=0,S="",M=0,T=[];break;case"creator":v[1]==="/"?q=s.slice(Q,v.index):Q=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);S="",M=0,T=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(E[l.name]=c,(i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&(c="",l=Jr(v[0],!1),a.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Jr(v[0],!1),c+=gC[v[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Jr(v[0],!1),c+=gC[v[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=s.slice(d,v.index);break}else d=v.index+v[0].length;break;case"named-range":o=Jr(v[0],!1),oe=R_(o["cell-range-address"]);var Ae={Name:o.name,Ref:oe[0]+"!"+oe[1]};ae&&(Ae.Sheet=f.length),le.Names.push(Ae);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(v[1]==="/"&&(!k||!k["string-value"])){var We=Ise(s.slice(M,v.index));S=(S.length>0?S+`
`:"")+We[0]}else Jr(v[0],!1),M=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{oe=R_(Jr(v[0])["target-range-address"]),x[oe[0]]["!autofilter"]={ref:oe[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(se=Jr(v[0],!1),!se.href)break;se.Target=Gs(se.href),delete se.href,se.Target.charAt(0)=="#"&&se.Target.indexOf(".")>-1?(oe=R_(se.Target.slice(1)),se.Target="#"+oe[0]+"!"+oe[1]):se.Target.match(/^\.\.[\\\/]/)&&(se.Target=se.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(v)}}var fe={Sheets:x,SheetNames:f,Workbook:le};return r.bookSheets&&delete fe.Sheets,fe}function vC(e,t){t=t||{},nd(e,"META-INF/manifest.xml")&&cK(pi(e,"META-INF/manifest.xml"),t);var r=Ac(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var s=P9(Sa(r),t);return nd(e,"meta.xml")&&(s.Props=NT(pi(e,"meta.xml"))),s}function yC(e,t){return P9(e,t)}var Rse=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Fx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return ai+t}})(),bC=(function(){var e=function(i){return Na(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,s=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Na(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,p=Ql(i["!ref"]||"A1"),x=i["!merges"]||[],f=0,y=Array.isArray(i);if(i["!cols"])for(u=0;u<=p.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var v="",_=i["!rows"]||[];for(d=0;d<p.s.r;++d)v=_[d]?' table:style-name="ro'+_[d].ods+'"':"",c.push("        <table:table-row"+v+`></table:table-row>
`);for(;d<=p.e.r;++d){for(v=_[d]?' table:style-name="ro'+_[d].ods+'"':"",c.push("        <table:table-row"+v+`>
`),u=0;u<p.s.c;++u)c.push(t);for(;u<=p.e.c;++u){var k=!1,S={},M="";for(f=0;f!=x.length;++f)if(!(x[f].s.c>u)&&!(x[f].s.r>d)&&!(x[f].e.c<u)&&!(x[f].e.r<d)){(x[f].s.c!=u||x[f].s.r!=d)&&(k=!0),S["table:number-columns-spanned"]=x[f].e.c-x[f].s.c+1,S["table:number-rows-spanned"]=x[f].e.r-x[f].s.r+1;break}if(k){c.push(r);continue}var T=Xr({r:d,c:u}),O=y?(i[d]||[])[u]:i[T];if(O&&O.f&&(S["table:formula"]=Na(see(O.f)),O.F&&O.F.slice(0,T.length)==T)){var A=Ql(O.F);S["table:number-matrix-columns-spanned"]=A.e.c-A.s.c+1,S["table:number-matrix-rows-spanned"]=A.e.r-A.s.r+1}if(!O){c.push(t);continue}switch(O.t){case"b":M=O.v?"TRUE":"FALSE",S["office:value-type"]="boolean",S["office:boolean-value"]=O.v?"true":"false";break;case"n":M=O.w||String(O.v||0),S["office:value-type"]="float",S["office:value"]=O.v||0;break;case"s":case"str":M=O.v==null?"":O.v,S["office:value-type"]="string";break;case"d":M=O.w||Xa(O.v).toISOString(),S["office:value-type"]="date",S["office:date-value"]=Xa(O.v).toISOString(),S["table:style-name"]="ce1";break;default:c.push(t);continue}var C=e(M);if(O.l&&O.l.Target){var N=O.l.Target;N=N.charAt(0)=="#"?"#"+aee(N.slice(1)):N,N.charAt(0)!="#"&&!N.match(/^\w+:/)&&(N="../"+N),C=nr("text:a",C,{"xlink:href":N.replace(/&/g,"&amp;")})}c.push("          "+nr("table:table-cell",nr("text:p",C,{}),S)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var p=d["!cols"][u];if(p.width==null&&p.wpx==null&&p.wch==null)continue;Ih(p),p.ods=l;var x=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+x+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var p=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[ai],d=Fx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Fx({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(wT().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var p=0;p!=o.SheetNames.length;++p)c.push(s(o.Sheets[o.SheetNames[p]],o,p));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function F9(e,t){if(t.bookType=="fods")return bC(e,t);var r=j5(),s="",a=[],i=[];return s="mimetype",xs(r,s,"application/vnd.oasis.opendocument.spreadsheet"),s="content.xml",xs(r,s,bC(e,t)),a.push([s,"text/xml"]),i.push([s,"ContentFile"]),s="styles.xml",xs(r,s,Rse(e,t)),a.push([s,"text/xml"]),i.push([s,"StylesFile"]),s="meta.xml",xs(r,s,ai+wT()),a.push([s,"text/xml"]),i.push([s,"MetadataFile"]),s="manifest.rdf",xs(r,s,hK(i)),a.push([s,"application/rdf+xml"]),s="META-INF/manifest.xml",xs(r,s,dK(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Gf(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function i4(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Sa(Gh(e))}function Ose(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ec(O0(e))}function Bse(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var s=0;s<t.length;++s)if(e[r+s]!=t[s])continue e;return!0}return!1}function Oh(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),s=0;return e.forEach(function(a){r.set(a,s),s+=a.length}),r}function _C(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function zse(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,s=e[t+14]&1,a=t+13;a>=t;--a)s=s*256+e[a];return(e[t+15]&128?-s:s)*Math.pow(10,r-6176)}function Use(e,t,r){var s=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,s-6176);e[t+15]|=s>>7,e[t+14]|=(s&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function $x(e,t){var r=t?t[0]:0,s=e[r]&127;e:if(e[r++]>=128&&(s|=(e[r]&127)<<7,e[r++]<128||(s|=(e[r]&127)<<14,e[r++]<128)||(s|=(e[r]&127)<<21,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),s}function va(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function On(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function ta(e){for(var t=[],r=[0];r[0]<e.length;){var s=r[0],a=$x(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=$x(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(s))}var d={data:l,type:i};t[a]==null?t[a]=[d]:t[a].push(d)}return t}function xo(e){var t=[];return e.forEach(function(r,s){r.forEach(function(a){a.data&&(t.push(va(s*8+a.type)),a.type==2&&t.push(va(a.data.length)),t.push(a.data))})}),Oh(t)}function J5(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function rd(e){for(var t,r=[],s=[0];s[0]<e.length;){var a=$x(e,s),i=ta(e.slice(s[0],s[0]+a));s[0]+=a;var o={id:On(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=ta(l.data),d=On(c[3][0].data);o.messages.push({meta:c,data:e.slice(s[0],s[0]+d)}),s[0]+=d}),(t=i[3])!=null&&t[0]&&(o.merge=On(i[3][0].data)>>>0>0),r.push(o)}return r}function Am(e){var t=[];return e.forEach(function(r){var s=[];s[1]=[{data:va(r.id),type:0}],s[2]=[],r.merge!=null&&(s[3]=[{data:va(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:va(o.data.length)}],s[2].push({data:xo(o.meta),type:2})});var i=xo(s);t.push(va(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Oh(t)}function $se(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],s=$x(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(i==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Oh(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(a.push(a[0].slice(-c)),d-=c;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-c,-c+d))}}var u=Oh(a);if(u.length!=s)throw new Error("Unexpected length: ".concat(u.length," != ").concat(s));return u}function sd(e){for(var t=[],r=0;r<e.length;){var s=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push($se(s,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Oh(t)}function Tm(e){for(var t=[],r=0;r<e.length;){var s=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=va(s),o=i.length;t.push(i),s<=60?(o++,t.push(new Uint8Array([s-1<<2]))):s<=256?(o+=2,t.push(new Uint8Array([240,s-1&255]))):s<=65536?(o+=3,t.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(o+=4,t.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(o+=5,t.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),t.push(e.slice(r,r+s)),o+=s,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=s}return Oh(t)}function Wse(e,t,r,s){var a=Gf(e),i=a.getUint32(4,!0),o=(s>1?12:8)+_C(i&(s>1?3470:398))*4,l=-1,c=-1,d=NaN,u=new Date(2001,0,1);i&512&&(l=a.getUint32(o,!0),o+=4),o+=_C(i&(s>1?12288:4096))*4,i&16&&(c=a.getUint32(o,!0),o+=4),i&32&&(d=a.getFloat64(o,!0),o+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var p;switch(e[2]){case 0:break;case 2:p={t:"n",v:d};break;case 3:p={t:"s",v:t[c]};break;case 5:p={t:"d",v:u};break;case 6:p={t:"b",v:d>0};break;case 7:p={t:"n",v:d/86400};break;case 8:p={t:"e",v:0};break;case 9:if(l>-1)p={t:"s",v:r[l]};else if(c>-1)p={t:"s",v:t[c]};else if(!isNaN(d))p={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return p}function Hse(e,t,r){var s=Gf(e),a=s.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,d=NaN,u=new Date(2001,0,1);a&1&&(c=zse(e,i),i+=16),a&2&&(d=s.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+s.getFloat64(i,!0)*1e3),i+=8),a&8&&(l=s.getUint32(i,!0),i+=4),a&16&&(o=s.getUint32(i,!0),i+=4);var p;switch(e[1]){case 0:break;case 2:p={t:"n",v:c};break;case 3:p={t:"s",v:t[l]};break;case 5:p={t:"d",v:u};break;case 6:p={t:"b",v:d>0};break;case 7:p={t:"n",v:d/86400};break;case 8:p={t:"e",v:0};break;case 9:if(o>-1)p={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:p={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return p}function B_(e,t){var r=new Uint8Array(32),s=Gf(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Use(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,s.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,s.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(8,i,!0),r.slice(0,a)}function z_(e,t){var r=new Uint8Array(32),s=Gf(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,s.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,s.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,s.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(4,i,!0),r.slice(0,a)}function Vse(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Wse(e,t,r,e[0]);case 5:return Hse(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Ho(e){var t=ta(e);return $x(t[1][0].data)}function wC(e,t){var r=ta(t.data),s=On(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(o){var l=ta(o.data),c=On(l[1][0].data)>>>0;switch(s){case 1:i[c]=i4(l[3][0].data);break;case 8:{var d=e[Ho(l[9][0].data)][0],u=ta(d.data),p=e[Ho(u[1][0].data)][0],x=On(p.meta[1][0].data);if(x!=2001)throw new Error("2000 unexpected reference to ".concat(x));var f=ta(p.data);i[c]=f[3].map(function(y){return i4(y.data)}).join("")}break}}),i}function Gse(e,t){var r,s,a,i,o,l,c,d,u,p,x,f,y,v,_=ta(e),k=On(_[1][0].data)>>>0,S=On(_[2][0].data)>>>0,M=((s=(r=_[8])==null?void 0:r[0])==null?void 0:s.data)&&On(_[8][0].data)>0||!1,T,O;if((i=(a=_[7])==null?void 0:a[0])!=null&&i.data&&t!=0)T=(l=(o=_[7])==null?void 0:o[0])==null?void 0:l.data,O=(d=(c=_[6])==null?void 0:c[0])==null?void 0:d.data;else if((p=(u=_[4])==null?void 0:u[0])!=null&&p.data&&t!=1)T=(f=(x=_[4])==null?void 0:x[0])==null?void 0:f.data,O=(v=(y=_[3])==null?void 0:y[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var A=M?4:1,C=Gf(T),N=[],E=0;E<T.length/2;++E){var z=C.getUint16(E*2,!0);z<65535&&N.push([E,z])}if(N.length!=S)throw"Expected ".concat(S," cells, found ").concat(N.length);var P=[];for(E=0;E<N.length-1;++E)P[N[E][0]]=O.subarray(N[E][1]*A,N[E+1][1]*A);return N.length>=1&&(P[N[N.length-1][0]]=O.subarray(N[N.length-1][1]*A)),{R:k,cells:P}}function qse(e,t){var r,s=ta(t.data),a=(r=s==null?void 0:s[7])!=null&&r[0]?On(s[7][0].data)>>>0>0?1:0:-1,i=J5(s[5],function(o){return Gse(o,a)});return{nrows:On(s[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,d){if(o[l.R][d])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(d));o[l.R][d]=c}),o},[])}}function Kse(e,t,r){var s,a=ta(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(On(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(On(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=ms(i);var o=ta(a[4][0].data),l=wC(e,e[Ho(o[4][0].data)][0]),c=(s=o[17])!=null&&s[0]?wC(e,e[Ho(o[17][0].data)][0]):[],d=ta(o[3][0].data),u=0;d[1].forEach(function(p){var x=ta(p.data),f=e[Ho(x[2][0].data)][0],y=On(f.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var v=qse(e,f);v.data.forEach(function(_,k){_.forEach(function(S,M){var T=Xr({r:u+k,c:M}),O=Vse(S,l,c);O&&(r[T]=O)})}),u+=v.nrows})}function Yse(e,t){var r=ta(t.data),s={"!ref":"A1"},a=e[Ho(r[2][0].data)],i=On(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Kse(e,a[0],s),s}function Zse(e,t){var r,s=ta(t.data),a={name:(r=s[1])!=null&&r[0]?i4(s[1][0].data):"",sheets:[]},i=J5(s[2],Ho);return i.forEach(function(o){e[o].forEach(function(l){var c=On(l.meta[1][0].data);c==6e3&&a.sheets.push(Yse(e,l))})}),a}function Xse(e,t){var r=s3(),s=ta(t.data),a=J5(s[1],Ho);if(a.forEach(function(i){e[i].forEach(function(o){var l=On(o.meta[1][0].data);if(l==2){var c=Zse(e,o);c.sheets.forEach(function(d,u){a3(r,d,u==0?c.name:c.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function U_(e){var t,r,s,a,i={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var d;try{d=sd(c.content)}catch(p){return console.log("?? "+c.content.length+" "+(p.message||p))}var u;try{u=rd(d)}catch(p){return console.log("## "+(p.message||p))}u.forEach(function(p){i[p.id]=p.messages,o.push(p.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(s=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:s[1])==null?void 0:a[0].data)&&On(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(d){var u=On(d.meta[1][0].data)>>>0;if(u==1)if(!l)l=d;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return Xse(i,l)}function Jse(e,t,r){var s,a,i,o;if(!((s=e[6])!=null&&s[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&On(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=Gf(e[7][0].data),u=0,p=[],x=Gf(e[4][0].data),f=0,y=[],v=0;v<t.length;++v){if(t[v]==null){d.setUint16(v*2,65535,!0),x.setUint16(v*2,65535);continue}d.setUint16(v*2,u,!0),x.setUint16(v*2,f,!0);var _,k;switch(typeof t[v]){case"string":_=B_({t:"s",v:t[v]},r),k=z_({t:"s",v:t[v]},r);break;case"number":_=B_({t:"n",v:t[v]},r),k=z_({t:"n",v:t[v]},r);break;case"boolean":_=B_({t:"b",v:t[v]},r),k=z_({t:"b",v:t[v]},r);break;default:throw new Error("Unsupported value "+t[v])}p.push(_),u+=_.length,y.push(k),f+=k.length,++c}for(e[2][0].data=va(c);v<e[7][0].data.length/2;++v)d.setUint16(v*2,65535,!0),x.setUint16(v*2,65535,!0);return e[6][0].data=Oh(p),e[3][0].data=Oh(y),c}function Qse(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=Ql(r["!ref"]);s.s.r=s.s.c=0;var a=!1;s.e.c>9&&(a=!0,s.e.c=9),s.e.r>49&&(a=!0,s.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(ms(s)));var i=oy(r,{range:s,header:1}),o=["~Sh33tJ5~"];i.forEach(function(q){return q.forEach(function(Q){typeof Q=="string"&&o.push(Q)})});var l={},c=[],d=Rr.read(t.numbers,{type:"base64"});d.FileIndex.map(function(q,Q){return[q,d.FullPaths[Q]]}).forEach(function(q){var Q=q[0],K=q[1];if(Q.type==2&&Q.name.match(/\.iwa/)){var ae=Q.content,ge=sd(ae),he=rd(ge);he.forEach(function(ke){c.push(ke.id),l[ke.id]={deps:[],location:K,type:On(ke.messages[0].meta[1][0].data)}})}}),c.sort(function(q,Q){return q-Q});var u=c.filter(function(q){return q>1}).map(function(q){return[q,va(q)]});d.FileIndex.map(function(q,Q){return[q,d.FullPaths[Q]]}).forEach(function(q){var Q=q[0];if(q[1],!!Q.name.match(/\.iwa/)){var K=rd(sd(Q.content));K.forEach(function(ae){ae.messages.forEach(function(ge){u.forEach(function(he){ae.messages.some(function(ke){return On(ke.meta[1][0].data)!=11006&&Bse(ke.data,he[1])})&&l[he[0]].deps.push(ae.id)})})})}});for(var p=Rr.find(d,l[1].location),x=rd(sd(p.content)),f,y=0;y<x.length;++y){var v=x[y];v.id==1&&(f=v)}var _=Ho(ta(f.messages[0].data)[1][0].data);for(p=Rr.find(d,l[_].location),x=rd(sd(p.content)),y=0;y<x.length;++y)v=x[y],v.id==_&&(f=v);for(_=Ho(ta(f.messages[0].data)[2][0].data),p=Rr.find(d,l[_].location),x=rd(sd(p.content)),y=0;y<x.length;++y)v=x[y],v.id==_&&(f=v);for(_=Ho(ta(f.messages[0].data)[2][0].data),p=Rr.find(d,l[_].location),x=rd(sd(p.content)),y=0;y<x.length;++y)v=x[y],v.id==_&&(f=v);var k=ta(f.messages[0].data);{k[6][0].data=va(s.e.r+1),k[7][0].data=va(s.e.c+1);var S=Ho(k[46][0].data),M=Rr.find(d,l[S].location),T=rd(sd(M.content));{for(var O=0;O<T.length&&T[O].id!=S;++O);if(T[O].id!=S)throw"Bad ColumnRowUIDMapArchive";var A=ta(T[O].messages[0].data);A[1]=[],A[2]=[],A[3]=[];for(var C=0;C<=s.e.c;++C){var N=[];N[1]=N[2]=[{type:0,data:va(C+420690)}],A[1].push({type:2,data:xo(N)}),A[2].push({type:0,data:va(C)}),A[3].push({type:0,data:va(C)})}A[4]=[],A[5]=[],A[6]=[];for(var E=0;E<=s.e.r;++E)N=[],N[1]=N[2]=[{type:0,data:va(E+726270)}],A[4].push({type:2,data:xo(N)}),A[5].push({type:0,data:va(E)}),A[6].push({type:0,data:va(E)});T[O].messages[0].data=xo(A)}M.content=Tm(Am(T)),M.size=M.content.length,delete k[46];var z=ta(k[4][0].data);{z[7][0].data=va(s.e.r+1);var P=ta(z[1][0].data),I=Ho(P[2][0].data);M=Rr.find(d,l[I].location),T=rd(sd(M.content));{if(T[0].id!=I)throw"Bad HeaderStorageBucket";var W=ta(T[0].messages[0].data);for(E=0;E<i.length;++E){var Z=ta(W[2][0].data);Z[1][0].data=va(E),Z[4][0].data=va(i[E].length),W[2][E]={type:W[2][0].type,data:xo(Z)}}T[0].messages[0].data=xo(W)}M.content=Tm(Am(T)),M.size=M.content.length;var Y=Ho(z[2][0].data);M=Rr.find(d,l[Y].location),T=rd(sd(M.content));{if(T[0].id!=Y)throw"Bad HeaderStorageBucket";for(W=ta(T[0].messages[0].data),C=0;C<=s.e.c;++C)Z=ta(W[2][0].data),Z[1][0].data=va(C),Z[4][0].data=va(s.e.r+1),W[2][C]={type:W[2][0].type,data:xo(Z)};T[0].messages[0].data=xo(W)}M.content=Tm(Am(T)),M.size=M.content.length;var te=Ho(z[4][0].data);(function(){for(var q=Rr.find(d,l[te].location),Q=rd(sd(q.content)),K,ae=0;ae<Q.length;++ae){var ge=Q[ae];ge.id==te&&(K=ge)}var he=ta(K.messages[0].data);{he[3]=[];var ke=[];o.forEach(function(fe,ht){ke[1]=[{type:0,data:va(ht)}],ke[2]=[{type:0,data:va(1)}],ke[3]=[{type:2,data:Ose(fe)}],he[3].push({type:2,data:xo(ke)})})}K.messages[0].data=xo(he);var Ae=Am(Q),We=Tm(Ae);q.content=We,q.size=q.content.length})();var ie=ta(z[3][0].data);{var le=ie[1][0];delete ie[2];var se=ta(le.data);{var oe=Ho(se[2][0].data);(function(){for(var q=Rr.find(d,l[oe].location),Q=rd(sd(q.content)),K,ae=0;ae<Q.length;++ae){var ge=Q[ae];ge.id==oe&&(K=ge)}var he=ta(K.messages[0].data);{delete he[6],delete ie[7];var ke=new Uint8Array(he[5][0].data);he[5]=[];for(var Ae=0,We=0;We<=s.e.r;++We){var fe=ta(ke);Ae+=Jse(fe,i[We],o),fe[1][0].data=va(We),he[5].push({data:xo(fe),type:2})}he[1]=[{type:0,data:va(s.e.c+1)}],he[2]=[{type:0,data:va(s.e.r+1)}],he[3]=[{type:0,data:va(Ae)}],he[4]=[{type:0,data:va(s.e.r+1)}]}K.messages[0].data=xo(he);var ht=Am(Q),De=Tm(ht);q.content=De,q.size=q.content.length})()}le.data=xo(se)}z[3][0].data=xo(ie)}k[4][0].data=xo(z)}f.messages[0].data=xo(k);var ee=Am(x),B=Tm(ee);return p.content=B,p.size=p.content.length,d}function D9(e){return function(r){for(var s=0;s!=e.length;++s){var a=e[s];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function Q5(e){D9([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function e3(e){D9([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function eae(e){return js.WS.indexOf(e)>-1?"sheet":e==js.CS?"chart":e==js.DS?"dialog":e==js.MS?"macro":e&&e.length?e:"sheet"}function tae(e,t){if(!e)return 0;try{e=t.map(function(s){return s.id||(s.id=s.strRelID),[s.name,e["!id"][s.id].Target,eae(e["!id"][s.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function rae(e,t,r,s,a,i,o,l,c,d,u,p){try{i[s]=J1(Ac(e,r,!0),t);var x=pi(e,t),f;switch(l){case"sheet":f=kre(x,t,a,c,i[s],d,u,p);break;case"chart":if(f=jre(x,t,a,c,i[s],d,u,p),!f||!f["!drawel"])break;var y=D1(f["!drawel"].Target,t),v=Ix(y),_=uJ(Ac(e,y,!0),J1(Ac(e,v,!0),y)),k=D1(_,y),S=Ix(k);f=Jte(Ac(e,k,!0),k,c,J1(Ac(e,S,!0),k),d,f);break;case"macro":f=Cre(x,t,a,c,i[s],d,u,p);break;case"dialog":f=Sre(x,t,a,c,i[s],d,u,p);break;default:throw new Error("Unrecognized sheet type "+l)}o[s]=f;var M=[];i&&i[s]&&Bn(i[s]).forEach(function(T){var O="";if(i[s][T].Type==js.CMNT){O=D1(i[s][T].Target,t);var A=Mre(pi(e,O,!0),O,c);if(!A||!A.length)return;oC(f,A,!1)}i[s][T].Type==js.TCMNT&&(O=D1(i[s][T].Target,t),M=M.concat(fJ(pi(e,O,!0),c)))}),M&&M.length&&oC(f,M,!0,c.people||[])}catch(T){if(c.WTF)throw T}}function Qc(e){return e.charAt(0)=="/"?e.slice(1):e}function sae(e,t){if(Up(),t=t||{},Q5(t),nd(e,"META-INF/manifest.xml")||nd(e,"objectdata.xml"))return vC(e,t);if(nd(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof U_<"u"){if(e.FileIndex)return U_(e);var r=Rr.utils.cfb_new();return Ej(e).forEach(function(Z){xs(r,Z,mq(e,Z))}),U_(r)}throw new Error("Unsupported NUMBERS file")}if(!nd(e,"[Content_Types].xml"))throw nd(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):nd(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var s=Ej(e),a=oK(Ac(e,"[Content_Types].xml")),i=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",pi(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!pi(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},d={};if(!t.bookSheets&&!t.bookProps){if(Q1=[],a.sst)try{Q1=Tre(pi(e,Qc(a.sst)),a.sst,t)}catch(Z){if(t.WTF)throw Z}t.cellStyles&&a.themes.length&&(c=Are(Ac(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(d=Ere(pi(e,Qc(a.style)),a.style,c,t))}a.links.map(function(Z){try{var Y=J1(Ac(e,Ix(Qc(Z))),Z);return Pre(pi(e,Qc(Z)),Y,Z,t)}catch{}});var u=Nre(pi(e,Qc(a.workbooks[0])),a.workbooks[0],t),p={},x="";a.coreprops.length&&(x=pi(e,Qc(a.coreprops[0]),!0),x&&(p=NT(x)),a.extprops.length!==0&&(x=pi(e,Qc(a.extprops[0]),!0),x&&mK(x,p,t)));var f={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(x=Ac(e,Qc(a.custprops[0]),!0),x&&(f=xK(x,t)));var y={};if((t.bookSheets||t.bookProps)&&(u.Sheets?o=u.Sheets.map(function(Y){return Y.name}):p.Worksheets&&p.SheetNames.length>0&&(o=p.SheetNames),t.bookProps&&(y.Props=p,y.Custprops=f),t.bookSheets&&typeof o<"u"&&(y.SheetNames=o),t.bookSheets?y.SheetNames:t.bookProps))return y;o={};var v={};t.bookDeps&&a.calcchain&&(v=Lre(pi(e,Qc(a.calcchain)),a.calcchain));var _=0,k={},S,M;{var T=u.Sheets;p.Worksheets=T.length,p.SheetNames=[];for(var O=0;O!=T.length;++O)p.SheetNames[O]=T[O].name}var A=i?"bin":"xml",C=a.workbooks[0].lastIndexOf("/"),N=(a.workbooks[0].slice(0,C+1)+"_rels/"+a.workbooks[0].slice(C+1)+".rels").replace(/^\//,"");nd(e,N)||(N="xl/_rels/workbook."+A+".rels");var E=J1(Ac(e,N,!0),N.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Fre(pi(e,Qc(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=pJ(pi(e,Qc(a.people[0])),t)),E&&(E=tae(E,u.Sheets));var z=pi(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(_=0;_!=p.Worksheets;++_){var P="sheet";if(E&&E[_]?(S="xl/"+E[_][1].replace(/[\/]?xl\//,""),nd(e,S)||(S=E[_][1]),nd(e,S)||(S=N.replace(/_rels\/.*$/,"")+E[_][1]),P=E[_][2]):(S="xl/worksheets/sheet"+(_+1-z)+"."+A,S=S.replace(/sheet0\./,"sheet.")),M=S.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(_!=t.sheets)continue e;break;case"string":if(p.SheetNames[_].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var I=!1,W=0;W!=t.sheets.length;++W)typeof t.sheets[W]=="number"&&t.sheets[W]==_&&(I=1),typeof t.sheets[W]=="string"&&t.sheets[W].toLowerCase()==p.SheetNames[_].toLowerCase()&&(I=1);if(!I)continue e}}rae(e,S,M,p.SheetNames[_],_,k,o,P,t,u,c,d)}return y={Directory:a,Workbook:u,Props:p,Custprops:f,Deps:v,Sheets:o,SheetNames:p.SheetNames,Strings:Q1,Styles:d,Themes:c,SSF:Ja(Yr)},t&&t.bookFiles&&(e.files?(y.keys=s,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(Z,Y){Z=Z.replace(/^Root Entry[\/]/,""),y.keys.push(Z),y.files[Z]=e.FileIndex[Y]}))),t&&t.bookVBA&&(a.vba.length>0?y.vbaraw=pi(e,Qc(a.vba[0]),!0):a.defaults&&a.defaults.bin===NJ&&(y.vbaraw=pi(e,"xl/vbaProject.bin",!0))),y}function aae(e,t){var r=t||{},s="Workbook",a=Rr.find(e,s);try{if(s="/!DataSpaces/Version",a=Rr.find(e,s),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+s);if(FZ(a.content),s="/!DataSpaces/DataSpaceMap",a=Rr.find(e,s),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+s);var i=IZ(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+s);if(s="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Rr.find(e,s),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+s);var o=RZ(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+s);if(s="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Rr.find(e,s),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+s);BZ(a.content)}catch{}if(s="/EncryptionInfo",a=Rr.find(e,s),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+s);var l=zZ(a.content);if(s="/EncryptedPackage",a=Rr.find(e,s),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+s);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function nae(e,t){return t.bookType=="ods"?F9(e,t):t.bookType=="numbers"?Qse(e,t):t.bookType=="xlsb"?iae(e,t):oae(e,t)}function iae(e,t){Wm=1024,e&&!e.SSF&&(e.SSF=Ja(Yr)),e&&e.SSF&&(Up(),Zy(e.SSF),t.revssf=Jy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ex?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",s=l9.indexOf(t.bookType)>-1,a=B5();e3(t=t||{});var i=j5(),o="",l=0;if(t.cellXfs=[],Kh(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",xs(i,o,kT(e.Props,t)),a.coreprops.push(o),ba(t.rels,2,o,js.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,xs(i,o,ST(e.Props)),a.extprops.push(o),ba(t.rels,3,o,js.EXT_PROPS),e.Custprops!==e.Props&&Bn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",xs(i,o,ET(e.Custprops)),a.custprops.push(o),ba(t.rels,4,o,js.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var u={"!id":{}},p=e.Sheets[e.SheetNames[l-1]],x=(p||{})["!type"]||"sheet";switch(x){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,xs(i,o,Ire(l-1,o,t,e,u)),a.sheets.push(o),ba(t.wbrels,-1,"worksheets/sheet"+l+"."+r,js.WS[0])}if(p){var f=p["!comments"],y=!1,v="";f&&f.length>0&&(v="xl/comments"+l+"."+r,xs(i,v,Bre(f,v)),a.comments.push(v),ba(u,-1,"../comments"+l+"."+r,js.CMNT),y=!0),p["!legacy"]&&y&&xs(i,"xl/drawings/vmlDrawing"+l+".vml",i9(l,p["!comments"])),delete p["!comments"],delete p["!legacy"]}u["!id"].rId1&&xs(i,Ix(o),rp(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,xs(i,o,Ore(t.Strings,o,t)),a.strs.push(o),ba(t.wbrels,-1,"sharedStrings."+r,js.SST)),o="xl/workbook."+r,xs(i,o,Dre(e,o)),a.workbooks.push(o),ba(t.rels,1,o,js.WB),o="xl/theme/theme1.xml",xs(i,o,V5(e.Themes,t)),a.themes.push(o),ba(t.wbrels,-1,"theme/theme1.xml",js.THEME),o="xl/styles."+r,xs(i,o,Rre(e,o,t)),a.styles.push(o),ba(t.wbrels,-1,"styles."+r,js.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",xs(i,o,e.vbaraw),a.vba.push(o),ba(t.wbrels,-1,"vbaProject.bin",js.VBA)),o="xl/metadata."+r,xs(i,o,zre(o)),a.metadata.push(o),ba(t.wbrels,-1,"metadata."+r,js.XLMETA),xs(i,"[Content_Types].xml",_T(a,t)),xs(i,"_rels/.rels",rp(t.rels)),xs(i,"xl/_rels/workbook."+r+".rels",rp(t.wbrels)),delete t.revssf,delete t.ssf,i}function oae(e,t){Wm=1024,e&&!e.SSF&&(e.SSF=Ja(Yr)),e&&e.SSF&&(Up(),Zy(e.SSF),t.revssf=Jy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ex?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",s=l9.indexOf(t.bookType)>-1,a=B5();e3(t=t||{});var i=j5(),o="",l=0;if(t.cellXfs=[],Kh(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",xs(i,o,kT(e.Props,t)),a.coreprops.push(o),ba(t.rels,2,o,js.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,xs(i,o,ST(e.Props)),a.extprops.push(o),ba(t.rels,3,o,js.EXT_PROPS),e.Custprops!==e.Props&&Bn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",xs(i,o,ET(e.Custprops)),a.custprops.push(o),ba(t.rels,4,o,js.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var p={"!id":{}},x=e.Sheets[e.SheetNames[l-1]],f=(x||{})["!type"]||"sheet";switch(f){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,xs(i,o,y9(l-1,t,e,p)),a.sheets.push(o),ba(t.wbrels,-1,"worksheets/sheet"+l+"."+r,js.WS[0])}if(x){var y=x["!comments"],v=!1,_="";if(y&&y.length>0){var k=!1;y.forEach(function(S){S[1].forEach(function(M){M.T==!0&&(k=!0)})}),k&&(_="xl/threadedComments/threadedComment"+l+"."+r,xs(i,_,mJ(y,u,t)),a.threadedcomments.push(_),ba(p,-1,"../threadedComments/threadedComment"+l+"."+r,js.TCMNT)),_="xl/comments"+l+"."+r,xs(i,_,o9(y)),a.comments.push(_),ba(p,-1,"../comments"+l+"."+r,js.CMNT),v=!0}x["!legacy"]&&v&&xs(i,"xl/drawings/vmlDrawing"+l+".vml",i9(l,x["!comments"])),delete x["!comments"],delete x["!legacy"]}p["!id"].rId1&&xs(i,Ix(o),rp(p))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,xs(i,o,KT(t.Strings,t)),a.strs.push(o),ba(t.wbrels,-1,"sharedStrings."+r,js.SST)),o="xl/workbook."+r,xs(i,o,k9(e)),a.workbooks.push(o),ba(t.rels,1,o,js.WB),o="xl/theme/theme1.xml",xs(i,o,V5(e.Themes,t)),a.themes.push(o),ba(t.wbrels,-1,"theme/theme1.xml",js.THEME),o="xl/styles."+r,xs(i,o,r9(e,t)),a.styles.push(o),ba(t.wbrels,-1,"styles."+r,js.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",xs(i,o,e.vbaraw),a.vba.push(o),ba(t.wbrels,-1,"vbaProject.bin",js.VBA)),o="xl/metadata."+r,xs(i,o,n9()),a.metadata.push(o),ba(t.wbrels,-1,"metadata."+r,js.XLMETA),u.length>1&&(o="xl/persons/person.xml",xs(i,o,xJ(u)),a.people.push(o),ba(t.wbrels,-1,"persons/person.xml",js.PEOPLE)),xs(i,"[Content_Types].xml",_T(a,t)),xs(i,"_rels/.rels",rp(t.rels)),xs(i,"xl/_rels/workbook."+r+".rels",rp(t.wbrels)),delete t.revssf,delete t.ssf,i}function t3(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Pc(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function lae(e,t){return Rr.find(e,"EncryptedPackage")?aae(e,t):E9(e,t)}function cae(e,t){var r,s=e,a=t||{};return a.type||(a.type=_s&&Buffer.isBuffer(e)?"buffer":"base64"),r=ZA(s,a),sae(r,a)}function I9(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return a4(e.slice(r),t);default:break e}return _p.to_workbook(e,t)}function dae(e,t){var r="",s=t3(e,t);switch(t.type){case"base64":r=Pc(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=$f(e);break;default:throw new Error("Unrecognized type "+t.type)}return s[0]==239&&s[1]==187&&s[2]==191&&(r=Sa(r)),t.type="binary",I9(r,t)}function uae(e,t){var r=e;return t.type=="base64"&&(r=Pc(r)),r=Tx.utils.decode(1200,r.slice(2),"str"),t.type="binary",I9(r,t)}function hae(e){return e.match(/[^\x00-\x7F]/)?O0(e):e}function $_(e,t,r,s){return s?(r.type="string",_p.to_workbook(e,r)):_p.to_workbook(t,r)}function Np(e,t){b5();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Np(new Uint8Array(e),(r=Ja(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var s=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),ap={},r.dateNF&&(ap.dateNF=r.dateNF),r.type||(r.type=_s&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=_s?"buffer":"binary",s=iq(e),typeof Uint8Array<"u"&&!_s&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,s=hae(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=Ja(r),r.type="array",Np(_5(s),r)}switch((a=t3(s,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return lae(Rr.read(s,r),r);break;case 9:if(a[1]<=8)return E9(s,r);break;case 60:return a4(s,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return gZ(s,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return GT.to_workbook(s,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?cae(s,r):$_(e,s,r,i);case 239:return a[3]===60?a4(s,r):$_(e,s,r,i);case 255:if(a[1]===254)return uae(s,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Pf.to_workbook(s,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Pf.to_workbook(s,r);break;case 3:case 131:case 139:case 140:return s4.to_workbook(s,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return QT.to_workbook(s,r);break;case 10:case 13:case 32:return dae(s,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return xZ.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?s4.to_workbook(s,r):$_(e,s,r,i)}function R9(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return mg(t.file,Rr.write(e,{type:_s?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Rr.write(e,t)}function fae(e,t){var r=Ja(t||{}),s=nae(e,r);return mae(s,r)}function mae(e,t){var r={},s=_s?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=s;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=s;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Rr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Yy(a))}return t.password&&typeof encrypt_agile<"u"?R9(encrypt_agile(a,t.password),t):t.type==="file"?mg(t.file,a):t.type=="string"?Sa(a):a}function pae(e,t){var r=t||{},s=hse(e,r);return R9(s,r)}function M0(e,t,r){r||(r="");var s=r+e;switch(t.type){case"base64":return Mx(O0(s));case"binary":return O0(s);case"string":return e;case"file":return mg(t.file,s,"utf8");case"buffer":return _s?Ou(s,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(s):M0(s,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function xae(e,t){switch(t.type){case"base64":return Mx(e);case"binary":return e;case"string":return e;case"file":return mg(t.file,e,"binary");case"buffer":return _s?Ou(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function O2(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",s=0;s<e.length;++s)r+=String.fromCharCode(e[s]);return t.type=="base64"?Mx(r):t.type=="string"?Sa(r):r;case"file":return mg(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function O9(e,t){b5(),lre(e);var r=Ja(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var s=O9(e,r);return r.type="array",Yy(s)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return M0(nse(e,r),r);case"slk":case"sylk":return M0(VT.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return M0(T9(e.Sheets[e.SheetNames[a]],r),r);case"txt":return xae(B9(e.Sheets[e.SheetNames[a]],r),r);case"csv":return M0(r3(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return M0(GT.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return O2(s4.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return M0(_p.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return M0(QT.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return M0(qT.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return M0(F9(e,r),r);case"wk1":return O2(Pf.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return O2(Pf.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),O2(A9(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),pae(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return fae(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function gae(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function vae(e,t,r){var s={};return s.type="file",s.file=t,gae(s),O9(e,s)}function yae(e,t,r,s,a,i,o,l){var c=ti(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),p=!0,x=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:r,enumerable:!1})}catch{x.__rowNum__=r}else x.__rowNum__=r;if(!o||e[r])for(var f=t.s.c;f<=t.e.c;++f){var y=o?e[r][f]:e[s[f]+c];if(y===void 0||y.t===void 0){if(d===void 0)continue;i[f]!=null&&(x[i[f]]=d);continue}var v=y.v;switch(y.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[f]!=null){if(v==null)if(y.t=="e"&&v===null)x[i[f]]=null;else if(d!==void 0)x[i[f]]=d;else if(u&&v===null)x[i[f]]=null;else continue;else x[i[f]]=u&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?v:Pu(y,v,l);v!=null&&(p=!1)}}return{row:x,isempty:p}}function oy(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},s=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?s=1:d.header==="A"?s=2:Array.isArray(d.header)?s=3:d.header==null&&(s=0),typeof u){case"string":c=Ks(u);break;case"number":c=Ks(e["!ref"]),c.s.r=u;break;default:c=u}s>0&&(a=0);var p=ti(c.s.r),x=[],f=[],y=0,v=0,_=Array.isArray(e),k=c.s.r,S=0,M={};_&&!e[k]&&(e[k]=[]);var T=d.skipHidden&&e["!cols"]||[],O=d.skipHidden&&e["!rows"]||[];for(S=c.s.c;S<=c.e.c;++S)if(!(T[S]||{}).hidden)switch(x[S]=_n(S),r=_?e[k][S]:e[x[S]+p],s){case 1:i[S]=S-c.s.c;break;case 2:i[S]=x[S];break;case 3:i[S]=d.header[S-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Pu(r,null,d),v=M[o]||0,!v)M[o]=1;else{do l=o+"_"+v++;while(M[l]);M[o]=v,M[l]=1}i[S]=l}for(k=c.s.r+a;k<=c.e.r;++k)if(!(O[k]||{}).hidden){var A=yae(e,c,k,x,s,i,_,d);(A.isempty===!1||(s===1?d.blankrows!==!1:d.blankrows))&&(f[y++]=A.row)}return f.length=y,f}var NC=/"/g;function bae(e,t,r,s,a,i,o,l){for(var c=!0,d=[],u="",p=ti(r),x=t.s.c;x<=t.e.c;++x)if(s[x]){var f=l.dense?(e[r]||[])[x]:e[s[x]+p];if(f==null)u="";else if(f.v!=null){c=!1,u=""+(l.rawNumbers&&f.t=="n"?f.v:Pu(f,null,l));for(var y=0,v=0;y!==u.length;++y)if((v=u.charCodeAt(y))===a||v===i||v===34||l.forceQuotes){u='"'+u.replace(NC,'""')+'"';break}u=="ID"&&(u='"ID"')}else f.f!=null&&!f.F?(c=!1,u="="+f.f,u.indexOf(",")>=0&&(u='"'+u.replace(NC,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function r3(e,t){var r=[],s=t??{};if(e==null||e["!ref"]==null)return"";var a=Ks(e["!ref"]),i=s.FS!==void 0?s.FS:",",o=i.charCodeAt(0),l=s.RS!==void 0?s.RS:`
`,c=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",p=[];s.dense=Array.isArray(e);for(var x=s.skipHidden&&e["!cols"]||[],f=s.skipHidden&&e["!rows"]||[],y=a.s.c;y<=a.e.c;++y)(x[y]||{}).hidden||(p[y]=_n(y));for(var v=0,_=a.s.r;_<=a.e.r;++_)(f[_]||{}).hidden||(u=bae(e,a,_,p,o,c,i,s),u!=null&&(s.strip&&(u=u.replace(d,"")),(u||s.blankrows!==!1)&&r.push((v++?l:"")+u)));return delete s.dense,r.join("")}function B9(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=r3(e,t);return r}function _ae(e){var t="",r,s="";if(e==null||e["!ref"]==null)return[];var a=Ks(e["!ref"]),i="",o=[],l,c=[],d=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=_n(l);for(var u=a.s.r;u<=a.e.r;++u)for(i=ti(u),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=d?(e[u]||[])[l]:e[t],s="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;s=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)s=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)s=""+r.v;else if(r.t=="b")s=r.v?"TRUE":"FALSE";else if(r.w!==void 0)s="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?s="'"+r.v:s=""+r.v}}c[c.length]=t+"="+s}return c}function z9(e,t,r){var s=r||{},a=+!s.skipHeader,i=e||{},o=0,l=0;if(i&&s.origin!=null)if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?wn(s.origin):s.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var p=Ks(i["!ref"]);u.e.c=Math.max(u.e.c,p.e.c),u.e.r=Math.max(u.e.r,p.e.r),o==-1&&(o=p.e.r+1,u.e.r=o+t.length-1+a)}else o==-1&&(o=0,u.e.r=t.length-1+a);var x=s.header||[],f=0;t.forEach(function(v,_){Bn(v).forEach(function(k){(f=x.indexOf(k))==-1&&(x[f=x.length]=k);var S=v[k],M="z",T="",O=Xr({c:l+f,r:o+_+a});d=Wx(i,O),S&&typeof S=="object"&&!(S instanceof Date)?i[O]=S:(typeof S=="number"?M="n":typeof S=="boolean"?M="b":typeof S=="string"?M="s":S instanceof Date?(M="d",s.cellDates||(M="n",S=Ri(S)),T=s.dateNF||Yr[14]):S===null&&s.nullError&&(M="e",S=0),d?(d.t=M,d.v=S,delete d.w,delete d.R,T&&(d.z=T)):i[O]=d={t:M,v:S},T&&(d.z=T))})}),u.e.c=Math.max(u.e.c,l+x.length-1);var y=ti(o);if(a)for(f=0;f<x.length;++f)i[_n(f+l)+y]={t:"s",v:x[f]};return i["!ref"]=ms(u),i}function wae(e,t){return z9(null,e,t)}function Wx(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var s=wn(t);return e[s.r]||(e[s.r]=[]),e[s.r][s.c]||(e[s.r][s.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Wx(e,Xr(t)):Wx(e,Xr({r:t,c:r||0}))}function Nae(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function s3(){return{SheetNames:[],Sheets:{}}}function a3(e,t,r,s){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(N9(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function kae(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var s=Nae(e,t);switch(e.Workbook.Sheets[s]||(e.Workbook.Sheets[s]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[s].Hidden=r}function jae(e,t){return e.z=t,e}function U9(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Cae(e,t,r){return U9(e,"#"+t,r)}function Sae(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Eae(e,t,r,s){for(var a=typeof t!="string"?t:Ks(t),i=typeof t=="string"?t:ms(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Wx(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,s&&(c.D=!0))}return e}var Df={encode_col:_n,encode_row:ti,encode_cell:Xr,encode_range:ms,decode_col:P5,decode_row:L5,split_cell:Oq,decode_cell:wn,decode_range:Ql,format_cell:Pu,sheet_add_aoa:mT,sheet_add_json:z9,sheet_add_dom:M9,aoa_to_sheet:$p,json_to_sheet:wae,table_to_sheet:L9,table_to_book:Fse,sheet_to_csv:r3,sheet_to_txt:B9,sheet_to_json:oy,sheet_to_html:T9,sheet_to_formulae:_ae,sheet_to_row_object_array:oy,sheet_get_cell:Wx,book_new:s3,book_append_sheet:a3,book_set_sheet_visibility:kae,cell_set_number_format:jae,cell_set_hyperlink:U9,cell_set_internal_link:Cae,cell_add_comment:Sae,sheet_set_array_formula:Eae,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Aae="modulepreload",Tae=function(e){return"/"+e},kC={},sx=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){let o=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=o(r.map(d=>{if(d=Tae(d),d in kC)return;kC[d]=!0;const u=d.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const x=document.createElement("link");if(x.rel=u?"stylesheet":Aae,u||(x.as="script"),x.crossOrigin="",x.href=d,c&&x.setAttribute("nonce",c),document.head.appendChild(x),u)return new Promise((f,y)=>{x.addEventListener("load",f),x.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function wa(e){"@babel/helpers - typeof";return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wa(e)}var Jd=Uint8Array,Mc=Uint16Array,n3=Int32Array,i3=new Jd([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o3=new Jd([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),jC=new Jd([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$9=function(e,t){for(var r=new Mc(31),s=0;s<31;++s)r[s]=t+=1<<e[s-1];for(var a=new n3(r[30]),s=1;s<30;++s)for(var i=r[s];i<r[s+1];++i)a[i]=i-r[s]<<5|s;return{b:r,r:a}},W9=$9(i3,2),Mae=W9.b,o4=W9.r;Mae[28]=258,o4[258]=28;var Lae=$9(o3,0),CC=Lae.r,l4=new Mc(32768);for(var Ka=0;Ka<32768;++Ka){var ch=(Ka&43690)>>1|(Ka&21845)<<1;ch=(ch&52428)>>2|(ch&13107)<<2,ch=(ch&61680)>>4|(ch&3855)<<4,l4[Ka]=((ch&65280)>>8|(ch&255)<<8)>>1}var ax=(function(e,t,r){for(var s=e.length,a=0,i=new Mc(t);a<s;++a)e[a]&&++i[e[a]-1];var o=new Mc(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new Mc(1<<t);var c=15-t;for(a=0;a<s;++a)if(e[a])for(var d=a<<4|e[a],u=t-e[a],p=o[e[a]-1]++<<u,x=p|(1<<u)-1;p<=x;++p)l[l4[p]>>c]=d}else for(l=new Mc(s),a=0;a<s;++a)e[a]&&(l[a]=l4[o[e[a]-1]++]>>15-e[a]);return l}),qf=new Jd(288);for(var Ka=0;Ka<144;++Ka)qf[Ka]=8;for(var Ka=144;Ka<256;++Ka)qf[Ka]=9;for(var Ka=256;Ka<280;++Ka)qf[Ka]=7;for(var Ka=280;Ka<288;++Ka)qf[Ka]=8;var ly=new Jd(32);for(var Ka=0;Ka<32;++Ka)ly[Ka]=5;var Pae=ax(qf,9,0),Fae=ax(ly,5,0),H9=function(e){return(e+7)/8|0},Dae=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Jd(e.subarray(t,r))},hu=function(e,t,r){r<<=t&7;var s=t/8|0;e[s]|=r,e[s+1]|=r>>8},N1=function(e,t,r){r<<=t&7;var s=t/8|0;e[s]|=r,e[s+1]|=r>>8,e[s+2]|=r>>16},W_=function(e,t){for(var r=[],s=0;s<e.length;++s)e[s]&&r.push({s,f:e[s]});var a=r.length,i=r.slice();if(!a)return{t:G9,l:0};if(a==1){var o=new Jd(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(O,A){return O.f-A.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,p=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=r[r[d].f<r[p].f?d++:p++],c=r[d!=u&&r[d].f<r[p].f?d++:p++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var x=i[0].s,s=1;s<a;++s)i[s].s>x&&(x=i[s].s);var f=new Mc(x+1),y=c4(r[u-1],f,0);if(y>t){var s=0,v=0,_=y-t,k=1<<_;for(i.sort(function(A,C){return f[C.s]-f[A.s]||A.f-C.f});s<a;++s){var S=i[s].s;if(f[S]>t)v+=k-(1<<y-f[S]),f[S]=t;else break}for(v>>=_;v>0;){var M=i[s].s;f[M]<t?v-=1<<t-f[M]++-1:++s}for(;s>=0&&v;--s){var T=i[s].s;f[T]==t&&(--f[T],++v)}y=t}return{t:new Jd(f),l:y}},c4=function(e,t,r){return e.s==-1?Math.max(c4(e.l,t,r+1),c4(e.r,t,r+1)):t[e.s]=r},SC=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Mc(++t),s=0,a=e[0],i=1,o=function(c){r[s++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:r.subarray(0,s),n:t}},k1=function(e,t){for(var r=0,s=0;s<t.length;++s)r+=e[s]*t[s];return r},V9=function(e,t,r){var s=r.length,a=H9(t+2);e[a]=s&255,e[a+1]=s>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<s;++i)e[a+i+4]=r[i];return(a+4+s)*8},EC=function(e,t,r,s,a,i,o,l,c,d,u){hu(t,u++,r),++a[256];for(var p=W_(a,15),x=p.t,f=p.l,y=W_(i,15),v=y.t,_=y.l,k=SC(x),S=k.c,M=k.n,T=SC(v),O=T.c,A=T.n,C=new Mc(19),N=0;N<S.length;++N)++C[S[N]&31];for(var N=0;N<O.length;++N)++C[O[N]&31];for(var E=W_(C,7),z=E.t,P=E.l,I=19;I>4&&!z[jC[I-1]];--I);var W=d+5<<3,Z=k1(a,qf)+k1(i,ly)+o,Y=k1(a,x)+k1(i,v)+o+14+3*I+k1(C,z)+2*C[16]+3*C[17]+7*C[18];if(c>=0&&W<=Z&&W<=Y)return V9(t,u,e.subarray(c,c+d));var te,ie,le,se;if(hu(t,u,1+(Y<Z)),u+=2,Y<Z){te=ax(x,f,0),ie=x,le=ax(v,_,0),se=v;var oe=ax(z,P,0);hu(t,u,M-257),hu(t,u+5,A-1),hu(t,u+10,I-4),u+=14;for(var N=0;N<I;++N)hu(t,u+3*N,z[jC[N]]);u+=3*I;for(var ee=[S,O],B=0;B<2;++B)for(var q=ee[B],N=0;N<q.length;++N){var Q=q[N]&31;hu(t,u,oe[Q]),u+=z[Q],Q>15&&(hu(t,u,q[N]>>5&127),u+=q[N]>>12)}}else te=Pae,ie=qf,le=Fae,se=ly;for(var N=0;N<l;++N){var K=s[N];if(K>255){var Q=K>>18&31;N1(t,u,te[Q+257]),u+=ie[Q+257],Q>7&&(hu(t,u,K>>23&31),u+=i3[Q]);var ae=K&31;N1(t,u,le[ae]),u+=se[ae],ae>3&&(N1(t,u,K>>5&8191),u+=o3[ae])}else N1(t,u,te[K]),u+=ie[K]}return N1(t,u,te[256]),u+ie[256]},Iae=new n3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),G9=new Jd(0),Rae=function(e,t,r,s,a,i){var o=i.z||e.length,l=new Jd(s+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(s,l.length-a),d=i.l,u=(i.r||0)&7;if(t){u&&(c[0]=i.r>>3);for(var p=Iae[t-1],x=p>>13,f=p&8191,y=(1<<r)-1,v=i.p||new Mc(32768),_=i.h||new Mc(y+1),k=Math.ceil(r/3),S=2*k,M=function(De){return(e[De]^e[De+1]<<k^e[De+2]<<S)&y},T=new n3(25e3),O=new Mc(288),A=new Mc(32),C=0,N=0,E=i.i||0,z=0,P=i.w||0,I=0;E+2<o;++E){var W=M(E),Z=E&32767,Y=_[W];if(v[Z]=Y,_[W]=Z,P<=E){var te=o-E;if((C>7e3||z>24576)&&(te>423||!d)){u=EC(e,c,0,T,O,A,N,z,I,E-I,u),z=C=N=0,I=E;for(var ie=0;ie<286;++ie)O[ie]=0;for(var ie=0;ie<30;++ie)A[ie]=0}var le=2,se=0,oe=f,ee=Z-Y&32767;if(te>2&&W==M(E-ee))for(var B=Math.min(x,te)-1,q=Math.min(32767,E),Q=Math.min(258,te);ee<=q&&--oe&&Z!=Y;){if(e[E+le]==e[E+le-ee]){for(var K=0;K<Q&&e[E+K]==e[E+K-ee];++K);if(K>le){if(le=K,se=ee,K>B)break;for(var ae=Math.min(ee,K-2),ge=0,ie=0;ie<ae;++ie){var he=E-ee+ie&32767,ke=v[he],Ae=he-ke&32767;Ae>ge&&(ge=Ae,Y=he)}}}Z=Y,Y=v[Z],ee+=Z-Y&32767}if(se){T[z++]=268435456|o4[le]<<18|CC[se];var We=o4[le]&31,fe=CC[se]&31;N+=i3[We]+o3[fe],++O[257+We],++A[fe],P=E+le,++C}else T[z++]=e[E],++O[e[E]]}}for(E=Math.max(E,P);E<o;++E)T[z++]=e[E],++O[e[E]];u=EC(e,c,d,T,O,A,N,z,I,E-I,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=_,i.p=v,i.i=E,i.w=P)}else{for(var E=i.w||0;E<o+d;E+=65535){var ht=E+65535;ht>=o&&(c[u/8|0]=d,ht=o),u=V9(c,u+1,e.subarray(E,ht))}i.i=o}return Dae(l,0,s+H9(u)+a)},q9=function(){var e=1,t=0;return{p:function(r){for(var s=e,a=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=s+=r[o];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}e=s,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Oae=function(e,t,r,s,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Jd(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return Rae(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,s,a)},K9=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Bae=function(e,t){var r=t.level,s=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=s<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=q9();a.p(t.dictionary),K9(e,2,a.d())}};function d4(e,t){t||(t={});var r=q9();r.p(e);var s=Oae(e,t,t.dictionary?6:2,4);return Bae(s,t),K9(s,s.length-4,r.d()),s}var zae=typeof TextDecoder<"u"&&new TextDecoder,Uae=0;try{zae.decode(G9,{stream:!0}),Uae=1}catch{}function $ae(e){if(Array.isArray(e))return e}function Wae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function AC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function Hae(e,t){if(e){if(typeof e=="string")return AC(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?AC(e,t):void 0}}function Vae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TC(e,t){return $ae(e)||Wae(e,t)||Hae(e,t)||Vae()}function MC(e,t="utf8"){return new TextDecoder(t).decode(e)}const Gae=new TextEncoder;function qae(e){return Gae.encode(e)}const Kae=1024*8,Yae=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),H_={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class l3{constructor(t=Kae,r={}){zt(this,"buffer");zt(this,"byteLength");zt(this,"byteOffset");zt(this,"length");zt(this,"offset");zt(this,"lastWrittenByte");zt(this,"littleEndian");zt(this,"_data");zt(this,"_mark");zt(this,"_marks");let s=!1;typeof t=="number"?t=new ArrayBuffer(t):(s=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let o=a;(ArrayBuffer.isView(t)||t instanceof l3)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),s?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const s=(this.offset+t)*2,a=new Uint8Array(s);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const s=H_[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+s);if(this.littleEndian===Yae&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+s));l.reverse();const c=new H_[r](l.buffer);return this.offset+=s,c.reverse(),c}const o=new H_[r](i);return this.offset+=s,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let s=0;s<t;s++)r+=this.readChar();return r}readUtf8(t=1){return MC(this.readBytes(t))}decodeText(t=1,r="utf8"){return MC(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(qae(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Hp(e){let t=e.length;for(;--t>=0;)e[t]=0}const Zae=3,Xae=258,Y9=29,Jae=256,Qae=Jae+1+Y9,Z9=30,ene=512,tne=new Array((Qae+2)*2);Hp(tne);const rne=new Array(Z9*2);Hp(rne);const sne=new Array(ene);Hp(sne);const ane=new Array(Xae-Zae+1);Hp(ane);const nne=new Array(Y9);Hp(nne);const ine=new Array(Z9);Hp(ine);const one=(e,t,r,s)=>{let a=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+t[s++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var u4=one;const lne=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var s=0;s<8;s++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},cne=new Uint32Array(lne()),dne=(e,t,r,s)=>{const a=cne,i=s+r;e^=-1;for(let o=s;o<i;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var j0=dne,h4={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},X9={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const une=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var hne=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const s in r)une(r,s)&&(e[s]=r[s])}}return e},fne=e=>{let t=0;for(let s=0,a=e.length;s<a;s++)t+=e[s].length;const r=new Uint8Array(t);for(let s=0,a=0,i=e.length;s<i;s++){let o=e[s];r.set(o,a),a+=o.length}return r},J9={assign:hne,flattenChunks:fne};let Q9=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Q9=!1}const Hx=new Uint8Array(256);for(let e=0;e<256;e++)Hx[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Hx[254]=Hx[254]=1;var mne=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,s,a,i,o=e.length,l=0;for(a=0;a<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(s=e.charCodeAt(a+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,a=0;i<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(s=e.charCodeAt(a+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const pne=(e,t)=>{if(t<65534&&e.subarray&&Q9)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let s=0;s<t;s++)r+=String.fromCharCode(e[s]);return r};var xne=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let s,a;const i=new Array(r*2);for(a=0,s=0;s<r;){let o=e[s++];if(o<128){i[a++]=o;continue}let l=Hx[o];if(l>4){i[a++]=65533,s+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&s<r;)o=o<<6|e[s++]&63,l--;if(l>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return pne(i,a)},gne=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Hx[e[r]]>t?r:t},f4={string2buf:mne,buf2string:xne,utf8border:gne};function vne(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var yne=vne;const B2=16209,bne=16191;var _ne=function(t,r){let s,a,i,o,l,c,d,u,p,x,f,y,v,_,k,S,M,T,O,A,C,N,E,z;const P=t.state;s=t.next_in,E=t.input,a=s+(t.avail_in-5),i=t.next_out,z=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),c=P.dmax,d=P.wsize,u=P.whave,p=P.wnext,x=P.window,f=P.hold,y=P.bits,v=P.lencode,_=P.distcode,k=(1<<P.lenbits)-1,S=(1<<P.distbits)-1;e:do{y<15&&(f+=E[s++]<<y,y+=8,f+=E[s++]<<y,y+=8),M=v[f&k];t:for(;;){if(T=M>>>24,f>>>=T,y-=T,T=M>>>16&255,T===0)z[i++]=M&65535;else if(T&16){O=M&65535,T&=15,T&&(y<T&&(f+=E[s++]<<y,y+=8),O+=f&(1<<T)-1,f>>>=T,y-=T),y<15&&(f+=E[s++]<<y,y+=8,f+=E[s++]<<y,y+=8),M=_[f&S];r:for(;;){if(T=M>>>24,f>>>=T,y-=T,T=M>>>16&255,T&16){if(A=M&65535,T&=15,y<T&&(f+=E[s++]<<y,y+=8,y<T&&(f+=E[s++]<<y,y+=8)),A+=f&(1<<T)-1,A>c){t.msg="invalid distance too far back",P.mode=B2;break e}if(f>>>=T,y-=T,T=i-o,A>T){if(T=A-T,T>u&&P.sane){t.msg="invalid distance too far back",P.mode=B2;break e}if(C=0,N=x,p===0){if(C+=d-T,T<O){O-=T;do z[i++]=x[C++];while(--T);C=i-A,N=z}}else if(p<T){if(C+=d+p-T,T-=p,T<O){O-=T;do z[i++]=x[C++];while(--T);if(C=0,p<O){T=p,O-=T;do z[i++]=x[C++];while(--T);C=i-A,N=z}}}else if(C+=p-T,T<O){O-=T;do z[i++]=x[C++];while(--T);C=i-A,N=z}for(;O>2;)z[i++]=N[C++],z[i++]=N[C++],z[i++]=N[C++],O-=3;O&&(z[i++]=N[C++],O>1&&(z[i++]=N[C++]))}else{C=i-A;do z[i++]=z[C++],z[i++]=z[C++],z[i++]=z[C++],O-=3;while(O>2);O&&(z[i++]=z[C++],O>1&&(z[i++]=z[C++]))}}else if((T&64)===0){M=_[(M&65535)+(f&(1<<T)-1)];continue r}else{t.msg="invalid distance code",P.mode=B2;break e}break}}else if((T&64)===0){M=v[(M&65535)+(f&(1<<T)-1)];continue t}else if(T&32){P.mode=bne;break e}else{t.msg="invalid literal/length code",P.mode=B2;break e}break}}while(s<a&&i<l);O=y>>3,s-=O,y-=O<<3,f&=(1<<y)-1,t.next_in=s,t.next_out=i,t.avail_in=s<a?5+(a-s):5-(s-a),t.avail_out=i<l?257+(l-i):257-(i-l),P.hold=f,P.bits=y};const Mm=15,LC=852,PC=592,FC=0,V_=1,DC=2,wne=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Nne=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),kne=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),jne=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Cne=(e,t,r,s,a,i,o,l)=>{const c=l.bits;let d=0,u=0,p=0,x=0,f=0,y=0,v=0,_=0,k=0,S=0,M,T,O,A,C,N=null,E;const z=new Uint16Array(Mm+1),P=new Uint16Array(Mm+1);let I=null,W,Z,Y;for(d=0;d<=Mm;d++)z[d]=0;for(u=0;u<s;u++)z[t[r+u]]++;for(f=c,x=Mm;x>=1&&z[x]===0;x--);if(f>x&&(f=x),x===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(p=1;p<x&&z[p]===0;p++);for(f<p&&(f=p),_=1,d=1;d<=Mm;d++)if(_<<=1,_-=z[d],_<0)return-1;if(_>0&&(e===FC||x!==1))return-1;for(P[1]=0,d=1;d<Mm;d++)P[d+1]=P[d]+z[d];for(u=0;u<s;u++)t[r+u]!==0&&(o[P[t[r+u]]++]=u);if(e===FC?(N=I=o,E=20):e===V_?(N=wne,I=Nne,E=257):(N=kne,I=jne,E=0),S=0,u=0,d=p,C=i,y=f,v=0,O=-1,k=1<<f,A=k-1,e===V_&&k>LC||e===DC&&k>PC)return 1;for(;;){W=d-v,o[u]+1<E?(Z=0,Y=o[u]):o[u]>=E?(Z=I[o[u]-E],Y=N[o[u]-E]):(Z=96,Y=0),M=1<<d-v,T=1<<y,p=T;do T-=M,a[C+(S>>v)+T]=W<<24|Z<<16|Y|0;while(T!==0);for(M=1<<d-1;S&M;)M>>=1;if(M!==0?(S&=M-1,S+=M):S=0,u++,--z[d]===0){if(d===x)break;d=t[r+o[u]]}if(d>f&&(S&A)!==O){for(v===0&&(v=f),C+=p,y=d-v,_=1<<y;y+v<x&&(_-=z[y+v],!(_<=0));)y++,_<<=1;if(k+=1<<y,e===V_&&k>LC||e===DC&&k>PC)return 1;O=S&A,a[O]=f<<24|y<<16|C-i|0}}return S!==0&&(a[C+S]=d-v<<24|64<<16|0),l.bits=f,0};var nx=Cne;const Sne=0,eM=1,tM=2,{Z_FINISH:IC,Z_BLOCK:Ene,Z_TREES:z2,Z_OK:Kf,Z_STREAM_END:Ane,Z_NEED_DICT:Tne,Z_STREAM_ERROR:md,Z_DATA_ERROR:rM,Z_MEM_ERROR:sM,Z_BUF_ERROR:Mne,Z_DEFLATED:RC}=X9,ab=16180,OC=16181,BC=16182,zC=16183,UC=16184,$C=16185,WC=16186,HC=16187,VC=16188,GC=16189,cy=16190,fu=16191,G_=16192,qC=16193,q_=16194,KC=16195,YC=16196,ZC=16197,XC=16198,U2=16199,$2=16200,JC=16201,QC=16202,eS=16203,tS=16204,rS=16205,K_=16206,sS=16207,aS=16208,nn=16209,aM=16210,nM=16211,Lne=852,Pne=592,Fne=15,Dne=Fne,nS=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Ine(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const im=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<ab||t.mode>nM?1:0},iM=e=>{if(im(e))return md;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=ab,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Lne),t.distcode=t.distdyn=new Int32Array(Pne),t.sane=1,t.back=-1,Kf},oM=e=>{if(im(e))return md;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,iM(e)},lM=(e,t)=>{let r;if(im(e))return md;const s=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?md:(s.window!==null&&s.wbits!==t&&(s.window=null),s.wrap=r,s.wbits=t,oM(e))},cM=(e,t)=>{if(!e)return md;const r=new Ine;e.state=r,r.strm=e,r.window=null,r.mode=ab;const s=lM(e,t);return s!==Kf&&(e.state=null),s},Rne=e=>cM(e,Dne);let iS=!0,Y_,Z_;const One=e=>{if(iS){Y_=new Int32Array(512),Z_=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(nx(eM,e.lens,0,288,Y_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;nx(tM,e.lens,0,32,Z_,0,e.work,{bits:5}),iS=!1}e.lencode=Y_,e.lenbits=9,e.distcode=Z_,e.distbits=5},dM=(e,t,r,s)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),s>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>s&&(a=s),i.window.set(t.subarray(r-s,r-s+a),i.wnext),s-=a,s?(i.window.set(t.subarray(r-s,r),0),i.wnext=s,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},Bne=(e,t)=>{let r,s,a,i,o,l,c,d,u,p,x,f,y,v,_=0,k,S,M,T,O,A,C,N;const E=new Uint8Array(4);let z,P;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(im(e)||!e.output||!e.input&&e.avail_in!==0)return md;r=e.state,r.mode===fu&&(r.mode=G_),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,s=e.input,l=e.avail_in,d=r.hold,u=r.bits,p=l,x=c,N=Kf;e:for(;;)switch(r.mode){case ab:if(r.wrap===0){r.mode=G_;break}for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,E[0]=d&255,E[1]=d>>>8&255,r.check=j0(r.check,E,2,0),d=0,u=0,r.mode=OC;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=nn;break}if((d&15)!==RC){e.msg="unknown compression method",r.mode=nn;break}if(d>>>=4,u-=4,C=(d&15)+8,r.wbits===0&&(r.wbits=C),C>15||C>r.wbits){e.msg="invalid window size",r.mode=nn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?GC:fu,d=0,u=0;break;case OC:for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.flags=d,(r.flags&255)!==RC){e.msg="unknown compression method",r.mode=nn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=nn;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,r.check=j0(r.check,E,2,0)),d=0,u=0,r.mode=BC;case BC:for(;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,E[2]=d>>>16&255,E[3]=d>>>24&255,r.check=j0(r.check,E,4,0)),d=0,u=0,r.mode=zC;case zC:for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,r.check=j0(r.check,E,2,0)),d=0,u=0,r.mode=UC;case UC:if(r.flags&1024){for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,r.check=j0(r.check,E,2,0)),d=0,u=0}else r.head&&(r.head.extra=null);r.mode=$C;case $C:if(r.flags&1024&&(f=r.length,f>l&&(f=l),f&&(r.head&&(C=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(s.subarray(i,i+f),C)),r.flags&512&&r.wrap&4&&(r.check=j0(r.check,s,f,i)),l-=f,i+=f,r.length-=f),r.length))break e;r.length=0,r.mode=WC;case WC:if(r.flags&2048){if(l===0)break e;f=0;do C=s[i+f++],r.head&&C&&r.length<65536&&(r.head.name+=String.fromCharCode(C));while(C&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=j0(r.check,s,f,i)),l-=f,i+=f,C)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=HC;case HC:if(r.flags&4096){if(l===0)break e;f=0;do C=s[i+f++],r.head&&C&&r.length<65536&&(r.head.comment+=String.fromCharCode(C));while(C&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=j0(r.check,s,f,i)),l-=f,i+=f,C)break e}else r.head&&(r.head.comment=null);r.mode=VC;case VC:if(r.flags&512){for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=nn;break}d=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=fu;break;case GC:for(;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}e.adler=r.check=nS(d),d=0,u=0,r.mode=cy;case cy:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=u,Tne;e.adler=r.check=1,r.mode=fu;case fu:if(t===Ene||t===z2)break e;case G_:if(r.last){d>>>=u&7,u-=u&7,r.mode=K_;break}for(;u<3;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}switch(r.last=d&1,d>>>=1,u-=1,d&3){case 0:r.mode=qC;break;case 1:if(One(r),r.mode=U2,t===z2){d>>>=2,u-=2;break e}break;case 2:r.mode=YC;break;case 3:e.msg="invalid block type",r.mode=nn}d>>>=2,u-=2;break;case qC:for(d>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=nn;break}if(r.length=d&65535,d=0,u=0,r.mode=q_,t===z2)break e;case q_:r.mode=KC;case KC:if(f=r.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;a.set(s.subarray(i,i+f),o),l-=f,i+=f,c-=f,o+=f,r.length-=f;break}r.mode=fu;break;case YC:for(;u<14;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.nlen=(d&31)+257,d>>>=5,u-=5,r.ndist=(d&31)+1,d>>>=5,u-=5,r.ncode=(d&15)+4,d>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=nn;break}r.have=0,r.mode=ZC;case ZC:for(;r.have<r.ncode;){for(;u<3;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.lens[I[r.have++]]=d&7,d>>>=3,u-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,z={bits:r.lenbits},N=nx(Sne,r.lens,0,19,r.lencode,0,r.work,z),r.lenbits=z.bits,N){e.msg="invalid code lengths set",r.mode=nn;break}r.have=0,r.mode=XC;case XC:for(;r.have<r.nlen+r.ndist;){for(;_=r.lencode[d&(1<<r.lenbits)-1],k=_>>>24,S=_>>>16&255,M=_&65535,!(k<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(M<16)d>>>=k,u-=k,r.lens[r.have++]=M;else{if(M===16){for(P=k+2;u<P;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(d>>>=k,u-=k,r.have===0){e.msg="invalid bit length repeat",r.mode=nn;break}C=r.lens[r.have-1],f=3+(d&3),d>>>=2,u-=2}else if(M===17){for(P=k+3;u<P;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=k,u-=k,C=0,f=3+(d&7),d>>>=3,u-=3}else{for(P=k+7;u<P;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=k,u-=k,C=0,f=11+(d&127),d>>>=7,u-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=nn;break}for(;f--;)r.lens[r.have++]=C}}if(r.mode===nn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=nn;break}if(r.lenbits=9,z={bits:r.lenbits},N=nx(eM,r.lens,0,r.nlen,r.lencode,0,r.work,z),r.lenbits=z.bits,N){e.msg="invalid literal/lengths set",r.mode=nn;break}if(r.distbits=6,r.distcode=r.distdyn,z={bits:r.distbits},N=nx(tM,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,z),r.distbits=z.bits,N){e.msg="invalid distances set",r.mode=nn;break}if(r.mode=U2,t===z2)break e;case U2:r.mode=$2;case $2:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=u,_ne(e,x),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,s=e.input,l=e.avail_in,d=r.hold,u=r.bits,r.mode===fu&&(r.back=-1);break}for(r.back=0;_=r.lencode[d&(1<<r.lenbits)-1],k=_>>>24,S=_>>>16&255,M=_&65535,!(k<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(S&&(S&240)===0){for(T=k,O=S,A=M;_=r.lencode[A+((d&(1<<T+O)-1)>>T)],k=_>>>24,S=_>>>16&255,M=_&65535,!(T+k<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=T,u-=T,r.back+=T}if(d>>>=k,u-=k,r.back+=k,r.length=M,S===0){r.mode=rS;break}if(S&32){r.back=-1,r.mode=fu;break}if(S&64){e.msg="invalid literal/length code",r.mode=nn;break}r.extra=S&15,r.mode=JC;case JC:if(r.extra){for(P=r.extra;u<P;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=QC;case QC:for(;_=r.distcode[d&(1<<r.distbits)-1],k=_>>>24,S=_>>>16&255,M=_&65535,!(k<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if((S&240)===0){for(T=k,O=S,A=M;_=r.distcode[A+((d&(1<<T+O)-1)>>T)],k=_>>>24,S=_>>>16&255,M=_&65535,!(T+k<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=T,u-=T,r.back+=T}if(d>>>=k,u-=k,r.back+=k,S&64){e.msg="invalid distance code",r.mode=nn;break}r.offset=M,r.extra=S&15,r.mode=eS;case eS:if(r.extra){for(P=r.extra;u<P;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=nn;break}r.mode=tS;case tS:if(c===0)break e;if(f=x-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=nn;break}f>r.wnext?(f-=r.wnext,y=r.wsize-f):y=r.wnext-f,f>r.length&&(f=r.length),v=r.window}else v=a,y=o-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do a[o++]=v[y++];while(--f);r.length===0&&(r.mode=$2);break;case rS:if(c===0)break e;a[o++]=r.length,c--,r.mode=$2;break;case K_:if(r.wrap){for(;u<32;){if(l===0)break e;l--,d|=s[i++]<<u,u+=8}if(x-=c,e.total_out+=x,r.total+=x,r.wrap&4&&x&&(e.adler=r.check=r.flags?j0(r.check,a,x,o-x):u4(r.check,a,x,o-x)),x=c,r.wrap&4&&(r.flags?d:nS(d))!==r.check){e.msg="incorrect data check",r.mode=nn;break}d=0,u=0}r.mode=sS;case sS:if(r.wrap&&r.flags){for(;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=nn;break}d=0,u=0}r.mode=aS;case aS:N=Ane;break e;case nn:N=rM;break e;case aM:return sM;case nM:default:return md}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=u,(r.wsize||x!==e.avail_out&&r.mode<nn&&(r.mode<K_||t!==IC))&&dM(e,e.output,e.next_out,x-e.avail_out),p-=e.avail_in,x-=e.avail_out,e.total_in+=p,e.total_out+=x,r.total+=x,r.wrap&4&&x&&(e.adler=r.check=r.flags?j0(r.check,a,x,e.next_out-x):u4(r.check,a,x,e.next_out-x)),e.data_type=r.bits+(r.last?64:0)+(r.mode===fu?128:0)+(r.mode===U2||r.mode===q_?256:0),(p===0&&x===0||t===IC)&&N===Kf&&(N=Mne),N},zne=e=>{if(im(e))return md;let t=e.state;return t.window&&(t.window=null),e.state=null,Kf},Une=(e,t)=>{if(im(e))return md;const r=e.state;return(r.wrap&2)===0?md:(r.head=t,t.done=!1,Kf)},$ne=(e,t)=>{const r=t.length;let s,a,i;return im(e)||(s=e.state,s.wrap!==0&&s.mode!==cy)?md:s.mode===cy&&(a=1,a=u4(a,t,r,0),a!==s.check)?rM:(i=dM(e,t,r,r),i?(s.mode=aM,sM):(s.havedict=1,Kf))};var Wne=oM,Hne=lM,Vne=iM,Gne=Rne,qne=cM,Kne=Bne,Yne=zne,Zne=Une,Xne=$ne,Jne="pako inflate (from Nodeca project)",yu={inflateReset:Wne,inflateReset2:Hne,inflateResetKeep:Vne,inflateInit:Gne,inflateInit2:qne,inflate:Kne,inflateEnd:Yne,inflateGetHeader:Zne,inflateSetDictionary:Xne,inflateInfo:Jne};function Qne(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var eie=Qne;const uM=Object.prototype.toString,{Z_NO_FLUSH:tie,Z_FINISH:rie,Z_OK:Vx,Z_STREAM_END:X_,Z_NEED_DICT:J_,Z_STREAM_ERROR:sie,Z_DATA_ERROR:oS,Z_MEM_ERROR:aie}=X9;function wg(e){this.options=J9.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yne,this.strm.avail_out=0;let r=yu.inflateInit2(this.strm,t.windowBits);if(r!==Vx)throw new Error(h4[r]);if(this.header=new eie,yu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=f4.string2buf(t.dictionary):uM.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=yu.inflateSetDictionary(this.strm,t.dictionary),r!==Vx)))throw new Error(h4[r])}wg.prototype.push=function(e,t){const r=this.strm,s=this.options.chunkSize,a=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?rie:tie,uM.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(s),r.next_out=0,r.avail_out=s),i=yu.inflate(r,o),i===J_&&a&&(i=yu.inflateSetDictionary(r,a),i===Vx?i=yu.inflate(r,o):i===oS&&(i=J_));r.avail_in>0&&i===X_&&r.state.wrap>0&&e[r.next_in]!==0;)yu.inflateReset(r),i=yu.inflate(r,o);switch(i){case sie:case oS:case J_:case aie:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===X_))if(this.options.to==="string"){let c=f4.utf8border(r.output,r.next_out),d=r.next_out-c,u=f4.buf2string(r.output,c);r.next_out=d,r.avail_out=s-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Vx&&l===0)){if(i===X_)return i=yu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};wg.prototype.onData=function(e){this.chunks.push(e)};wg.prototype.onEnd=function(e){e===Vx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=J9.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function nie(e,t){const r=new wg(t);if(r.push(e),r.err)throw r.msg||h4[r.err];return r.result}var iie=wg,oie=nie,lie={Inflate:iie,inflate:oie};const{Inflate:cie,inflate:die}=lie;var lS=cie,uie=die;const hM=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;hM[e]=t}const cS=4294967295;function hie(e,t,r){let s=e;for(let a=0;a<r;a++)s=hM[(s^t[a])&255]^s>>>8;return s}function fie(e,t){return(hie(cS,e,t)^cS)>>>0}function dS(e,t,r){const s=e.readUint32(),a=fie(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==s)throw new Error(`CRC mismatch for chunk ${r}. Expected ${s}, found ${a}`)}function fM(e,t,r){for(let s=0;s<r;s++)t[s]=e[s]}function mM(e,t,r,s){let a=0;for(;a<s;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-s]&255}function pM(e,t,r,s){let a=0;if(r.length===0)for(;a<s;a++)t[a]=e[a];else for(;a<s;a++)t[a]=e[a]+r[a]&255}function xM(e,t,r,s,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<s;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<s;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function gM(e,t,r,s,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<s;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<s;i++)t[i]=e[i]+mie(t[i-a],r[i],r[i-a])&255}}function mie(e,t,r){const s=e+t-r,a=Math.abs(s-e),i=Math.abs(s-t),o=Math.abs(s-r);return a<=i&&a<=o?e:i<=o?t:r}function pie(e,t,r,s,a,i){switch(e){case 0:fM(t,r,a);break;case 1:mM(t,r,a,i);break;case 2:pM(t,r,s,a);break;case 3:xM(t,r,s,a,i);break;case 4:gM(t,r,s,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const xie=new Uint16Array([255]),gie=new Uint8Array(xie.buffer),vie=gie[0]===255;function yie(e){const{data:t,width:r,height:s,channels:a,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(s*r*l);let d=0;for(let u=0;u<7;u++){const p=o[u],x=Math.ceil((r-p.x)/p.xStep),f=Math.ceil((s-p.y)/p.yStep);if(x<=0||f<=0)continue;const y=x*l,v=new Uint8Array(y);for(let _=0;_<f;_++){const k=t[d++],S=t.subarray(d,d+y);d+=y;const M=new Uint8Array(y);pie(k,S,M,v,y,l),v.set(M);for(let T=0;T<x;T++){const O=p.x+T*p.xStep,A=p.y+_*p.yStep;if(!(O>=r||A>=s))for(let C=0;C<l;C++)c[(A*r+O)*l+C]=M[T*l+C]}}}if(i===16){const u=new Uint16Array(c.buffer);if(vie)for(let p=0;p<u.length;p++)u[p]=bie(u[p]);return u}else return c}function bie(e){return(e&255)<<8|e>>8&255}const _ie=new Uint16Array([255]),wie=new Uint8Array(_ie.buffer),Nie=wie[0]===255,kie=new Uint8Array(0);function uS(e){const{data:t,width:r,height:s,channels:a,depth:i}=e,o=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*r),c=new Uint8Array(s*l);let d=kie,u=0,p,x;for(let f=0;f<s;f++){switch(p=t.subarray(u+1,u+1+l),x=c.subarray(f*l,(f+1)*l),t[u]){case 0:fM(p,x,l);break;case 1:mM(p,x,l,o);break;case 2:pM(p,x,d,l);break;case 3:xM(p,x,d,l,o);break;case 4:gM(p,x,d,l,o);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}d=x,u+=l+1}if(i===16){const f=new Uint16Array(c.buffer);if(Nie)for(let y=0;y<f.length;y++)f[y]=jie(f[y]);return f}else return c}function jie(e){return(e&255)<<8|e>>8&255}const bv=Uint8Array.of(137,80,78,71,13,10,26,10);function hS(e){if(!Cie(e.readBytes(bv.length)))throw new Error("wrong PNG signature")}function Cie(e){if(e.length<bv.length)return!1;for(let t=0;t<bv.length;t++)if(e[t]!==bv[t])return!1;return!0}const Sie="tEXt",Eie=0,vM=new TextDecoder("latin1");function Aie(e){if(Mie(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Tie=/^[\u0000-\u00FF]*$/;function Mie(e){if(!Tie.test(e))throw new Error("invalid latin1 text")}function Lie(e,t,r){const s=yM(t);e[s]=Pie(t,r-s.length-1)}function yM(e){for(e.mark();e.readByte()!==Eie;);const t=e.offset;e.reset();const r=vM.decode(e.readBytes(t-e.offset-1));return e.skip(1),Aie(r),r}function Pie(e,t){return vM.decode(e.readBytes(t))}const wc={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Q_={UNKNOWN:-1,DEFLATE:0},fS={UNKNOWN:-1,ADAPTIVE:0},ew={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},W2={NONE:0,BACKGROUND:1,PREVIOUS:2},tw={SOURCE:0,OVER:1};class Fie extends l3{constructor(r,s={}){super(r);zt(this,"_checkCrc");zt(this,"_inflator");zt(this,"_png");zt(this,"_apng");zt(this,"_end");zt(this,"_hasPalette");zt(this,"_palette");zt(this,"_hasTransparency");zt(this,"_transparency");zt(this,"_compressionMethod");zt(this,"_filterMethod");zt(this,"_interlaceMethod");zt(this,"_colorType");zt(this,"_isAnimated");zt(this,"_numberOfFrames");zt(this,"_numberOfPlays");zt(this,"_frames");zt(this,"_writingDataChunks");const{checkCrc:a=!1}=s;this._checkCrc=a,this._inflator=new lS,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Q_.UNKNOWN,this._filterMethod=fS.UNKNOWN,this._interlaceMethod=ew.UNKNOWN,this._colorType=wc.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(hS(this);!this._end;){const r=this.readUint32(),s=this.readChars(4);this.decodeChunk(r,s)}return this.decodeImage(),this._png}decodeApng(){for(hS(this);!this._end;){const r=this.readUint32(),s=this.readChars(4);this.decodeApngChunk(r,s)}return this.decodeApngImage(),this._apng}decodeChunk(r,s){const a=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Sie:Lie(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?dS(this,r+4,s):this.skip(4)}decodeApngChunk(r,s){const a=this.offset;switch(s!=="fdAT"&&s!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),s){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,s),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?dS(this,r+4,s):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=Die(this.readUint8());const s=this.readUint8();this._colorType=s;let a;switch(s){case wc.GREYSCALE:a=1;break;case wc.TRUECOLOUR:a=3;break;case wc.INDEXED_COLOUR:a=1;break;case wc.GREYSCALE_ALPHA:a=2;break;case wc.TRUECOLOUR_ALPHA:a=4;break;case wc.UNKNOWN:default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Q_.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const s=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<s;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const s=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let s=r,a=this.offset+this.byteOffset;if(a+=4,s-=4,this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case wc.GREYSCALE:case wc.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let s=0;s<r/2;s++)this._transparency[s]=this.readUint16();break}case wc.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let s=0;for(;s<r;s++){const a=this.readByte();this._palette[s].push(a)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}case wc.UNKNOWN:case wc.GREYSCALE_ALPHA:case wc.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const s=yM(this),a=this.readUint8();if(a!==Q_.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:uie(i)}}decodepHYs(){const r=this.readUint32(),s=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:s,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const s={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=uS({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)s.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,s),this.addFrameDataToCanvas(s,a)}this._apng.frames.push(s)}}return this._apng}disposeFrame(r,s,a){switch(r.disposeOp){case W2.NONE:break;case W2.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case W2.PREVIOUS:a.data.set(s.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,s){const a=1<<this._png.depth,i=(o,l)=>{const c=((o+s.yOffset)*this._png.width+s.xOffset+l)*this._png.channels,d=(o*s.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(s.blendOp){case tw.SOURCE:for(let o=0;o<s.height;o++)for(let l=0;l<s.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let u=0;u<this._png.channels;u++)r.data[c+u]=s.data[d+u]}break;case tw.OVER:for(let o=0;o<s.height;o++)for(let l=0;l<s.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let u=0;u<this._png.channels;u++){const p=s.data[d+this._png.channels-1]/a,x=u%(this._png.channels-1)===0?1:s.data[d+u],f=Math.floor(p*x+(1-p)*r.data[c+u]);r.data[c+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var s;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((s=this._frames)==null?void 0:s.at(0)).data:this._inflator.result;if(this._filterMethod!==fS.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===ew.NO_INTERLACE)this._png.data=uS({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===ew.ADAM7)this._png.data=yie({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,s=this._frames.at(-1);s?s.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:W2.NONE,blendOp:tw.SOURCE,data:r}),this._inflator=new lS,this._writingDataChunks=!1}}function Die(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var mS;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(mS||(mS={}));function Iie(e,t){return new Fie(e,t).decode()}var es=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function rw(){es.console&&typeof es.console.log=="function"&&es.console.log.apply(es.console,arguments)}var Ma={log:rw,warn:function(e){es.console&&(typeof es.console.warn=="function"?es.console.warn.apply(es.console,arguments):rw.call(null,arguments))},error:function(e){es.console&&(typeof es.console.error=="function"?es.console.error.apply(es.console,arguments):rw(e))}};function sw(e,t,r){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){yf(s.response,t,r)},s.onerror=function(){Ma.error("could not download file")},s.send()}function pS(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function H2(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var yf=es.saveAs||((typeof window>"u"?"undefined":wa(window))!=="object"||window!==es?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var s=es.URL||es.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?pS(a.href)?sw(e,t,r):H2(a,a.target="_blank"):H2(a)):(a.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){H2(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(pS(e))sw(e,t,r);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){H2(s)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:wa(i)!=="object"&&(Ma.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(e,r),t)}:function(e,t,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return sw(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(es.HTMLElement)||es.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":wa(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=u:location=u,s=null},l.readAsDataURL(e)}else{var c=es.URL||es.webkitURL,d=c.createObjectURL(e);s?s.location=d:location.href=d,s=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function bM(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],s=0;s<r.length;s++){var a=r[s].re,i=r[s].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var _v=es.atob.bind(es),xS=es.btoa.bind(es);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function aw(e,t){var r=e[0],s=e[1],a=e[2],i=e[3];r=Bo(r,s,a,i,t[0],7,-680876936),i=Bo(i,r,s,a,t[1],12,-389564586),a=Bo(a,i,r,s,t[2],17,606105819),s=Bo(s,a,i,r,t[3],22,-1044525330),r=Bo(r,s,a,i,t[4],7,-176418897),i=Bo(i,r,s,a,t[5],12,1200080426),a=Bo(a,i,r,s,t[6],17,-1473231341),s=Bo(s,a,i,r,t[7],22,-45705983),r=Bo(r,s,a,i,t[8],7,1770035416),i=Bo(i,r,s,a,t[9],12,-1958414417),a=Bo(a,i,r,s,t[10],17,-42063),s=Bo(s,a,i,r,t[11],22,-1990404162),r=Bo(r,s,a,i,t[12],7,1804603682),i=Bo(i,r,s,a,t[13],12,-40341101),a=Bo(a,i,r,s,t[14],17,-1502002290),r=zo(r,s=Bo(s,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=zo(i,r,s,a,t[6],9,-1069501632),a=zo(a,i,r,s,t[11],14,643717713),s=zo(s,a,i,r,t[0],20,-373897302),r=zo(r,s,a,i,t[5],5,-701558691),i=zo(i,r,s,a,t[10],9,38016083),a=zo(a,i,r,s,t[15],14,-660478335),s=zo(s,a,i,r,t[4],20,-405537848),r=zo(r,s,a,i,t[9],5,568446438),i=zo(i,r,s,a,t[14],9,-1019803690),a=zo(a,i,r,s,t[3],14,-187363961),s=zo(s,a,i,r,t[8],20,1163531501),r=zo(r,s,a,i,t[13],5,-1444681467),i=zo(i,r,s,a,t[2],9,-51403784),a=zo(a,i,r,s,t[7],14,1735328473),r=Uo(r,s=zo(s,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Uo(i,r,s,a,t[8],11,-2022574463),a=Uo(a,i,r,s,t[11],16,1839030562),s=Uo(s,a,i,r,t[14],23,-35309556),r=Uo(r,s,a,i,t[1],4,-1530992060),i=Uo(i,r,s,a,t[4],11,1272893353),a=Uo(a,i,r,s,t[7],16,-155497632),s=Uo(s,a,i,r,t[10],23,-1094730640),r=Uo(r,s,a,i,t[13],4,681279174),i=Uo(i,r,s,a,t[0],11,-358537222),a=Uo(a,i,r,s,t[3],16,-722521979),s=Uo(s,a,i,r,t[6],23,76029189),r=Uo(r,s,a,i,t[9],4,-640364487),i=Uo(i,r,s,a,t[12],11,-421815835),a=Uo(a,i,r,s,t[15],16,530742520),r=$o(r,s=Uo(s,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=$o(i,r,s,a,t[7],10,1126891415),a=$o(a,i,r,s,t[14],15,-1416354905),s=$o(s,a,i,r,t[5],21,-57434055),r=$o(r,s,a,i,t[12],6,1700485571),i=$o(i,r,s,a,t[3],10,-1894986606),a=$o(a,i,r,s,t[10],15,-1051523),s=$o(s,a,i,r,t[1],21,-2054922799),r=$o(r,s,a,i,t[8],6,1873313359),i=$o(i,r,s,a,t[15],10,-30611744),a=$o(a,i,r,s,t[6],15,-1560198380),s=$o(s,a,i,r,t[13],21,1309151649),r=$o(r,s,a,i,t[4],6,-145523070),i=$o(i,r,s,a,t[11],10,-1120210379),a=$o(a,i,r,s,t[2],15,718787259),s=$o(s,a,i,r,t[9],21,-343485551),e[0]=wh(r,e[0]),e[1]=wh(s,e[1]),e[2]=wh(a,e[2]),e[3]=wh(i,e[3])}function nb(e,t,r,s,a,i){return t=wh(wh(t,e),wh(s,i)),wh(t<<a|t>>>32-a,r)}function Bo(e,t,r,s,a,i,o){return nb(t&r|~t&s,e,t,a,i,o)}function zo(e,t,r,s,a,i,o){return nb(t&s|r&~s,e,t,a,i,o)}function Uo(e,t,r,s,a,i,o){return nb(t^r^s,e,t,a,i,o)}function $o(e,t,r,s,a,i,o){return nb(r^(t|~s),e,t,a,i,o)}function _M(e){var t,r=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)aw(s,Rie(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(aw(s,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,aw(s,a),s}function Rie(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var gS="0123456789abcdef".split("");function Oie(e){for(var t="",r=0;r<4;r++)t+=gS[e>>8*r+4&15]+gS[e>>8*r&15];return t}function Bie(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function m4(e){return _M(e).map(Bie).join("")}var zie=(function(e){for(var t=0;t<e.length;t++)e[t]=Oie(e[t]);return e.join("")})(_M("hello"))!="5d41402abc4b2a76b9719d911017c592";function wh(e,t){if(zie){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function p4(e,t){var r,s,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=e,s=l}else l=s;var p=t.length,x=0,f=0,y="";for(c=0;c<p;c++)f=(f+(u=l[x=(x+1)%256]))%256,l[x]=l[f],l[f]=u,o=l[(l[x]+l[f])%256],y+=String.fromCharCode(t.charCodeAt(c)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var vS={print:4,modify:8,copy:16,"annot-forms":32};function Rm(e,t,r,s){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(vS.perm!==void 0)throw new Error("Invalid permission: "+l);a+=vS[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=m4(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=p4(this.encryptionKey,this.padding)}function Om(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,s=0;s<r;s++){var a=e.charCodeAt(s);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[s]}return t}function yS(e){if(wa(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,s,a){if(a=a||!1,typeof r!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[s,!!a],i},this.unsubscribe=function(r){for(var s in t)if(t[s][r])return delete t[s][r],Object.keys(t[s]).length===0&&delete t[s],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,s)}catch(l){es.console&&Ma.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function dy(e){if(!(this instanceof dy))return new dy(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function wM(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function wf(e,t,r,s,a){if(!(this instanceof wf))return new wf(e,t,r,s,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,wM.call(this,s,a)}function Hm(e,t,r,s,a){if(!(this instanceof Hm))return new Hm(e,t,r,s,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,wM.call(this,s,a)}function Mr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;wa(e=e||{})==="object"&&(r=e.orientation,s=e.unit||s,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),s=s||"mm",r=(""+(r||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,x={},f={internal:{},__private__:{}};f.__private__.PubSub=yS;var y="1.3",v=f.__private__.getPdfVersion=function(){return y};f.__private__.setPdfVersion=function(H){y=H};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return _};var k=f.__private__.getPageFormat=function(H){return _[H]};a=a||"a4";var S="compat",M="advanced",T=S;function O(){this.saveGraphicsState(),Ee(new Oe(Et,0,0,-Et,0,So()*Et).toString()+" cm"),this.setFontSize(this.getFontSize()/Et),d="n",T=M}function A(){this.restoreGraphicsState(),d="S",T=S}var C=f.__private__.combineFontStyleAndFontWeight=function(H,de){if(H=="bold"&&de=="normal"||H=="bold"&&de==400||H=="normal"&&de=="italic"||H=="bold"&&de=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return de&&(H=de==400||de==="normal"?H==="italic"?"italic":"normal":de!=700&&de!=="bold"||H!=="normal"?(de==700?"bold":de)+""+H:"bold"),H};f.advancedAPI=function(H){var de=T===S;return de&&O.call(this),typeof H!="function"||(H(this),de&&A.call(this)),this},f.compatAPI=function(H){var de=T===M;return de&&A.call(this),typeof H!="function"||(H(this),de&&O.call(this)),this},f.isAdvancedAPI=function(){return T===M};var N,E=function(H){if(T!==M)throw new Error(H+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=f.roundToPrecision=f.__private__.roundToPrecision=function(H,de){var Pe=t||de;if(isNaN(H)||isNaN(Pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return H.toFixed(Pe).replace(/0+$/,"")};N=f.hpf=f.__private__.hpf=typeof c=="number"?function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.hpf");return z(H,c)}:c==="smart"?function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.hpf");return z(H,H>-1&&H<1?16:5)}:function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.hpf");return z(H,16)};var P=f.f2=f.__private__.f2=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.f2");return z(H,2)},I=f.__private__.f3=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.f3");return z(H,3)},W=f.scale=f.__private__.scale=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.scale");return T===S?H*Et:T===M?H:void 0},Z=function(H){return W((function(de){return T===S?So()-de:T===M?de:void 0})(H))};f.__private__.setPrecision=f.setPrecision=function(H){typeof parseInt(H,10)=="number"&&(t=parseInt(H,10))};var Y,te="00000000000000000000000000000000",ie=f.__private__.getFileId=function(){return te},le=f.__private__.setFileId=function(H){return te=H!==void 0&&/^[a-fA-F0-9]{32}$/.test(H)?H.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(ja=new Rm(u.userPermissions,u.userPassword,u.ownerPassword,te)),te};f.setFileId=function(H){return le(H),this},f.getFileId=function(){return ie()};var se=f.__private__.convertDateToPDFDate=function(H){var de=H.getTimezoneOffset(),Pe=de<0?"+":"-",Ge=Math.floor(Math.abs(de/60)),at=Math.abs(de%60),jt=[Pe,Q(Ge),"'",Q(at),"'"].join("");return["D:",H.getFullYear(),Q(H.getMonth()+1),Q(H.getDate()),Q(H.getHours()),Q(H.getMinutes()),Q(H.getSeconds()),jt].join("")},oe=f.__private__.convertPDFDateToDate=function(H){var de=parseInt(H.substr(2,4),10),Pe=parseInt(H.substr(6,2),10)-1,Ge=parseInt(H.substr(8,2),10),at=parseInt(H.substr(10,2),10),jt=parseInt(H.substr(12,2),10),Ut=parseInt(H.substr(14,2),10);return new Date(de,Pe,Ge,at,jt,Ut,0)},ee=f.__private__.setCreationDate=function(H){var de;if(H===void 0&&(H=new Date),H instanceof Date)de=se(H);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(H))throw new Error("Invalid argument passed to jsPDF.setCreationDate");de=H}return Y=de},B=f.__private__.getCreationDate=function(H){var de=Y;return H==="jsDate"&&(de=oe(Y)),de};f.setCreationDate=function(H){return ee(H),this},f.getCreationDate=function(H){return B(H)};var q,Q=f.__private__.padd2=function(H){return("0"+parseInt(H)).slice(-2)},K=f.__private__.padd2Hex=function(H){return("00"+(H=H.toString())).substr(H.length)},ae=0,ge=[],he=[],ke=0,Ae=[],We=[],fe=!1,ht=he;f.__private__.setCustomOutputDestination=function(H){fe=!0,ht=H};var De=function(H){fe||(ht=H)};f.__private__.resetCustomOutputDestination=function(){fe=!1,ht=he};var Ee=f.__private__.out=function(H){return H=H.toString(),ke+=H.length+1,ht.push(H),ht},Ue=f.__private__.write=function(H){return Ee(arguments.length===1?H.toString():Array.prototype.join.call(arguments," "))},rt=f.__private__.getArrayBuffer=function(H){for(var de=H.length,Pe=new ArrayBuffer(de),Ge=new Uint8Array(Pe);de--;)Ge[de]=H.charCodeAt(de);return Pe},ft=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ft};var Re=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(H){return Re=T===M?H/Et:H,this};var pe,Le=f.__private__.getFontSize=f.getFontSize=function(){return T===S?Re:Re*Et},He=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(H){return He=H,this},f.__private__.getR2L=f.getR2L=function(){return He};var ve,Ne=f.__private__.setZoomMode=function(H){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(H))pe=H;else if(isNaN(H)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(H)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+H+'" is not recognized.');pe=H}else pe=parseInt(H,10)};f.__private__.getZoomMode=function(){return pe};var ze,qe=f.__private__.setPageMode=function(H){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(H)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+H+'" is not recognized.');ve=H};f.__private__.getPageMode=function(){return ve};var pt=f.__private__.setLayoutMode=function(H){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(H)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+H+'" is not recognized.');ze=H};f.__private__.getLayoutMode=function(){return ze},f.__private__.setDisplayMode=f.setDisplayMode=function(H,de,Pe){return Ne(H),pt(de),qe(Pe),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(H){if(Object.keys(xt).indexOf(H)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[H]},f.__private__.getDocumentProperties=function(){return xt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(H){for(var de in xt)xt.hasOwnProperty(de)&&H[de]&&(xt[de]=H[de]);return this},f.__private__.setDocumentProperty=function(H,de){if(Object.keys(xt).indexOf(H)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[H]=de};var Ft,Et,At,ar,er,Qt={},Lt={},rs=[],gr={},zr={},Ir={},Ds={},zs=null,us=0,Fr=[],gs=new yS(f),Ni=e.hotfixes||[],ka={},Oi={},ni=[],Oe=function H(de,Pe,Ge,at,jt,Ut){if(!(this instanceof H))return new H(de,Pe,Ge,at,jt,Ut);isNaN(de)&&(de=1),isNaN(Pe)&&(Pe=0),isNaN(Ge)&&(Ge=0),isNaN(at)&&(at=1),isNaN(jt)&&(jt=0),isNaN(Ut)&&(Ut=0),this._matrix=[de,Pe,Ge,at,jt,Ut]};Object.defineProperty(Oe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(H){this._matrix[0]=H}}),Object.defineProperty(Oe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(H){this._matrix[1]=H}}),Object.defineProperty(Oe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(H){this._matrix[2]=H}}),Object.defineProperty(Oe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(H){this._matrix[3]=H}}),Object.defineProperty(Oe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(H){this._matrix[4]=H}}),Object.defineProperty(Oe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(H){this._matrix[5]=H}}),Object.defineProperty(Oe.prototype,"a",{get:function(){return this._matrix[0]},set:function(H){this._matrix[0]=H}}),Object.defineProperty(Oe.prototype,"b",{get:function(){return this._matrix[1]},set:function(H){this._matrix[1]=H}}),Object.defineProperty(Oe.prototype,"c",{get:function(){return this._matrix[2]},set:function(H){this._matrix[2]=H}}),Object.defineProperty(Oe.prototype,"d",{get:function(){return this._matrix[3]},set:function(H){this._matrix[3]=H}}),Object.defineProperty(Oe.prototype,"e",{get:function(){return this._matrix[4]},set:function(H){this._matrix[4]=H}}),Object.defineProperty(Oe.prototype,"f",{get:function(){return this._matrix[5]},set:function(H){this._matrix[5]=H}}),Object.defineProperty(Oe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Oe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Oe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Oe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Oe.prototype.join=function(H){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(H)},Oe.prototype.multiply=function(H){var de=H.sx*this.sx+H.shy*this.shx,Pe=H.sx*this.shy+H.shy*this.sy,Ge=H.shx*this.sx+H.sy*this.shx,at=H.shx*this.shy+H.sy*this.sy,jt=H.tx*this.sx+H.ty*this.shx+this.tx,Ut=H.tx*this.shy+H.ty*this.sy+this.ty;return new Oe(de,Pe,Ge,at,jt,Ut)},Oe.prototype.decompose=function(){var H=this.sx,de=this.shy,Pe=this.shx,Ge=this.sy,at=this.tx,jt=this.ty,Ut=Math.sqrt(H*H+de*de),mr=(H/=Ut)*Pe+(de/=Ut)*Ge;Pe-=H*mr,Ge-=de*mr;var br=Math.sqrt(Pe*Pe+Ge*Ge);return mr/=br,H*(Ge/=br)<de*(Pe/=br)&&(H=-H,de=-de,mr=-mr,Ut=-Ut),{scale:new Oe(Ut,0,0,br,0,0),translate:new Oe(1,0,0,1,at,jt),rotate:new Oe(H,de,-de,H,0,0),skew:new Oe(1,0,mr,1,0,0)}},Oe.prototype.toString=function(H){return this.join(" ")},Oe.prototype.inversed=function(){var H=this.sx,de=this.shy,Pe=this.shx,Ge=this.sy,at=this.tx,jt=this.ty,Ut=1/(H*Ge-de*Pe),mr=Ge*Ut,br=-de*Ut,qr=-Pe*Ut,Hr=H*Ut;return new Oe(mr,br,qr,Hr,-mr*at-qr*jt,-br*at-Hr*jt)},Oe.prototype.applyToPoint=function(H){var de=H.x*this.sx+H.y*this.shx+this.tx,Pe=H.x*this.shy+H.y*this.sy+this.ty;return new Nl(de,Pe)},Oe.prototype.applyToRectangle=function(H){var de=this.applyToPoint(H),Pe=this.applyToPoint(new Nl(H.x+H.w,H.y+H.h));return new Rc(de.x,de.y,Pe.x-de.x,Pe.y-de.y)},Oe.prototype.clone=function(){var H=this.sx,de=this.shy,Pe=this.shx,Ge=this.sy,at=this.tx,jt=this.ty;return new Oe(H,de,Pe,Ge,at,jt)},f.Matrix=Oe;var et=f.matrixMult=function(H,de){return de.multiply(H)},gt=new Oe(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=gt;var Dt=function(H,de){if(!zr[H]){var Pe=(de instanceof wf?"Sh":"P")+(Object.keys(gr).length+1).toString(10);de.id=Pe,zr[H]=Pe,gr[Pe]=de,gs.publish("addPattern",de)}};f.ShadingPattern=wf,f.TilingPattern=Hm,f.addShadingPattern=function(H,de){return E("addShadingPattern()"),Dt(H,de),this},f.beginTilingPattern=function(H){E("beginTilingPattern()"),jo(H.boundingBox[0],H.boundingBox[1],H.boundingBox[2]-H.boundingBox[0],H.boundingBox[3]-H.boundingBox[1],H.matrix)},f.endTilingPattern=function(H,de){E("endTilingPattern()"),de.stream=We[q].join(`
`),Dt(H,de),gs.publish("endTilingPattern",de),ni.pop().restore()};var Xt,Kt=f.__private__.newObject=function(){var H=Nt();return ce(H,!0),H},Nt=f.__private__.newObjectDeferred=function(){return ae++,ge[ae]=function(){return ke},ae},ce=function(H,de){return de=typeof de=="boolean"&&de,ge[H]=ke,de&&Ee(H+" 0 obj"),H},Ce=f.__private__.newAdditionalObject=function(){var H={objId:Nt(),content:""};return Ae.push(H),H},be=Nt(),we=Nt(),je=f.__private__.decodeColorString=function(H){var de=H.split(" ");if(de.length!==2||de[1]!=="g"&&de[1]!=="G")de.length!==5||de[4]!=="k"&&de[4]!=="K"||(de=[(1-de[0])*(1-de[3]),(1-de[1])*(1-de[3]),(1-de[2])*(1-de[3]),"r"]);else{var Pe=parseFloat(de[0]);de=[Pe,Pe,Pe,"r"]}for(var Ge="#",at=0;at<3;at++)Ge+=("0"+Math.floor(255*parseFloat(de[at])).toString(16)).slice(-2);return Ge},Me=f.__private__.encodeColorString=function(H){var de;typeof H=="string"&&(H={ch1:H});var Pe=H.ch1,Ge=H.ch2,at=H.ch3,jt=H.ch4,Ut=H.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Pe=="string"&&Pe.charAt(0)!=="#"){var mr=new bM(Pe);if(mr.ok)Pe=mr.toHex();else if(!/^\d*\.?\d*$/.test(Pe))throw new Error('Invalid color "'+Pe+'" passed to jsPDF.encodeColorString.')}if(typeof Pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Pe)&&(Pe="#"+Pe[1]+Pe[1]+Pe[2]+Pe[2]+Pe[3]+Pe[3]),typeof Pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Pe)){var br=parseInt(Pe.substr(1),16);Pe=br>>16&255,Ge=br>>8&255,at=255&br}if(Ge===void 0||jt===void 0&&Pe===Ge&&Ge===at)de=typeof Pe=="string"?Pe+" "+Ut[0]:H.precision===2?P(Pe/255)+" "+Ut[0]:I(Pe/255)+" "+Ut[0];else if(jt===void 0||wa(jt)==="object"){if(jt&&!isNaN(jt.a)&&jt.a===0)return["1.","1.","1.",Ut[1]].join(" ");de=typeof Pe=="string"?[Pe,Ge,at,Ut[1]].join(" "):H.precision===2?[P(Pe/255),P(Ge/255),P(at/255),Ut[1]].join(" "):[I(Pe/255),I(Ge/255),I(at/255),Ut[1]].join(" ")}else de=typeof Pe=="string"?[Pe,Ge,at,jt,Ut[2]].join(" "):H.precision===2?[P(Pe),P(Ge),P(at),P(jt),Ut[2]].join(" "):[I(Pe),I(Ge),I(at),I(jt),Ut[2]].join(" ");return de},Xe=f.__private__.getFilters=function(){return o},mt=f.__private__.putStream=function(H){var de=(H=H||{}).data||"",Pe=H.filters||Xe(),Ge=H.alreadyAppliedFilters||[],at=H.addLength1||!1,jt=de.length,Ut=H.objectId,mr=function(un){return un};if(u!==null&&Ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(mr=ja.encryptor(Ut,0));var br={};Pe===!0&&(Pe=["FlateEncode"]);var qr=H.additionalKeyValues||[],Hr=(br=Mr.API.processDataByFilters!==void 0?Mr.API.processDataByFilters(de,Pe):{data:de,reverseChain:[]}).reverseChain+(Array.isArray(Ge)?Ge.join(" "):Ge.toString());if(br.data.length!==0&&(qr.push({key:"Length",value:br.data.length}),at===!0&&qr.push({key:"Length1",value:jt})),Hr.length!=0)if(Hr.split("/").length-1==1)qr.push({key:"Filter",value:Hr});else{qr.push({key:"Filter",value:"["+Hr+"]"});for(var Ms=0;Ms<qr.length;Ms+=1)if(qr[Ms].key==="DecodeParms"){for(var Aa=[],Qa=0;Qa<br.reverseChain.split("/").length-1;Qa+=1)Aa.push("null");Aa.push(qr[Ms].value),qr[Ms].value="["+Aa.join(" ")+"]"}}Ee("<<");for(var Js=0;Js<qr.length;Js++)Ee("/"+qr[Js].key+" "+qr[Js].value);Ee(">>"),br.data.length!==0&&(Ee("stream"),Ee(mr(br.data)),Ee("endstream"))},nt=f.__private__.putPage=function(H){var de=H.number,Pe=H.data,Ge=H.objId,at=H.contentsObjId;ce(Ge,!0),Ee("<</Type /Page"),Ee("/Parent "+H.rootDictionaryObjId+" 0 R"),Ee("/Resources "+H.resourceDictionaryObjId+" 0 R"),Ee("/MediaBox ["+parseFloat(N(H.mediaBox.bottomLeftX))+" "+parseFloat(N(H.mediaBox.bottomLeftY))+" "+N(H.mediaBox.topRightX)+" "+N(H.mediaBox.topRightY)+"]"),H.cropBox!==null&&Ee("/CropBox ["+N(H.cropBox.bottomLeftX)+" "+N(H.cropBox.bottomLeftY)+" "+N(H.cropBox.topRightX)+" "+N(H.cropBox.topRightY)+"]"),H.bleedBox!==null&&Ee("/BleedBox ["+N(H.bleedBox.bottomLeftX)+" "+N(H.bleedBox.bottomLeftY)+" "+N(H.bleedBox.topRightX)+" "+N(H.bleedBox.topRightY)+"]"),H.trimBox!==null&&Ee("/TrimBox ["+N(H.trimBox.bottomLeftX)+" "+N(H.trimBox.bottomLeftY)+" "+N(H.trimBox.topRightX)+" "+N(H.trimBox.topRightY)+"]"),H.artBox!==null&&Ee("/ArtBox ["+N(H.artBox.bottomLeftX)+" "+N(H.artBox.bottomLeftY)+" "+N(H.artBox.topRightX)+" "+N(H.artBox.topRightY)+"]"),typeof H.userUnit=="number"&&H.userUnit!==1&&Ee("/UserUnit "+H.userUnit),gs.publish("putPage",{objId:Ge,pageContext:Fr[de],pageNumber:de,page:Pe}),Ee("/Contents "+at+" 0 R"),Ee(">>"),Ee("endobj");var jt=Pe.join(`
`);return T===M&&(jt+=`
Q`),ce(at,!0),mt({data:jt,filters:Xe(),objectId:at}),Ee("endobj"),Ge},tt=f.__private__.putPages=function(){var H,de,Pe=[];for(H=1;H<=us;H++)Fr[H].objId=Nt(),Fr[H].contentsObjId=Nt();for(H=1;H<=us;H++)Pe.push(nt({number:H,data:We[H],objId:Fr[H].objId,contentsObjId:Fr[H].contentsObjId,mediaBox:Fr[H].mediaBox,cropBox:Fr[H].cropBox,bleedBox:Fr[H].bleedBox,trimBox:Fr[H].trimBox,artBox:Fr[H].artBox,userUnit:Fr[H].userUnit,rootDictionaryObjId:be,resourceDictionaryObjId:we}));ce(be,!0),Ee("<</Type /Pages");var Ge="/Kids [";for(de=0;de<us;de++)Ge+=Pe[de]+" 0 R ";Ee(Ge+"]"),Ee("/Count "+us),Ee(">>"),Ee("endobj"),gs.publish("postPutPages")},st=function(H){gs.publish("putFont",{font:H,out:Ee,newObject:Kt,putStream:mt}),H.isAlreadyPutted!==!0&&(H.objectNumber=Kt(),Ee("<<"),Ee("/Type /Font"),Ee("/BaseFont /"+Om(H.postScriptName)),Ee("/Subtype /Type1"),typeof H.encoding=="string"&&Ee("/Encoding /"+H.encoding),Ee("/FirstChar 32"),Ee("/LastChar 255"),Ee(">>"),Ee("endobj"))},Rt=function(H){H.objectNumber=Kt();var de=[];de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Form"}),de.push({key:"BBox",value:"["+[N(H.x),N(H.y),N(H.x+H.width),N(H.y+H.height)].join(" ")+"]"}),de.push({key:"Matrix",value:"["+H.matrix.toString()+"]"});var Pe=H.pages[1].join(`
`);mt({data:Pe,additionalKeyValues:de,objectId:H.objectNumber}),Ee("endobj")},Yt=function(H,de){de||(de=21);var Pe=Kt(),Ge=(function(Ut,mr){var br,qr=[],Hr=1/(mr-1);for(br=0;br<1;br+=Hr)qr.push(br);if(qr.push(1),Ut[0].offset!=0){var Ms={offset:0,color:Ut[0].color};Ut.unshift(Ms)}if(Ut[Ut.length-1].offset!=1){var Aa={offset:1,color:Ut[Ut.length-1].color};Ut.push(Aa)}for(var Qa="",Js=0,un=0;un<qr.length;un++){for(br=qr[un];br>Ut[Js+1].offset;)Js++;var Fa=Ut[Js].offset,jn=(br-Fa)/(Ut[Js+1].offset-Fa),Ci=Ut[Js].color,en=Ut[Js+1].color;Qa+=K(Math.round((1-jn)*Ci[0]+jn*en[0]).toString(16))+K(Math.round((1-jn)*Ci[1]+jn*en[1]).toString(16))+K(Math.round((1-jn)*Ci[2]+jn*en[2]).toString(16))}return Qa.trim()})(H.colors,de),at=[];at.push({key:"FunctionType",value:"0"}),at.push({key:"Domain",value:"[0.0 1.0]"}),at.push({key:"Size",value:"["+de+"]"}),at.push({key:"BitsPerSample",value:"8"}),at.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),at.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),mt({data:Ge,additionalKeyValues:at,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Pe}),Ee("endobj"),H.objectNumber=Kt(),Ee("<< /ShadingType "+H.type),Ee("/ColorSpace /DeviceRGB");var jt="/Coords ["+N(parseFloat(H.coords[0]))+" "+N(parseFloat(H.coords[1]))+" ";H.type===2?jt+=N(parseFloat(H.coords[2]))+" "+N(parseFloat(H.coords[3])):jt+=N(parseFloat(H.coords[2]))+" "+N(parseFloat(H.coords[3]))+" "+N(parseFloat(H.coords[4]))+" "+N(parseFloat(H.coords[5])),Ee(jt+="]"),H.matrix&&Ee("/Matrix ["+H.matrix.toString()+"]"),Ee("/Function "+Pe+" 0 R"),Ee("/Extend [true true]"),Ee(">>"),Ee("endobj")},sr=function(H,de){var Pe=Nt(),Ge=Kt();de.push({resourcesOid:Pe,objectOid:Ge}),H.objectNumber=Ge;var at=[];at.push({key:"Type",value:"/Pattern"}),at.push({key:"PatternType",value:"1"}),at.push({key:"PaintType",value:"1"}),at.push({key:"TilingType",value:"1"}),at.push({key:"BBox",value:"["+H.boundingBox.map(N).join(" ")+"]"}),at.push({key:"XStep",value:N(H.xStep)}),at.push({key:"YStep",value:N(H.yStep)}),at.push({key:"Resources",value:Pe+" 0 R"}),H.matrix&&at.push({key:"Matrix",value:"["+H.matrix.toString()+"]"}),mt({data:H.stream,additionalKeyValues:at,objectId:H.objectNumber}),Ee("endobj")},$t=function(H){for(var de in H.objectNumber=Kt(),Ee("<<"),H)switch(de){case"opacity":Ee("/ca "+P(H[de]));break;case"stroke-opacity":Ee("/CA "+P(H[de]))}Ee(">>"),Ee("endobj")},Ht=function(H){ce(H.resourcesOid,!0),Ee("<<"),Ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var de in Ee("/Font <<"),Qt)Qt.hasOwnProperty(de)&&(p===!1||p===!0&&x.hasOwnProperty(de))&&Ee("/"+de+" "+Qt[de].objectNumber+" 0 R");Ee(">>")})(),(function(){if(Object.keys(gr).length>0){for(var de in Ee("/Shading <<"),gr)gr.hasOwnProperty(de)&&gr[de]instanceof wf&&gr[de].objectNumber>=0&&Ee("/"+de+" "+gr[de].objectNumber+" 0 R");gs.publish("putShadingPatternDict"),Ee(">>")}})(),(function(de){if(Object.keys(gr).length>0){for(var Pe in Ee("/Pattern <<"),gr)gr.hasOwnProperty(Pe)&&gr[Pe]instanceof f.TilingPattern&&gr[Pe].objectNumber>=0&&gr[Pe].objectNumber<de&&Ee("/"+Pe+" "+gr[Pe].objectNumber+" 0 R");gs.publish("putTilingPatternDict"),Ee(">>")}})(H.objectOid),(function(){if(Object.keys(Ir).length>0){var de;for(de in Ee("/ExtGState <<"),Ir)Ir.hasOwnProperty(de)&&Ir[de].objectNumber>=0&&Ee("/"+de+" "+Ir[de].objectNumber+" 0 R");gs.publish("putGStateDict"),Ee(">>")}})(),(function(){for(var de in Ee("/XObject <<"),ka)ka.hasOwnProperty(de)&&ka[de].objectNumber>=0&&Ee("/"+de+" "+ka[de].objectNumber+" 0 R");gs.publish("putXobjectDict"),Ee(">>")})(),Ee(">>"),Ee("endobj")},Pr=function(H){Lt[H.fontName]=Lt[H.fontName]||{},Lt[H.fontName][H.fontStyle]=H.id},hs=function(H,de,Pe,Ge,at){var jt={id:"F"+(Object.keys(Qt).length+1).toString(10),postScriptName:H,fontName:de,fontStyle:Pe,encoding:Ge,isStandardFont:at||!1,metadata:{}};return gs.publish("addFont",{font:jt,instance:this}),Qt[jt.id]=jt,Pr(jt),jt.id},ts=f.__private__.pdfEscape=f.pdfEscape=function(H,de){return(function(Pe,Ge){var at,jt,Ut,mr,br,qr,Hr,Ms,Aa;if(Ut=(Ge=Ge||{}).sourceEncoding||"Unicode",br=Ge.outputEncoding,(Ge.autoencode||br)&&Qt[Ft].metadata&&Qt[Ft].metadata[Ut]&&Qt[Ft].metadata[Ut].encoding&&(mr=Qt[Ft].metadata[Ut].encoding,!br&&Qt[Ft].encoding&&(br=Qt[Ft].encoding),!br&&mr.codePages&&(br=mr.codePages[0]),typeof br=="string"&&(br=mr[br]),br)){for(Hr=!1,qr=[],at=0,jt=Pe.length;at<jt;at++)(Ms=br[Pe.charCodeAt(at)])?qr.push(String.fromCharCode(Ms)):qr.push(Pe[at]),qr[at].charCodeAt(0)>>8&&(Hr=!0);Pe=qr.join("")}for(at=Pe.length;Hr===void 0&&at!==0;)Pe.charCodeAt(at-1)>>8&&(Hr=!0),at--;if(!Hr)return Pe;for(qr=Ge.noBOM?[]:[254,255],at=0,jt=Pe.length;at<jt;at++){if((Aa=(Ms=Pe.charCodeAt(at))>>8)>>8)throw new Error("Character at position "+at+" of string '"+Pe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qr.push(Aa),qr.push(Ms-(Aa<<8))}return String.fromCharCode.apply(void 0,qr)})(H,de).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rs=f.__private__.beginPage=function(H){We[++us]=[],Fr[us]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(H[0]),topRightY:Number(H[1])}},Ua(us),De(We[q])},Gr=function(H,de){var Pe,Ge,at;switch(r=de||r,typeof H=="string"&&(Pe=k(H.toLowerCase()),Array.isArray(Pe)&&(Ge=Pe[0],at=Pe[1])),Array.isArray(H)&&(Ge=H[0]*Et,at=H[1]*Et),isNaN(Ge)&&(Ge=a[0],at=a[1]),(Ge>14400||at>14400)&&(Ma.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ge=Math.min(14400,Ge),at=Math.min(14400,at)),a=[Ge,at],r.substr(0,1)){case"l":at>Ge&&(a=[at,Ge]);break;case"p":Ge>at&&(a=[at,Ge])}Rs(a),Ur(zi),Ee(ic),eu!==0&&Ee(eu+" J"),l0!==0&&Ee(l0+" j"),gs.publish("addPage",{pageNumber:us})},Es=function(H){H>0&&H<=us&&(We.splice(H,1),Fr.splice(H,1),us--,q>us&&(q=us),this.setPage(q))},Ua=function(H){H>0&&H<=us&&(q=H)},Os=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return We.length-1},Ts=function(H,de,Pe){var Ge,at=void 0;return Pe=Pe||{},H=H!==void 0?H:Qt[Ft].fontName,de=de!==void 0?de:Qt[Ft].fontStyle,Ge=H.toLowerCase(),Lt[Ge]!==void 0&&Lt[Ge][de]!==void 0?at=Lt[Ge][de]:Lt[H]!==void 0&&Lt[H][de]!==void 0?at=Lt[H][de]:Pe.disableWarning===!1&&Ma.warn("Unable to look up font label for font '"+H+"', '"+de+"'. Refer to getFontList() for available fonts."),at||Pe.noFallback||(at=Lt.times[de])==null&&(at=Lt.times.normal),at},vr=f.__private__.putInfo=function(){var H=Kt(),de=function(Ge){return Ge};for(var Pe in u!==null&&(de=ja.encryptor(H,0)),Ee("<<"),Ee("/Producer ("+ts(de("jsPDF "+Mr.version))+")"),xt)xt.hasOwnProperty(Pe)&&xt[Pe]&&Ee("/"+Pe.substr(0,1).toUpperCase()+Pe.substr(1)+" ("+ts(de(xt[Pe]))+")");Ee("/CreationDate ("+ts(de(Y))+")"),Ee(">>"),Ee("endobj")},Zs=f.__private__.putCatalog=function(H){var de=(H=H||{}).rootDictionaryObjId||be;switch(Kt(),Ee("<<"),Ee("/Type /Catalog"),Ee("/Pages "+de+" 0 R"),pe||(pe="fullwidth"),pe){case"fullwidth":Ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ee("/OpenAction [3 0 R /Fit]");break;case"original":Ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Pe=""+pe;Pe.substr(Pe.length-1)==="%"&&(pe=parseInt(pe)/100),typeof pe=="number"&&Ee("/OpenAction [3 0 R /XYZ null null "+P(pe)+"]")}switch(ze||(ze="continuous"),ze){case"continuous":Ee("/PageLayout /OneColumn");break;case"single":Ee("/PageLayout /SinglePage");break;case"two":case"twoleft":Ee("/PageLayout /TwoColumnLeft");break;case"tworight":Ee("/PageLayout /TwoColumnRight")}ve&&Ee("/PageMode /"+ve),gs.publish("putCatalog"),Ee(">>"),Ee("endobj")},ma=f.__private__.putTrailer=function(){Ee("trailer"),Ee("<<"),Ee("/Size "+(ae+1)),Ee("/Root "+ae+" 0 R"),Ee("/Info "+(ae-1)+" 0 R"),u!==null&&Ee("/Encrypt "+ja.oid+" 0 R"),Ee("/ID [ <"+te+"> <"+te+"> ]"),Ee(">>")},rc=f.__private__.putHeader=function(){Ee("%PDF-"+y),Ee("%")},_o=f.__private__.putXRef=function(){var H="0000000000";Ee("xref"),Ee("0 "+(ae+1)),Ee("0000000000 65535 f ");for(var de=1;de<=ae;de++)typeof ge[de]=="function"?Ee((H+ge[de]()).slice(-10)+" 00000 n "):ge[de]!==void 0?Ee((H+ge[de]).slice(-10)+" 00000 n "):Ee("0000000000 00000 n ")},Bi=f.__private__.buildDocument=function(){var H;ae=0,ke=0,he=[],ge=[],Ae=[],be=Nt(),we=Nt(),De(he),gs.publish("buildDocument"),rc(),tt(),(function(){gs.publish("putAdditionalObjects");for(var Pe=0;Pe<Ae.length;Pe++){var Ge=Ae[Pe];ce(Ge.objId,!0),Ee(Ge.content),Ee("endobj")}gs.publish("postPutAdditionalObjects")})(),H=[],(function(){for(var Pe in Qt)Qt.hasOwnProperty(Pe)&&(p===!1||p===!0&&x.hasOwnProperty(Pe))&&st(Qt[Pe])})(),(function(){var Pe;for(Pe in Ir)Ir.hasOwnProperty(Pe)&&$t(Ir[Pe])})(),(function(){for(var Pe in ka)ka.hasOwnProperty(Pe)&&Rt(ka[Pe])})(),(function(Pe){var Ge;for(Ge in gr)gr.hasOwnProperty(Ge)&&(gr[Ge]instanceof wf?Yt(gr[Ge]):gr[Ge]instanceof Hm&&sr(gr[Ge],Pe))})(H),gs.publish("putResources"),H.forEach(Ht),Ht({resourcesOid:we,objectOid:Number.MAX_SAFE_INTEGER}),gs.publish("postPutResources"),u!==null&&(ja.oid=Kt(),Ee("<<"),Ee("/Filter /Standard"),Ee("/V "+ja.v),Ee("/R "+ja.r),Ee("/U <"+ja.toHexString(ja.U)+">"),Ee("/O <"+ja.toHexString(ja.O)+">"),Ee("/P "+ja.P),Ee(">>"),Ee("endobj")),vr(),Zs();var de=ke;return _o(),ma(),Ee("startxref"),Ee(""+de),Ee("%%EOF"),De(We[q]),he.join(`
`)},Or=f.__private__.getBlob=function(H){return new Blob([rt(H)],{type:"application/pdf"})},ws=f.output=f.__private__.output=(Xt=function(H,de){switch(typeof(de=de||{})=="string"?de={filename:de}:de.filename=de.filename||"generated.pdf",H){case void 0:return Bi();case"save":f.save(de.filename);break;case"arraybuffer":return rt(Bi());case"blob":return Or(Bi());case"bloburi":case"bloburl":if(es.URL!==void 0&&typeof es.URL.createObjectURL=="function")return es.URL&&es.URL.createObjectURL(Or(Bi()))||void 0;Ma.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Pe="",Ge=Bi();try{Pe=xS(Ge)}catch{Pe=xS(unescape(encodeURIComponent(Ge)))}return"data:application/pdf;filename="+de.filename+";base64,"+Pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(es)==="[object Window]"){var at="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",jt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';de.pdfObjectUrl&&(at=de.pdfObjectUrl,jt="");var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+at+'"'+jt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(de)+");<\/script></body></html>",mr=es.open();return mr!==null&&mr.document.write(Ut),mr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(es)==="[object Window]"){var br='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(de.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+de.filename+'" width="500px" height="400px" /></body></html>',qr=es.open();if(qr!==null){qr.document.write(br);var Hr=this;qr.document.documentElement.querySelector("#pdfViewer").onload=function(){qr.document.title=de.filename,qr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Hr.output("bloburl"))}}return qr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(es)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ms='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",de)+'"></iframe></body></html>',Aa=es.open();if(Aa!==null&&(Aa.document.write(Ms),Aa.document.title=de.filename),Aa||typeof safari>"u")return Aa;break;case"datauri":case"dataurl":return es.document.location.href=this.output("datauristring",de);default:return null}},Xt.foo=function(){try{return Xt.apply(this,arguments)}catch(Pe){var H=Pe.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var de="Error in function "+H.split(`
`)[0].split("<")[0]+": "+Pe.message;if(!es.console)throw new Error(de);es.console.error(de,Pe),es.alert&&alert(de)}},Xt.foo.bar=Xt,Xt.foo),sc=function(H){return Array.isArray(Ni)===!0&&Ni.indexOf(H)>-1};switch(s){case"pt":Et=1;break;case"mm":Et=72/25.4;break;case"cm":Et=72/2.54;break;case"in":Et=72;break;case"px":Et=sc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Et=12;break;case"ex":Et=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);Et=s}var ja=null;ee(),le();var kn=f.__private__.getPageInfo=f.getPageInfo=function(H){if(isNaN(H)||H%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Fr[H].objId,pageNumber:H,pageContext:Fr[H]}},$u=f.__private__.getPageInfoByObjId=function(H){if(isNaN(H)||H%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var de in Fr)if(Fr[de].objId===H)break;return kn(de)},Dc=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Fr[q].objId,pageNumber:q,pageContext:Fr[q]}};f.addPage=function(){return Gr.apply(this,arguments),this},f.setPage=function(){return Ua.apply(this,arguments),De.call(this,We[q]),this},f.insertPage=function(H){return this.addPage(),this.movePage(q,H),this},f.movePage=function(H,de){var Pe,Ge;if(H>de){Pe=We[H],Ge=Fr[H];for(var at=H;at>de;at--)We[at]=We[at-1],Fr[at]=Fr[at-1];We[de]=Pe,Fr[de]=Ge,this.setPage(de)}else if(H<de){Pe=We[H],Ge=Fr[H];for(var jt=H;jt<de;jt++)We[jt]=We[jt+1],Fr[jt]=Fr[jt+1];We[de]=Pe,Fr[de]=Ge,this.setPage(de)}return this},f.deletePage=function(){return Es.apply(this,arguments),this},f.__private__.text=f.text=function(H,de,Pe,Ge,at){var jt,Ut,mr,br,qr,Hr,Ms,Aa,Qa,Js=(Ge=Ge||{}).scope||this;if(typeof H=="number"&&typeof de=="number"&&(typeof Pe=="string"||Array.isArray(Pe))){var un=Pe;Pe=de,de=H,H=un}if(arguments[3]instanceof Oe==0?(mr=arguments[4],br=arguments[5],wa(Ms=arguments[3])==="object"&&Ms!==null||(typeof mr=="string"&&(br=mr,mr=null),typeof Ms=="string"&&(br=Ms,Ms=null),typeof Ms=="number"&&(mr=Ms,Ms=null),Ge={flags:Ms,angle:mr,align:br})):(E("The transform parameter of text() with a Matrix value"),Qa=at),isNaN(de)||isNaN(Pe)||H==null)throw new Error("Invalid arguments passed to jsPDF.text");if(H.length===0)return Js;var Fa,jn="",Ci=typeof Ge.lineHeightFactor=="number"?Ge.lineHeightFactor:ki,en=Js.internal.scaleFactor;function Wu(Is){return Is=Is.split("	").join(Array(Ge.TabLen||9).join(" ")),ts(Is,Ms)}function Eo(Is){for(var $s,Ia=Is.concat(),Wa=[],hl=Ia.length;hl--;)typeof($s=Ia.shift())=="string"?Wa.push($s):Array.isArray(Is)&&($s.length===1||$s[1]===void 0&&$s[2]===void 0)?Wa.push($s[0]):Wa.push([$s[0],$s[1],$s[2]]);return Wa}function Cn(Is,$s){var Ia;if(typeof Is=="string")Ia=$s(Is)[0];else if(Array.isArray(Is)){for(var Wa,hl,$i=Is.concat(),hc=[],fc=$i.length;fc--;)typeof(Wa=$i.shift())=="string"?hc.push($s(Wa)[0]):Array.isArray(Wa)&&typeof Wa[0]=="string"&&(hl=$s(Wa[0],Wa[1],Wa[2]),hc.push([hl[0],hl[1],hl[2]]));Ia=hc}return Ia}var lc=!1,Oc=!0;if(typeof H=="string")lc=!0;else if(Array.isArray(H)){var Bc=H.concat();Ut=[];for(var cc,Sn=Bc.length;Sn--;)(typeof(cc=Bc.shift())!="string"||Array.isArray(cc)&&typeof cc[0]!="string")&&(Oc=!1);lc=Oc}if(lc===!1)throw new Error('Type of text must be string or Array. "'+H+'" is not recognized.');typeof H=="string"&&(H=H.match(/[\r?\n]/)?H.split(/\r\n|\r|\n/g):[H]);var bd=Re/Js.internal.scaleFactor,_d=bd*(Ci-1);switch(Ge.baseline){case"bottom":Pe-=_d;break;case"top":Pe+=bd-_d;break;case"hanging":Pe+=bd-2*_d;break;case"middle":Pe+=bd/2-_d}if((Hr=Ge.maxWidth||0)>0&&(typeof H=="string"?H=Js.splitTextToSize(H,Hr):Object.prototype.toString.call(H)==="[object Array]"&&(H=H.reduce(function(Is,$s){return Is.concat(Js.splitTextToSize($s,Hr))},[]))),jt={text:H,x:de,y:Pe,options:Ge,mutex:{pdfEscape:ts,activeFontKey:Ft,fonts:Qt,activeFontSize:Re}},gs.publish("preProcessText",jt),H=jt.text,mr=(Ge=jt.options).angle,Qa instanceof Oe==0&&mr&&typeof mr=="number"){mr*=Math.PI/180,Ge.rotationDirection===0&&(mr=-mr),T===M&&(mr=-mr);var u0=Math.cos(mr),ru=Math.sin(mr);Qa=new Oe(u0,ru,-ru,u0,0,0)}else mr&&mr instanceof Oe&&(Qa=mr);T!==M||Qa||(Qa=gt),(qr=Ge.charSpace||ko)!==void 0&&(jn+=N(W(qr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Aa=Ge.horizontalScale)!==void 0&&(jn+=N(100*Aa)+` Tz
`),Ge.lang;var Ls=-1,oi=Ge.renderingMode!==void 0?Ge.renderingMode:Ge.stroke,kl=Js.internal.getCurrentPageInfo().pageContext;switch(oi){case 0:case!1:case"fill":Ls=0;break;case 1:case!0:case"stroke":Ls=1;break;case 2:case"fillThenStroke":Ls=2;break;case 3:case"invisible":Ls=3;break;case 4:case"fillAndAddForClipping":Ls=4;break;case 5:case"strokeAndAddPathForClipping":Ls=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ls=6;break;case 7:case"addToPathForClipping":Ls=7}var Ao=kl.usedRenderingMode!==void 0?kl.usedRenderingMode:-1;Ls!==-1?jn+=Ls+` Tr
`:Ao!==-1&&(jn+=`0 Tr
`),Ls!==-1&&(kl.usedRenderingMode=Ls),br=Ge.align||"left";var io,oo=Re*Ci,h0=Js.internal.pageSize.getWidth(),jl=Qt[Ft];qr=Ge.charSpace||ko,Hr=Ge.maxWidth||0,Ms=Object.assign({autoencode:!0,noBOM:!0},Ge.flags);var Cl=[],Si=function(Is){return Js.getStringUnitWidth(Is,{font:jl,charSpace:qr,fontSize:Re,doKerning:!1})*Re/en};if(Object.prototype.toString.call(H)==="[object Array]"){var lo;Ut=Eo(H),br!=="left"&&(io=Ut.map(Si));var tn,ll=0;if(br==="right"){de-=io[0],H=[],Sn=Ut.length;for(var Sl=0;Sl<Sn;Sl++)Sl===0?(tn=ji(de),lo=nl(Pe)):(tn=W(ll-io[Sl]),lo=-oo),H.push([Ut[Sl],tn,lo]),ll=io[Sl]}else if(br==="center"){de-=io[0]/2,H=[],Sn=Ut.length;for(var cl=0;cl<Sn;cl++)cl===0?(tn=ji(de),lo=nl(Pe)):(tn=W((ll-io[cl])/2),lo=-oo),H.push([Ut[cl],tn,lo]),ll=io[cl]}else if(br==="left"){H=[],Sn=Ut.length;for(var dc=0;dc<Sn;dc++)H.push(Ut[dc])}else if(br==="justify"&&jl.encoding==="Identity-H"){H=[],Sn=Ut.length,Hr=Hr!==0?Hr:h0;for(var En=0,$a=0;$a<Sn;$a++)if(lo=$a===0?nl(Pe):-oo,tn=$a===0?ji(de):En,$a<Sn-1){var To=W((Hr-io[$a])/(Ut[$a].split(" ").length-1)),El=Ut[$a].split(" ");H.push([El[0]+" ",tn,lo]),En=0;for(var hn=1;hn<El.length;hn++){var Al=(Si(El[hn-1]+" "+El[hn])-Si(El[hn]))*en+To;hn==El.length-1?H.push([El[hn],Al,0]):H.push([El[hn]+" ",Al,0]),En-=Al}}else H.push([Ut[$a],tn,lo]);H.push(["",En,0])}else{if(br!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(H=[],Sn=Ut.length,Hr=Hr!==0?Hr:h0,$a=0;$a<Sn;$a++){lo=$a===0?nl(Pe):-oo,tn=$a===0?ji(de):0;var zc=Ut[$a].split(" ").length-1,Uc=zc>0?(Hr-io[$a])/zc:0;$a<Sn-1?Cl.push(N(W(Uc))):Cl.push(0),H.push([Ut[$a],tn,lo])}}}(typeof Ge.R2L=="boolean"?Ge.R2L:He)===!0&&(H=Cn(H,function(Is,$s,Ia){return[Is.split("").reverse().join(""),$s,Ia]})),jt={text:H,x:de,y:Pe,options:Ge,mutex:{pdfEscape:ts,activeFontKey:Ft,fonts:Qt,activeFontSize:Re}},gs.publish("postProcessText",jt),H=jt.text,Fa=jt.mutex.isHex||!1;var uc=Qt[Ft].encoding;uc!=="WinAnsiEncoding"&&uc!=="StandardEncoding"||(H=Cn(H,function(Is,$s,Ia){return[Wu(Is),$s,Ia]})),Ut=Eo(H),H=[];for(var dl,ul,co,Tl=Array.isArray(Ut[0])?1:0,Ml="",$c=function(Is,$s,Ia){var Wa="";return Ia instanceof Oe?(Ia=typeof Ge.angle=="number"?et(Ia,new Oe(1,0,0,1,Is,$s)):et(new Oe(1,0,0,1,Is,$s),Ia),T===M&&(Ia=et(new Oe(1,0,0,-1,0,0),Ia)),Wa=Ia.join(" ")+` Tm
`):Wa=N(Is)+" "+N($s)+` Td
`,Wa},Da=0;Da<Ut.length;Da++){switch(Ml="",Tl){case 1:co=(Fa?"<":"(")+Ut[Da][0]+(Fa?">":")"),dl=parseFloat(Ut[Da][1]),ul=parseFloat(Ut[Da][2]);break;case 0:co=(Fa?"<":"(")+Ut[Da]+(Fa?">":")"),dl=ji(de),ul=nl(Pe)}Cl!==void 0&&Cl[Da]!==void 0&&(Ml=Cl[Da]+` Tw
`),Da===0?H.push(Ml+$c(dl,ul,Qa)+co):Tl===0?H.push(Ml+co):Tl===1&&H.push(Ml+$c(dl,ul,Qa)+co)}H=Tl===0?H.join(` Tj
T* `):H.join(` Tj
`),H+=` Tj
`;var Un=`BT
/`;return Un+=Ft+" "+Re+` Tf
`,Un+=N(Re*Ci)+` TL
`,Un+=na+`
`,Un+=jn,Un+=H,Ee(Un+="ET"),x[Ft]=!0,Js};var ro=f.__private__.clip=f.clip=function(H){return Ee(H==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return ro("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Ee("n"),this};var Us=f.__private__.isValidStyle=function(H){var de=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(H)!==-1&&(de=!0),de};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(H){return Us(H)&&(d=H),this};var wo=f.__private__.getStyle=f.getStyle=function(H){var de=d;switch(H){case"D":case"S":de="S";break;case"F":de="f";break;case"FD":case"DF":de="B";break;case"f":case"f*":case"B":case"B*":de=H}return de},vs=f.close=function(){return Ee("h"),this};f.stroke=function(){return Ee("S"),this},f.fill=function(H){return so("f",H),this},f.fillEvenOdd=function(H){return so("f*",H),this},f.fillStroke=function(H){return so("B",H),this},f.fillStrokeEvenOdd=function(H){return so("B*",H),this};var so=function(H,de){wa(de)==="object"?n0(de,H):Ee(H)},Ic=function(H){H===null||T===M&&H===void 0||(H=wo(H),Ee(H))};function ac(H,de,Pe,Ge,at){var jt=new Hm(de||this.boundingBox,Pe||this.xStep,Ge||this.yStep,this.gState,at||this.matrix);jt.stream=this.stream;var Ut=H+"$$"+this.cloneIndex+++"$$";return Dt(Ut,jt),jt}var n0=function(H,de){var Pe=zr[H.key],Ge=gr[Pe];if(Ge instanceof wf)Ee("q"),Ee(i0(de)),Ge.gState&&f.setGState(Ge.gState),Ee(H.matrix.toString()+" cm"),Ee("/"+Pe+" sh"),Ee("Q");else if(Ge instanceof Hm){var at=new Oe(1,0,0,-1,0,So());H.matrix&&(at=at.multiply(H.matrix||gt),Pe=ac.call(Ge,H.key,H.boundingBox,H.xStep,H.yStep,at).id),Ee("q"),Ee("/Pattern cs"),Ee("/"+Pe+" scn"),Ge.gState&&f.setGState(Ge.gState),Ee(de),Ee("Q")}},i0=function(H){switch(H){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},nc=f.moveTo=function(H,de){return Ee(N(W(H))+" "+N(Z(de))+" m"),this},al=f.lineTo=function(H,de){return Ee(N(W(H))+" "+N(Z(de))+" l"),this},ao=f.curveTo=function(H,de,Pe,Ge,at,jt){return Ee([N(W(H)),N(Z(de)),N(W(Pe)),N(Z(Ge)),N(W(at)),N(Z(jt)),"c"].join(" ")),this};f.__private__.line=f.line=function(H,de,Pe,Ge,at){if(isNaN(H)||isNaN(de)||isNaN(Pe)||isNaN(Ge)||!Us(at))throw new Error("Invalid arguments passed to jsPDF.line");return T===S?this.lines([[Pe-H,Ge-de]],H,de,[1,1],at||"S"):this.lines([[Pe-H,Ge-de]],H,de,[1,1]).stroke()},f.__private__.lines=f.lines=function(H,de,Pe,Ge,at,jt){var Ut,mr,br,qr,Hr,Ms,Aa,Qa,Js,un,Fa,jn;if(typeof H=="number"&&(jn=Pe,Pe=de,de=H,H=jn),Ge=Ge||[1,1],jt=jt||!1,isNaN(de)||isNaN(Pe)||!Array.isArray(H)||!Array.isArray(Ge)||!Us(at)||typeof jt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(nc(de,Pe),Ut=Ge[0],mr=Ge[1],qr=H.length,un=de,Fa=Pe,br=0;br<qr;br++)(Hr=H[br]).length===2?(un=Hr[0]*Ut+un,Fa=Hr[1]*mr+Fa,al(un,Fa)):(Ms=Hr[0]*Ut+un,Aa=Hr[1]*mr+Fa,Qa=Hr[2]*Ut+un,Js=Hr[3]*mr+Fa,un=Hr[4]*Ut+un,Fa=Hr[5]*mr+Fa,ao(Ms,Aa,Qa,Js,un,Fa));return jt&&vs(),Ic(at),this},f.path=function(H){for(var de=0;de<H.length;de++){var Pe=H[de],Ge=Pe.c;switch(Pe.op){case"m":nc(Ge[0],Ge[1]);break;case"l":al(Ge[0],Ge[1]);break;case"c":ao.apply(this,Ge);break;case"h":vs()}}return this},f.__private__.rect=f.rect=function(H,de,Pe,Ge,at){if(isNaN(H)||isNaN(de)||isNaN(Pe)||isNaN(Ge)||!Us(at))throw new Error("Invalid arguments passed to jsPDF.rect");return T===S&&(Ge=-Ge),Ee([N(W(H)),N(Z(de)),N(W(Pe)),N(W(Ge)),"re"].join(" ")),Ic(at),this},f.__private__.triangle=f.triangle=function(H,de,Pe,Ge,at,jt,Ut){if(isNaN(H)||isNaN(de)||isNaN(Pe)||isNaN(Ge)||isNaN(at)||isNaN(jt)||!Us(Ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Pe-H,Ge-de],[at-Pe,jt-Ge],[H-at,de-jt]],H,de,[1,1],Ut,!0),this},f.__private__.roundedRect=f.roundedRect=function(H,de,Pe,Ge,at,jt,Ut){if(isNaN(H)||isNaN(de)||isNaN(Pe)||isNaN(Ge)||isNaN(at)||isNaN(jt)||!Us(Ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var mr=4/3*(Math.SQRT2-1);return at=Math.min(at,.5*Pe),jt=Math.min(jt,.5*Ge),this.lines([[Pe-2*at,0],[at*mr,0,at,jt-jt*mr,at,jt],[0,Ge-2*jt],[0,jt*mr,-at*mr,jt,-at,jt],[2*at-Pe,0],[-at*mr,0,-at,-jt*mr,-at,-jt],[0,2*jt-Ge],[0,-jt*mr,at*mr,-jt,at,-jt]],H+at,de,[1,1],Ut,!0),this},f.__private__.ellipse=f.ellipse=function(H,de,Pe,Ge,at){if(isNaN(H)||isNaN(de)||isNaN(Pe)||isNaN(Ge)||!Us(at))throw new Error("Invalid arguments passed to jsPDF.ellipse");var jt=4/3*(Math.SQRT2-1)*Pe,Ut=4/3*(Math.SQRT2-1)*Ge;return nc(H+Pe,de),ao(H+Pe,de-Ut,H+jt,de-Ge,H,de-Ge),ao(H-jt,de-Ge,H-Pe,de-Ut,H-Pe,de),ao(H-Pe,de+Ut,H-jt,de+Ge,H,de+Ge),ao(H+jt,de+Ge,H+Pe,de+Ut,H+Pe,de),Ic(at),this},f.__private__.circle=f.circle=function(H,de,Pe,Ge){if(isNaN(H)||isNaN(de)||isNaN(Pe)||!Us(Ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(H,de,Pe,Pe,Ge)},f.setFont=function(H,de,Pe){return Pe&&(de=C(de,Pe)),Ft=Ts(H,de,{disableWarning:!1}),this};var no=f.__private__.getFont=f.getFont=function(){return Qt[Ts.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var H,de,Pe={};for(H in Lt)if(Lt.hasOwnProperty(H))for(de in Pe[H]=[],Lt[H])Lt[H].hasOwnProperty(de)&&Pe[H].push(de);return Pe},f.addFont=function(H,de,Pe,Ge,at){var jt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&jt.indexOf(arguments[3])!==-1?at=arguments[3]:arguments[3]&&jt.indexOf(arguments[3])==-1&&(Pe=C(Pe,Ge)),hs.call(this,H,de,Pe,at=at||"Identity-H")};var ki,zi=e.lineWidth||.200025,Br=f.__private__.getLineWidth=f.getLineWidth=function(){return zi},Ur=f.__private__.setLineWidth=f.setLineWidth=function(H){return zi=H,Ee(N(W(H))+" w"),this};f.__private__.setLineDash=Mr.API.setLineDash=Mr.API.setLineDashPattern=function(H,de){if(H=H||[],de=de||0,isNaN(de)||!Array.isArray(H))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return H=H.map(function(Pe){return N(W(Pe))}).join(" "),de=N(W(de)),Ee("["+H+"] "+de+" d"),this};var cn=f.__private__.getLineHeight=f.getLineHeight=function(){return Re*ki};f.__private__.getLineHeight=f.getLineHeight=function(){return Re*ki};var Xs=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(H){return typeof(H=H||1.15)=="number"&&(ki=H),this},Q0=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return ki};Xs(e.lineHeight);var ji=f.__private__.getHorizontalCoordinate=function(H){return W(H)},nl=f.__private__.getVerticalCoordinate=function(H){return T===M?H:Fr[q].mediaBox.topRightY-Fr[q].mediaBox.bottomLeftY-W(H)},o0=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(H){return N(ji(H))},No=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(H){return N(nl(H))},ic=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return je(ic)},f.__private__.setStrokeColor=f.setDrawColor=function(H,de,Pe,Ge){return ic=Me({ch1:H,ch2:de,ch3:Pe,ch4:Ge,pdfColorType:"draw",precision:2}),Ee(ic),this};var oc=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return je(oc)},f.__private__.setFillColor=f.setFillColor=function(H,de,Pe,Ge){return oc=Me({ch1:H,ch2:de,ch3:Pe,ch4:Ge,pdfColorType:"fill",precision:2}),Ee(oc),this};var na=e.textColor||"0 g",ii=f.__private__.getTextColor=f.getTextColor=function(){return je(na)};f.__private__.setTextColor=f.setTextColor=function(H,de,Pe,Ge){return na=Me({ch1:H,ch2:de,ch3:Pe,ch4:Ge,pdfColorType:"text",precision:3}),this};var ko=e.charSpace,yd=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(ko||0)};f.__private__.setCharSpace=f.setCharSpace=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ko=H,this};var eu=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(H){var de=f.CapJoinStyles[H];if(de===void 0)throw new Error("Line cap style of '"+H+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return eu=de,Ee(de+" J"),this};var l0=0;f.__private__.setLineJoin=f.setLineJoin=function(H){var de=f.CapJoinStyles[H];if(de===void 0)throw new Error("Line join style of '"+H+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return l0=de,Ee(de+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(H){if(H=H||0,isNaN(H))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ee(N(W(H))+" M"),this},f.GState=dy,f.setGState=function(H){(H=typeof H=="string"?Ir[Ds[H]]:il(null,H)).equals(zs)||(Ee("/"+H.id+" gs"),zs=H)};var il=function(H,de){if(!H||!Ds[H]){var Pe=!1;for(var Ge in Ir)if(Ir.hasOwnProperty(Ge)&&Ir[Ge].equals(de)){Pe=!0;break}if(Pe)de=Ir[Ge];else{var at="GS"+(Object.keys(Ir).length+1).toString(10);Ir[at]=de,de.id=at}return H&&(Ds[H]=de.id),gs.publish("addGState",de),de}};f.addGState=function(H,de){return il(H,de),this},f.saveGraphicsState=function(){return Ee("q"),rs.push({key:Ft,size:Re,color:na}),this},f.restoreGraphicsState=function(){Ee("Q");var H=rs.pop();return Ft=H.key,Re=H.size,na=H.color,zs=null,this},f.setCurrentTransformationMatrix=function(H){return Ee(H.toString()+" cm"),this},f.comment=function(H){return Ee("#"+H),this};var Nl=function(H,de){var Pe=H||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Pe},set:function(jt){isNaN(jt)||(Pe=parseFloat(jt))}});var Ge=de||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ge},set:function(jt){isNaN(jt)||(Ge=parseFloat(jt))}});var at="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return at},set:function(jt){at=jt.toString()}}),this},Rc=function(H,de,Pe,Ge){Nl.call(this,H,de),this.type="rect";var at=Pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return at},set:function(Ut){isNaN(Ut)||(at=parseFloat(Ut))}});var jt=Ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return jt},set:function(Ut){isNaN(Ut)||(jt=parseFloat(Ut))}}),this},as=function(){this.page=us,this.currentPage=q,this.pages=We.slice(0),this.pagesContext=Fr.slice(0),this.x=At,this.y=ar,this.matrix=er,this.width=ol(q),this.height=Co(q),this.outputDestination=ht,this.id="",this.objectNumber=-1};as.prototype.restore=function(){us=this.page,q=this.currentPage,Fr=this.pagesContext,We=this.pages,At=this.x,ar=this.y,er=this.matrix,c0(q,this.width),Ui(q,this.height),ht=this.outputDestination};var jo=function(H,de,Pe,Ge,at){ni.push(new as),us=q=0,We=[],At=H,ar=de,er=at,Rs([Pe,Ge])};for(var dn in f.beginFormObject=function(H,de,Pe,Ge,at){return jo(H,de,Pe,Ge,at),this},f.endFormObject=function(H){return(function(de){if(Oi[de])ni.pop().restore();else{var Pe=new as,Ge="Xo"+(Object.keys(ka).length+1).toString(10);Pe.id=Ge,Oi[de]=Ge,ka[Ge]=Pe,gs.publish("addFormObject",Pe),ni.pop().restore()}})(H),this},f.doFormObject=function(H,de){var Pe=ka[Oi[H]];return Ee("q"),Ee(de.toString()+" cm"),Ee("/"+Pe.id+" Do"),Ee("Q"),this},f.getFormObject=function(H){var de=ka[Oi[H]];return{x:de.x,y:de.y,width:de.width,height:de.height,matrix:de.matrix}},f.save=function(H,de){return H=H||"generated.pdf",(de=de||{}).returnPromise=de.returnPromise||!1,de.returnPromise===!1?(yf(Or(Bi()),H),typeof yf.unload=="function"&&es.setTimeout&&setTimeout(yf.unload,911),this):new Promise(function(Pe,Ge){try{var at=yf(Or(Bi()),H);typeof yf.unload=="function"&&es.setTimeout&&setTimeout(yf.unload,911),Pe(at)}catch(jt){Ge(jt.message)}})},Mr.API)Mr.API.hasOwnProperty(dn)&&(dn==="events"&&Mr.API.events.length?(function(H,de){var Pe,Ge,at;for(at=de.length-1;at!==-1;at--)Pe=de[at][0],Ge=de[at][1],H.subscribe.apply(H,[Pe].concat(typeof Ge=="function"?[Ge]:Ge))})(gs,Mr.API.events):f[dn]=Mr.API[dn]);function ol(H){return Fr[H].mediaBox.topRightX-Fr[H].mediaBox.bottomLeftX}function c0(H,de){Fr[H].mediaBox.topRightX=de+Fr[H].mediaBox.bottomLeftX}function Co(H){return Fr[H].mediaBox.topRightY-Fr[H].mediaBox.bottomLeftY}function Ui(H,de){Fr[H].mediaBox.topRightY=de+Fr[H].mediaBox.bottomLeftY}var tu=f.getPageWidth=function(H){return ol(H=H||q)/Et},zn=f.setPageWidth=function(H,de){c0(H,de*Et)},So=f.getPageHeight=function(H){return Co(H=H||q)/Et},d0=f.setPageHeight=function(H,de){Ui(H,de*Et)};return f.internal={pdfEscape:ts,getStyle:wo,getFont:no,getFontSize:Le,getCharSpace:yd,getTextColor:ii,getLineHeight:cn,getLineHeightFactor:Q0,getLineWidth:Br,write:Ue,getHorizontalCoordinate:ji,getVerticalCoordinate:nl,getCoordinateString:o0,getVerticalCoordinateString:No,collections:{},newObject:Kt,newAdditionalObject:Ce,newObjectDeferred:Nt,newObjectDeferredBegin:ce,getFilters:Xe,putStream:mt,events:gs,scaleFactor:Et,pageSize:{getWidth:function(){return tu(q)},setWidth:function(H){zn(q,H)},getHeight:function(){return So(q)},setHeight:function(H){d0(q,H)}},encryptionOptions:u,encryption:ja,getEncryptor:function(H){return u!==null?ja.encryptor(H,0):function(de){return de}},output:ws,getNumberOfPages:Os,pages:We,out:Ee,f2:P,f3:I,getPageInfo:kn,getPageInfoByObjId:$u,getCurrentPageInfo:Dc,getPDFVersion:v,Point:Nl,Rectangle:Rc,Matrix:Oe,hasHotfix:sc},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return tu(q)},set:function(H){zn(q,H)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return So(q)},set:function(H){d0(q,H)},enumerable:!0,configurable:!0}),(function(H){for(var de=0,Pe=ft.length;de<Pe;de++){var Ge=hs.call(this,H[de][0],H[de][1],H[de][2],ft[de][3],!0);p===!1&&(x[Ge]=!0);var at=H[de][0].split("-");Pr({id:Ge,fontName:at[0],fontStyle:at[1]||""})}gs.publish("addFonts",{fonts:Qt,dictionary:Lt})}).call(f,ft),Ft="F1",Gr(a,r),gs.publish("initialized"),f}Rm.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Rm.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Rm.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Rm.prototype.processOwnerPassword=function(e,t){return p4(m4(t).substr(0,5),e)},Rm.prototype.encryptor=function(e,t){var r=m4(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(s){return p4(r,s)}},dy.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||wa(e)!==wa(this))return!1;var s=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;s++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&s--;return s===0},Mr.API={events:[]},Mr.version="3.0.3";var Dn=Mr.API,c3=1,om=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Lm=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},os=function(e){return e.toFixed(2)},dh=function(e){return e.toFixed(5)};Dn.__acroform__={};var ec=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},bS=function(e){return e*c3},L0=function(e){var t=new kM,r=Nr.internal.getHeight(e)||0,s=Nr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(os(s)),Number(os(r))],t},Uie=Dn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},$ie=Dn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Wie=Dn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Zn=Dn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Wie(e,t-1)},Xn=Dn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Uie(e,t-1)},Jn=Dn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $ie(e,t-1)},Hie=Dn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,s=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=s(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=s(i)||0,[Number(os(c.lowerLeft_X)),Number(os(c.lowerLeft_Y)),Number(os(c.upperRight_X)),Number(os(c.upperRight_Y))]},Vie=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,s=x4(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+os(s.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=L0(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},x4=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,s={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(P){return P.split(`
`)}):a.map(function(P){return[P]});var i=r,o=Nr.internal.getHeight(e)||0;o=o<0?-o:o;var l=Nr.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(P,I,W){if(P+1<a.length){var Z=I+" "+a[P+1][0];return V2(Z,e,W).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var d,u,p=V2("3",e,i).height,x=e.multiline?o-i:(o-p)/2,f=x+=2,y=0,v=0,_=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+V2(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var k="",S=0,M=0;M<a.length;M++)if(a.hasOwnProperty(M)){var T=!1;if(a[M].length!==1&&_!==a[M].length-1){if((p+2)*(S+2)+2>o)continue e;k+=a[M][_],T=!0,v=M,M--}else{k=(k+=a[M][_]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var O=parseInt(M),A=c(O,k,i),C=M>=a.length-1;if(A&&!C){k+=" ",_=0;continue}if(A||C){if(C)v=O;else if(e.multiline&&(p+2)*(S+2)+2>o)continue e}else{if(!e.multiline||(p+2)*(S+2)+2>o)continue e;v=O}}for(var N="",E=y;E<=v;E++){var z=a[E];if(e.multiline){if(E===v){N+=z[_]+" ",_=(_+1)%z.length;continue}if(E===y){N+=z[z.length-1]+" ";continue}}N+=z[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,u=V2(N,e,i).width,e.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;default:d=2}t+=os(d)+" "+os(f)+` Td
`,t+="("+om(N)+`) Tj
`,t+=-os(d)+` 0 Td
`,f=-(i+2),u=0,y=T?v:v+1,S++,k=""}break}return s.text=t,s.fontSize=i,s},V2=function(e,t,r){var s=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Gie={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qie=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(s){return s.type===r.type&&s.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Kie=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(s0.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Gie)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");c3=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new jM,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];i.objId=void 0,i.hasAnnotation&&qie(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(s,a){var i=!s;for(var o in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(o)){var l=s[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=Hie(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Nr.createDefaultAppearanceStream(l),wa(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=Vie(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var p="";for(var x in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(x)){var f=l.appearanceStreamContent[x];if(p+="/"+x+" ",p+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var y=f[o];typeof y=="function"&&(y=y.call(a,l)),p+="/"+o+" "+y+" ",a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y)}}else typeof(y=f)=="function"&&(y=y.call(a,l)),p+="/"+o+" "+y,a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&(function(v,_){for(var k in v)if(v.hasOwnProperty(k)){var S=k,M=v[k];_.internal.newObjectDeferredBegin(M.objId,!0),wa(M)==="object"&&typeof M.putStream=="function"&&M.putStream(),delete v[S]}})(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},NM=Dn.__acroform__.arrayToPdfArray=function(e,t,r){var s=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),wa(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(s=r.internal.getEncryptor(t)),a+="("+om(s(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},nw=function(e,t,r){var s=function(a){return a};return t!==void 0&&r&&(s=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+om(s(e))+")"},B0=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};B0.prototype.toString=function(){return this.objId+" 0 R"},B0.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},B0.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var s=t[r],a=this[s];a&&(Array.isArray(a)?e.push({key:s,value:NM(a,this.objId,this.scope)}):a instanceof B0?(a.scope=this.scope,e.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:s,value:a}))}return e};var kM=function(){B0.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ec(kM,B0);var jM=function(){B0.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(s){return s};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+om(r(e))+")"}},set:function(r){e=r}})};ec(jM,B0);var s0=function e(){B0.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');t=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zn(t,3)},set:function(k){k?this.F=Xn(t,3):this.F=Jn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');r=k}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(k){s=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(k){s[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(k){s[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(k){s[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(k){s[3]=k}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof uy)return;i="FieldObject"+e.FieldNum++}var k=function(S){return S};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+om(k(i))+")"},set:function(k){i=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(k){i=k}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(k){o=k}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(k){l=k}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/c3:d},set:function(k){d=k}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof uy||this instanceof If))return nw(p,this.objId,this.scope)},set:function(k){k=k.toString(),p=k}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Xi==0?nw(x,this.objId,this.scope):x},set:function(k){k=k.toString(),x=this instanceof Xi==0?k.substr(0,1)==="("?Lm(k.substr(1,k.length-2)):Lm(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xi==1?Lm(x.substr(1,x.length-1)):x},set:function(k){k=k.toString(),x=this instanceof Xi==1?"/"+k:k}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Xi==0?nw(f,this.objId,this.scope):f},set:function(k){k=k.toString(),f=this instanceof Xi==0?k.substr(0,1)==="("?Lm(k.substr(1,k.length-2)):Lm(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xi==1?Lm(f.substr(1,f.length-1)):f},set:function(k){k=k.toString(),f=this instanceof Xi==1?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(k){k=!!k,v=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(k){y=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,1)},set:function(k){k?this.Ff=Xn(this.Ff,1):this.Ff=Jn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,2)},set:function(k){k?this.Ff=Xn(this.Ff,2):this.Ff=Jn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,3)},set:function(k){k?this.Ff=Xn(this.Ff,3):this.Ff=Jn(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');_=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(_){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};ec(s0,B0);var np=function(){s0.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return NM(t,this.objId,this.scope)},set:function(r){var s,a;a=[],typeof(s=r)=="string"&&(a=(function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d})(s,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,s){for(s=s||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,18)},set:function(r){r?this.Ff=Xn(this.Ff,18):this.Ff=Jn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Xn(this.Ff,19):this.Ff=Jn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,20)},set:function(r){r?(this.Ff=Xn(this.Ff,20),t.sort()):this.Ff=Jn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,22)},set:function(r){r?this.Ff=Xn(this.Ff,22):this.Ff=Jn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,23)},set:function(r){r?this.Ff=Xn(this.Ff,23):this.Ff=Jn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,27)},set:function(r){r?this.Ff=Xn(this.Ff,27):this.Ff=Jn(this.Ff,27)}}),this.hasAppearanceStream=!1};ec(np,s0);var ip=function(){np.call(this),this.fontName="helvetica",this.combo=!1};ec(ip,np);var op=function(){ip.call(this),this.combo=!0};ec(op,ip);var wv=function(){op.call(this),this.edit=!0};ec(wv,op);var Xi=function(){s0.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,15)},set:function(r){r?this.Ff=Xn(this.Ff,15):this.Ff=Jn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,16)},set:function(r){r?this.Ff=Xn(this.Ff,16):this.Ff=Jn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,17)},set:function(r){r?this.Ff=Xn(this.Ff,17):this.Ff=Jn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,26)},set:function(r){r?this.Ff=Xn(this.Ff,26):this.Ff=Jn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var s,a=[];for(s in a.push("<<"),t)a.push("/"+s+" ("+om(r(t[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){wa(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ec(Xi,s0);var Nv=function(){Xi.call(this),this.pushButton=!0};ec(Nv,Xi);var lp=function(){Xi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ec(lp,Xi);var uy=function(){var e,t;s0.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),s)o.push("/"+i+" ("+om(a(s[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){wa(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Nr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ec(uy,s0),lp.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},lp.prototype.createOption=function(e){var t=new uy;return t.Parent=this,t.optionName=e,this.Kids.push(t),Yie.call(this.scope,t),t};var kv=function(){Xi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Nr.CheckBox.createAppearanceStream()};ec(kv,Xi);var If=function(){s0.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,13)},set:function(t){t?this.Ff=Xn(this.Ff,13):this.Ff=Jn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,21)},set:function(t){t?this.Ff=Xn(this.Ff,21):this.Ff=Jn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,23)},set:function(t){t?this.Ff=Xn(this.Ff,23):this.Ff=Jn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,24)},set:function(t){t?this.Ff=Xn(this.Ff,24):this.Ff=Jn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,25)},set:function(t){t?this.Ff=Xn(this.Ff,25):this.Ff=Jn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,26)},set:function(t){t?this.Ff=Xn(this.Ff,26):this.Ff=Jn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ec(If,s0);var jv=function(){If.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,14)},set:function(e){e?this.Ff=Xn(this.Ff,14):this.Ff=Jn(this.Ff,14)}}),this.password=!0};ec(jv,If);var Nr={CheckBox:{createAppearanceStream:function(){return{N:{On:Nr.CheckBox.YesNormal},D:{On:Nr.CheckBox.YesPushDown,Off:Nr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=L0(e);t.scope=e.scope;var r=[],s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=x4(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+os(Nr.internal.getWidth(e))+" "+os(Nr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+s+" "+os(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=L0(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=[],i=Nr.internal.getHeight(e),o=Nr.internal.getWidth(e),l=x4(e,e.caption);return a.push("1 g"),a.push("0 0 "+os(o)+" "+os(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+os(o-1)+" "+os(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+os(l.fontSize)+" Tf "+s),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=L0(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+os(Nr.internal.getWidth(e))+" "+os(Nr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Nr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Nr.RadioButton.Circle.YesNormal,t.D[e]=Nr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=L0(e);t.scope=e.scope;var r=[],s=Nr.internal.getWidth(e)<=Nr.internal.getHeight(e)?Nr.internal.getWidth(e)/4:Nr.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Nr.internal.Bezier_C,i=Number((s*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+dh(Nr.internal.getWidth(e)/2)+" "+dh(Nr.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=L0(e);t.scope=e.scope;var r=[],s=Nr.internal.getWidth(e)<=Nr.internal.getHeight(e)?Nr.internal.getWidth(e)/4:Nr.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*Nr.internal.Bezier_C).toFixed(5)),o=Number((s*Nr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+dh(Nr.internal.getWidth(e)/2)+" "+dh(Nr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+dh(Nr.internal.getWidth(e)/2)+" "+dh(Nr.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),r.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),r.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),r.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=L0(e);t.scope=e.scope;var r=[],s=Nr.internal.getWidth(e)<=Nr.internal.getHeight(e)?Nr.internal.getWidth(e)/4:Nr.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*Nr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+dh(Nr.internal.getWidth(e)/2)+" "+dh(Nr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Nr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Nr.RadioButton.Cross.YesNormal,t.D[e]=Nr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=L0(e);t.scope=e.scope;var r=[],s=Nr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+os(Nr.internal.getWidth(e)-2)+" "+os(Nr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(os(s.x1.x)+" "+os(s.x1.y)+" m"),r.push(os(s.x2.x)+" "+os(s.x2.y)+" l"),r.push(os(s.x4.x)+" "+os(s.x4.y)+" m"),r.push(os(s.x3.x)+" "+os(s.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=L0(e);t.scope=e.scope;var r=Nr.internal.calculateCross(e),s=[];return s.push("0.749023 g"),s.push("0 0 "+os(Nr.internal.getWidth(e))+" "+os(Nr.internal.getHeight(e))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+os(Nr.internal.getWidth(e)-2)+" "+os(Nr.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(os(r.x1.x)+" "+os(r.x1.y)+" m"),s.push(os(r.x2.x)+" "+os(r.x2.y)+" l"),s.push(os(r.x4.x)+" "+os(r.x4.y)+" m"),s.push(os(r.x3.x)+" "+os(r.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=L0(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+os(Nr.internal.getWidth(e))+" "+os(Nr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Nr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Nr.internal.getWidth(e),r=Nr.internal.getHeight(e),s=Math.min(t,r);return{x1:{x:(t-s)/2,y:(r-s)/2+s},x2:{x:(t-s)/2+s,y:(r-s)/2},x3:{x:(t-s)/2,y:(r-s)/2},x4:{x:(t-s)/2+s,y:(r-s)/2+s}}}},Nr.internal.getWidth=function(e){var t=0;return wa(e)==="object"&&(t=bS(e.Rect[2])),t},Nr.internal.getHeight=function(e){var t=0;return wa(e)==="object"&&(t=bS(e.Rect[3])),t};var Yie=Dn.addField=function(e){if(Kie(this,e),!(e instanceof s0))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Dn.AcroFormChoiceField=np,Dn.AcroFormListBox=ip,Dn.AcroFormComboBox=op,Dn.AcroFormEditBox=wv,Dn.AcroFormButton=Xi,Dn.AcroFormPushButton=Nv,Dn.AcroFormRadioButton=lp,Dn.AcroFormCheckBox=kv,Dn.AcroFormTextField=If,Dn.AcroFormPasswordField=jv,Dn.AcroFormAppearance=Nr,Dn.AcroForm={ChoiceField:np,ListBox:ip,ComboBox:op,EditBox:wv,Button:Xi,PushButton:Nv,RadioButton:lp,CheckBox:kv,TextField:If,PasswordField:jv,Appearance:Nr},Mr.AcroForm={ChoiceField:np,ListBox:ip,ComboBox:op,EditBox:wv,Button:Xi,PushButton:Nv,RadioButton:lp,CheckBox:kv,TextField:If,PasswordField:jv,Appearance:Nr};Mr.AcroForm;function CM(e){return e.reduce(function(t,r,s){return t[r]=s,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(P,I){var W,Z,Y,te,ie,le=r;if((I=I||r)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(A(P))for(ie in s)for(Y=s[ie],W=0;W<Y.length;W+=1){for(te=!0,Z=0;Z<Y[W].length;Z+=1)if(Y[W][Z]!==void 0&&Y[W][Z]!==P[Z]){te=!1;break}if(te===!0){le=ie;break}}else for(ie in s)for(Y=s[ie],W=0;W<Y.length;W+=1){for(te=!0,Z=0;Z<Y[W].length;Z+=1)if(Y[W][Z]!==void 0&&Y[W][Z]!==P.charCodeAt(Z)){te=!1;break}if(te===!0){le=ie;break}}return le===r&&I!==r&&(le=I),le},i=function P(I){for(var W=this.internal.write,Z=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:I.width}),te.push({key:"Height",value:I.height}),I.colorSpace===k.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===k.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var ie="",le=0,se=I.transparency.length;le<se;le++)ie+=I.transparency[le]+" "+I.transparency[le]+" ";te.push({key:"Mask",value:"["+ie+"]"})}I.sMask!==void 0&&te.push({key:"SMask",value:I.objectId+1+" 0 R"});var oe=I.filter!==void 0?["/"+I.filter]:void 0;if(Z({data:I.data,additionalKeyValues:te,alreadyAppliedFilters:oe,objectId:I.objectId}),W("endobj"),"sMask"in I&&I.sMask!==void 0){var ee,B=(ee=I.sMaskBitsPerComponent)!==null&&ee!==void 0?ee:I.bitsPerComponent,q={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:I.sMask};"filter"in I&&(q.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(I.width),q.filter=I.filter),P.call(this,q)}if(I.colorSpace===k.INDEXED){var Q=this.internal.newObject();Z({data:N(new Uint8Array(I.palette)),objectId:Q}),W("endobj")}},o=function(){var P=this.internal.collections[t+"images"];for(var I in P)i.call(this,P[I])},l=function(){var P,I=this.internal.collections[t+"images"],W=this.internal.write;for(var Z in I)W("/I"+(P=I[Z]).index,P.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var P=this.internal.collections[t+"images"];return c.call(this),P},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},p=function(P){return typeof e["process"+P.toUpperCase()]=="function"},x=function(P){return wa(P)==="object"&&P.nodeType===1},f=function(P,I){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var W=""+P.getAttribute("src");if(W.indexOf("data:image/")===0)return _v(unescape(W).split("base64,").pop());var Z=e.loadFile(W,!0);if(Z!==void 0)return Z}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var Y;switch(I){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return _v(P.toDataURL(Y,1).split("base64,").pop())}},y=function(P){var I=this.internal.collections[t+"images"];if(I){for(var W in I)if(P===I[W].alias)return I[W]}},v=function(P,I,W){return P||I||(P=-96,I=-96),P<0&&(P=-1*W.width*72/P/this.internal.scaleFactor),I<0&&(I=-1*W.height*72/I/this.internal.scaleFactor),P===0&&(P=I*W.width/W.height),I===0&&(I=P*W.height/W.width),[P,I]},_=function(P,I,W,Z,Y,te){var ie=v.call(this,W,Z,Y),le=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,oe=d.call(this);if(W=ie[0],Z=ie[1],oe[Y.index]=Y,te){te*=Math.PI/180;var ee=Math.cos(te),B=Math.sin(te),q=function(K){return K.toFixed(4)},Q=[q(ee),q(B),q(-1*B),q(ee),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,le(P),se(I+Z),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([le(W),"0","0",le(Z),"0","0","cm"].join(" "))):this.internal.write([le(W),"0","0",le(Z),le(P),se(I+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},k=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},M=e.__addimage__.sHashCode=function(P){var I,W,Z=0;if(typeof P=="string")for(W=P.length,I=0;I<W;I++)Z=(Z<<5)-Z+P.charCodeAt(I),Z|=0;else if(A(P))for(W=P.byteLength/2,I=0;I<W;I++)Z=(Z<<5)-Z+P[I],Z|=0;return Z},T=e.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var I=!0;return P.length===0&&(I=!1),P.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(I=!1),I},O=e.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var I=P.indexOf(",");return I<0?null:P.substring(0,I).trim().endsWith("base64")?P.substring(I+1):null};e.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var A=e.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},C=e.__addimage__.binaryStringToUint8Array=function(P){for(var I=P.length,W=new Uint8Array(I),Z=0;Z<I;Z++)W[Z]=P.charCodeAt(Z);return W},N=e.__addimage__.arrayBufferToBinaryString=function(P){for(var I="",W=A(P)?P:new Uint8Array(P),Z=0;Z<W.length;Z+=8192)I+=String.fromCharCode.apply(null,W.subarray(Z,Z+8192));return I};e.addImage=function(){var P,I,W,Z,Y,te,ie,le,se;if(typeof arguments[1]=="number"?(I=r,W=arguments[1],Z=arguments[2],Y=arguments[3],te=arguments[4],ie=arguments[5],le=arguments[6],se=arguments[7]):(I=arguments[1],W=arguments[2],Z=arguments[3],Y=arguments[4],te=arguments[5],ie=arguments[6],le=arguments[7],se=arguments[8]),wa(P=arguments[0])==="object"&&!x(P)&&"imageData"in P){var oe=P;P=oe.imageData,I=oe.format||I||r,W=oe.x||W||0,Z=oe.y||Z||0,Y=oe.w||oe.width||Y,te=oe.h||oe.height||te,ie=oe.alias||ie,le=oe.compression||le,se=oe.rotation||oe.angle||se}var ee=this.internal.getFilters();if(le===void 0&&ee.indexOf("FlateEncode")!==-1&&(le="SLOW"),isNaN(W)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var B=E.call(this,P,I,ie,le);return _.call(this,W,Z,Y,te,B,se),this};var E=function(P,I,W,Z){var Y,te,ie;if(typeof P=="string"&&a(P)===r){P=unescape(P);var le=z(P,!1);(le!==""||(le=e.loadFile(P,!0))!==void 0)&&(P=le)}if(x(P)&&(P=f(P,I)),I=a(P,I),!p(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((ie=W)==null||ie.length===0)&&(W=(function(se){return typeof se=="string"||A(se)?M(se):A(se.data)?M(se.data):null})(P)),(Y=y.call(this,W))||(P instanceof Uint8Array||I==="RGBA"||(te=P,P=C(P)),Y=this["process"+I.toUpperCase()](P,u.call(this),W,(function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in e.image_compression?se:S.NONE})(Z),te)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},z=e.__addimage__.convertBase64ToBinaryString=function(P,I){I=typeof I!="boolean"||I;var W,Z="";if(typeof P=="string"){var Y;W=(Y=O(P))!==null&&Y!==void 0?Y:P;try{Z=_v(W)}catch(te){if(I)throw T(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Z};e.getImageProperties=function(P){var I,W,Z="";if(x(P)&&(P=f(P)),typeof P=="string"&&a(P)===r&&((Z=z(P,!1))===""&&(Z=e.loadFile(P)||""),P=Z),W=a(P),!p(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(P instanceof Uint8Array||(P=C(P)),!(I=this["process"+W.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=W,I}})(Mr.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Mr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var s,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,p=0;p<d.length&&!u;p++)switch((s=d[p]).type){case"link":(t(s.options.url)||t(s.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var x=0;x<d.length;x++){s=d[x];var f=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(v.objId),S=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y)+"] ")+"/Contents ("+f(k(s.contents))+")",i+=" /Popup "+_.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+f(k(S))+") >>",v.content=i;var M=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(s.bounds.x+30)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w+30)+" "+l(s.bounds.y)+"] ")+" /Parent "+M,s.open&&(i+=" /Open true"),i+=" >>",_.content=i,this.internal.write(v.objId,"0 R",_.objId,"0 R");break;case"freetext":a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y+s.bounds.h)+"] ";var T=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+f(y(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var O=this.annotations._nameMap[s.options.name];s.options.pageNumber=O.page,s.options.top=O.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+f(y(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;default:var A=l(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+A+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var s=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":s.pageContext.annotations.push(r)}},e.link=function(r,s,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(s),w:c(r+a),h:d(s+i)},options:o,type:"link"})},e.textWithLink=function(r,s,a,i){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,s,a,i),a+=.2*d,i.align==="center"&&(s-=c/2),i.align==="right"&&(s-=c),this.link(s,a-d,l,o,i),c},e.getTextWidth=function(r){var s=this.internal.getFontSize();return this.getStringUnitWidth(r)*s/this.internal.scaleFactor}})(Mr.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},l=e.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&a.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(v){var _=0,k=r,S="",M=0;for(_=0;_<v.length;_+=1)k[v.charCodeAt(_)]!==void 0?(M++,typeof(k=k[v.charCodeAt(_)])=="number"&&(S+=String.fromCharCode(k),k=r,M=0),_===v.length-1&&(k=r,S+=v.charAt(_-(M-1)),_-=M-1,M=0)):(k=r,S+=v.charAt(_-M),_-=M,M=0);return S};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&s[v.charCodeAt(0)]!==void 0};var x=e.__arabicParser__.getCorrectForm=function(v,_,k){return o(v)?i(v)===!1?-1:!d(v)||!o(_)&&!o(k)||!o(k)&&l(_)||l(v)&&!o(_)||l(v)&&c(_)||l(v)&&l(_)?0:u(v)&&o(_)&&!l(_)&&o(k)&&d(k)?3:l(v)||!o(k)?1:2:-1},f=function(v){var _=0,k=0,S=0,M="",T="",O="",A=(v=v||"").split("\\s+"),C=[];for(_=0;_<A.length;_+=1){for(C.push(""),k=0;k<A[_].length;k+=1)M=A[_][k],T=A[_][k-1],O=A[_][k+1],o(M)?(S=x(M,T,O),C[_]+=S!==-1?String.fromCharCode(t[M.charCodeAt(0)][S]):M):C[_]+=M;C[_]=p(C[_])}return C.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var v,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(_)){var S=0;for(k=[],S=0;S<_.length;S+=1)Array.isArray(_[S])?k.push([f(_[S][0]),_[S][1],_[S][2]]):k.push([f(_[S])]);v=k}else v=f(_);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",y])})(Mr.API),Mr.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,s){var a;if((r=r||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Mr.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(v){x=v}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(v){y=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return s.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){s.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),p=d.font||this.getFont(),x=d.scaleFactor||this.internal.scaleFactor,f=0,y=0,v=0,_=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var k=d.maxWidth;k>0?typeof c=="string"?c=this.splitTextToSize(c,k):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(M,T){return M.concat(_.splitTextToSize(T,k))},[])):c=Array.isArray(c)?c:[c];for(var S=0;S<c.length;S++)f<(v=this.getStringUnitWidth(c[S],{font:p})*u)&&(f=v);return f!==0&&(y=c.length),{w:f/=x,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/x,0)}},e.cellAddPage=function(){s.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,f&&x&&(this.printHeaderRow(c.lineNumber,!0),c.y+=x[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,p,x){if(s.call(this),!u)throw new Error("No data for PDF table.");var f,y,v,_,k=[],S=[],M=[],T={},O={},A=[],C=[],N=(x=x||{}).autoSize||!1,E=x.printHeaders!==!1,z=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,P=x.margins||Object.assign({width:this.getPageWidth()},t),I=typeof x.padding=="number"?x.padding:3,W=x.headerBackgroundColor||"#c8c8c8",Z=x.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=Z,this.setFontSize(z),p==null)S=k=Object.keys(u[0]),M=k.map(function(){return"left"});else if(Array.isArray(p)&&wa(p[0])==="object")for(k=p.map(function(oe){return oe.name}),S=p.map(function(oe){return oe.prompt||oe.name||""}),M=p.map(function(oe){return oe.align||"left"}),f=0;f<p.length;f+=1)O[p[f].name]=.7499990551181103*p[f].width;else Array.isArray(p)&&typeof p[0]=="string"&&(S=k=p,M=k.map(function(){return"left"}));if(N||Array.isArray(p)&&typeof p[0]=="string")for(f=0;f<k.length;f+=1){for(T[_=k[f]]=u.map(function(oe){return oe[_]}),this.setFont(void 0,"bold"),A.push(this.getTextDimensions(S[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=T[_],this.setFont(void 0,"normal"),v=0;v<y.length;v+=1)A.push(this.getTextDimensions(y[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[_]=Math.max.apply(null,A)+I+I,A=[]}if(E){var Y={};for(f=0;f<k.length;f+=1)Y[k[f]]={},Y[k[f]].text=S[f],Y[k[f]].align=M[f];var te=l.call(this,Y,O);C=k.map(function(oe){return new i(c,d,O[oe],te,Y[oe].text,void 0,Y[oe].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var ie=p.reduce(function(oe,ee){return oe[ee.name]=ee.align,oe},{});for(f=0;f<u.length;f+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:f,data:u[f]},this);var le=l.call(this,u[f],O);for(v=0;v<k.length;v+=1){var se=u[f][k[v]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:f,col:v,data:se},this),o.call(this,new i(c,d,O[k[v]],le,se,f+2,ie[k[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(c).map(function(f){var y=c[f];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,d[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*p/x+u+u},this).reduce(function(f,y){return Math.max(f,y)},0)};e.setTableHeaderRow=function(c){s.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,x.push(u)),u.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(y)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),r=!1}})(Mr.API);var SM={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},EM=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],g4=CM(EM),AM=[100,200,300,400,500,600,700,800,900],Zie=CM(AM);function iw(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return SM[i=i||"normal"]?i:"normal"})(e.style),s=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),a=(function(i){return typeof g4[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:s,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,s].join(" ")}}}function _S(e,t,r,s){var a;for(a=r;a>=0&&a<t.length;a+=s)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=s)if(e[t[a]])return e[t[a]]}var Xie={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},wS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function NS(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function kS(e){return e.trimLeft()}function Jie(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Qie(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var G2,jS,CS,Pm,q2,SS,ES,AS,ow=["times"];function TS(e,t,r,s,a){var i=4,o=LS;switch(a){case Mr.API.image_compression.FAST:i=1,o=MS;break;case Mr.API.image_compression.MEDIUM:i=6,o=PS;break;case Mr.API.image_compression.SLOW:i=9,o=FS}e=(function(c,d,u,p){for(var x,f=c.length/d,y=new Uint8Array(c.length+f),v=[eoe,MS,LS,PS,FS],_=0;_<f;_+=1){var k=_*d,S=c.subarray(k,k+d);if(p)y.set(p(S,u,x),k+_);else{for(var M=v.length,T=[],O=0;O<M;O+=1)T[O]=v[O](S,u,x);var A=roe(T.concat());y.set(T[A],k+_)}x=S}return y})(e,t,Math.ceil(r*s/8),o);var l=d4(e,{level:i});return Mr.API.__addimage__.arrayBufferToBinaryString(l)}function eoe(e){var t=Array.apply([],e);return t.unshift(0),t}function MS(e,t){var r=e.length,s=[];s[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;s[a+1]=e[a]-i+256&255}return s}function LS(e,t,r){var s=e.length,a=[];a[0]=2;for(var i=0;i<s;i+=1){var o=r&&r[i]||0;a[i+1]=e[i]-o+256&255}return a}function PS(e,t,r){var s=e.length,a=[];a[0]=3;for(var i=0;i<s;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;a[i+1]=e[i]+256-(o+l>>>1)&255}return a}function FS(e,t,r){var s=e.length,a=[];a[0]=4;for(var i=0;i<s;i+=1){var o=toe(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-o+256&255}return a}function toe(e,t,r){if(e===t&&t===r)return e;var s=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return s<=a&&s<=i?e:a<=i?t:r}function roe(e){var t=e.map(function(r){return r.reduce(function(s,a){return s+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function lw(e,t,r){var s=t*r,a=Math.floor(s/8),i=16-(s-8*a+r),o=(1<<r)-1;return TM(e,a)>>i&o}function DS(e,t,r,s){var a=r*s,i=Math.floor(a/8),o=16-(a-8*i+s),l=(1<<s)-1,c=(t&l)<<o;(function(d,u,p){if(u+1<d.byteLength)d.setUint16(u,p,!1);else{var x=p>>8&255;d.setUint8(u,x)}})(e,i,TM(e,i)&~(l<<o)&65535|c)}function TM(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function soe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,s=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<1+(7&a);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var d=!0,u=[],p=0,x=null,f=0,y=null;for(this.width=r,this.height=s;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];p=e[t++]|e[t++]<<8,x=e[t++],1&v||(x=null),f=v>>2&7,t++;break;case 254:for(;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var _=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,M=e[t++]|e[t++]<<8,T=e[t++],O=T>>6&1,A=1<<1+(7&T),C=l,N=c,E=!1;T>>7&&(E=!0,C=t,N=A,t+=3*A);var z=t;for(t++;;){var P;if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}u.push({x:_,y:k,width:S,height:M,has_local_palette:E,palette_offset:C,palette_size:N,data_offset:z,data_length:t-z,transparent_index:x,interlaced:!!O,delay:p,disposal:f});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,W){var Z=this.frameInfo(I),Y=Z.width*Z.height,te=new Uint8Array(Y);IS(e,Z.data_offset,te,Y);var ie=Z.palette_offset,le=Z.transparent_index;le===null&&(le=256);var se=Z.width,oe=r-se,ee=se,B=4*(Z.y*r+Z.x),q=4*((Z.y+Z.height)*r+Z.x),Q=B,K=4*oe;Z.interlaced===!0&&(K+=4*r*7);for(var ae=8,ge=0,he=te.length;ge<he;++ge){var ke=te[ge];if(ee===0&&(ee=se,(Q+=K)>=q&&(K=4*oe+4*r*(ae-1),Q=B+(se+oe)*(ae<<1),ae>>=1)),ke===le)Q+=4;else{var Ae=e[ie+3*ke],We=e[ie+3*ke+1],fe=e[ie+3*ke+2];W[Q++]=fe,W[Q++]=We,W[Q++]=Ae,W[Q++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(I,W){var Z=this.frameInfo(I),Y=Z.width*Z.height,te=new Uint8Array(Y);IS(e,Z.data_offset,te,Y);var ie=Z.palette_offset,le=Z.transparent_index;le===null&&(le=256);var se=Z.width,oe=r-se,ee=se,B=4*(Z.y*r+Z.x),q=4*((Z.y+Z.height)*r+Z.x),Q=B,K=4*oe;Z.interlaced===!0&&(K+=4*r*7);for(var ae=8,ge=0,he=te.length;ge<he;++ge){var ke=te[ge];if(ee===0&&(ee=se,(Q+=K)>=q&&(K=4*oe+4*r*(ae-1),Q=B+(se+oe)*(ae<<1),ae>>=1)),ke===le)Q+=4;else{var Ae=e[ie+3*ke],We=e[ie+3*ke+1],fe=e[ie+3*ke+2];W[Q++]=Ae,W[Q++]=We,W[Q++]=fe,W[Q++]=255}--ee}}}function IS(e,t,r,s){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,u=0,p=0,x=0,f=e[t++],y=new Int32Array(4096),v=null;;){for(;u<16&&f!==0;)p|=e[t++]<<u,u+=8,f===1?f=e[t++]:--f;if(u<c)break;var _=p&d;if(p>>=c,u-=c,_!==i){if(_===o)break;for(var k=_<l?_:v,S=0,M=k;M>i;)M=y[M]>>8,++S;var T=M;if(x+S+(k!==_?1:0)>s)return void Ma.log("Warning, gif stream longer than expected.");r[x++]=T;var O=x+=S;for(k!==_&&(r[x++]=T),M=k;S--;)M=y[M],r[--O]=255&M,M>>=8;v!==null&&l<4096&&(y[l++]=v<<8|T,l>=d+1&&c<12&&(++c,d=d<<1|1)),v=_}else l=o+1,d=(1<<(c=a+1))-1,v=null}return x!==s&&Ma.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function cw(e){var t,r,s,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),p=new Array(65535),x=new Array(65535),f=new Array(64),y=new Array(64),v=[],_=0,k=7,S=new Array(64),M=new Array(64),T=new Array(64),O=new Array(256),A=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(B,q){for(var Q=0,K=0,ae=new Array,ge=1;ge<=16;ge++){for(var he=1;he<=B[ge];he++)ae[q[K]]=[],ae[q[K]][0]=Q,ae[q[K]][1]=ge,K++,Q++;Q*=2}return ae}function ie(B){for(var q=B[0],Q=B[1]-1;Q>=0;)q&1<<Q&&(_|=1<<k),Q--,--k<0&&(_==255?(le(255),le(0)):le(_),k=7,_=0)}function le(B){v.push(B)}function se(B){le(B>>8&255),le(255&B)}function oe(B,q,Q,K,ae){for(var ge,he=ae[0],ke=ae[240],Ae=(function(Re,pe){var Le,He,ve,Ne,ze,qe,pt,xt,Ft,Et,At=0;for(Ft=0;Ft<8;++Ft){Le=Re[At],He=Re[At+1],ve=Re[At+2],Ne=Re[At+3],ze=Re[At+4],qe=Re[At+5],pt=Re[At+6];var ar=Le+(xt=Re[At+7]),er=Le-xt,Qt=He+pt,Lt=He-pt,rs=ve+qe,gr=ve-qe,zr=Ne+ze,Ir=Ne-ze,Ds=ar+zr,zs=ar-zr,us=Qt+rs,Fr=Qt-rs;Re[At]=Ds+us,Re[At+4]=Ds-us;var gs=.707106781*(Fr+zs);Re[At+2]=zs+gs,Re[At+6]=zs-gs;var Ni=.382683433*((Ds=Ir+gr)-(Fr=Lt+er)),ka=.5411961*Ds+Ni,Oi=1.306562965*Fr+Ni,ni=.707106781*(us=gr+Lt),Oe=er+ni,et=er-ni;Re[At+5]=et+ka,Re[At+3]=et-ka,Re[At+1]=Oe+Oi,Re[At+7]=Oe-Oi,At+=8}for(At=0,Ft=0;Ft<8;++Ft){Le=Re[At],He=Re[At+8],ve=Re[At+16],Ne=Re[At+24],ze=Re[At+32],qe=Re[At+40],pt=Re[At+48];var gt=Le+(xt=Re[At+56]),Dt=Le-xt,Xt=He+pt,Kt=He-pt,Nt=ve+qe,ce=ve-qe,Ce=Ne+ze,be=Ne-ze,we=gt+Ce,je=gt-Ce,Me=Xt+Nt,Xe=Xt-Nt;Re[At]=we+Me,Re[At+32]=we-Me;var mt=.707106781*(Xe+je);Re[At+16]=je+mt,Re[At+48]=je-mt;var nt=.382683433*((we=be+ce)-(Xe=Kt+Dt)),tt=.5411961*we+nt,st=1.306562965*Xe+nt,Rt=.707106781*(Me=ce+Kt),Yt=Dt+Rt,sr=Dt-Rt;Re[At+40]=sr+tt,Re[At+24]=sr-tt,Re[At+8]=Yt+st,Re[At+56]=Yt-st,At++}for(Ft=0;Ft<64;++Ft)Et=Re[Ft]*pe[Ft],f[Ft]=Et>0?Et+.5|0:Et-.5|0;return f})(B,q),We=0;We<64;++We)y[C[We]]=Ae[We];var fe=y[0]-Q;Q=y[0],fe==0?ie(K[0]):(ie(K[x[ge=32767+fe]]),ie(p[ge]));for(var ht=63;ht>0&&y[ht]==0;)ht--;if(ht==0)return ie(he),Q;for(var De,Ee=1;Ee<=ht;){for(var Ue=Ee;y[Ee]==0&&Ee<=ht;)++Ee;var rt=Ee-Ue;if(rt>=16){De=rt>>4;for(var ft=1;ft<=De;++ft)ie(ke);rt&=15}ge=32767+y[Ee],ie(ae[(rt<<4)+x[ge]]),ie(p[ge]),Ee++}return ht!=63&&ie(he),Q}function ee(B){B=Math.min(Math.max(B,1),100),i!=B&&((function(q){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var ae=o((Q[K]*q+50)/100);ae=Math.min(Math.max(ae,1),255),l[C[K]]=ae}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var ke=o((ge[he]*q+50)/100);ke=Math.min(Math.max(ke,1),255),c[C[he]]=ke}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],We=0,fe=0;fe<8;fe++)for(var ht=0;ht<8;ht++)d[We]=1/(l[C[We]]*Ae[fe]*Ae[ht]*8),u[We]=1/(c[C[We]]*Ae[fe]*Ae[ht]*8),We++})(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),i=B)}this.encode=function(B,q){q&&ee(q),v=new Array,_=0,k=7,se(65496),se(65504),se(16),le(74),le(70),le(73),le(70),le(0),le(1),le(1),le(0),se(1),se(1),le(0),le(0),(function(){se(65499),se(132),le(0);for(var He=0;He<64;He++)le(l[He]);le(1);for(var ve=0;ve<64;ve++)le(c[ve])})(),(function(He,ve){se(65472),se(17),le(8),se(ve),se(He),le(3),le(1),le(17),le(0),le(2),le(17),le(1),le(3),le(17),le(1)})(B.width,B.height),(function(){se(65476),se(418),le(0);for(var He=0;He<16;He++)le(N[He+1]);for(var ve=0;ve<=11;ve++)le(E[ve]);le(16);for(var Ne=0;Ne<16;Ne++)le(z[Ne+1]);for(var ze=0;ze<=161;ze++)le(P[ze]);le(1);for(var qe=0;qe<16;qe++)le(I[qe+1]);for(var pt=0;pt<=11;pt++)le(W[pt]);le(17);for(var xt=0;xt<16;xt++)le(Z[xt+1]);for(var Ft=0;Ft<=161;Ft++)le(Y[Ft])})(),se(65498),se(12),le(3),le(1),le(0),le(2),le(17),le(3),le(17),le(0),le(63),le(0);var Q=0,K=0,ae=0;_=0,k=7,this.encode.displayName="_encode_";for(var ge,he,ke,Ae,We,fe,ht,De,Ee,Ue=B.data,rt=B.width,ft=B.height,Re=4*rt,pe=0;pe<ft;){for(ge=0;ge<Re;){for(We=Re*pe+ge,ht=-1,De=0,Ee=0;Ee<64;Ee++)fe=We+(De=Ee>>3)*Re+(ht=4*(7&Ee)),pe+De>=ft&&(fe-=Re*(pe+1+De-ft)),ge+ht>=Re&&(fe-=ge+ht-Re+4),he=Ue[fe++],ke=Ue[fe++],Ae=Ue[fe++],S[Ee]=(A[he]+A[ke+256|0]+A[Ae+512|0]>>16)-128,M[Ee]=(A[he+768|0]+A[ke+1024|0]+A[Ae+1280|0]>>16)-128,T[Ee]=(A[he+1280|0]+A[ke+1536|0]+A[Ae+1792|0]>>16)-128;Q=oe(S,d,Q,t,s),K=oe(M,u,K,r,a),ae=oe(T,u,ae,r,a),ge+=32}pe+=8}if(k>=0){var Le=[];Le[1]=k+1,Le[0]=(1<<k+1)-1,ie(Le)}return se(65497),new Uint8Array(v)},e=e||50,(function(){for(var B=String.fromCharCode,q=0;q<256;q++)O[q]=B(q)})(),t=te(N,E),r=te(I,W),s=te(z,P),a=te(Z,Y),(function(){for(var B=1,q=2,Q=1;Q<=15;Q++){for(var K=B;K<q;K++)x[32767+K]=Q,p[32767+K]=[],p[32767+K][1]=Q,p[32767+K][0]=K;for(var ae=-(q-1);ae<=-B;ae++)x[32767+ae]=Q,p[32767+ae]=[],p[32767+ae][1]=Q,p[32767+ae][0]=q-1+ae;B<<=1,q<<=1}})(),(function(){for(var B=0;B<256;B++)A[B]=19595*B,A[B+256|0]=38470*B,A[B+512|0]=7471*B+32768,A[B+768|0]=-11059*B,A[B+1024|0]=-21709*B,A[B+1280|0]=32768*B+8421375,A[B+1536|0]=-27439*B,A[B+1792|0]=-5329*B})(),ee(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Rd(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function RS(e){function t(E){if(!E)throw Error("assert :P")}function r(E,z,P){for(var I=0;4>I;I++)if(E[z+I]!=P.charCodeAt(I))return!0;return!1}function s(E,z,P,I,W){for(var Z=0;Z<W;Z++)E[z+Z]=P[I+Z]}function a(E,z,P,I){for(var W=0;W<I;W++)E[z+W]=P}function i(E){return new Int32Array(E)}function o(E,z){for(var P=[],I=0;I<E;I++)P.push(new z);return P}function l(E,z){var P=[];return(function I(W,Z,Y){for(var te=Y[Z],ie=0;ie<te&&(W.push(Y.length>Z+1?[]:new z),!(Y.length<Z+1));ie++)I(W[ie],Z+1,Y)})(P,0,E),P}var c=function(){var E=this;function z(j,R){for(var X=1<<R-1>>>0;j&X;)X>>>=1;return X?(j&X-1)+X:j}function P(j,R,X,re,ue){t(!(re%X));do j[R+(re-=X)]=ue;while(0<re)}function I(j,R,X,re,ue){if(t(2328>=ue),512>=ue)var xe=i(512);else if((xe=i(ue))==null)return 0;return(function(_e,Se,Te,Fe,Ye,ct){var Ie,Je,ot=Se,St=1<<Te,ut=i(16),kt=i(16);for(t(Ye!=0),t(Fe!=null),t(_e!=null),t(0<Te),Je=0;Je<Ye;++Je){if(15<Fe[Je])return 0;++ut[Fe[Je]]}if(ut[0]==Ye)return 0;for(kt[1]=0,Ie=1;15>Ie;++Ie){if(ut[Ie]>1<<Ie)return 0;kt[Ie+1]=kt[Ie]+ut[Ie]}for(Je=0;Je<Ye;++Je)Ie=Fe[Je],0<Fe[Je]&&(ct[kt[Ie]++]=Je);if(kt[15]==1)return(Fe=new W).g=0,Fe.value=ct[0],P(_e,ot,1,St,Fe),St;var Ct,Mt=-1,It=St-1,Cr=0,pr=1,ss=1,_r=1<<Te;for(Je=0,Ie=1,Ye=2;Ie<=Te;++Ie,Ye<<=1){if(pr+=ss<<=1,0>(ss-=ut[Ie]))return 0;for(;0<ut[Ie];--ut[Ie])(Fe=new W).g=Ie,Fe.value=ct[Je++],P(_e,ot+Cr,Ye,_r,Fe),Cr=z(Cr,Ie)}for(Ie=Te+1,Ye=2;15>=Ie;++Ie,Ye<<=1){if(pr+=ss<<=1,0>(ss-=ut[Ie]))return 0;for(;0<ut[Ie];--ut[Ie]){if(Fe=new W,(Cr&It)!=Mt){for(ot+=_r,Ct=1<<(Mt=Ie)-Te;15>Mt&&!(0>=(Ct-=ut[Mt]));)++Mt,Ct<<=1;St+=_r=1<<(Ct=Mt-Te),_e[Se+(Mt=Cr&It)].g=Ct+Te,_e[Se+Mt].value=ot-Se-Mt}Fe.g=Ie-Te,Fe.value=ct[Je++],P(_e,ot+(Cr>>Te),Ye,_r,Fe),Cr=z(Cr,Ie)}}return pr!=2*kt[15]-1?0:St})(j,R,X,re,ue,xe)}function W(){this.value=this.g=0}function Z(){this.value=this.g=0}function Y(){this.G=o(5,W),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Si,Z)}function te(j,R,X,re){t(j!=null),t(R!=null),t(2147483648>re),j.Ca=254,j.I=0,j.b=-8,j.Ka=0,j.oa=R,j.pa=X,j.Jd=R,j.Yc=X+re,j.Zc=4<=re?X+re-4+1:X,he(j)}function ie(j,R){for(var X=0;0<R--;)X|=Ae(j,128)<<R;return X}function le(j,R){var X=ie(j,R);return ke(j)?-X:X}function se(j,R,X,re){var ue,xe=0;for(t(j!=null),t(R!=null),t(4294967288>re),j.Sb=re,j.Ra=0,j.u=0,j.h=0,4<re&&(re=4),ue=0;ue<re;++ue)xe+=R[X+ue]<<8*ue;j.Ra=xe,j.bb=re,j.oa=R,j.pa=X}function oe(j){for(;8<=j.u&&j.bb<j.Sb;)j.Ra>>>=8,j.Ra+=j.oa[j.pa+j.bb]<<ll-8>>>0,++j.bb,j.u-=8;K(j)&&(j.h=1,j.u=0)}function ee(j,R){if(t(0<=R),!j.h&&R<=tn){var X=Q(j)&lo[R];return j.u+=R,oe(j),X}return j.h=1,j.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(j){return j.Ra>>>(j.u&ll-1)>>>0}function K(j){return t(j.bb<=j.Sb),j.h||j.bb==j.Sb&&j.u>ll}function ae(j,R){j.u=R,j.h=K(j)}function ge(j){j.u>=Sl&&(t(j.u>=Sl),oe(j))}function he(j){t(j!=null&&j.oa!=null),j.pa<j.Zc?(j.I=(j.oa[j.pa++]|j.I<<8)>>>0,j.b+=8):(t(j!=null&&j.oa!=null),j.pa<j.Yc?(j.b+=8,j.I=j.oa[j.pa++]|j.I<<8):j.Ka?j.b=0:(j.I<<=8,j.b+=8,j.Ka=1))}function ke(j){return ie(j,1)}function Ae(j,R){var X=j.Ca;0>j.b&&he(j);var re=j.b,ue=X*R>>>8,xe=(j.I>>>re>ue)+0;for(xe?(X-=ue,j.I-=ue+1<<re>>>0):X=ue+1,re=X,ue=0;256<=re;)ue+=8,re>>=8;return re=7^ue+cl[re],j.b-=re,j.Ca=(X<<re)-1,xe}function We(j,R,X){j[R+0]=X>>24&255,j[R+1]=X>>16&255,j[R+2]=X>>8&255,j[R+3]=255&X}function fe(j,R){return j[R+0]|j[R+1]<<8}function ht(j,R){return fe(j,R)|j[R+2]<<16}function De(j,R){return fe(j,R)|fe(j,R+2)<<16}function Ee(j,R){var X=1<<R;return t(j!=null),t(0<R),j.X=i(X),j.X==null?0:(j.Mb=32-R,j.Xa=R,1)}function Ue(j,R){t(j!=null),t(R!=null),t(j.Xa==R.Xa),s(R.X,0,j.X,0,1<<R.Xa)}function rt(){this.X=[],this.Xa=this.Mb=0}function ft(j,R,X,re){t(X!=null),t(re!=null);var ue=X[0],xe=re[0];return ue==0&&(ue=(j*xe+R/2)/R),xe==0&&(xe=(R*ue+j/2)/j),0>=ue||0>=xe?0:(X[0]=ue,re[0]=xe,1)}function Re(j,R){return j+(1<<R)-1>>>R}function pe(j,R){return((4278255360&j)+(4278255360&R)>>>0&4278255360)+((16711935&j)+(16711935&R)>>>0&16711935)>>>0}function Le(j,R){E[R]=function(X,re,ue,xe,_e,Se,Te){var Fe;for(Fe=0;Fe<_e;++Fe){var Ye=E[j](Se[Te+Fe-1],ue,xe+Fe);Se[Te+Fe]=pe(X[re+Fe],Ye)}}}function He(){this.ud=this.hd=this.jd=0}function ve(j,R){return((4278124286&(j^R))>>>1)+(j&R)>>>0}function Ne(j){return 0<=j&&256>j?j:0>j?0:255<j?255:void 0}function ze(j,R){return Ne(j+(j-R+.5>>1))}function qe(j,R,X){return Math.abs(R-X)-Math.abs(j-X)}function pt(j,R,X,re,ue,xe,_e){for(re=xe[_e-1],X=0;X<ue;++X)xe[_e+X]=re=pe(j[R+X],re)}function xt(j,R,X,re,ue){var xe;for(xe=0;xe<X;++xe){var _e=j[R+xe],Se=_e>>8&255,Te=16711935&(Te=(Te=16711935&_e)+((Se<<16)+Se));re[ue+xe]=(4278255360&_e)+Te>>>0}}function Ft(j,R){R.jd=255&j,R.hd=j>>8&255,R.ud=j>>16&255}function Et(j,R,X,re,ue,xe){var _e;for(_e=0;_e<re;++_e){var Se=R[X+_e],Te=Se>>>8,Fe=Se,Ye=255&(Ye=(Ye=Se>>>16)+((j.jd<<24>>24)*(Te<<24>>24)>>>5));Fe=255&(Fe=(Fe+=(j.hd<<24>>24)*(Te<<24>>24)>>>5)+((j.ud<<24>>24)*(Ye<<24>>24)>>>5)),ue[xe+_e]=(4278255360&Se)+(Ye<<16)+Fe}}function At(j,R,X,re,ue){E[R]=function(xe,_e,Se,Te,Fe,Ye,ct,Ie,Je){for(Te=ct;Te<Ie;++Te)for(ct=0;ct<Je;++ct)Fe[Ye++]=ue(Se[re(xe[_e++])])},E[j]=function(xe,_e,Se,Te,Fe,Ye,ct){var Ie=8>>xe.b,Je=xe.Ea,ot=xe.K[0],St=xe.w;if(8>Ie)for(xe=(1<<xe.b)-1,St=(1<<Ie)-1;_e<Se;++_e){var ut,kt=0;for(ut=0;ut<Je;++ut)ut&xe||(kt=re(Te[Fe++])),Ye[ct++]=ue(ot[kt&St]),kt>>=Ie}else E["VP8LMapColor"+X](Te,Fe,ot,St,Ye,ct,_e,Se,Je)}}function ar(j,R,X,re,ue){for(X=R+X;R<X;){var xe=j[R++];re[ue++]=xe>>16&255,re[ue++]=xe>>8&255,re[ue++]=255&xe}}function er(j,R,X,re,ue){for(X=R+X;R<X;){var xe=j[R++];re[ue++]=xe>>16&255,re[ue++]=xe>>8&255,re[ue++]=255&xe,re[ue++]=xe>>24&255}}function Qt(j,R,X,re,ue){for(X=R+X;R<X;){var xe=(_e=j[R++])>>16&240|_e>>12&15,_e=240&_e|_e>>28&15;re[ue++]=xe,re[ue++]=_e}}function Lt(j,R,X,re,ue){for(X=R+X;R<X;){var xe=(_e=j[R++])>>16&248|_e>>13&7,_e=_e>>5&224|_e>>3&31;re[ue++]=xe,re[ue++]=_e}}function rs(j,R,X,re,ue){for(X=R+X;R<X;){var xe=j[R++];re[ue++]=255&xe,re[ue++]=xe>>8&255,re[ue++]=xe>>16&255}}function gr(j,R,X,re,ue,xe){if(xe==0)for(X=R+X;R<X;)We(re,((xe=j[R++])[0]>>24|xe[1]>>8&65280|xe[2]<<8&16711680|xe[3]<<24)>>>0),ue+=32;else s(re,ue,j,R,X)}function zr(j,R){E[R][0]=E[j+"0"],E[R][1]=E[j+"1"],E[R][2]=E[j+"2"],E[R][3]=E[j+"3"],E[R][4]=E[j+"4"],E[R][5]=E[j+"5"],E[R][6]=E[j+"6"],E[R][7]=E[j+"7"],E[R][8]=E[j+"8"],E[R][9]=E[j+"9"],E[R][10]=E[j+"10"],E[R][11]=E[j+"11"],E[R][12]=E[j+"12"],E[R][13]=E[j+"13"],E[R][14]=E[j+"0"],E[R][15]=E[j+"0"]}function Ir(j){return j==jd||j==Wc||j==au||j==m}function Ds(){this.eb=[],this.size=this.A=this.fb=0}function zs(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function us(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ds,this.f.kb=new zs,this.sd=null}function Fr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function gs(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ni(j){return alert("todo:WebPSamplerProcessPlane"),j.T}function ka(j,R){var X=j.T,re=R.ba.f.RGBA,ue=re.eb,xe=re.fb+j.ka*re.A,_e=Wn[R.ba.S],Se=j.y,Te=j.O,Fe=j.f,Ye=j.N,ct=j.ea,Ie=j.W,Je=R.cc,ot=R.dc,St=R.Mc,ut=R.Nc,kt=j.ka,Ct=j.ka+j.T,Mt=j.U,It=Mt+1>>1;for(kt==0?_e(Se,Te,null,null,Fe,Ye,ct,Ie,Fe,Ye,ct,Ie,ue,xe,null,null,Mt):(_e(R.ec,R.fc,Se,Te,Je,ot,St,ut,Fe,Ye,ct,Ie,ue,xe-re.A,ue,xe,Mt),++X);kt+2<Ct;kt+=2)Je=Fe,ot=Ye,St=ct,ut=Ie,Ye+=j.Rc,Ie+=j.Rc,xe+=2*re.A,_e(Se,(Te+=2*j.fa)-j.fa,Se,Te,Je,ot,St,ut,Fe,Ye,ct,Ie,ue,xe-re.A,ue,xe,Mt);return Te+=j.fa,j.j+Ct<j.o?(s(R.ec,R.fc,Se,Te,Mt),s(R.cc,R.dc,Fe,Ye,It),s(R.Mc,R.Nc,ct,Ie,It),X--):1&Ct||_e(Se,Te,null,null,Fe,Ye,ct,Ie,Fe,Ye,ct,Ie,ue,xe+re.A,null,null,Mt),X}function Oi(j,R,X){var re=j.F,ue=[j.J];if(re!=null){var xe=j.U,_e=R.ba.S,Se=_e==x0||_e==au;R=R.ba.f.RGBA;var Te=[0],Fe=j.ka;Te[0]=j.T,j.Kb&&(Fe==0?--Te[0]:(--Fe,ue[0]-=j.width),j.j+j.ka+j.T==j.o&&(Te[0]=j.o-j.j-Fe));var Ye=R.eb;Fe=R.fb+Fe*R.A,j=m0(re,ue[0],j.width,xe,Te,Ye,Fe+(Se?0:3),R.A),t(X==Te),j&&Ir(_e)&&Mo(Ye,Fe,Se,xe,Te,R.A)}return 0}function ni(j){var R=j.ma,X=R.ba.S,re=11>X,ue=X==pc||X==p0||X==x0||X==Qs||X==12||Ir(X);if(R.memory=null,R.Ib=null,R.Jb=null,R.Nd=null,!h0(R.Oa,j,ue?11:12))return 0;if(ue&&Ir(X)&&Wu(),j.da)alert("todo:use_scaling");else{if(re){if(R.Ib=Ni,j.Kb){if(X=j.U+1>>1,R.memory=i(j.U+2*X),R.memory==null)return 0;R.ec=R.memory,R.fc=0,R.cc=R.ec,R.dc=R.fc+j.U,R.Mc=R.cc,R.Nc=R.dc+X,R.Ib=ka,Wu()}}else alert("todo:EmitYUV");ue&&(R.Jb=Oi,re&&Ci())}if(re&&!Ti){for(j=0;256>j;++j)Po[j]=89858*(j-128)+xc>>Sd,Fo[j]=-22014*(j-128)+xc,Yu[j]=-45773*(j-128),iu[j]=113618*(j-128)+xc>>Sd;for(j=ia;j<ca;++j)R=76283*(j-16)+xc>>Sd,lm[j-ia]=Ls(R,255),Pg[j-ia]=Ls(R+8>>4,15);Ti=1}return 1}function Oe(j){var R=j.ma,X=j.U,re=j.T;return t(!(1&j.ka)),0>=X||0>=re?0:(X=R.Ib(j,R),R.Jb!=null&&R.Jb(j,R,X),R.Dc+=X,1)}function et(j){j.ma.memory=null}function gt(j,R,X,re){return ee(j,8)!=47?0:(R[0]=ee(j,14)+1,X[0]=ee(j,14)+1,re[0]=ee(j,1),ee(j,3)!=0?0:!j.h)}function Dt(j,R){if(4>j)return j+1;var X=j-2>>1;return(2+(1&j)<<X)+ee(R,X)+1}function Xt(j,R){return 120<R?R-120:1<=(X=((X=Ve[R-1])>>4)*j+(8-(15&X)))?X:1;var X}function Kt(j,R,X){var re=Q(X),ue=j[R+=255&re].g-8;return 0<ue&&(ae(X,X.u+8),re=Q(X),R+=j[R].value,R+=re&(1<<ue)-1),ae(X,X.u+j[R].g),j[R].value}function Nt(j,R,X){return X.g+=j.g,X.value+=j.value<<R>>>0,t(8>=X.g),j.g}function ce(j,R,X){var re=j.xc;return t((R=re==0?0:j.vc[j.md*(X>>re)+(R>>re)])<j.Wb),j.Ya[R]}function Ce(j,R,X,re){var ue=j.ab,xe=j.c*R,_e=j.C;R=_e+R;var Se=X,Te=re;for(re=j.Ta,X=j.Ua;0<ue--;){var Fe=j.gc[ue],Ye=_e,ct=R,Ie=Se,Je=Te,ot=(Te=re,Se=X,Fe.Ea);switch(t(Ye<ct),t(ct<=Fe.nc),Fe.hc){case 2:$a(Ie,Je,(ct-Ye)*ot,Te,Se);break;case 0:var St=Ye,ut=ct,kt=Te,Ct=Se,Mt=(_r=Fe).Ea;St==0&&(dc(Ie,Je,null,null,1,kt,Ct),pt(Ie,Je+1,0,0,Mt-1,kt,Ct+1),Je+=Mt,Ct+=Mt,++St);for(var It=1<<_r.b,Cr=It-1,pr=Re(Mt,_r.b),ss=_r.K,_r=_r.w+(St>>_r.b)*pr;St<ut;){var Ns=ss,rn=_r,is=1;for(En(Ie,Je,kt,Ct-Mt,1,kt,Ct);is<Mt;){var xr=(is&~Cr)+It;xr>Mt&&(xr=Mt),(0,zc[Ns[rn++]>>8&15])(Ie,Je+ +is,kt,Ct+is-Mt,xr-is,kt,Ct+is),is=xr}Je+=Mt,Ct+=Mt,++St&Cr||(_r+=pr)}ct!=Fe.nc&&s(Te,Se-ot,Te,Se+(ct-Ye-1)*ot,ot);break;case 1:for(ot=Ie,ut=Je,Mt=(Ie=Fe.Ea)-(Ct=Ie&~(kt=(Je=1<<Fe.b)-1)),St=Re(Ie,Fe.b),It=Fe.K,Fe=Fe.w+(Ye>>Fe.b)*St;Ye<ct;){for(Cr=It,pr=Fe,ss=new He,_r=ut+Ct,Ns=ut+Ie;ut<_r;)Ft(Cr[pr++],ss),Uc(ss,ot,ut,Je,Te,Se),ut+=Je,Se+=Je;ut<Ns&&(Ft(Cr[pr++],ss),Uc(ss,ot,ut,Mt,Te,Se),ut+=Mt,Se+=Mt),++Ye&kt||(Fe+=St)}break;case 3:if(Ie==Te&&Je==Se&&0<Fe.b){for(ut=Te,Ie=ot=Se+(ct-Ye)*ot-(Ct=(ct-Ye)*Re(Fe.Ea,Fe.b)),Je=Te,kt=Se,St=[],Ct=(Mt=Ct)-1;0<=Ct;--Ct)St[Ct]=Je[kt+Ct];for(Ct=Mt-1;0<=Ct;--Ct)ut[Ie+Ct]=St[Ct];To(Fe,Ye,ct,Te,ot,Te,Se)}else To(Fe,Ye,ct,Ie,Je,Te,Se)}Se=re,Te=X}Te!=X&&s(re,X,Se,Te,xe)}function be(j,R){var X=j.V,re=j.Ba+j.c*j.C,ue=R-j.C;if(t(R<=j.l.o),t(16>=ue),0<ue){var xe=j.l,_e=j.Ta,Se=j.Ua,Te=xe.width;if(Ce(j,ue,X,re),ue=Se=[Se],t((X=j.C)<(re=R)),t(xe.v<xe.va),re>xe.o&&(re=xe.o),X<xe.j){var Fe=xe.j-X;X=xe.j,ue[0]+=Fe*Te}if(X>=re?X=0:(ue[0]+=4*xe.v,xe.ka=X-xe.j,xe.U=xe.va-xe.v,xe.T=re-X,X=1),X){if(Se=Se[0],11>(X=j.ca).S){var Ye=X.f.RGBA,ct=(re=X.S,ue=xe.U,xe=xe.T,Fe=Ye.eb,Ye.A),Ie=xe;for(Ye=Ye.fb+j.Ma*Ye.A;0<Ie--;){var Je=_e,ot=Se,St=ue,ut=Fe,kt=Ye;switch(re){case qu:uc(Je,ot,St,ut,kt);break;case pc:dl(Je,ot,St,ut,kt);break;case jd:dl(Je,ot,St,ut,kt),Mo(ut,kt,0,St,1,0);break;case ef:Tl(Je,ot,St,ut,kt);break;case p0:gr(Je,ot,St,ut,kt,1);break;case Wc:gr(Je,ot,St,ut,kt,1),Mo(ut,kt,0,St,1,0);break;case x0:gr(Je,ot,St,ut,kt,0);break;case au:gr(Je,ot,St,ut,kt,0),Mo(ut,kt,1,St,1,0);break;case Qs:ul(Je,ot,St,ut,kt);break;case m:ul(Je,ot,St,ut,kt),Hu(ut,kt,St,1,0);break;case Ku:co(Je,ot,St,ut,kt);break;default:t(0)}Se+=Te,Ye+=ct}j.Ma+=xe}else alert("todo:EmitRescaledRowsYUVA");t(j.Ma<=X.height)}}j.C=R,t(j.C<=j.i)}function we(j){var R;if(0<j.ua)return 0;for(R=0;R<j.Wb;++R){var X=j.Ya[R].G,re=j.Ya[R].H;if(0<X[1][re[1]+0].g||0<X[2][re[2]+0].g||0<X[3][re[3]+0].g)return 0}return 1}function je(j,R,X,re,ue,xe){if(j.Z!=0){var _e=j.qd,Se=j.rd;for(t(ys[j.Z]!=null);R<X;++R)ys[j.Z](_e,Se,re,ue,re,ue,xe),_e=re,Se=ue,ue+=xe;j.qd=_e,j.rd=Se}}function Me(j,R){var X=j.l.ma,re=X.Z==0||X.Z==1?j.l.j:j.C;if(re=j.C<re?re:j.C,t(R<=j.l.o),R>re){var ue=j.l.width,xe=X.ca,_e=X.tb+ue*re,Se=j.V,Te=j.Ba+j.c*re,Fe=j.gc;t(j.ab==1),t(Fe[0].hc==3),hn(Fe[0],re,R,Se,Te,xe,_e),je(X,re,R,xe,_e,ue)}j.C=j.Ma=R}function Xe(j,R,X,re,ue,xe,_e){var Se=j.$/re,Te=j.$%re,Fe=j.m,Ye=j.s,ct=X+j.$,Ie=ct;ue=X+re*ue;var Je=X+re*xe,ot=280+Ye.ua,St=j.Pb?Se:16777216,ut=0<Ye.ua?Ye.Wa:null,kt=Ye.wc,Ct=ct<Je?ce(Ye,Te,Se):null;t(j.C<xe),t(Je<=ue);var Mt=!1;e:for(;;){for(;Mt||ct<Je;){var It=0;if(Se>=St){var Cr=ct-X;t((St=j).Pb),St.wd=St.m,St.xd=Cr,0<St.s.ua&&Ue(St.s.Wa,St.s.vb),St=Se+yt}if(Te&kt||(Ct=ce(Ye,Te,Se)),t(Ct!=null),Ct.Qb&&(R[ct]=Ct.qb,Mt=!0),!Mt)if(ge(Fe),Ct.jc){It=Fe,Cr=R;var pr=ct,ss=Ct.pd[Q(It)&Si-1];t(Ct.jc),256>ss.g?(ae(It,It.u+ss.g),Cr[pr]=ss.value,It=0):(ae(It,It.u+ss.g-256),t(256<=ss.value),It=ss.value),It==0&&(Mt=!0)}else It=Kt(Ct.G[0],Ct.H[0],Fe);if(Fe.h)break;if(Mt||256>It){if(!Mt)if(Ct.nd)R[ct]=(Ct.qb|It<<8)>>>0;else{if(ge(Fe),Mt=Kt(Ct.G[1],Ct.H[1],Fe),ge(Fe),Cr=Kt(Ct.G[2],Ct.H[2],Fe),pr=Kt(Ct.G[3],Ct.H[3],Fe),Fe.h)break;R[ct]=(pr<<24|Mt<<16|It<<8|Cr)>>>0}if(Mt=!1,++ct,++Te>=re&&(Te=0,++Se,_e!=null&&Se<=xe&&!(Se%16)&&_e(j,Se),ut!=null))for(;Ie<ct;)It=R[Ie++],ut.X[(506832829*It&4294967295)>>>ut.Mb]=It}else if(280>It){if(It=Dt(It-256,Fe),Cr=Kt(Ct.G[4],Ct.H[4],Fe),ge(Fe),Cr=Xt(re,Cr=Dt(Cr,Fe)),Fe.h)break;if(ct-X<Cr||ue-ct<It)break e;for(pr=0;pr<It;++pr)R[ct+pr]=R[ct+pr-Cr];for(ct+=It,Te+=It;Te>=re;)Te-=re,++Se,_e!=null&&Se<=xe&&!(Se%16)&&_e(j,Se);if(t(ct<=ue),Te&kt&&(Ct=ce(Ye,Te,Se)),ut!=null)for(;Ie<ct;)It=R[Ie++],ut.X[(506832829*It&4294967295)>>>ut.Mb]=It}else{if(!(It<ot))break e;for(Mt=It-280,t(ut!=null);Ie<ct;)It=R[Ie++],ut.X[(506832829*It&4294967295)>>>ut.Mb]=It;It=ct,t(!(Mt>>>(Cr=ut).Xa)),R[It]=Cr.X[Mt],Mt=!0}Mt||t(Fe.h==K(Fe))}if(j.Pb&&Fe.h&&ct<ue)t(j.m.h),j.a=5,j.m=j.wd,j.$=j.xd,0<j.s.ua&&Ue(j.s.vb,j.s.Wa);else{if(Fe.h)break e;_e!=null&&_e(j,Se>xe?xe:Se),j.a=0,j.$=ct-X}return 1}return j.a=3,0}function mt(j){t(j!=null),j.vc=null,j.yc=null,j.Ya=null;var R=j.Wa;R!=null&&(R.X=null),j.vb=null,t(j!=null)}function nt(){var j=new br;return j==null?null:(j.a=0,j.xb=Cd,zr("Predictor","VP8LPredictors"),zr("Predictor","VP8LPredictors_C"),zr("PredictorAdd","VP8LPredictorsAdd"),zr("PredictorAdd","VP8LPredictorsAdd_C"),$a=xt,Uc=Et,uc=ar,dl=er,ul=Qt,co=Lt,Tl=rs,E.VP8LMapColor32b=El,E.VP8LMapColor8b=Al,j)}function tt(j,R,X,re,ue){var xe=1,_e=[j],Se=[R],Te=re.m,Fe=re.s,Ye=null,ct=0;e:for(;;){if(X)for(;xe&&ee(Te,1);){var Ie=_e,Je=Se,ot=re,St=1,ut=ot.m,kt=ot.gc[ot.ab],Ct=ee(ut,2);if(ot.Oc&1<<Ct)xe=0;else{switch(ot.Oc|=1<<Ct,kt.hc=Ct,kt.Ea=Ie[0],kt.nc=Je[0],kt.K=[null],++ot.ab,t(4>=ot.ab),Ct){case 0:case 1:kt.b=ee(ut,3)+2,St=tt(Re(kt.Ea,kt.b),Re(kt.nc,kt.b),0,ot,kt.K),kt.K=kt.K[0];break;case 3:var Mt,It=ee(ut,8)+1,Cr=16<It?0:4<It?1:2<It?2:3;if(Ie[0]=Re(kt.Ea,Cr),kt.b=Cr,Mt=St=tt(It,1,0,ot,kt.K)){var pr,ss=It,_r=kt,Ns=1<<(8>>_r.b),rn=i(Ns);if(rn==null)Mt=0;else{var is=_r.K[0],xr=_r.w;for(rn[0]=_r.K[0][0],pr=1;pr<1*ss;++pr)rn[pr]=pe(is[xr+pr],rn[pr-1]);for(;pr<4*Ns;++pr)rn[pr]=0;_r.K[0]=null,_r.K[0]=rn,Mt=1}}St=Mt;break;case 2:break;default:t(0)}xe=St}}if(_e=_e[0],Se=Se[0],xe&&ee(Te,1)&&!(xe=1<=(ct=ee(Te,4))&&11>=ct)){re.a=3;break e}var or;if(or=xe)t:{var mn,Zr,bs,Ca=re,ci=_e,An=Se,Ha=ct,Hn=X,di=Ca.m,Ra=Ca.s,As=[null],Ws=1,Oa=0,Hs=lt[Ha];r:for(;;){if(Hn&&ee(di,1)){var sn=ee(di,3)+2,an=Re(ci,sn),pa=Re(An,sn),Hi=an*pa;if(!tt(an,pa,0,Ca,As))break r;for(As=As[0],Ra.xc=sn,mn=0;mn<Hi;++mn){var da=As[mn]>>8&65535;As[mn]=da,da>=Ws&&(Ws=da+1)}}if(di.h)break r;for(Zr=0;5>Zr;++Zr){var xa=V[Zr];!Zr&&0<Ha&&(xa+=1<<Ha),Oa<xa&&(Oa=xa)}var Tn=o(Ws*Hs,W),Mi=Ws,Do=o(Mi,Y);if(Do==null)var pn=null;else t(65536>=Mi),pn=Do;var xn=i(Oa);if(pn==null||xn==null||Tn==null){Ca.a=1;break r}var Vi=Tn;for(mn=bs=0;mn<Ws;++mn){var ga=pn[mn],Gi=ga.G,Fl=ga.H,gc=0,ui=1,gn=0;for(Zr=0;5>Zr;++Zr){xa=V[Zr],Gi[Zr]=Vi,Fl[Zr]=bs,!Zr&&0<Ha&&(xa+=1<<Ha);a:{var y0,Ad=xa,Zu=Ca,qc=xn,Dg=Vi,Zp=bs,Ta=0,vc=Zu.m,Xp=ee(vc,1);if(a(qc,0,0,Ad),Xp){var Jp=ee(vc,1)+1,cm=ee(vc,1),dm=ee(vc,cm==0?1:8);qc[dm]=1,Jp==2&&(qc[dm=ee(vc,8)]=1);var Kc=1}else{var Ba=i(19),Mn=ee(vc,4)+4;if(19<Mn){Zu.a=3;var vn=0;break a}for(y0=0;y0<Mn;++y0)Ba[ye[y0]]=ee(vc,3);var Xu=void 0,Td=void 0,Ju=Zu,ub=Ba,Vn=Ad,um=qc,sf=0,Yc=Ju.m,yc=8,ml=o(128,W);s:for(;I(ml,0,7,ub,19);){if(ee(Yc,1)){var af=2+2*ee(Yc,3);if((Xu=2+ee(Yc,af))>Vn)break s}else Xu=Vn;for(Td=0;Td<Vn&&Xu--;){ge(Yc);var hm=ml[0+(127&Q(Yc))];ae(Yc,Yc.u+hm.g);var b0=hm.value;if(16>b0)um[Td++]=b0,b0!=0&&(yc=b0);else{var Ig=b0==16,Qp=b0-16,Rg=F[Qp],e1=ee(Yc,b[Qp])+Rg;if(Td+e1>Vn)break s;for(var Og=Ig?yc:0;0<e1--;)um[Td++]=Og}}sf=1;break s}sf||(Ju.a=3),Kc=sf}(Kc=Kc&&!vc.h)&&(Ta=I(Dg,Zp,8,qc,Ad)),Kc&&Ta!=0?vn=Ta:(Zu.a=3,vn=0)}if(vn==0)break r;if(ui&&ne[Zr]==1&&(ui=Vi[bs].g==0),gc+=Vi[bs].g,bs+=vn,3>=Zr){var Qu,fm=xn[0];for(Qu=1;Qu<xa;++Qu)xn[Qu]>fm&&(fm=xn[Qu]);gn+=fm}}if(ga.nd=ui,ga.Qb=0,ui&&(ga.qb=(Gi[3][Fl[3]+0].value<<24|Gi[1][Fl[1]+0].value<<16|Gi[2][Fl[2]+0].value)>>>0,gc==0&&256>Gi[0][Fl[0]+0].value&&(ga.Qb=1,ga.qb+=Gi[0][Fl[0]+0].value<<8)),ga.jc=!ga.Qb&&6>gn,ga.jc){var nf,pl=ga;for(nf=0;nf<Si;++nf){var Md=nf,bc=pl.pd[Md],lu=pl.G[0][pl.H[0]+Md];256<=lu.value?(bc.g=lu.g+256,bc.value=lu.value):(bc.g=0,bc.value=0,Md>>=Nt(lu,8,bc),Md>>=Nt(pl.G[1][pl.H[1]+Md],16,bc),Md>>=Nt(pl.G[2][pl.H[2]+Md],0,bc),Nt(pl.G[3][pl.H[3]+Md],24,bc))}}}Ra.vc=As,Ra.Wb=Ws,Ra.Ya=pn,Ra.yc=Tn,or=1;break t}or=0}if(!(xe=or)){re.a=3;break e}if(0<ct){if(Fe.ua=1<<ct,!Ee(Fe.Wa,ct)){re.a=1,xe=0;break e}}else Fe.ua=0;var mm=re,pm=_e,Bg=Se,xm=mm.s,gm=xm.xc;if(mm.c=pm,mm.i=Bg,xm.md=Re(pm,gm),xm.wc=gm==0?-1:(1<<gm)-1,X){re.xb=Pl;break e}if((Ye=i(_e*Se))==null){re.a=1,xe=0;break e}xe=(xe=Xe(re,Ye,0,_e,Se,Se,null))&&!Te.h;break e}return xe?(ue!=null?ue[0]=Ye:(t(Ye==null),t(X)),re.$=0,X||mt(Fe)):mt(Fe),xe}function st(j,R){var X=j.c*j.i,re=X+R+16*R;return t(j.c<=R),j.V=i(re),j.V==null?(j.Ta=null,j.Ua=0,j.a=1,0):(j.Ta=j.V,j.Ua=j.Ba+X+R,1)}function Rt(j,R){var X=j.C,re=R-X,ue=j.V,xe=j.Ba+j.c*X;for(t(R<=j.l.o);0<re;){var _e=16<re?16:re,Se=j.l.ma,Te=j.l.width,Fe=Te*_e,Ye=Se.ca,ct=Se.tb+Te*X,Ie=j.Ta,Je=j.Ua;Ce(j,_e,ue,xe),Jh(Ie,Je,Ye,ct,Fe),je(Se,X,X+_e,Ye,ct,Te),re-=_e,ue+=_e*j.c,X+=_e}t(X==R),j.C=j.Ma=R}function Yt(){this.ub=this.yd=this.td=this.Rb=0}function sr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function $t(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ht(){this.Yb=(function(){var j=[];return(function R(X,re,ue){for(var xe=ue[re],_e=0;_e<xe&&(X.push(ue.length>re+1?[]:0),!(ue.length<re+1));_e++)R(X[_e],re+1,ue)})(j,0,[3,11]),j})()}function Pr(){this.jb=i(3),this.Wc=l([4,8],Ht),this.Xc=l([4,17],Ht)}function hs(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function ts(){this.ld=this.La=this.dd=this.tc=0}function Rs(){this.Na=this.la=0}function Gr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Es(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ua(){this.uc=this.M=this.Nb=0,this.wa=Array(new ts),this.Y=0,this.ya=Array(new Es),this.aa=0,this.l=new vr}function Os(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ts(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new Yt,this.Kc=new sr,this.ed=new hs,this.Qa=new $t,this.Ic=this.$c=this.Aa=0,this.D=new Ua,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,B),this.ia=0,this.pb=o(4,Gr),this.Pa=new Pr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Os),this.Hd=0,this.rb=Array(new Rs),this.sb=0,this.wa=Array(new ts),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Es),this.L=this.aa=0,this.gd=l([4,2],ts),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function vr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Zs(){var j=new Ts;return j!=null&&(j.a=0,j.sc="OK",j.cb=0,j.Xb=0,Tr||(Tr=Bi)),j}function ma(j,R,X){return j.a==0&&(j.a=R,j.sc=X,j.cb=0),0}function rc(j,R,X){return 3<=X&&j[R+0]==157&&j[R+1]==1&&j[R+2]==42}function _o(j,R){if(j==null)return 0;if(j.a=0,j.sc="OK",R==null)return ma(j,2,"null VP8Io passed to VP8GetHeaders()");var X=R.data,re=R.w,ue=R.ha;if(4>ue)return ma(j,7,"Truncated header.");var xe=X[re+0]|X[re+1]<<8|X[re+2]<<16,_e=j.Od;if(_e.Rb=!(1&xe),_e.td=xe>>1&7,_e.yd=xe>>4&1,_e.ub=xe>>5,3<_e.td)return ma(j,3,"Incorrect keyframe parameters.");if(!_e.yd)return ma(j,4,"Frame not displayable.");re+=3,ue-=3;var Se=j.Kc;if(_e.Rb){if(7>ue)return ma(j,7,"cannot parse picture header");if(!rc(X,re,ue))return ma(j,3,"Bad code word");Se.c=16383&(X[re+4]<<8|X[re+3]),Se.Td=X[re+4]>>6,Se.i=16383&(X[re+6]<<8|X[re+5]),Se.Ud=X[re+6]>>6,re+=7,ue-=7,j.za=Se.c+15>>4,j.Ub=Se.i+15>>4,R.width=Se.c,R.height=Se.i,R.Da=0,R.j=0,R.v=0,R.va=R.width,R.o=R.height,R.da=0,R.ib=R.width,R.hb=R.height,R.U=R.width,R.T=R.height,a((xe=j.Pa).jb,0,255,xe.jb.length),t((xe=j.Qa)!=null),xe.Cb=0,xe.Bb=0,xe.Fb=1,a(xe.Zb,0,0,xe.Zb.length),a(xe.Lb,0,0,xe.Lb)}if(_e.ub>ue)return ma(j,7,"bad partition length");te(xe=j.m,X,re,_e.ub),re+=_e.ub,ue-=_e.ub,_e.Rb&&(Se.Ld=ke(xe),Se.Kd=ke(xe)),Se=j.Qa;var Te,Fe=j.Pa;if(t(xe!=null),t(Se!=null),Se.Cb=ke(xe),Se.Cb){if(Se.Bb=ke(xe),ke(xe)){for(Se.Fb=ke(xe),Te=0;4>Te;++Te)Se.Zb[Te]=ke(xe)?le(xe,7):0;for(Te=0;4>Te;++Te)Se.Lb[Te]=ke(xe)?le(xe,6):0}if(Se.Bb)for(Te=0;3>Te;++Te)Fe.jb[Te]=ke(xe)?ie(xe,8):255}else Se.Bb=0;if(xe.Ka)return ma(j,3,"cannot parse segment header");if((Se=j.ed).zd=ke(xe),Se.Tb=ie(xe,6),Se.wb=ie(xe,3),Se.Pc=ke(xe),Se.Pc&&ke(xe)){for(Fe=0;4>Fe;++Fe)ke(xe)&&(Se.vd[Fe]=le(xe,6));for(Fe=0;4>Fe;++Fe)ke(xe)&&(Se.od[Fe]=le(xe,6))}if(j.L=Se.Tb==0?0:Se.zd?1:2,xe.Ka)return ma(j,3,"cannot parse filter header");var Ye=ue;if(ue=Te=re,re=Te+Ye,Se=Ye,j.Xb=(1<<ie(j.m,2))-1,Ye<3*(Fe=j.Xb))X=7;else{for(Te+=3*Fe,Se-=3*Fe,Ye=0;Ye<Fe;++Ye){var ct=X[ue+0]|X[ue+1]<<8|X[ue+2]<<16;ct>Se&&(ct=Se),te(j.Jc[+Ye],X,Te,ct),Te+=ct,Se-=ct,ue+=3}te(j.Jc[+Fe],X,Te,Se),X=Te<re?0:5}if(X!=0)return ma(j,X,"cannot parse partitions");for(X=ie(Te=j.m,7),ue=ke(Te)?le(Te,4):0,re=ke(Te)?le(Te,4):0,Se=ke(Te)?le(Te,4):0,Fe=ke(Te)?le(Te,4):0,Te=ke(Te)?le(Te,4):0,Ye=j.Qa,ct=0;4>ct;++ct){if(Ye.Cb){var Ie=Ye.Zb[ct];Ye.Fb||(Ie+=X)}else{if(0<ct){j.pb[ct]=j.pb[0];continue}Ie=X}var Je=j.pb[ct];Je.Sc[0]=Ot[Ls(Ie+ue,127)],Je.Sc[1]=lr[Ls(Ie+0,127)],Je.Eb[0]=2*Ot[Ls(Ie+re,127)],Je.Eb[1]=101581*lr[Ls(Ie+Se,127)]>>16,8>Je.Eb[1]&&(Je.Eb[1]=8),Je.Qc[0]=Ot[Ls(Ie+Fe,117)],Je.Qc[1]=lr[Ls(Ie+Te,127)],Je.lc=Ie+Te}if(!_e.Rb)return ma(j,4,"Not a key frame.");for(ke(xe),_e=j.Pa,X=0;4>X;++X){for(ue=0;8>ue;++ue)for(re=0;3>re;++re)for(Se=0;11>Se;++Se)Fe=Ae(xe,g0[X][ue][re][Se])?ie(xe,8):fo[X][ue][re][Se],_e.Wc[X][ue].Yb[re][Se]=Fe;for(ue=0;17>ue;++ue)_e.Xc[X][ue]=_e.Wc[X][tf[ue]]}return j.kc=ke(xe),j.kc&&(j.Bd=ie(xe,8)),j.cb=1}function Bi(j,R,X,re,ue,xe,_e){var Se=R[ue].Yb[X];for(X=0;16>ue;++ue){if(!Ae(j,Se[X+0]))return ue;for(;!Ae(j,Se[X+1]);)if(Se=R[++ue].Yb[0],X=0,ue==16)return 16;var Te=R[ue+1].Yb;if(Ae(j,Se[X+2])){var Fe=j,Ye=0;if(Ae(Fe,(Ie=Se)[(ct=X)+3]))if(Ae(Fe,Ie[ct+6])){for(Se=0,ct=2*(Ye=Ae(Fe,Ie[ct+8]))+(Ie=Ae(Fe,Ie[ct+9+Ye])),Ye=0,Ie=ns[ct];Ie[Se];++Se)Ye+=Ye+Ae(Fe,Ie[Se]);Ye+=3+(8<<ct)}else Ae(Fe,Ie[ct+7])?(Ye=7+2*Ae(Fe,165),Ye+=Ae(Fe,145)):Ye=5+Ae(Fe,159);else Ye=Ae(Fe,Ie[ct+4])?3+Ae(Fe,Ie[ct+5]):2;Se=Te[2]}else Ye=1,Se=Te[1];Te=_e+$n[ue],0>(Fe=j).b&&he(Fe);var ct,Ie=Fe.b,Je=(ct=Fe.Ca>>1)-(Fe.I>>Ie)>>31;--Fe.b,Fe.Ca+=Je,Fe.Ca|=1,Fe.I-=(ct+1&Je)<<Ie,xe[Te]=((Ye^Je)-Je)*re[(0<ue)+0]}return 16}function Or(j){var R=j.rb[j.sb-1];R.la=0,R.Na=0,a(j.zc,0,0,j.zc.length),j.ja=0}function ws(j,R,X,re,ue){ue=j[R+X+32*re]+(ue>>3),j[R+X+32*re]=-256&ue?0>ue?0:255:ue}function sc(j,R,X,re,ue,xe){ws(j,R,0,X,re+ue),ws(j,R,1,X,re+xe),ws(j,R,2,X,re-xe),ws(j,R,3,X,re-ue)}function ja(j){return(20091*j>>16)+j}function kn(j,R,X,re){var ue,xe=0,_e=i(16);for(ue=0;4>ue;++ue){var Se=j[R+0]+j[R+8],Te=j[R+0]-j[R+8],Fe=(35468*j[R+4]>>16)-ja(j[R+12]),Ye=ja(j[R+4])+(35468*j[R+12]>>16);_e[xe+0]=Se+Ye,_e[xe+1]=Te+Fe,_e[xe+2]=Te-Fe,_e[xe+3]=Se-Ye,xe+=4,R++}for(ue=xe=0;4>ue;++ue)Se=(j=_e[xe+0]+4)+_e[xe+8],Te=j-_e[xe+8],Fe=(35468*_e[xe+4]>>16)-ja(_e[xe+12]),ws(X,re,0,0,Se+(Ye=ja(_e[xe+4])+(35468*_e[xe+12]>>16))),ws(X,re,1,0,Te+Fe),ws(X,re,2,0,Te-Fe),ws(X,re,3,0,Se-Ye),xe++,re+=32}function $u(j,R,X,re){var ue=j[R+0]+4,xe=35468*j[R+4]>>16,_e=ja(j[R+4]),Se=35468*j[R+1]>>16;sc(X,re,0,ue+_e,j=ja(j[R+1]),Se),sc(X,re,1,ue+xe,j,Se),sc(X,re,2,ue-xe,j,Se),sc(X,re,3,ue-_e,j,Se)}function Dc(j,R,X,re,ue){kn(j,R,X,re),ue&&kn(j,R+16,X,re+4)}function ro(j,R,X,re){$c(j,R+0,X,re,1),$c(j,R+32,X,re+128,1)}function Us(j,R,X,re){var ue;for(j=j[R+0]+4,ue=0;4>ue;++ue)for(R=0;4>R;++R)ws(X,re,R,ue,j)}function wo(j,R,X,re){j[R+0]&&Is(j,R+0,X,re),j[R+16]&&Is(j,R+16,X,re+4),j[R+32]&&Is(j,R+32,X,re+128),j[R+48]&&Is(j,R+48,X,re+128+4)}function vs(j,R,X,re){var ue,xe=i(16);for(ue=0;4>ue;++ue){var _e=j[R+0+ue]+j[R+12+ue],Se=j[R+4+ue]+j[R+8+ue],Te=j[R+4+ue]-j[R+8+ue],Fe=j[R+0+ue]-j[R+12+ue];xe[0+ue]=_e+Se,xe[8+ue]=_e-Se,xe[4+ue]=Fe+Te,xe[12+ue]=Fe-Te}for(ue=0;4>ue;++ue)_e=(j=xe[0+4*ue]+3)+xe[3+4*ue],Se=xe[1+4*ue]+xe[2+4*ue],Te=xe[1+4*ue]-xe[2+4*ue],Fe=j-xe[3+4*ue],X[re+0]=_e+Se>>3,X[re+16]=Fe+Te>>3,X[re+32]=_e-Se>>3,X[re+48]=Fe-Te>>3,re+=64}function so(j,R,X){var re,ue=R-32,xe=li,_e=255-j[ue-1];for(re=0;re<X;++re){var Se,Te=xe,Fe=_e+j[R-1];for(Se=0;Se<X;++Se)j[R+Se]=Te[Fe+j[ue+Se]];R+=32}}function Ic(j,R){so(j,R,4)}function ac(j,R){so(j,R,8)}function n0(j,R){so(j,R,16)}function i0(j,R){var X;for(X=0;16>X;++X)s(j,R+32*X,j,R-32,16)}function nc(j,R){var X;for(X=16;0<X;--X)a(j,R,j[R-1],16),R+=32}function al(j,R,X){var re;for(re=0;16>re;++re)a(R,X+32*re,j,16)}function ao(j,R){var X,re=16;for(X=0;16>X;++X)re+=j[R-1+32*X]+j[R+X-32];al(re>>5,j,R)}function no(j,R){var X,re=8;for(X=0;16>X;++X)re+=j[R-1+32*X];al(re>>4,j,R)}function ki(j,R){var X,re=8;for(X=0;16>X;++X)re+=j[R+X-32];al(re>>4,j,R)}function zi(j,R){al(128,j,R)}function Br(j,R,X){return j+2*R+X+2>>2}function Ur(j,R){var X,re=R-32;for(re=new Uint8Array([Br(j[re-1],j[re+0],j[re+1]),Br(j[re+0],j[re+1],j[re+2]),Br(j[re+1],j[re+2],j[re+3]),Br(j[re+2],j[re+3],j[re+4])]),X=0;4>X;++X)s(j,R+32*X,re,0,re.length)}function cn(j,R){var X=j[R-1],re=j[R-1+32],ue=j[R-1+64],xe=j[R-1+96];We(j,R+0,16843009*Br(j[R-1-32],X,re)),We(j,R+32,16843009*Br(X,re,ue)),We(j,R+64,16843009*Br(re,ue,xe)),We(j,R+96,16843009*Br(ue,xe,xe))}function Xs(j,R){var X,re=4;for(X=0;4>X;++X)re+=j[R+X-32]+j[R-1+32*X];for(re>>=3,X=0;4>X;++X)a(j,R+32*X,re,4)}function Q0(j,R){var X=j[R-1+0],re=j[R-1+32],ue=j[R-1+64],xe=j[R-1-32],_e=j[R+0-32],Se=j[R+1-32],Te=j[R+2-32],Fe=j[R+3-32];j[R+0+96]=Br(re,ue,j[R-1+96]),j[R+1+96]=j[R+0+64]=Br(X,re,ue),j[R+2+96]=j[R+1+64]=j[R+0+32]=Br(xe,X,re),j[R+3+96]=j[R+2+64]=j[R+1+32]=j[R+0+0]=Br(_e,xe,X),j[R+3+64]=j[R+2+32]=j[R+1+0]=Br(Se,_e,xe),j[R+3+32]=j[R+2+0]=Br(Te,Se,_e),j[R+3+0]=Br(Fe,Te,Se)}function ji(j,R){var X=j[R+1-32],re=j[R+2-32],ue=j[R+3-32],xe=j[R+4-32],_e=j[R+5-32],Se=j[R+6-32],Te=j[R+7-32];j[R+0+0]=Br(j[R+0-32],X,re),j[R+1+0]=j[R+0+32]=Br(X,re,ue),j[R+2+0]=j[R+1+32]=j[R+0+64]=Br(re,ue,xe),j[R+3+0]=j[R+2+32]=j[R+1+64]=j[R+0+96]=Br(ue,xe,_e),j[R+3+32]=j[R+2+64]=j[R+1+96]=Br(xe,_e,Se),j[R+3+64]=j[R+2+96]=Br(_e,Se,Te),j[R+3+96]=Br(Se,Te,Te)}function nl(j,R){var X=j[R-1+0],re=j[R-1+32],ue=j[R-1+64],xe=j[R-1-32],_e=j[R+0-32],Se=j[R+1-32],Te=j[R+2-32],Fe=j[R+3-32];j[R+0+0]=j[R+1+64]=xe+_e+1>>1,j[R+1+0]=j[R+2+64]=_e+Se+1>>1,j[R+2+0]=j[R+3+64]=Se+Te+1>>1,j[R+3+0]=Te+Fe+1>>1,j[R+0+96]=Br(ue,re,X),j[R+0+64]=Br(re,X,xe),j[R+0+32]=j[R+1+96]=Br(X,xe,_e),j[R+1+32]=j[R+2+96]=Br(xe,_e,Se),j[R+2+32]=j[R+3+96]=Br(_e,Se,Te),j[R+3+32]=Br(Se,Te,Fe)}function o0(j,R){var X=j[R+0-32],re=j[R+1-32],ue=j[R+2-32],xe=j[R+3-32],_e=j[R+4-32],Se=j[R+5-32],Te=j[R+6-32],Fe=j[R+7-32];j[R+0+0]=X+re+1>>1,j[R+1+0]=j[R+0+64]=re+ue+1>>1,j[R+2+0]=j[R+1+64]=ue+xe+1>>1,j[R+3+0]=j[R+2+64]=xe+_e+1>>1,j[R+0+32]=Br(X,re,ue),j[R+1+32]=j[R+0+96]=Br(re,ue,xe),j[R+2+32]=j[R+1+96]=Br(ue,xe,_e),j[R+3+32]=j[R+2+96]=Br(xe,_e,Se),j[R+3+64]=Br(_e,Se,Te),j[R+3+96]=Br(Se,Te,Fe)}function No(j,R){var X=j[R-1+0],re=j[R-1+32],ue=j[R-1+64],xe=j[R-1+96];j[R+0+0]=X+re+1>>1,j[R+2+0]=j[R+0+32]=re+ue+1>>1,j[R+2+32]=j[R+0+64]=ue+xe+1>>1,j[R+1+0]=Br(X,re,ue),j[R+3+0]=j[R+1+32]=Br(re,ue,xe),j[R+3+32]=j[R+1+64]=Br(ue,xe,xe),j[R+3+64]=j[R+2+64]=j[R+0+96]=j[R+1+96]=j[R+2+96]=j[R+3+96]=xe}function ic(j,R){var X=j[R-1+0],re=j[R-1+32],ue=j[R-1+64],xe=j[R-1+96],_e=j[R-1-32],Se=j[R+0-32],Te=j[R+1-32],Fe=j[R+2-32];j[R+0+0]=j[R+2+32]=X+_e+1>>1,j[R+0+32]=j[R+2+64]=re+X+1>>1,j[R+0+64]=j[R+2+96]=ue+re+1>>1,j[R+0+96]=xe+ue+1>>1,j[R+3+0]=Br(Se,Te,Fe),j[R+2+0]=Br(_e,Se,Te),j[R+1+0]=j[R+3+32]=Br(X,_e,Se),j[R+1+32]=j[R+3+64]=Br(re,X,_e),j[R+1+64]=j[R+3+96]=Br(ue,re,X),j[R+1+96]=Br(xe,ue,re)}function oc(j,R){var X;for(X=0;8>X;++X)s(j,R+32*X,j,R-32,8)}function na(j,R){var X;for(X=0;8>X;++X)a(j,R,j[R-1],8),R+=32}function ii(j,R,X){var re;for(re=0;8>re;++re)a(R,X+32*re,j,8)}function ko(j,R){var X,re=8;for(X=0;8>X;++X)re+=j[R+X-32]+j[R-1+32*X];ii(re>>4,j,R)}function yd(j,R){var X,re=4;for(X=0;8>X;++X)re+=j[R+X-32];ii(re>>3,j,R)}function eu(j,R){var X,re=4;for(X=0;8>X;++X)re+=j[R-1+32*X];ii(re>>3,j,R)}function l0(j,R){ii(128,j,R)}function il(j,R,X){var re=j[R-X],ue=j[R+0],xe=3*(ue-re)+uo[1020+j[R-2*X]-j[R+X]],_e=Ll[112+(xe+4>>3)];j[R-X]=li[255+re+Ll[112+(xe+3>>3)]],j[R+0]=li[255+ue-_e]}function Nl(j,R,X,re){var ue=j[R+0],xe=j[R+X];return ho[255+j[R-2*X]-j[R-X]]>re||ho[255+xe-ue]>re}function Rc(j,R,X,re){return 4*ho[255+j[R-X]-j[R+0]]+ho[255+j[R-2*X]-j[R+X]]<=re}function as(j,R,X,re,ue){var xe=j[R-3*X],_e=j[R-2*X],Se=j[R-X],Te=j[R+0],Fe=j[R+X],Ye=j[R+2*X],ct=j[R+3*X];return 4*ho[255+Se-Te]+ho[255+_e-Fe]>re?0:ho[255+j[R-4*X]-xe]<=ue&&ho[255+xe-_e]<=ue&&ho[255+_e-Se]<=ue&&ho[255+ct-Ye]<=ue&&ho[255+Ye-Fe]<=ue&&ho[255+Fe-Te]<=ue}function jo(j,R,X,re){var ue=2*re+1;for(re=0;16>re;++re)Rc(j,R+re,X,ue)&&il(j,R+re,X)}function dn(j,R,X,re){var ue=2*re+1;for(re=0;16>re;++re)Rc(j,R+re*X,1,ue)&&il(j,R+re*X,1)}function ol(j,R,X,re){var ue;for(ue=3;0<ue;--ue)jo(j,R+=4*X,X,re)}function c0(j,R,X,re){var ue;for(ue=3;0<ue;--ue)dn(j,R+=4,X,re)}function Co(j,R,X,re,ue,xe,_e,Se){for(xe=2*xe+1;0<ue--;){if(as(j,R,X,xe,_e))if(Nl(j,R,X,Se))il(j,R,X);else{var Te=j,Fe=R,Ye=X,ct=Te[Fe-2*Ye],Ie=Te[Fe-Ye],Je=Te[Fe+0],ot=Te[Fe+Ye],St=Te[Fe+2*Ye],ut=27*(Ct=uo[1020+3*(Je-Ie)+uo[1020+ct-ot]])+63>>7,kt=18*Ct+63>>7,Ct=9*Ct+63>>7;Te[Fe-3*Ye]=li[255+Te[Fe-3*Ye]+Ct],Te[Fe-2*Ye]=li[255+ct+kt],Te[Fe-Ye]=li[255+Ie+ut],Te[Fe+0]=li[255+Je-ut],Te[Fe+Ye]=li[255+ot-kt],Te[Fe+2*Ye]=li[255+St-Ct]}R+=re}}function Ui(j,R,X,re,ue,xe,_e,Se){for(xe=2*xe+1;0<ue--;){if(as(j,R,X,xe,_e))if(Nl(j,R,X,Se))il(j,R,X);else{var Te=j,Fe=R,Ye=X,ct=Te[Fe-Ye],Ie=Te[Fe+0],Je=Te[Fe+Ye],ot=Ll[112+(4+(St=3*(Ie-ct))>>3)],St=Ll[112+(St+3>>3)],ut=ot+1>>1;Te[Fe-2*Ye]=li[255+Te[Fe-2*Ye]+ut],Te[Fe-Ye]=li[255+ct+St],Te[Fe+0]=li[255+Ie-ot],Te[Fe+Ye]=li[255+Je-ut]}R+=re}}function tu(j,R,X,re,ue,xe){Co(j,R,X,1,16,re,ue,xe)}function zn(j,R,X,re,ue,xe){Co(j,R,1,X,16,re,ue,xe)}function So(j,R,X,re,ue,xe){var _e;for(_e=3;0<_e;--_e)Ui(j,R+=4*X,X,1,16,re,ue,xe)}function d0(j,R,X,re,ue,xe){var _e;for(_e=3;0<_e;--_e)Ui(j,R+=4,1,X,16,re,ue,xe)}function H(j,R,X,re,ue,xe,_e,Se){Co(j,R,ue,1,8,xe,_e,Se),Co(X,re,ue,1,8,xe,_e,Se)}function de(j,R,X,re,ue,xe,_e,Se){Co(j,R,1,ue,8,xe,_e,Se),Co(X,re,1,ue,8,xe,_e,Se)}function Pe(j,R,X,re,ue,xe,_e,Se){Ui(j,R+4*ue,ue,1,8,xe,_e,Se),Ui(X,re+4*ue,ue,1,8,xe,_e,Se)}function Ge(j,R,X,re,ue,xe,_e,Se){Ui(j,R+4,1,ue,8,xe,_e,Se),Ui(X,re+4,1,ue,8,xe,_e,Se)}function at(){this.ba=new us,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new gs,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function jt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ut(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function mr(){this.ua=0,this.Wa=new rt,this.vb=new rt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new W}function br(){this.xb=this.a=0,this.l=new vr,this.ca=new us,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new mr,this.ab=0,this.gc=o(4,Ut),this.Oc=0}function qr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new vr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Hr(j,R,X,re,ue,xe,_e){for(j=j==null?0:j[R+0],R=0;R<_e;++R)ue[xe+R]=j+X[re+R]&255,j=ue[xe+R]}function Ms(j,R,X,re,ue,xe,_e){var Se;if(j==null)Hr(null,null,X,re,ue,xe,_e);else for(Se=0;Se<_e;++Se)ue[xe+Se]=j[R+Se]+X[re+Se]&255}function Aa(j,R,X,re,ue,xe,_e){if(j==null)Hr(null,null,X,re,ue,xe,_e);else{var Se,Te=j[R+0],Fe=Te,Ye=Te;for(Se=0;Se<_e;++Se)Fe=Ye+(Te=j[R+Se])-Fe,Ye=X[re+Se]+(-256&Fe?0>Fe?0:255:Fe)&255,Fe=Te,ue[xe+Se]=Ye}}function Qa(j,R,X,re){var ue=R.width,xe=R.o;if(t(j!=null&&R!=null),0>X||0>=re||X+re>xe)return null;if(!j.Cc){if(j.ga==null){var _e;if(j.ga=new qr,(_e=j.ga==null)||(_e=R.width*R.o,t(j.Gb.length==0),j.Gb=i(_e),j.Uc=0,j.Gb==null?_e=0:(j.mb=j.Gb,j.nb=j.Uc,j.rc=null,_e=1),_e=!_e),!_e){_e=j.ga;var Se=j.Fa,Te=j.P,Fe=j.qc,Ye=j.mb,ct=j.nb,Ie=Te+1,Je=Fe-1,ot=_e.l;if(t(Se!=null&&Ye!=null&&R!=null),ys[0]=null,ys[1]=Hr,ys[2]=Ms,ys[3]=Aa,_e.ca=Ye,_e.tb=ct,_e.c=R.width,_e.i=R.height,t(0<_e.c&&0<_e.i),1>=Fe)R=0;else if(_e.$a=3&Se[Te+0],_e.Z=Se[Te+0]>>2&3,_e.Lc=Se[Te+0]>>4&3,Te=Se[Te+0]>>6&3,0>_e.$a||1<_e.$a||4<=_e.Z||1<_e.Lc||Te)R=0;else if(ot.put=Oe,ot.ac=ni,ot.bc=et,ot.ma=_e,ot.width=R.width,ot.height=R.height,ot.Da=R.Da,ot.v=R.v,ot.va=R.va,ot.j=R.j,ot.o=R.o,_e.$a)e:{t(_e.$a==1),R=nt();t:for(;;){if(R==null){R=0;break e}if(t(_e!=null),_e.mc=R,R.c=_e.c,R.i=_e.i,R.l=_e.l,R.l.ma=_e,R.l.width=_e.c,R.l.height=_e.i,R.a=0,se(R.m,Se,Ie,Je),!tt(_e.c,_e.i,1,R,null)||(R.ab==1&&R.gc[0].hc==3&&we(R.s)?(_e.ic=1,Se=R.c*R.i,R.Ta=null,R.Ua=0,R.V=i(Se),R.Ba=0,R.V==null?(R.a=1,R=0):R=1):(_e.ic=0,R=st(R,_e.c)),!R))break t;R=1;break e}_e.mc=null,R=0}else R=Je>=_e.c*_e.i;_e=!R}if(_e)return null;j.ga.Lc!=1?j.Ga=0:re=xe-X}t(j.ga!=null),t(X+re<=xe);e:{if(R=(Se=j.ga).c,xe=Se.l.o,Se.$a==0){if(Ie=j.rc,Je=j.Vc,ot=j.Fa,Te=j.P+1+X*R,Fe=j.mb,Ye=j.nb+X*R,t(Te<=j.P+j.qc),Se.Z!=0)for(t(ys[Se.Z]!=null),_e=0;_e<re;++_e)ys[Se.Z](Ie,Je,ot,Te,Fe,Ye,R),Ie=Fe,Je=Ye,Ye+=R,Te+=R;else for(_e=0;_e<re;++_e)s(Fe,Ye,ot,Te,R),Ie=Fe,Je=Ye,Ye+=R,Te+=R;j.rc=Ie,j.Vc=Je}else{if(t(Se.mc!=null),R=X+re,t((_e=Se.mc)!=null),t(R<=_e.i),_e.C>=R)R=1;else if(Se.ic||Ci(),Se.ic){Se=_e.V,Ie=_e.Ba,Je=_e.c;var St=_e.i,ut=(ot=1,Te=_e.$/Je,Fe=_e.$%Je,Ye=_e.m,ct=_e.s,_e.$),kt=Je*St,Ct=Je*R,Mt=ct.wc,It=ut<Ct?ce(ct,Fe,Te):null;t(ut<=kt),t(R<=St),t(we(ct));t:for(;;){for(;!Ye.h&&ut<Ct;){if(Fe&Mt||(It=ce(ct,Fe,Te)),t(It!=null),ge(Ye),256>(St=Kt(It.G[0],It.H[0],Ye)))Se[Ie+ut]=St,++ut,++Fe>=Je&&(Fe=0,++Te<=R&&!(Te%16)&&Me(_e,Te));else{if(!(280>St)){ot=0;break t}St=Dt(St-256,Ye);var Cr,pr=Kt(It.G[4],It.H[4],Ye);if(ge(Ye),!(ut>=(pr=Xt(Je,pr=Dt(pr,Ye)))&&kt-ut>=St)){ot=0;break t}for(Cr=0;Cr<St;++Cr)Se[Ie+ut+Cr]=Se[Ie+ut+Cr-pr];for(ut+=St,Fe+=St;Fe>=Je;)Fe-=Je,++Te<=R&&!(Te%16)&&Me(_e,Te);ut<Ct&&Fe&Mt&&(It=ce(ct,Fe,Te))}t(Ye.h==K(Ye))}Me(_e,Te>R?R:Te);break t}!ot||Ye.h&&ut<kt?(ot=0,_e.a=Ye.h?5:3):_e.$=ut,R=ot}else R=Xe(_e,_e.V,_e.Ba,_e.c,_e.i,R,Rt);if(!R){re=0;break e}}X+re>=xe&&(j.Cc=1),re=1}if(!re)return null;if(j.Cc&&((re=j.ga)!=null&&(re.mc=null),j.ga=null,0<j.Ga))return alert("todo:WebPDequantizeLevels"),null}return j.nb+X*ue}function Js(j,R,X,re,ue,xe){for(;0<ue--;){var _e,Se=j,Te=R+(X?1:0),Fe=j,Ye=R+(X?0:3);for(_e=0;_e<re;++_e){var ct=Fe[Ye+4*_e];ct!=255&&(ct*=32897,Se[Te+4*_e+0]=Se[Te+4*_e+0]*ct>>23,Se[Te+4*_e+1]=Se[Te+4*_e+1]*ct>>23,Se[Te+4*_e+2]=Se[Te+4*_e+2]*ct>>23)}R+=xe}}function un(j,R,X,re,ue){for(;0<re--;){var xe;for(xe=0;xe<X;++xe){var _e=j[R+2*xe+0],Se=15&(Fe=j[R+2*xe+1]),Te=4369*Se,Fe=(240&Fe|Fe>>4)*Te>>16;j[R+2*xe+0]=(240&_e|_e>>4)*Te>>16&240|(15&_e|_e<<4)*Te>>16>>4&15,j[R+2*xe+1]=240&Fe|Se}R+=ue}}function Fa(j,R,X,re,ue,xe,_e,Se){var Te,Fe,Ye=255;for(Fe=0;Fe<ue;++Fe){for(Te=0;Te<re;++Te){var ct=j[R+Te];xe[_e+4*Te]=ct,Ye&=ct}R+=X,_e+=Se}return Ye!=255}function jn(j,R,X,re,ue){var xe;for(xe=0;xe<ue;++xe)X[re+xe]=j[R+xe]>>8}function Ci(){Mo=Js,Hu=un,m0=Fa,Jh=jn}function en(j,R,X){E[j]=function(re,ue,xe,_e,Se,Te,Fe,Ye,ct,Ie,Je,ot,St,ut,kt,Ct,Mt){var It,Cr=Mt-1>>1,pr=Se[Te+0]|Fe[Ye+0]<<16,ss=ct[Ie+0]|Je[ot+0]<<16;t(re!=null);var _r=3*pr+ss+131074>>2;for(R(re[ue+0],255&_r,_r>>16,St,ut),xe!=null&&(_r=3*ss+pr+131074>>2,R(xe[_e+0],255&_r,_r>>16,kt,Ct)),It=1;It<=Cr;++It){var Ns=Se[Te+It]|Fe[Ye+It]<<16,rn=ct[Ie+It]|Je[ot+It]<<16,is=pr+Ns+ss+rn+524296,xr=is+2*(Ns+ss)>>3;_r=xr+pr>>1,pr=(is=is+2*(pr+rn)>>3)+Ns>>1,R(re[ue+2*It-1],255&_r,_r>>16,St,ut+(2*It-1)*X),R(re[ue+2*It-0],255&pr,pr>>16,St,ut+(2*It-0)*X),xe!=null&&(_r=is+ss>>1,pr=xr+rn>>1,R(xe[_e+2*It-1],255&_r,_r>>16,kt,Ct+(2*It-1)*X),R(xe[_e+2*It+0],255&pr,pr>>16,kt,Ct+(2*It+0)*X)),pr=Ns,ss=rn}1&Mt||(_r=3*pr+ss+131074>>2,R(re[ue+Mt-1],255&_r,_r>>16,St,ut+(Mt-1)*X),xe!=null&&(_r=3*ss+pr+131074>>2,R(xe[_e+Mt-1],255&_r,_r>>16,kt,Ct+(Mt-1)*X)))}}function Wu(){Wn[qu]=Gp,Wn[pc]=Hc,Wn[ef]=qp,Wn[p0]=Vc,Wn[x0]=Gc,Wn[Qs]=nu,Wn[Ku]=Kp,Wn[jd]=Hc,Wn[Wc]=Vc,Wn[au]=Gc,Wn[m]=nu}function Eo(j){return j&-16384?0>j?0:255:j>>v0}function Cn(j,R){return Eo((19077*j>>8)+(26149*R>>8)-14234)}function lc(j,R,X){return Eo((19077*j>>8)-(6419*R>>8)-(13320*X>>8)+8708)}function Oc(j,R){return Eo((19077*j>>8)+(33050*R>>8)-17685)}function Bc(j,R,X,re,ue){re[ue+0]=Cn(j,X),re[ue+1]=lc(j,R,X),re[ue+2]=Oc(j,R)}function cc(j,R,X,re,ue){re[ue+0]=Oc(j,R),re[ue+1]=lc(j,R,X),re[ue+2]=Cn(j,X)}function Sn(j,R,X,re,ue){var xe=lc(j,R,X);R=xe<<3&224|Oc(j,R)>>3,re[ue+0]=248&Cn(j,X)|xe>>5,re[ue+1]=R}function bd(j,R,X,re,ue){var xe=240&Oc(j,R)|15;re[ue+0]=240&Cn(j,X)|lc(j,R,X)>>4,re[ue+1]=xe}function _d(j,R,X,re,ue){re[ue+0]=255,Bc(j,R,X,re,ue+1)}function u0(j,R,X,re,ue){cc(j,R,X,re,ue),re[ue+3]=255}function ru(j,R,X,re,ue){Bc(j,R,X,re,ue),re[ue+3]=255}function Ls(j,R){return 0>j?0:j>R?R:j}function oi(j,R,X){E[j]=function(re,ue,xe,_e,Se,Te,Fe,Ye,ct){for(var Ie=Ye+(-2&ct)*X;Ye!=Ie;)R(re[ue+0],xe[_e+0],Se[Te+0],Fe,Ye),R(re[ue+1],xe[_e+0],Se[Te+0],Fe,Ye+X),ue+=2,++_e,++Te,Ye+=2*X;1&ct&&R(re[ue+0],xe[_e+0],Se[Te+0],Fe,Ye)}}function kl(j,R,X){return X==0?j==0?R==0?6:5:R==0?4:0:X}function Ao(j,R,X,re,ue){switch(j>>>30){case 3:$c(R,X,re,ue,0);break;case 2:Da(R,X,re,ue);break;case 1:Is(R,X,re,ue)}}function io(j,R){var X,re,ue=R.M,xe=R.Nb,_e=j.oc,Se=j.pc+40,Te=j.oc,Fe=j.pc+584,Ye=j.oc,ct=j.pc+600;for(X=0;16>X;++X)_e[Se+32*X-1]=129;for(X=0;8>X;++X)Te[Fe+32*X-1]=129,Ye[ct+32*X-1]=129;for(0<ue?_e[Se-1-32]=Te[Fe-1-32]=Ye[ct-1-32]=129:(a(_e,Se-32-1,127,21),a(Te,Fe-32-1,127,9),a(Ye,ct-32-1,127,9)),re=0;re<j.za;++re){var Ie=R.ya[R.aa+re];if(0<re){for(X=-1;16>X;++X)s(_e,Se+32*X-4,_e,Se+32*X+12,4);for(X=-1;8>X;++X)s(Te,Fe+32*X-4,Te,Fe+32*X+4,4),s(Ye,ct+32*X-4,Ye,ct+32*X+4,4)}var Je=j.Gd,ot=j.Hd+re,St=Ie.ad,ut=Ie.Hc;if(0<ue&&(s(_e,Se-32,Je[ot].y,0,16),s(Te,Fe-32,Je[ot].f,0,8),s(Ye,ct-32,Je[ot].ea,0,8)),Ie.Za){var kt=_e,Ct=Se-32+16;for(0<ue&&(re>=j.za-1?a(kt,Ct,Je[ot].y[15],4):s(kt,Ct,Je[ot+1].y,0,4)),X=0;4>X;X++)kt[Ct+128+X]=kt[Ct+256+X]=kt[Ct+384+X]=kt[Ct+0+X];for(X=0;16>X;++X,ut<<=2)kt=_e,Ct=Se+Yp[X],Lo[Ie.Ob[X]](kt,Ct),Ao(ut,St,16*+X,kt,Ct)}else if(kt=kl(re,ue,Ie.Ob[0]),Ei[kt](_e,Se),ut!=0)for(X=0;16>X;++X,ut<<=2)Ao(ut,St,16*+X,_e,Se+Yp[X]);for(X=Ie.Gc,kt=kl(re,ue,Ie.Dd),Ai[kt](Te,Fe),Ai[kt](Ye,ct),ut=St,kt=Te,Ct=Fe,255&(Ie=0|X)&&(170&Ie?Un(ut,256,kt,Ct):$s(ut,256,kt,Ct)),Ie=Ye,ut=ct,255&(X>>=8)&&(170&X?Un(St,320,Ie,ut):$s(St,320,Ie,ut)),ue<j.Ub-1&&(s(Je[ot].y,0,_e,Se+480,16),s(Je[ot].f,0,Te,Fe+224,8),s(Je[ot].ea,0,Ye,ct+224,8)),X=8*xe*j.B,Je=j.sa,ot=j.ta+16*re+16*xe*j.R,St=j.qa,Ie=j.ra+8*re+X,ut=j.Ha,kt=j.Ia+8*re+X,X=0;16>X;++X)s(Je,ot+X*j.R,_e,Se+32*X,16);for(X=0;8>X;++X)s(St,Ie+X*j.B,Te,Fe+32*X,8),s(ut,kt+X*j.B,Ye,ct+32*X,8)}}function oo(j,R,X,re,ue,xe,_e,Se,Te){var Fe=[0],Ye=[0],ct=0,Ie=Te!=null?Te.kd:0,Je=Te??new jt;if(j==null||12>X)return 7;Je.data=j,Je.w=R,Je.ha=X,R=[R],X=[X],Je.gb=[Je.gb];e:{var ot=R,St=X,ut=Je.gb;if(t(j!=null),t(St!=null),t(ut!=null),ut[0]=0,12<=St[0]&&!r(j,ot[0],"RIFF")){if(r(j,ot[0]+8,"WEBP")){ut=3;break e}var kt=De(j,ot[0]+4);if(12>kt||4294967286<kt){ut=3;break e}if(Ie&&kt>St[0]-8){ut=7;break e}ut[0]=kt,ot[0]+=12,St[0]-=12}ut=0}if(ut!=0)return ut;for(kt=0<Je.gb[0],X=X[0];;){e:{var Ct=j;St=R,ut=X;var Mt=Fe,It=Ye,Cr=ot=[0];if((_r=ct=[ct])[0]=0,8>ut[0])ut=7;else{if(!r(Ct,St[0],"VP8X")){if(De(Ct,St[0]+4)!=10){ut=3;break e}if(18>ut[0]){ut=7;break e}var pr=De(Ct,St[0]+8),ss=1+ht(Ct,St[0]+12);if(2147483648<=ss*(Ct=1+ht(Ct,St[0]+15))){ut=3;break e}Cr!=null&&(Cr[0]=pr),Mt!=null&&(Mt[0]=ss),It!=null&&(It[0]=Ct),St[0]+=18,ut[0]-=18,_r[0]=1}ut=0}}if(ct=ct[0],ot=ot[0],ut!=0)return ut;if(St=!!(2&ot),!kt&&ct)return 3;if(xe!=null&&(xe[0]=!!(16&ot)),_e!=null&&(_e[0]=St),Se!=null&&(Se[0]=0),_e=Fe[0],ot=Ye[0],ct&&St&&Te==null){ut=0;break}if(4>X){ut=7;break}if(kt&&ct||!kt&&!ct&&!r(j,R[0],"ALPH")){X=[X],Je.na=[Je.na],Je.P=[Je.P],Je.Sa=[Je.Sa];e:{pr=j,ut=R,kt=X;var _r=Je.gb;Mt=Je.na,It=Je.P,Cr=Je.Sa,ss=22,t(pr!=null),t(kt!=null),Ct=ut[0];var Ns=kt[0];for(t(Mt!=null),t(Cr!=null),Mt[0]=null,It[0]=null,Cr[0]=0;;){if(ut[0]=Ct,kt[0]=Ns,8>Ns){ut=7;break e}var rn=De(pr,Ct+4);if(4294967286<rn){ut=3;break e}var is=8+rn+1&-2;if(ss+=is,0<_r&&ss>_r){ut=3;break e}if(!r(pr,Ct,"VP8 ")||!r(pr,Ct,"VP8L")){ut=0;break e}if(Ns[0]<is){ut=7;break e}r(pr,Ct,"ALPH")||(Mt[0]=pr,It[0]=Ct+8,Cr[0]=rn),Ct+=is,Ns-=is}}if(X=X[0],Je.na=Je.na[0],Je.P=Je.P[0],Je.Sa=Je.Sa[0],ut!=0)break}X=[X],Je.Ja=[Je.Ja],Je.xa=[Je.xa];e:if(_r=j,ut=R,kt=X,Mt=Je.gb[0],It=Je.Ja,Cr=Je.xa,pr=ut[0],Ct=!r(_r,pr,"VP8 "),ss=!r(_r,pr,"VP8L"),t(_r!=null),t(kt!=null),t(It!=null),t(Cr!=null),8>kt[0])ut=7;else{if(Ct||ss){if(_r=De(_r,pr+4),12<=Mt&&_r>Mt-12){ut=3;break e}if(Ie&&_r>kt[0]-8){ut=7;break e}It[0]=_r,ut[0]+=8,kt[0]-=8,Cr[0]=ss}else Cr[0]=5<=kt[0]&&_r[pr+0]==47&&!(_r[pr+4]>>5),It[0]=kt[0];ut=0}if(X=X[0],Je.Ja=Je.Ja[0],Je.xa=Je.xa[0],R=R[0],ut!=0)break;if(4294967286<Je.Ja)return 3;if(Se==null||St||(Se[0]=Je.xa?2:1),_e=[_e],ot=[ot],Je.xa){if(5>X){ut=7;break}Se=_e,Ie=ot,St=xe,j==null||5>X?j=0:5<=X&&j[R+0]==47&&!(j[R+4]>>5)?(kt=[0],_r=[0],Mt=[0],se(It=new q,j,R,X),gt(It,kt,_r,Mt)?(Se!=null&&(Se[0]=kt[0]),Ie!=null&&(Ie[0]=_r[0]),St!=null&&(St[0]=Mt[0]),j=1):j=0):j=0}else{if(10>X){ut=7;break}Se=ot,j==null||10>X||!rc(j,R+3,X-3)?j=0:(Ie=j[R+0]|j[R+1]<<8|j[R+2]<<16,St=16383&(j[R+7]<<8|j[R+6]),j=16383&(j[R+9]<<8|j[R+8]),1&Ie||3<(Ie>>1&7)||!(Ie>>4&1)||Ie>>5>=Je.Ja||!St||!j?j=0:(_e&&(_e[0]=St),Se&&(Se[0]=j),j=1))}if(!j||(_e=_e[0],ot=ot[0],ct&&(Fe[0]!=_e||Ye[0]!=ot)))return 3;Te!=null&&(Te[0]=Je,Te.offset=R-Te.w,t(4294967286>R-Te.w),t(Te.offset==Te.ha-X));break}return ut==0||ut==7&&ct&&Te==null?(xe!=null&&(xe[0]|=Je.na!=null&&0<Je.na.length),re!=null&&(re[0]=_e),ue!=null&&(ue[0]=ot),0):ut}function h0(j,R,X){var re=R.width,ue=R.height,xe=0,_e=0,Se=re,Te=ue;if(R.Da=j!=null&&0<j.Da,R.Da&&(Se=j.cd,Te=j.bd,xe=j.v,_e=j.j,11>X||(xe&=-2,_e&=-2),0>xe||0>_e||0>=Se||0>=Te||xe+Se>re||_e+Te>ue))return 0;if(R.v=xe,R.j=_e,R.va=xe+Se,R.o=_e+Te,R.U=Se,R.T=Te,R.da=j!=null&&0<j.da,R.da){if(!ft(Se,Te,X=[j.ib],xe=[j.hb]))return 0;R.ib=X[0],R.hb=xe[0]}return R.ob=j!=null&&j.ob,R.Kb=j==null||!j.Sd,R.da&&(R.ob=R.ib<3*re/4&&R.hb<3*ue/4,R.Kb=0),1}function jl(j){if(j==null)return 2;if(11>j.S){var R=j.f.RGBA;R.fb+=(j.height-1)*R.A,R.A=-R.A}else R=j.f.kb,j=j.height,R.O+=(j-1)*R.fa,R.fa=-R.fa,R.N+=(j-1>>1)*R.Ab,R.Ab=-R.Ab,R.W+=(j-1>>1)*R.Db,R.Db=-R.Db,R.F!=null&&(R.J+=(j-1)*R.lb,R.lb=-R.lb);return 0}function Cl(j,R,X,re){if(re==null||0>=j||0>=R)return 2;if(X!=null){if(X.Da){var ue=X.cd,xe=X.bd,_e=-2&X.v,Se=-2&X.j;if(0>_e||0>Se||0>=ue||0>=xe||_e+ue>j||Se+xe>R)return 2;j=ue,R=xe}if(X.da){if(!ft(j,R,ue=[X.ib],xe=[X.hb]))return 2;j=ue[0],R=xe[0]}}re.width=j,re.height=R;e:{var Te=re.width,Fe=re.height;if(j=re.S,0>=Te||0>=Fe||!(j>=qu&&13>j))j=2;else{if(0>=re.Rd&&re.sd==null){_e=xe=ue=R=0;var Ye=(Se=Te*rf[j])*Fe;if(11>j||(xe=(Fe+1)/2*(R=(Te+1)/2),j==12&&(_e=(ue=Te)*Fe)),(Fe=i(Ye+2*xe+_e))==null){j=1;break e}re.sd=Fe,11>j?((Te=re.f.RGBA).eb=Fe,Te.fb=0,Te.A=Se,Te.size=Ye):((Te=re.f.kb).y=Fe,Te.O=0,Te.fa=Se,Te.Fd=Ye,Te.f=Fe,Te.N=0+Ye,Te.Ab=R,Te.Cd=xe,Te.ea=Fe,Te.W=0+Ye+xe,Te.Db=R,Te.Ed=xe,j==12&&(Te.F=Fe,Te.J=0+Ye+2*xe),Te.Tc=_e,Te.lb=ue)}if(R=1,ue=re.S,xe=re.width,_e=re.height,ue>=qu&&13>ue)if(11>ue)j=re.f.RGBA,R&=(Se=Math.abs(j.A))*(_e-1)+xe<=j.size,R&=Se>=xe*rf[ue],R&=j.eb!=null;else{j=re.f.kb,Se=(xe+1)/2,Ye=(_e+1)/2,Te=Math.abs(j.fa),Fe=Math.abs(j.Ab);var ct=Math.abs(j.Db),Ie=Math.abs(j.lb),Je=Ie*(_e-1)+xe;R&=Te*(_e-1)+xe<=j.Fd,R&=Fe*(Ye-1)+Se<=j.Cd,R=(R&=ct*(Ye-1)+Se<=j.Ed)&Te>=xe&Fe>=Se&ct>=Se,R&=j.y!=null,R&=j.f!=null,R&=j.ea!=null,ue==12&&(R&=Ie>=xe,R&=Je<=j.Tc,R&=j.F!=null)}else R=0;j=R?0:2}}return j!=0||X!=null&&X.fd&&(j=jl(re)),j}var Si=64,lo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],tn=24,ll=32,Sl=8,cl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(j){return j},E.Predictor2=function(j,R,X){return R[X+0]},E.Predictor3=function(j,R,X){return R[X+1]},E.Predictor4=function(j,R,X){return R[X-1]},E.Predictor5=function(j,R,X){return ve(ve(j,R[X+1]),R[X+0])},E.Predictor6=function(j,R,X){return ve(j,R[X-1])},E.Predictor7=function(j,R,X){return ve(j,R[X+0])},E.Predictor8=function(j,R,X){return ve(R[X-1],R[X+0])},E.Predictor9=function(j,R,X){return ve(R[X+0],R[X+1])},E.Predictor10=function(j,R,X){return ve(ve(j,R[X-1]),ve(R[X+0],R[X+1]))},E.Predictor11=function(j,R,X){var re=R[X+0];return 0>=qe(re>>24&255,j>>24&255,(R=R[X-1])>>24&255)+qe(re>>16&255,j>>16&255,R>>16&255)+qe(re>>8&255,j>>8&255,R>>8&255)+qe(255&re,255&j,255&R)?re:j},E.Predictor12=function(j,R,X){var re=R[X+0];return(Ne((j>>24&255)+(re>>24&255)-((R=R[X-1])>>24&255))<<24|Ne((j>>16&255)+(re>>16&255)-(R>>16&255))<<16|Ne((j>>8&255)+(re>>8&255)-(R>>8&255))<<8|Ne((255&j)+(255&re)-(255&R)))>>>0},E.Predictor13=function(j,R,X){var re=R[X-1];return(ze((j=ve(j,R[X+0]))>>24&255,re>>24&255)<<24|ze(j>>16&255,re>>16&255)<<16|ze(j>>8&255,re>>8&255)<<8|ze(255&j,255&re))>>>0};var dc=E.PredictorAdd0;E.PredictorAdd1=pt,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var En=E.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(j){return j>>8&255},function(j){return j}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(j){return j},function(j){return j>>8&255});var $a,To=E.ColorIndexInverseTransform,El=E.MapARGB,hn=E.VP8LColorIndexInverseTransformAlpha,Al=E.MapAlpha,zc=E.VP8LPredictorsAdd=[];zc.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var Uc,uc,dl,ul,co,Tl,Ml,$c,Da,Un,Is,$s,Ia,Wa,hl,$i,hc,fc,wd,f0,su,Xh,mc,Nd,Mo,Hu,m0,Jh,fl=i(511),Vu=i(2041),Gu=i(225),kd=i(767),Qh=0,uo=Vu,Ll=Gu,li=kd,ho=fl,qu=0,pc=1,ef=2,p0=3,x0=4,Qs=5,Ku=6,jd=7,Wc=8,au=9,m=10,b=[2,3,7],F=[3,3,11],V=[280,256,256,256,40],ne=[0,1,1,1,0],ye=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ve=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],lt=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],yt=8,Ot=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],lr=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Tr=null,ns=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$n=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],fn=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],fo=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],g0=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],tf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ei=[],Lo=[],Ai=[],Pl=1,Cd=2,ys=[],Wn=[];en("UpsampleRgbLinePair",Bc,3),en("UpsampleBgrLinePair",cc,3),en("UpsampleRgbaLinePair",ru,4),en("UpsampleBgraLinePair",u0,4),en("UpsampleArgbLinePair",_d,4),en("UpsampleRgba4444LinePair",bd,2),en("UpsampleRgb565LinePair",Sn,2);var Gp=E.UpsampleRgbLinePair,qp=E.UpsampleBgrLinePair,Hc=E.UpsampleRgbaLinePair,Vc=E.UpsampleBgraLinePair,Gc=E.UpsampleArgbLinePair,nu=E.UpsampleRgba4444LinePair,Kp=E.UpsampleRgb565LinePair,Sd=16,xc=1<<Sd-1,ia=-227,ca=482,v0=6,Ti=0,Po=i(256),iu=i(256),Yu=i(256),Fo=i(256),lm=i(ca-ia),Pg=i(ca-ia);oi("YuvToRgbRow",Bc,3),oi("YuvToBgrRow",cc,3),oi("YuvToRgbaRow",ru,4),oi("YuvToBgraRow",u0,4),oi("YuvToArgbRow",_d,4),oi("YuvToRgba4444Row",bd,2),oi("YuvToRgb565Row",Sn,2);var Yp=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ou=[0,2,8],Fg=[8,7,6,4,4,2,2,2,1,1,1,1],Ed=1;this.WebPDecodeRGBA=function(j,R,X,re,ue){var xe=pc,_e=new at,Se=new us;_e.ba=Se,Se.S=xe,Se.width=[Se.width],Se.height=[Se.height];var Te=Se.width,Fe=Se.height,Ye=new Fr;if(Ye==null||j==null)var ct=2;else t(Ye!=null),ct=oo(j,R,X,Ye.width,Ye.height,Ye.Pd,Ye.Qd,Ye.format,null);if(ct!=0?Te=0:(Te!=null&&(Te[0]=Ye.width[0]),Fe!=null&&(Fe[0]=Ye.height[0]),Te=1),Te){Se.width=Se.width[0],Se.height=Se.height[0],re!=null&&(re[0]=Se.width),ue!=null&&(ue[0]=Se.height);e:{if(re=new vr,(ue=new jt).data=j,ue.w=R,ue.ha=X,ue.kd=1,R=[0],t(ue!=null),((j=oo(ue.data,ue.w,ue.ha,null,null,null,R,null,ue))==0||j==7)&&R[0]&&(j=4),(R=j)==0){if(t(_e!=null),re.data=ue.data,re.w=ue.w+ue.offset,re.ha=ue.ha-ue.offset,re.put=Oe,re.ac=ni,re.bc=et,re.ma=_e,ue.xa){if((j=nt())==null){_e=1;break e}if((function(Ie,Je){var ot=[0],St=[0],ut=[0];t:for(;;){if(Ie==null)return 0;if(Je==null)return Ie.a=2,0;if(Ie.l=Je,Ie.a=0,se(Ie.m,Je.data,Je.w,Je.ha),!gt(Ie.m,ot,St,ut)){Ie.a=3;break t}if(Ie.xb=Cd,Je.width=ot[0],Je.height=St[0],!tt(ot[0],St[0],1,Ie,null))break t;return 1}return t(Ie.a!=0),0})(j,re)){if(re=(R=Cl(re.width,re.height,_e.Oa,_e.ba))==0){t:{re=j;r:for(;;){if(re==null){re=0;break t}if(t(re.s.yc!=null),t(re.s.Ya!=null),t(0<re.s.Wb),t((X=re.l)!=null),t((ue=X.ma)!=null),re.xb!=0){if(re.ca=ue.ba,re.tb=ue.tb,t(re.ca!=null),!h0(ue.Oa,X,p0)){re.a=2;break r}if(!st(re,X.width)||X.da)break r;if((X.da||Ir(re.ca.S))&&Ci(),11>re.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),re.ca.f.kb.F!=null&&Ci()),re.Pb&&0<re.s.ua&&re.s.vb.X==null&&!Ee(re.s.vb,re.s.Wa.Xa)){re.a=1;break r}re.xb=0}if(!Xe(re,re.V,re.Ba,re.c,re.i,X.o,be))break r;ue.Dc=re.Ma,re=1;break t}t(re.a!=0),re=0}re=!re}re&&(R=j.a)}else R=j.a}else{if((j=new Zs)==null){_e=1;break e}if(j.Fa=ue.na,j.P=ue.P,j.qc=ue.Sa,_o(j,re)){if((R=Cl(re.width,re.height,_e.Oa,_e.ba))==0){if(j.Aa=0,X=_e.Oa,t((ue=j)!=null),X!=null){if(0<(Te=0>(Te=X.Md)?0:100<Te?255:255*Te/100)){for(Fe=Ye=0;4>Fe;++Fe)12>(ct=ue.pb[Fe]).lc&&(ct.ia=Te*Fg[0>ct.lc?0:ct.lc]>>3),Ye|=ct.ia;Ye&&(alert("todo:VP8InitRandom"),ue.ia=1)}ue.Ga=X.Id,100<ue.Ga?ue.Ga=100:0>ue.Ga&&(ue.Ga=0)}(function(Ie,Je){if(Ie==null)return 0;if(Je==null)return ma(Ie,2,"NULL VP8Io parameter in VP8Decode().");if(!Ie.cb&&!_o(Ie,Je))return 0;if(t(Ie.cb),Je.ac==null||Je.ac(Je)){Je.ob&&(Ie.L=0);var ot=ou[Ie.L];if(Ie.L==2?(Ie.yb=0,Ie.zb=0):(Ie.yb=Je.v-ot>>4,Ie.zb=Je.j-ot>>4,0>Ie.yb&&(Ie.yb=0),0>Ie.zb&&(Ie.zb=0)),Ie.Va=Je.o+15+ot>>4,Ie.Hb=Je.va+15+ot>>4,Ie.Hb>Ie.za&&(Ie.Hb=Ie.za),Ie.Va>Ie.Ub&&(Ie.Va=Ie.Ub),0<Ie.L){var St=Ie.ed;for(ot=0;4>ot;++ot){var ut;if(Ie.Qa.Cb){var kt=Ie.Qa.Lb[ot];Ie.Qa.Fb||(kt+=St.Tb)}else kt=St.Tb;for(ut=0;1>=ut;++ut){var Ct=Ie.gd[ot][ut],Mt=kt;if(St.Pc&&(Mt+=St.vd[0],ut&&(Mt+=St.od[0])),0<(Mt=0>Mt?0:63<Mt?63:Mt)){var It=Mt;0<St.wb&&(It=4<St.wb?It>>2:It>>1)>9-St.wb&&(It=9-St.wb),1>It&&(It=1),Ct.dd=It,Ct.tc=2*Mt+It,Ct.ld=40<=Mt?2:15<=Mt?1:0}else Ct.tc=0;Ct.La=ut}}}ot=0}else ma(Ie,6,"Frame setup failed"),ot=Ie.a;if(ot=ot==0){if(ot){Ie.$c=0,0<Ie.Aa||(Ie.Ic=Ed);t:{ot=Ie.Ic,St=4*(It=Ie.za);var Cr=32*It,pr=It+1,ss=0<Ie.L?It*(0<Ie.Aa?2:1):0,_r=(Ie.Aa==2?2:1)*It;if((Ct=St+832+(ut=3*(16*ot+ou[Ie.L])/2*Cr)+(kt=Ie.Fa!=null&&0<Ie.Fa.length?Ie.Kc.c*Ie.Kc.i:0))!=Ct)ot=0;else{if(Ct>Ie.Vb){if(Ie.Vb=0,Ie.Ec=i(Ct),Ie.Fc=0,Ie.Ec==null){ot=ma(Ie,1,"no memory during frame initialization.");break t}Ie.Vb=Ct}Ct=Ie.Ec,Mt=Ie.Fc,Ie.Ac=Ct,Ie.Bc=Mt,Mt+=St,Ie.Gd=o(Cr,Os),Ie.Hd=0,Ie.rb=o(pr+1,Rs),Ie.sb=1,Ie.wa=ss?o(ss,ts):null,Ie.Y=0,Ie.D.Nb=0,Ie.D.wa=Ie.wa,Ie.D.Y=Ie.Y,0<Ie.Aa&&(Ie.D.Y+=It),t(!0),Ie.oc=Ct,Ie.pc=Mt,Mt+=832,Ie.ya=o(_r,Es),Ie.aa=0,Ie.D.ya=Ie.ya,Ie.D.aa=Ie.aa,Ie.Aa==2&&(Ie.D.aa+=It),Ie.R=16*It,Ie.B=8*It,It=(Cr=ou[Ie.L])*Ie.R,Cr=Cr/2*Ie.B,Ie.sa=Ct,Ie.ta=Mt+It,Ie.qa=Ie.sa,Ie.ra=Ie.ta+16*ot*Ie.R+Cr,Ie.Ha=Ie.qa,Ie.Ia=Ie.ra+8*ot*Ie.B+Cr,Ie.$c=0,Mt+=ut,Ie.mb=kt?Ct:null,Ie.nb=kt?Mt:null,t(Mt+kt<=Ie.Fc+Ie.Vb),Or(Ie),a(Ie.Ac,Ie.Bc,0,St),ot=1}}if(ot){if(Je.ka=0,Je.y=Ie.sa,Je.O=Ie.ta,Je.f=Ie.qa,Je.N=Ie.ra,Je.ea=Ie.Ha,Je.Vd=Ie.Ia,Je.fa=Ie.R,Je.Rc=Ie.B,Je.F=null,Je.J=0,!Qh){for(ot=-255;255>=ot;++ot)fl[255+ot]=0>ot?-ot:ot;for(ot=-1020;1020>=ot;++ot)Vu[1020+ot]=-128>ot?-128:127<ot?127:ot;for(ot=-112;112>=ot;++ot)Gu[112+ot]=-16>ot?-16:15<ot?15:ot;for(ot=-255;510>=ot;++ot)kd[255+ot]=0>ot?0:255<ot?255:ot;Qh=1}Ml=vs,$c=Dc,Un=ro,Is=Us,$s=wo,Da=$u,Ia=tu,Wa=zn,hl=H,$i=de,hc=So,fc=d0,wd=Pe,f0=Ge,su=jo,Xh=dn,mc=ol,Nd=c0,Lo[0]=Xs,Lo[1]=Ic,Lo[2]=Ur,Lo[3]=cn,Lo[4]=Q0,Lo[5]=nl,Lo[6]=ji,Lo[7]=o0,Lo[8]=ic,Lo[9]=No,Ei[0]=ao,Ei[1]=n0,Ei[2]=i0,Ei[3]=nc,Ei[4]=no,Ei[5]=ki,Ei[6]=zi,Ai[0]=ko,Ai[1]=ac,Ai[2]=oc,Ai[3]=na,Ai[4]=eu,Ai[5]=yd,Ai[6]=l0,ot=1}else ot=0}ot&&(ot=(function(Ns,rn){for(Ns.M=0;Ns.M<Ns.Va;++Ns.M){var is,xr=Ns.Jc[Ns.M&Ns.Xb],or=Ns.m,mn=Ns;for(is=0;is<mn.za;++is){var Zr=or,bs=mn,Ca=bs.Ac,ci=bs.Bc+4*is,An=bs.zc,Ha=bs.ya[bs.aa+is];if(bs.Qa.Bb?Ha.$b=Ae(Zr,bs.Pa.jb[0])?2+Ae(Zr,bs.Pa.jb[2]):Ae(Zr,bs.Pa.jb[1]):Ha.$b=0,bs.kc&&(Ha.Ad=Ae(Zr,bs.Bd)),Ha.Za=!Ae(Zr,145)+0,Ha.Za){var Hn=Ha.Ob,di=0;for(bs=0;4>bs;++bs){var Ra,As=An[0+bs];for(Ra=0;4>Ra;++Ra){As=Wi[Ca[ci+Ra]][As];for(var Ws=fn[Ae(Zr,As[0])];0<Ws;)Ws=fn[2*Ws+Ae(Zr,As[Ws])];As=-Ws,Ca[ci+Ra]=As}s(Hn,di,Ca,ci,4),di+=4,An[0+bs]=As}}else As=Ae(Zr,156)?Ae(Zr,128)?1:3:Ae(Zr,163)?2:0,Ha.Ob[0]=As,a(Ca,ci,As,4),a(An,0,As,4);Ha.Dd=Ae(Zr,142)?Ae(Zr,114)?Ae(Zr,183)?1:3:2:0}if(mn.m.Ka)return ma(Ns,7,"Premature end-of-partition0 encountered.");for(;Ns.ja<Ns.za;++Ns.ja){if(mn=xr,Zr=(or=Ns).rb[or.sb-1],Ca=or.rb[or.sb+or.ja],is=or.ya[or.aa+or.ja],ci=or.kc?is.Ad:0)Zr.la=Ca.la=0,is.Za||(Zr.Na=Ca.Na=0),is.Hc=0,is.Gc=0,is.ia=0;else{var Oa,Hs;if(Zr=Ca,Ca=mn,ci=or.Pa.Xc,An=or.ya[or.aa+or.ja],Ha=or.pb[An.$b],bs=An.ad,Hn=0,di=or.rb[or.sb-1],As=Ra=0,a(bs,Hn,0,384),An.Za)var sn=0,an=ci[3];else{Ws=i(16);var pa=Zr.Na+di.Na;if(pa=Tr(Ca,ci[1],pa,Ha.Eb,0,Ws,0),Zr.Na=di.Na=(0<pa)+0,1<pa)Ml(Ws,0,bs,Hn);else{var Hi=Ws[0]+3>>3;for(Ws=0;256>Ws;Ws+=16)bs[Hn+Ws]=Hi}sn=1,an=ci[0]}var da=15&Zr.la,xa=15&di.la;for(Ws=0;4>Ws;++Ws){var Tn=1&xa;for(Hi=Hs=0;4>Hi;++Hi)da=da>>1|(Tn=(pa=Tr(Ca,an,pa=Tn+(1&da),Ha.Sc,sn,bs,Hn))>sn)<<7,Hs=Hs<<2|(3<pa?3:1<pa?2:bs[Hn+0]!=0),Hn+=16;da>>=4,xa=xa>>1|Tn<<7,Ra=(Ra<<8|Hs)>>>0}for(an=da,sn=xa>>4,Oa=0;4>Oa;Oa+=2){for(Hs=0,da=Zr.la>>4+Oa,xa=di.la>>4+Oa,Ws=0;2>Ws;++Ws){for(Tn=1&xa,Hi=0;2>Hi;++Hi)pa=Tn+(1&da),da=da>>1|(Tn=0<(pa=Tr(Ca,ci[2],pa,Ha.Qc,0,bs,Hn)))<<3,Hs=Hs<<2|(3<pa?3:1<pa?2:bs[Hn+0]!=0),Hn+=16;da>>=2,xa=xa>>1|Tn<<5}As|=Hs<<4*Oa,an|=da<<4<<Oa,sn|=(240&xa)<<Oa}Zr.la=an,di.la=sn,An.Hc=Ra,An.Gc=As,An.ia=43690&As?0:Ha.ia,ci=!(Ra|As)}if(0<or.L&&(or.wa[or.Y+or.ja]=or.gd[is.$b][is.Za],or.wa[or.Y+or.ja].La|=!ci),mn.Ka)return ma(Ns,7,"Premature end-of-file encountered.")}if(Or(Ns),or=rn,mn=1,is=(xr=Ns).D,Zr=0<xr.L&&xr.M>=xr.zb&&xr.M<=xr.Va,xr.Aa==0)t:{if(is.M=xr.M,is.uc=Zr,io(xr,is),mn=1,is=(Hs=xr.D).Nb,Zr=(As=ou[xr.L])*xr.R,Ca=As/2*xr.B,Ws=16*is*xr.R,Hi=8*is*xr.B,ci=xr.sa,An=xr.ta-Zr+Ws,Ha=xr.qa,bs=xr.ra-Ca+Hi,Hn=xr.Ha,di=xr.Ia-Ca+Hi,xa=(da=Hs.M)==0,Ra=da>=xr.Va-1,xr.Aa==2&&io(xr,Hs),Hs.uc)for(Tn=(pa=xr).D.M,t(pa.D.uc),Hs=pa.yb;Hs<pa.Hb;++Hs){sn=Hs,an=Tn;var Mi=(Do=(gn=pa).D).Nb;Oa=gn.R;var Do=Do.wa[Do.Y+sn],pn=gn.sa,xn=gn.ta+16*Mi*Oa+16*sn,Vi=Do.dd,ga=Do.tc;if(ga!=0)if(t(3<=ga),gn.L==1)0<sn&&Xh(pn,xn,Oa,ga+4),Do.La&&Nd(pn,xn,Oa,ga),0<an&&su(pn,xn,Oa,ga+4),Do.La&&mc(pn,xn,Oa,ga);else{var Gi=gn.B,Fl=gn.qa,gc=gn.ra+8*Mi*Gi+8*sn,ui=gn.Ha,gn=gn.Ia+8*Mi*Gi+8*sn;Mi=Do.ld,0<sn&&(Wa(pn,xn,Oa,ga+4,Vi,Mi),$i(Fl,gc,ui,gn,Gi,ga+4,Vi,Mi)),Do.La&&(fc(pn,xn,Oa,ga,Vi,Mi),f0(Fl,gc,ui,gn,Gi,ga,Vi,Mi)),0<an&&(Ia(pn,xn,Oa,ga+4,Vi,Mi),hl(Fl,gc,ui,gn,Gi,ga+4,Vi,Mi)),Do.La&&(hc(pn,xn,Oa,ga,Vi,Mi),wd(Fl,gc,ui,gn,Gi,ga,Vi,Mi))}}if(xr.ia&&alert("todo:DitherRow"),or.put!=null){if(Hs=16*da,da=16*(da+1),xa?(or.y=xr.sa,or.O=xr.ta+Ws,or.f=xr.qa,or.N=xr.ra+Hi,or.ea=xr.Ha,or.W=xr.Ia+Hi):(Hs-=As,or.y=ci,or.O=An,or.f=Ha,or.N=bs,or.ea=Hn,or.W=di),Ra||(da-=As),da>or.o&&(da=or.o),or.F=null,or.J=null,xr.Fa!=null&&0<xr.Fa.length&&Hs<da&&(or.J=Qa(xr,or,Hs,da-Hs),or.F=xr.mb,or.F==null&&or.F.length==0)){mn=ma(xr,3,"Could not decode alpha data.");break t}Hs<or.j&&(As=or.j-Hs,Hs=or.j,t(!(1&As)),or.O+=xr.R*As,or.N+=xr.B*(As>>1),or.W+=xr.B*(As>>1),or.F!=null&&(or.J+=or.width*As)),Hs<da&&(or.O+=or.v,or.N+=or.v>>1,or.W+=or.v>>1,or.F!=null&&(or.J+=or.v),or.ka=Hs-or.j,or.U=or.va-or.v,or.T=da-Hs,mn=or.put(or))}is+1!=xr.Ic||Ra||(s(xr.sa,xr.ta-Zr,ci,An+16*xr.R,Zr),s(xr.qa,xr.ra-Ca,Ha,bs+8*xr.B,Ca),s(xr.Ha,xr.Ia-Ca,Hn,di+8*xr.B,Ca))}if(!mn)return ma(Ns,6,"Output aborted.")}return 1})(Ie,Je)),Je.bc!=null&&Je.bc(Je),ot&=1}return ot?(Ie.cb=0,ot):0})(j,re)||(R=j.a)}}else R=j.a}R==0&&_e.Oa!=null&&_e.Oa.fd&&(R=jl(_e.ba))}_e=R}xe=_e!=0?null:11>xe?Se.f.RGBA.eb:Se.f.kb.y}else xe=null;return xe};var rf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(E,z){for(var P="",I=0;I<4;I++)P+=String.fromCharCode(E[z++]);return P}function u(E,z){return E[z+0]|E[z+1]<<8}function p(E,z){return(E[z+0]|E[z+1]<<8|E[z+2]<<16)>>>0}function x(E,z){return(E[z+0]|E[z+1]<<8|E[z+2]<<16|E[z+3]<<24)>>>0}new c;var f=[0],y=[0],v=[],_=new c,k=e,S=(function(E,z){var P={},I=0,W=!1,Z=0,Y=0;if(P.frames=[],!(function(B,q){for(var Q=0;Q<4;Q++)if(B[q+Q]!="RIFF".charCodeAt(Q))return!0;return!1})(E,z)){for(x(E,z+=4),z+=8;z<E.length;){var te=d(E,z),ie=x(E,z+=4);z+=4;var le=ie+(1&ie);switch(te){case"VP8 ":case"VP8L":P.frames[I]===void 0&&(P.frames[I]={}),(ee=P.frames[I]).src_off=W?Y:z-8,ee.src_size=Z+ie+8,I++,W&&(W=!1,Z=0,Y=0);break;case"VP8X":(ee=P.header={}).feature_flags=E[z];var se=z+4;ee.canvas_width=1+p(E,se),se+=3,ee.canvas_height=1+p(E,se),se+=3;break;case"ALPH":W=!0,Z=le+8,Y=z-8;break;case"ANIM":(ee=P.header).bgcolor=x(E,z),se=z+4,ee.loop_count=u(E,se),se+=2;break;case"ANMF":var oe,ee;(ee=P.frames[I]={}).offset_x=2*p(E,z),z+=3,ee.offset_y=2*p(E,z),z+=3,ee.width=1+p(E,z),z+=3,ee.height=1+p(E,z),z+=3,ee.duration=p(E,z),z+=3,oe=E[z++],ee.dispose=1&oe,ee.blend=oe>>1&1}te!="ANMF"&&(z+=le)}return P}})(k,0);S.response=k,S.rgbaoutput=!0,S.dataurl=!1;var M=S.header?S.header:null,T=S.frames?S.frames:null;if(M){M.loop_counter=M.loop_count,f=[M.canvas_height],y=[M.canvas_width];for(var O=0;O<T.length&&T[O].blend!=0;O++);}var A=T[0],C=_.WebPDecodeRGBA(k,A.src_off,A.src_size,y,f);A.rgba=C,A.imgwidth=y[0],A.imgheight=f[0];for(var N=0;N<y[0]*f[0]*4;N++)v[N]=C[N];return this.width=y,this.height=f,this.data=v,this}(function(e){var t,r,s,a,i,o,l,c,d,u=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new c,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new o,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new o,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,r=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var p=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=B;Object.defineProperty(this,"pdf",{get:function(){return q}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(De){Q=!!De}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(De){K=!!De}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(De){isNaN(De)||(ae=De)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(De){isNaN(De)||(ge=De)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(De){var Ee;typeof De=="number"?Ee=[De,De,De,De]:((Ee=new Array(4))[0]=De[0],Ee[1]=De.length>=2?De[1]:Ee[0],Ee[2]=De.length>=3?De[2]:Ee[0],Ee[3]=De.length>=4?De[3]:Ee[1]),d.margin=Ee}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(De){he=De}});var ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return ke},set:function(De){ke=De}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(De){Ae=De}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(De){De instanceof u&&(d=De)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(De){d.path=De}});var We=[];Object.defineProperty(this,"ctxStack",{get:function(){return We},set:function(De){We=De}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(De){var Ee;Ee=x(De),this.ctx.fillStyle=Ee.style,this.ctx.isFillTransparent=Ee.a===0,this.ctx.fillOpacity=Ee.a,this.pdf.setFillColor(Ee.r,Ee.g,Ee.b,{a:Ee.a}),this.pdf.setTextColor(Ee.r,Ee.g,Ee.b,{a:Ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(De){var Ee=x(De);this.ctx.strokeStyle=Ee.style,this.ctx.isStrokeTransparent=Ee.a===0,this.ctx.strokeOpacity=Ee.a,Ee.a===0?this.pdf.setDrawColor(255,255,255):(Ee.a,this.pdf.setDrawColor(Ee.r,Ee.g,Ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(De){["butt","round","square"].indexOf(De)!==-1&&(this.ctx.lineCap=De,this.pdf.setLineCap(De))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(De){isNaN(De)||(this.ctx.lineWidth=De,this.pdf.setLineWidth(De))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(De){["bevel","round","miter"].indexOf(De)!==-1&&(this.ctx.lineJoin=De,this.pdf.setLineJoin(De))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(De){isNaN(De)||(this.ctx.miterLimit=De,this.pdf.setMiterLimit(De))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(De){this.ctx.textBaseline=De}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(De){["right","end","center","left","start"].indexOf(De)!==-1&&(this.ctx.textAlign=De)}});var fe=null,ht=null;Object.defineProperty(this,"fontFaces",{get:function(){return ht},set:function(De){fe=null,ht=De}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(De){var Ee;if(this.ctx.font=De,(Ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(De))!==null){var Ue=Ee[1];Ee[2];var rt=Ee[3],ft=Ee[4];Ee[5];var Re=Ee[6],pe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ft)[2];ft=Math.floor(pe==="px"?parseFloat(ft)*this.pdf.internal.scaleFactor:pe==="em"?parseFloat(ft)*this.pdf.getFontSize():parseFloat(ft)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ft);var Le=(function(Et){var At,ar,er=[],Qt=Et.trim();if(Qt==="")return ow;if(Qt in wS)return[wS[Qt]];for(;Qt!=="";){switch(ar=null,At=(Qt=kS(Qt)).charAt(0)){case'"':case"'":ar=Jie(Qt.substring(1),At);break;default:ar=Qie(Qt)}if(ar===null||(er.push(ar[0]),(Qt=kS(ar[1]))!==""&&Qt.charAt(0)!==","))return ow;Qt=Qt.replace(/^,/,"")}return er})(Re);if(this.fontFaces){var He=(function(Et,At){if(fe===null){var ar=(function(er){var Qt=[];return Object.keys(er).forEach(function(Lt){er[Lt].forEach(function(rs){var gr=null;switch(rs){case"bold":gr={family:Lt,weight:"bold"};break;case"italic":gr={family:Lt,style:"italic"};break;case"bolditalic":gr={family:Lt,weight:"bold",style:"italic"};break;case"":case"normal":gr={family:Lt}}gr!==null&&(gr.ref={name:Lt,style:rs},Qt.push(gr))})}),Qt})(Et.getFontList());fe=(function(er){for(var Qt={},Lt=0;Lt<er.length;++Lt){var rs=iw(er[Lt]),gr=rs.family,zr=rs.stretch,Ir=rs.style,Ds=rs.weight;Qt[gr]=Qt[gr]||{},Qt[gr][zr]=Qt[gr][zr]||{},Qt[gr][zr][Ir]=Qt[gr][zr][Ir]||{},Qt[gr][zr][Ir][Ds]=rs}return Qt})(ar.concat(At))}return fe})(this.pdf,this.fontFaces),ve=Le.map(function(Et){return{family:Et,stretch:"normal",weight:rt,style:Ue}}),Ne=(function(Et,At,ar){for(var er=(ar=ar||{}).defaultFontFamily||"times",Qt=Object.assign({},Xie,ar.genericFontFamilies||{}),Lt=null,rs=null,gr=0;gr<At.length;++gr)if(Qt[(Lt=iw(At[gr])).family]&&(Lt.family=Qt[Lt.family]),Et.hasOwnProperty(Lt.family)){rs=Et[Lt.family];break}if(!(rs=rs||Et[er]))throw new Error("Could not find a font-family for the rule '"+NS(Lt)+"' and default family '"+er+"'.");if(rs=(function(zr,Ir){if(Ir[zr])return Ir[zr];var Ds=g4[zr],zs=Ds<=g4.normal?-1:1,us=_S(Ir,EM,Ds,zs);if(!us)throw new Error("Could not find a matching font-stretch value for "+zr);return us})(Lt.stretch,rs),rs=(function(zr,Ir){if(Ir[zr])return Ir[zr];for(var Ds=SM[zr],zs=0;zs<Ds.length;++zs)if(Ir[Ds[zs]])return Ir[Ds[zs]];throw new Error("Could not find a matching font-style for "+zr)})(Lt.style,rs),!(rs=(function(zr,Ir){if(Ir[zr])return Ir[zr];if(zr===400&&Ir[500])return Ir[500];if(zr===500&&Ir[400])return Ir[400];var Ds=Zie[zr],zs=_S(Ir,AM,Ds,zr<400?-1:1);if(!zs)throw new Error("Could not find a matching font-weight for value "+zr);return zs})(Lt.weight,rs)))throw new Error("Failed to resolve a font for the rule '"+NS(Lt)+"'.");return rs})(He,ve);this.pdf.setFont(Ne.ref.name,Ne.ref.style)}else{var ze="";(rt==="bold"||parseInt(rt,10)>=700||Ue==="bold")&&(ze="bold"),Ue==="italic"&&(ze+="italic"),ze.length===0&&(ze="normal");for(var qe="",pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xt=0;xt<Le.length;xt++){if(this.pdf.internal.getFont(Le[xt],ze,{noFallback:!0,disableWarning:!0})!==void 0){qe=Le[xt];break}if(ze==="bolditalic"&&this.pdf.internal.getFont(Le[xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)qe=Le[xt],ze="bold";else if(this.pdf.internal.getFont(Le[xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){qe=Le[xt],ze="normal";break}}if(qe===""){for(var Ft=0;Ft<Le.length;Ft++)if(pt[Le[Ft]]){qe=pt[Le[Ft]];break}}qe=qe===""?"Times":qe,this.pdf.setFont(qe,ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(De){this.ctx.globalCompositeOperation=De}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(De){this.ctx.globalAlpha=De}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(De){this.ctx.lineDashOffset=De,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(De){this.ctx.lineDash=De,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(De){this.ctx.ignoreClearRect=!!De}})};p.prototype.setLineDash=function(B){this.lineDash=B},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){T.call(this,"fill",!1)},p.prototype.stroke=function(){T.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(B,q){if(isNaN(B)||isNaN(q))throw Ma.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(B,q));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(B,q)},p.prototype.closePath=function(){var B=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&wa(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){B=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(B.x,B.y)},p.prototype.lineTo=function(B,q){if(isNaN(B)||isNaN(q))throw Ma.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(B,q));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},p.prototype.quadraticCurveTo=function(B,q,Q,K){if(isNaN(Q)||isNaN(K)||isNaN(B)||isNaN(q))throw Ma.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new o(Q,K)),ge=this.ctx.transform.applyToPoint(new o(B,q));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},p.prototype.bezierCurveTo=function(B,q,Q,K,ae,ge){if(isNaN(ae)||isNaN(ge)||isNaN(B)||isNaN(q)||isNaN(Q)||isNaN(K))throw Ma.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new o(ae,ge)),ke=this.ctx.transform.applyToPoint(new o(B,q)),Ae=this.ctx.transform.applyToPoint(new o(Q,K));this.path.push({type:"bct",x1:ke.x,y1:ke.y,x2:Ae.x,y2:Ae.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},p.prototype.arc=function(B,q,Q,K,ae,ge){if(isNaN(B)||isNaN(q)||isNaN(Q)||isNaN(K)||isNaN(ae))throw Ma.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new o(B,q));B=he.x,q=he.y;var ke=this.ctx.transform.applyToPoint(new o(0,Q)),Ae=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ke.x-Ae.x,2)+Math.pow(ke.y-Ae.y,2))}Math.abs(ae-K)>=2*Math.PI&&(K=0,ae=2*Math.PI),this.path.push({type:"arc",x:B,y:q,radius:Q,startAngle:K,endAngle:ae,counterclockwise:ge})},p.prototype.arcTo=function(B,q,Q,K,ae){throw new Error("arcTo not implemented.")},p.prototype.rect=function(B,q,Q,K){if(isNaN(B)||isNaN(q)||isNaN(Q)||isNaN(K))throw Ma.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,q),this.lineTo(B+Q,q),this.lineTo(B+Q,q+K),this.lineTo(B,q+K),this.lineTo(B,q),this.lineTo(B+Q,q),this.lineTo(B,q)},p.prototype.fillRect=function(B,q,Q,K){if(isNaN(B)||isNaN(q)||isNaN(Q)||isNaN(K))throw Ma.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,q,Q,K),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},p.prototype.strokeRect=function(B,q,Q,K){if(isNaN(B)||isNaN(q)||isNaN(Q)||isNaN(K))throw Ma.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(B,q,Q,K),this.stroke())},p.prototype.clearRect=function(B,q,Q,K){if(isNaN(B)||isNaN(q)||isNaN(Q)||isNaN(K))throw Ma.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,q,Q,K))},p.prototype.save=function(B){B=typeof B!="boolean"||B;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},p.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(q),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(B){var q,Q,K,ae;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))q=0,Q=0,K=0,ae=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(ge!==null)q=parseInt(ge[1]),Q=parseInt(ge[2]),K=parseInt(ge[3]),ae=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)q=parseInt(ge[1]),Q=parseInt(ge[2]),K=parseInt(ge[3]),ae=parseFloat(ge[4]);else{if(ae=1,typeof B=="string"&&B.charAt(0)!=="#"){var he=new bM(B);B=he.ok?he.toHex():"#000000"}B.length===4?(q=B.substring(1,2),q+=q,Q=B.substring(2,3),Q+=Q,K=B.substring(3,4),K+=K):(q=B.substring(1,3),Q=B.substring(3,5),K=B.substring(5,7)),q=parseInt(q,16),Q=parseInt(Q,16),K=parseInt(K,16)}}return{r:q,g:Q,b:K,a:ae,style:B}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(B,q,Q,K){if(isNaN(q)||isNaN(Q)||typeof B!="string")throw Ma.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!f.call(this)){var ae=le(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;I.call(this,{text:B,x:q,y:Q,scale:ge,angle:ae,align:this.textAlign,maxWidth:K})}},p.prototype.strokeText=function(B,q,Q,K){if(isNaN(q)||isNaN(Q)||typeof B!="string")throw Ma.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){K=isNaN(K)?void 0:K;var ae=le(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;I.call(this,{text:B,x:q,y:Q,scale:ge,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:K})}},p.prototype.measureText=function(B){if(typeof B!="string")throw Ma.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,Q=this.pdf.internal.scaleFactor,K=q.internal.getFontSize(),ae=q.getStringUnitWidth(B)*K/q.internal.scaleFactor;return new function(ge){var he=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this}({width:ae*=Math.round(96*Q/72*1e4)/1e4})},p.prototype.scale=function(B,q){if(isNaN(B)||isNaN(q))throw Ma.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new c(B,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},p.prototype.rotate=function(B){if(isNaN(B))throw Ma.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new c(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},p.prototype.translate=function(B,q){if(isNaN(B)||isNaN(q))throw Ma.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new c(1,0,0,1,B,q);this.ctx.transform=this.ctx.transform.multiply(Q)},p.prototype.transform=function(B,q,Q,K,ae,ge){if(isNaN(B)||isNaN(q)||isNaN(Q)||isNaN(K)||isNaN(ae)||isNaN(ge))throw Ma.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new c(B,q,Q,K,ae,ge);this.ctx.transform=this.ctx.transform.multiply(he)},p.prototype.setTransform=function(B,q,Q,K,ae,ge){B=isNaN(B)?1:B,q=isNaN(q)?0:q,Q=isNaN(Q)?0:Q,K=isNaN(K)?1:K,ae=isNaN(ae)?0:ae,ge=isNaN(ge)?0:ge,this.ctx.transform=new c(B,q,Q,K,ae,ge)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(B,q,Q,K,ae,ge,he,ke,Ae){var We=this.pdf.getImageProperties(B),fe=1,ht=1,De=1,Ee=1;K!==void 0&&ke!==void 0&&(De=ke/K,Ee=Ae/ae,fe=We.width/K*ke/K,ht=We.height/ae*Ae/ae),ge===void 0&&(ge=q,he=Q,q=0,Q=0),K!==void 0&&ke===void 0&&(ke=K,Ae=ae),K===void 0&&ke===void 0&&(ke=We.width,Ae=We.height);for(var Ue,rt=this.ctx.transform.decompose(),ft=le(rt.rotate.shx),Re=new c,pe=(Re=(Re=(Re=Re.multiply(rt.translate)).multiply(rt.skew)).multiply(rt.scale)).applyToRectangle(new l(ge-q*De,he-Q*Ee,K*fe,ae*ht)),Le=_.call(this,pe),He=[],ve=0;ve<Le.length;ve+=1)He.indexOf(Le[ve])===-1&&He.push(Le[ve]);if(M(He),this.autoPaging)for(var Ne=He[0],ze=He[He.length-1],qe=Ne;qe<ze+1;qe++){this.pdf.setPage(qe);var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=qe===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=qe===1?0:Ft+(qe-2)*Et;if(this.ctx.clip_path.length!==0){var ar=this.path;Ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Ue,this.posX+this.margin[3],-At+xt+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=ar}var er=JSON.parse(JSON.stringify(pe));er=S([er],this.posX+this.margin[3],-At+xt+this.ctx.prevPageLastElemOffset)[0];var Qt=(qe>Ne||qe<ze)&&v.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Et,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",er.x,er.y,er.w,er.h,null,null,ft),Qt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(B,"JPEG",pe.x,pe.y,pe.w,pe.h,null,null,ft)};var _=function(B,q,Q){var K=[];q=q||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":K.push(Math.floor((B.y+ae)/Q)+1);break;case"arc":K.push(Math.floor((B.y+ae-B.radius)/Q)+1),K.push(Math.floor((B.y+ae+B.radius)/Q)+1);break;case"qct":var ge=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);K.push(Math.floor((ge.y+ae)/Q)+1),K.push(Math.floor((ge.y+ge.h+ae)/Q)+1);break;case"bct":var he=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);K.push(Math.floor((he.y+ae)/Q)+1),K.push(Math.floor((he.y+he.h+ae)/Q)+1);break;case"rect":K.push(Math.floor((B.y+ae)/Q)+1),K.push(Math.floor((B.y+B.h+ae)/Q)+1)}for(var ke=0;ke<K.length;ke+=1)for(;this.pdf.internal.getNumberOfPages()<K[ke];)k.call(this);return K},k=function(){var B=this.fillStyle,q=this.strokeStyle,Q=this.font,K=this.lineCap,ae=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=q,this.font=Q,this.lineCap=K,this.lineWidth=ae,this.lineJoin=ge},S=function(B,q,Q){for(var K=0;K<B.length;K++)switch(B[K].type){case"bct":B[K].x2+=q,B[K].y2+=Q;case"qct":B[K].x1+=q,B[K].y1+=Q;default:B[K].x+=q,B[K].y+=Q}return B},M=function(B){return B.sort(function(q,Q){return q-Q})},T=function(B,q){for(var Q,K,ae=this.fillStyle,ge=this.strokeStyle,he=this.lineCap,ke=this.lineWidth,Ae=Math.abs(ke*this.ctx.transform.scaleX),We=this.lineJoin,fe=JSON.parse(JSON.stringify(this.path)),ht=JSON.parse(JSON.stringify(this.path)),De=[],Ee=0;Ee<ht.length;Ee++)if(ht[Ee].x!==void 0)for(var Ue=_.call(this,ht[Ee]),rt=0;rt<Ue.length;rt+=1)De.indexOf(Ue[rt])===-1&&De.push(Ue[rt]);for(var ft=0;ft<De.length;ft++)for(;this.pdf.internal.getNumberOfPages()<De[ft];)k.call(this);if(M(De),this.autoPaging)for(var Re=De[0],pe=De[De.length-1],Le=Re;Le<pe+1;Le++){this.pdf.setPage(Le),this.fillStyle=ae,this.strokeStyle=ge,this.lineCap=he,this.lineWidth=Ae,this.lineJoin=We;var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ve=Le===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=Le===1?0:Ne+(Le-2)*ze;if(this.ctx.clip_path.length!==0){var pt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Q,this.posX+this.margin[3],-qe+ve+this.ctx.prevPageLastElemOffset),O.call(this,B,!0),this.path=pt}if(K=JSON.parse(JSON.stringify(fe)),this.path=S(K,this.posX+this.margin[3],-qe+ve+this.ctx.prevPageLastElemOffset),q===!1||Le===0){var xt=(Le>Re||Le<pe)&&v.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,ze,null).clip().discardPath()),O.call(this,B,q),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=ke}else this.lineWidth=Ae,O.call(this,B,q),this.lineWidth=ke;this.path=fe},O=function(B,q){if((B!=="stroke"||q||!y.call(this))&&(B==="stroke"||q||!f.call(this))){for(var Q,K,ae=[],ge=this.path,he=0;he<ge.length;he++){var ke=ge[he];switch(ke.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:ke,deltas:[],abs:[]});break;case"lt":var Ae=ae.length;if(ge[he-1]&&!isNaN(ge[he-1].x)&&(Q=[ke.x-ge[he-1].x,ke.y-ge[he-1].y],Ae>0)){for(;Ae>=0;Ae--)if(ae[Ae-1].close!==!0&&ae[Ae-1].begin!==!0){ae[Ae-1].deltas.push(Q),ae[Ae-1].abs.push(ke);break}}break;case"bct":Q=[ke.x1-ge[he-1].x,ke.y1-ge[he-1].y,ke.x2-ge[he-1].x,ke.y2-ge[he-1].y,ke.x-ge[he-1].x,ke.y-ge[he-1].y],ae[ae.length-1].deltas.push(Q);break;case"qct":var We=ge[he-1].x+2/3*(ke.x1-ge[he-1].x),fe=ge[he-1].y+2/3*(ke.y1-ge[he-1].y),ht=ke.x+2/3*(ke.x1-ke.x),De=ke.y+2/3*(ke.y1-ke.y),Ee=ke.x,Ue=ke.y;Q=[We-ge[he-1].x,fe-ge[he-1].y,ht-ge[he-1].x,De-ge[he-1].y,Ee-ge[he-1].x,Ue-ge[he-1].y],ae[ae.length-1].deltas.push(Q);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(ke)}}K=q?null:B==="stroke"?"stroke":"fill";for(var rt=!1,ft=0;ft<ae.length;ft++)if(ae[ft].arc)for(var Re=ae[ft].abs,pe=0;pe<Re.length;pe++){var Le=Re[pe];Le.type==="arc"?N.call(this,Le.x,Le.y,Le.radius,Le.startAngle,Le.endAngle,Le.counterclockwise,void 0,q,!rt):W.call(this,Le.x,Le.y),rt=!0}else if(ae[ft].close===!0)this.pdf.internal.out("h"),rt=!1;else if(ae[ft].begin!==!0){var He=ae[ft].start.x,ve=ae[ft].start.y;Z.call(this,ae[ft].deltas,He,ve),rt=!0}K&&E.call(this,K),q&&z.call(this)}},A=function(B){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-Q;case"top":return B+q-Q;case"hanging":return B+q-2*Q;case"middle":return B+q/2-Q;default:return B}},C=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(q,Q){this.colorStops.push([q,Q])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(B,q,Q,K,ae,ge,he,ke,Ae){for(var We=te.call(this,Q,K,ae,ge),fe=0;fe<We.length;fe++){var ht=We[fe];fe===0&&(Ae?P.call(this,ht.x1+B,ht.y1+q):W.call(this,ht.x1+B,ht.y1+q)),Y.call(this,B,q,ht.x2,ht.y2,ht.x3,ht.y3,ht.x4,ht.y4)}ke?z.call(this):E.call(this,he)},E=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(B,q){this.pdf.internal.out(r(B)+" "+s(q)+" m")},I=function(B){var q;switch(B.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var Q=this.pdf.getTextDimensions(B.text),K=A.call(this,B.y),ae=C.call(this,K)-Q.h,ge=this.ctx.transform.applyToPoint(new o(B.x,K)),he=this.ctx.transform.decompose(),ke=new c;ke=(ke=(ke=ke.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Ae,We,fe,ht=this.ctx.transform.applyToRectangle(new l(B.x,K,Q.w,Q.h)),De=ke.applyToRectangle(new l(B.x,ae,Q.w,Q.h)),Ee=_.call(this,De),Ue=[],rt=0;rt<Ee.length;rt+=1)Ue.indexOf(Ee[rt])===-1&&Ue.push(Ee[rt]);if(M(Ue),this.autoPaging)for(var ft=Ue[0],Re=Ue[Ue.length-1],pe=ft;pe<Re+1;pe++){this.pdf.setPage(pe);var Le=pe===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ve=this.pdf.internal.pageSize.height-this.margin[2],Ne=ve-this.margin[0],ze=this.pdf.internal.pageSize.width-this.margin[1],qe=ze-this.margin[3],pt=pe===1?0:He+(pe-2)*Ne;if(this.ctx.clip_path.length!==0){var xt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Ae,this.posX+this.margin[3],-1*pt+Le),O.call(this,"fill",!0),this.path=xt}var Ft=S([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-pt+Le+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(We=this.pdf.internal.getFontSize(),this.pdf.setFontSize(We*B.scale),fe=this.lineWidth,this.lineWidth=fe*B.scale);var Et=this.autoPaging!=="text";if(Et||Ft.y+Ft.h<=ve){if(Et||Ft.y>=Le&&Ft.x<=ze){var At=Et?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||ze-Ft.x)[0],ar=S([JSON.parse(JSON.stringify(ht))],this.posX+this.margin[3],-pt+Le+this.ctx.prevPageLastElemOffset)[0],er=Et&&(pe>ft||pe<Re)&&v.call(this);er&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,Ne,null).clip().discardPath()),this.pdf.text(At,ar.x,ar.y,{angle:B.angle,align:q,renderingMode:B.renderingMode}),er&&this.pdf.restoreGraphicsState()}}else Ft.y<ve&&(this.ctx.prevPageLastElemOffset+=ve-Ft.y);B.scale>=.01&&(this.pdf.setFontSize(We),this.lineWidth=fe)}else B.scale>=.01&&(We=this.pdf.internal.getFontSize(),this.pdf.setFontSize(We*B.scale),fe=this.lineWidth,this.lineWidth=fe*B.scale),this.pdf.text(B.text,ge.x+this.posX,ge.y+this.posY,{angle:B.angle,align:q,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(We),this.lineWidth=fe)},W=function(B,q,Q,K){Q=Q||0,K=K||0,this.pdf.internal.out(r(B+Q)+" "+s(q+K)+" l")},Z=function(B,q,Q){return this.pdf.lines(B,q,Q,null,null)},Y=function(B,q,Q,K,ae,ge,he,ke){this.pdf.internal.out([t(a(Q+B)),t(i(K+q)),t(a(ae+B)),t(i(ge+q)),t(a(he+B)),t(i(ke+q)),"c"].join(" "))},te=function(B,q,Q,K){for(var ae=2*Math.PI,ge=Math.PI/2;q>Q;)q-=ae;var he=Math.abs(Q-q);he<ae&&K&&(he=ae-he);for(var ke=[],Ae=K?-1:1,We=q;he>1e-5;){var fe=We+Ae*Math.min(he,ge);ke.push(ie.call(this,B,We,fe)),he-=Math.abs(fe-We),We=fe}return ke},ie=function(B,q,Q){var K=(Q-q)/2,ae=B*Math.cos(K),ge=B*Math.sin(K),he=ae,ke=-ge,Ae=he*he+ke*ke,We=Ae+he*ae+ke*ge,fe=4/3*(Math.sqrt(2*Ae*We)-We)/(he*ge-ke*ae),ht=he-fe*ke,De=ke+fe*he,Ee=ht,Ue=-De,rt=K+q,ft=Math.cos(rt),Re=Math.sin(rt);return{x1:B*Math.cos(q),y1:B*Math.sin(q),x2:ht*ft-De*Re,y2:ht*Re+De*ft,x3:Ee*ft-Ue*Re,y3:Ee*Re+Ue*ft,x4:B*Math.cos(Q),y4:B*Math.sin(Q)}},le=function(B){return 180*B/Math.PI},se=function(B,q,Q,K,ae,ge){var he=B+.5*(Q-B),ke=q+.5*(K-q),Ae=ae+.5*(Q-ae),We=ge+.5*(K-ge),fe=Math.min(B,ae,he,Ae),ht=Math.max(B,ae,he,Ae),De=Math.min(q,ge,ke,We),Ee=Math.max(q,ge,ke,We);return new l(fe,De,ht-fe,Ee-De)},oe=function(B,q,Q,K,ae,ge,he,ke){var Ae,We,fe,ht,De,Ee,Ue,rt,ft,Re,pe,Le,He,ve,Ne=Q-B,ze=K-q,qe=ae-Q,pt=ge-K,xt=he-ae,Ft=ke-ge;for(We=0;We<41;We++)ft=(Ue=(fe=B+(Ae=We/40)*Ne)+Ae*((De=Q+Ae*qe)-fe))+Ae*(De+Ae*(ae+Ae*xt-De)-Ue),Re=(rt=(ht=q+Ae*ze)+Ae*((Ee=K+Ae*pt)-ht))+Ae*(Ee+Ae*(ge+Ae*Ft-Ee)-rt),We==0?(pe=ft,Le=Re,He=ft,ve=Re):(pe=Math.min(pe,ft),Le=Math.min(Le,Re),He=Math.max(He,ft),ve=Math.max(ve,Re));return new l(Math.round(pe),Math.round(Le),Math.round(He-pe),Math.round(ve-Le))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,q,Q=(B=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:q}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Mr.API),(function(e){var t=function(o){var l,c,d,u,p,x,f,y,v,_;for(c=[],d=0,u=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;u>d;d+=4)(p=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(x=(p=((p=((p=((p=(p-(_=p%85))/85)-(v=p%85))/85)-(y=p%85))/85)-(f=p%85))/85)%85,c.push(x+33,f+33,y+33,v+33,_+33)):c.push(122);return(function(k,S){for(var M=S;M>0;M--)k.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,d,u,p,x=String,f="length",y=255,v="charCodeAt",_="slice",k="replace";for(o[_](-2),o=o[_](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),d=[],u=0,p=(o+=l="uuuuu"[_](o[f]%5||5))[f];p>u;u+=5)c=52200625*(o[v](u)-33)+614125*(o[v](u+1)-33)+7225*(o[v](u+2)-33)+85*(o[v](u+3)-33)+(o[v](u+4)-33),d.push(y&c>>24,y&c>>16,y&c>>8,y&c);return(function(S,M){for(var T=M;T>0;T--)S.pop()})(d,l[f]),x.fromCharCode.apply(x,d)},s=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=d4(l)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};e.processDataByFilters=function(o,l){var c=0,d=o||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=s(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}})(Mr.API),(function(e){e.loadFile=function(t,r,s){return(function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,d,u){var p=new XMLHttpRequest,x=0,f=function(y){var v=y.length,_=[],k=String.fromCharCode;for(x=0;x<v;x+=1)_.push(k(255&y.charCodeAt(x)));return _.join("")};if(p.open("GET",c,!d),p.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(p.onload=function(){p.status===200?u(f(this.responseText)):u(void 0)}),p.send(null),d&&p.status===200)return f(p.responseText)})(a,i,o)}catch{}return l})(t,r,s)},e.loadImageFile=e.loadFile})(Mr.API),(function(e){function t(){return(es.html2canvas?Promise.resolve(es.html2canvas):sx(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(es.DOMPurify?Promise.resolve(es.DOMPurify):sx(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var s=function(l){var c=wa(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var d=document.createElement(l);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},i=function l(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||u.appendChild(l(p,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),d);return(u=u.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(d){switch(s(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(d){return this.set({src:a("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var y=u[f],v=y.src.find(function(_){return _.format==="truetype"});v&&d.addFont(v.url,y.ref.name,y.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),c(this.prop.container,x)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(s(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(s(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(l=l||Mr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,u){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(u,p){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,u),x}).then(u,p).then(function(x){return d.updateProgress(1),x})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),x=d.call(p,l,c);return o.convert(x,u.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Mr.getPageSize=function(l,c,d){if(wa(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var p,x=(""+d).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var y,v=0,_=0;if(f.hasOwnProperty(x))v=f[x][1]/p,_=f[x][0]/p;else try{v=d[1],_=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",_>v&&(y=_,_=v,v=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",v>_&&(y=_,_=v,v=y)}return{width:_,height:v,unit:c,k:p,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(iw):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}})(Mr.API),Mr.API.addJS=function(e){return CS=e,this.internal.events.subscribe("postPutResources",function(){G2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(G2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),jS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+CS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){G2!==void 0&&jS!==void 0&&this.internal.out("/Names <</JavaScript "+G2+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=s.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var p=r.internal.newObject();u.push(p);var x=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(s,a,i){var o={title:a,options:i,children:[]};return s==null&&(s=this.root),s.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(s){s.id=r.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},r.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},r.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var o=s.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},r.outline.line=function(s){this.ctx.val+=s+`\r
`},r.outline.makeRef=function(s){return s.id+" 0 R"},r.outline.makeString=function(s){return"("+r.internal.pdfEscape(s)+")"},r.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(s,a){for(var i=0;i<a.children.length;i++)s.count++,this.count_r(s,a.children[i]);return s.count}}])})(Mr.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,s,a,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(p){for(var x,f=256*p.charCodeAt(4)+p.charCodeAt(5),y=p.length,v={width:0,height:0,numcomponents:1},_=4;_<y;_+=2){if(_+=f,t.indexOf(p.charCodeAt(_+1))!==-1){x=256*p.charCodeAt(_+5)+p.charCodeAt(_+6),v={width:256*p.charCodeAt(_+7)+p.charCodeAt(_+8),height:x,numcomponents:p.charCodeAt(_+9)};break}f=256*p.charCodeAt(_+2)+p.charCodeAt(_+3)}return v})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:s,alias:a}}return u}})(Mr.API),Mr.API.processPNG=function(e,t,r,s){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=Iie(e,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,d=i.palette,u=i.depth;a=d&&c===1?(function(N){for(var E=N.width,z=N.height,P=N.data,I=N.palette,W=N.depth,Z=!1,Y=[],te=[],ie=void 0,le=!1,se=0,oe=0;oe<I.length;oe++){var ee=TC(I[oe],4),B=ee[0],q=ee[1],Q=ee[2],K=ee[3];Y.push(B,q,Q),K!=null&&(K===0?(se++,te.length<1&&te.push(oe)):K<255&&(le=!0))}if(le||se>1){Z=!0,te=void 0;var ae=E*z;ie=new Uint8Array(ae);for(var ge=new DataView(P.buffer),he=0;he<ae;he++){var ke=lw(ge,he,W),Ae=TC(I[ke],4)[3];ie[he]=Ae}}else se===0&&(te=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Z?8:void 0,colorBytes:P,alphaBytes:ie,needSMask:Z,palette:Y,mask:te}})(i):c===2||c===4?(function(N){for(var E=N.data,z=N.width,P=N.height,I=N.channels,W=N.depth,Z=I===2?"DeviceGray":"DeviceRGB",Y=I-1,te=z*P,ie=Y,le=te*ie,se=1*te,oe=Math.ceil(le*W/8),ee=Math.ceil(se*W/8),B=new Uint8Array(oe),q=new Uint8Array(ee),Q=new DataView(E.buffer),K=new DataView(B.buffer),ae=new DataView(q.buffer),ge=!1,he=0;he<te;he++){for(var ke=he*I,Ae=0;Ae<ie;Ae++)DS(K,lw(Q,ke+Ae,W),he*ie+Ae,W);var We=lw(Q,ke+ie,W);We<(1<<W)-1&&(ge=!0),DS(ae,We,1*he,W)}return{colorSpace:Z,colorsPerPixel:Y,sMaskBitsPerComponent:ge?W:void 0,colorBytes:B,alphaBytes:q,needSMask:ge}})(i):(function(N){var E=N.data,z=N.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:z,colorsPerPixel:z==="DeviceGray"?1:3,colorBytes:E instanceof Uint16Array?(function(P){for(var I=P.length,W=new Uint8Array(2*I),Z=new DataView(W.buffer,W.byteOffset,W.byteLength),Y=0;Y<I;Y++)Z.setUint16(2*Y,P[Y],!1);return W})(E):E,needSMask:!1}})(i);var p,x,f,y=a,v=y.colorSpace,_=y.colorsPerPixel,k=y.sMaskBitsPerComponent,S=y.colorBytes,M=y.alphaBytes,T=y.needSMask,O=y.palette,A=y.mask,C=null;return s!==Mr.API.image_compression.NONE&&typeof d4=="function"?(C=(function(N){var E;switch(N){case Mr.API.image_compression.FAST:E=11;break;case Mr.API.image_compression.MEDIUM:E=13;break;case Mr.API.image_compression.SLOW:E=14;break;default:E=12}return E})(s),p=this.decode.FLATE_DECODE,x="/Predictor ".concat(C," /Colors ").concat(_," /BitsPerComponent ").concat(u," /Columns ").concat(o),e=TS(S,Math.ceil(o*_*u/8),_,u,s),T&&(f=TS(M,Math.ceil(o*k/8),1,k,s))):(p=void 0,x=void 0,e=S,T&&(f=M)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:e,index:t,filter:p,decodeParameters:x,transparency:A,palette:O,sMask:f,predictor:C,width:o,height:l,bitsPerComponent:u,sMaskBitsPerComponent:k,colorSpace:v}}},(function(e){e.processGIF89A=function(t,r,s,a){var i=new soe(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new cw(100).encode(d,100);return e.processJPEG.call(this,u,r,s,a)},e.processGIF87A=e.processGIF89A})(Mr.API),Rd.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:s,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Rd.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Ma.log("bit decode error:"+r)}},Rd.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Rd.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Rd.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*s;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Rd.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,u=s*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=e}},Rd.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},Rd.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=s,this.data[o+3]=255}this.pos+=this.width%4}},Rd.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=o}},Rd.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,s,a){var i=new Rd(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new cw(100).encode(c,100);return e.processJPEG.call(this,d,r,s,a)}})(Mr.API),RS.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,s,a){var i=new RS(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new cw(100).encode(c,100);return e.processJPEG.call(this,d,r,s,a)}})(Mr.API),Mr.API.processRGBA=function(e,t,r){for(var s=e.data,a=s.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=s[d],p=s[d+1],x=s[d+2],f=s[d+3];i[l++]=u,i[l++]=p,i[l++]=x,o[c++]=f}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Mr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Pm=Mr.API,q2=Pm.getCharWidthsArray=function(e,t){var r,s,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,p=t.doKerning!==!1,x=0,f=e.length,y=0,v=l[0]||c,_=[];for(r=0;r<f;r++)s=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?_.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+o*(1e3/i)||0)/1e3):(x=p&&wa(d[s])==="object"&&!isNaN(parseInt(d[s][y],10))?d[s][y]/u:0,_.push((l[s]||v)/c+x)),y=s;return _},SS=Pm.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),s=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Pm.processArabic&&(e=Pm.processArabic(e)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(e,r,a)/r:q2.apply(this,arguments).reduce(function(i,o){return i+o},0)},ES=function(e,t,r,s){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>s&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},AS=function(e,t,r){r||(r={});var s,a,i,o,l,c,d,u=[],p=[u],x=r.textIndent||0,f=0,y=0,v=e.split(" "),_=q2.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var k=Array(c).join(" "),S=[];v.map(function(T){(T=T.split(/\s*\n/)).length>1?S=S.concat(T.map(function(O,A){return(A&&O.length?`
`:"")+O})):S.push(T[0])}),v=S,c=SS.apply(this,[k,r])}for(i=0,o=v.length;i<o;i++){var M=0;if(s=v[i],c&&s[0]==`
`&&(s=s.substr(1),M=1),x+f+(y=(a=q2.apply(this,[s,r])).reduce(function(T,O){return T+O},0))>t||M){if(y>t){for(l=ES.apply(this,[s,a,t-(x+f),t]),u.push(l.shift()),u=[l.pop()];l.length;)p.push([l.shift()]);y=a.slice(s.length-(u[0]?u[0].length:0)).reduce(function(T,O){return T+O},0)}else u=[s];p.push(u),x=y+c,f=_}else u.push(s),x+=f+y,f=_}return d=c?function(T,O){return(O?k:"")+T.join(" ")}:function(T){return T.join(" ")},p.map(d)},Pm.splitTextToSize=function(e,t,r){var s,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var p=this.internal.getFont(u.fontName,u.fontStyle),x="Unicode";return p.metadata[x]?{widths:p.metadata[x].widths||{0:1},kerning:p.metadata[x].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);s=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=s.length;l<c;l++)d=d.concat(AS.apply(this,[s[l],o,i]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",s={},a={},i=0;i<16;i++)s[r[i]]=t[i],a[t[i]]=r[i];var o=function(x){return"0x"+parseInt(x,10).toString(16)},l=e.__fontmetrics__.compress=function(x){var f,y,v,_,k=["{"];for(var S in x){if(f=x[S],isNaN(parseInt(S,10))?y="'"+S+"'":(S=parseInt(S,10),y=(y=o(S).slice(2)).slice(0,-1)+a[y.slice(-1)]),typeof f=="number")f<0?(v=o(f).slice(3),_="-"):(v=o(f).slice(2),_=""),v=_+v.slice(0,-1)+a[v.slice(-1)];else{if(wa(f)!=="object")throw new Error("Don't know what to do with value type "+wa(f)+".");v=l(f)}k.push(y+v)}return k.push("}"),k.join("")},c=e.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,y,v,_,k={},S=1,M=k,T=[],O="",A="",C=x.length-1,N=1;N<C;N+=1)(_=x[N])=="'"?f?(v=f.join(""),f=void 0):f=[]:f?f.push(_):_=="{"?(T.push([M,v]),M={},v=void 0):_=="}"?((y=T.pop())[0][y[1]]=M,v=void 0,M=y[0]):_=="-"?S=-1:v===void 0?s.hasOwnProperty(_)?(O+=s[_],v=parseInt(O,16)*S,S=1,O=""):O+=_:s.hasOwnProperty(_)?(A+=s[_],M[v]=parseInt(A,16)*S,S=1,v=void 0,A=""):A+=_;return k},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(x){var f=x.font,y=p.Unicode[f.postScriptName];y&&(f.metadata.Unicode={},f.metadata.Unicode.widths=y.widths,f.metadata.Unicode.kerning=y.kerning);var v=u.Unicode[f.postScriptName];v&&(f.metadata.Unicode.encoding=v,f.encoding=v.codePages[0])}])})(Mr.API),(function(e){var t=function(r){for(var s=r.length,a=new Uint8Array(s),i=0;i<s;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var s=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(_v(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,s)}}])})(Mr),Mr.API.addSvgAsImage=function(e,t,r,s,a,i,o,l){if(isNaN(t)||isNaN(r))throw Ma.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Ma.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=a;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(es.canvg?Promise.resolve(es.canvg):sx(()=>import("./index.es-BXxnB3cc.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(u)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),t,r,s,a,o,l)})},Mr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(t,r);return this},Mr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var s,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,p=0;function x(y,v){var _,k=!1;for(_=0;_<y.length;_+=1)y[_]===v&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=l.length;for(p=0;p<f;p+=1)r[l[p]].value=r[l[p]].defaultValue,r[l[p]].explicitSet=!1}if(wa(e)==="object"){for(a in e)if(i=e[a],x(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&x(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(d=0;d<i.length;d+=1)if(s=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(s=!1);s===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,v=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?v.push("/"+y+" /"+r[y].value):v.push("/"+y+" "+r[y].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Mr.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],p=0,x=i.length;p<x;++p){if(l=o.metadata.characterToGlyph(i.charCodeAt(p)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(p),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},s=function(i){var o,l,c,d,u,p,x;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,x=(l=Object.keys(i).sort(function(f,y){return f-y})).length;p<x;p++)o=l[p],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var p=l.metadata.Unicode.widths,x=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",y=0;y<x.length;y++)f+=String.fromCharCode(x[y]);var v=d();u({data:f,addLength1:!0,objectId:v}),c("endobj");var _=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:_}),c("endobj");var k=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Om(l.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var S=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Om(l.fontName)),c("/FontDescriptor "+k+" 0 R"),c("/W "+e.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+_+" 0 R"),c("/BaseFont /"+Om(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+S+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var p=l.metadata.rawData,x="",f=0;f<p.length;f++)x+=String.fromCharCode(p[f]);var y=d();u({data:x,addLength1:!0,objectId:y}),c("endobj");var v=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var _=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Om(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var k=0;k<l.metadata.hmtx.widths.length;k++)l.metadata.hmtx.widths[k]=parseInt(l.metadata.hmtx.widths[k]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Om(l.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},p=i.mutex||{},x=p.pdfEscape,f=p.activeFontKey,y=p.fonts,v=f,_="",k=0,S="",M=y[v].encoding;if(y[v].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:p};for(S=l,v=f,Array.isArray(l)&&(S=l[0]),k=0;k<S.length;k+=1)y[v].metadata.hasOwnProperty("cmap")&&(o=y[v].metadata.cmap.unicode.codeMap[S[k].charCodeAt(0)]),o||S[k].charCodeAt(0)<256&&y[v].metadata.hasOwnProperty("Unicode")?_+=S[k]:_+="";var T="";return parseInt(v.slice(1))<14||M==="WinAnsiEncoding"?T=x(_,v).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):M==="Identity-H"&&(T=r(_,y[v])),p.isHex=!0,{text:T,x:c,y:d,options:u,mutex:p}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])})(Mr),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,s){return t.call(this),this.internal.vFS[r]=s,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Mr.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(s){var a,i,o,l,c,d,u,p=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,M=0;this.__bidiEngine__={};var T=function(P){var I=P.charCodeAt(),W=I>>8,Z=v[W];return Z!==void 0?p[256*Z+(255&I)]:W===252||W===253?"AL":k.test(W)?"L":W===8?"R":"N"},O=function(P){for(var I,W=0;W<P.length;W++){if((I=T(P.charAt(W)))==="L")return!1;if(I==="R")return!0}return!1},A=function(P,I,W,Z){var Y,te,ie,le,se=I[Z];switch(se){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(se="AN");break;case"AL":S=!0,se="R";break;case"WS":case"BN":se="N";break;case"CS":Z<1||Z+1>=I.length||(Y=W[Z-1])!=="EN"&&Y!=="AN"||(te=I[Z+1])!=="EN"&&te!=="AN"?se="N":S&&(te="AN"),se=te===Y?te:"N";break;case"ES":se=(Y=Z>0?W[Z-1]:"B")==="EN"&&Z+1<I.length&&I[Z+1]==="EN"?"EN":"N";break;case"ET":if(Z>0&&W[Z-1]==="EN"){se="EN";break}if(S){se="N";break}for(ie=Z+1,le=I.length;ie<le&&I[ie]==="ET";)ie++;se=ie<le&&I[ie]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(le=I.length,ie=Z+1;ie<le&&I[ie]==="NSM";)ie++;if(ie<le){var oe=P[Z],ee=oe>=1425&&oe<=2303||oe===64286;if(Y=I[ie],ee&&(Y==="R"||Y==="AL")){se="R";break}}}se=Z<1||(Y=I[Z-1])==="B"?"N":W[Z-1];break;case"B":S=!1,a=!0,se=M;break;case"S":i=!0,se="N"}return se},C=function(P,I,W){var Z=P.split("");return W&&N(Z,W,{hiLevel:M}),Z.reverse(),I&&I.reverse(),Z.join("")},N=function(P,I,W){var Z,Y,te,ie,le,se=-1,oe=P.length,ee=0,B=[],q=M?f:x,Q=[];for(S=!1,a=!1,i=!1,Y=0;Y<oe;Y++)Q[Y]=T(P[Y]);for(te=0;te<oe;te++){if(le=ee,B[te]=A(P,Q,B,te),Z=240&(ee=q[le][y[B[te]]]),ee&=15,I[te]=ie=q[ee][5],Z>0)if(Z===16){for(Y=se;Y<te;Y++)I[Y]=1;se=-1}else se=-1;if(q[ee][6])se===-1&&(se=te);else if(se>-1){for(Y=se;Y<te;Y++)I[Y]=ie;se=-1}Q[te]==="B"&&(I[te]=0),W.hiLevel|=ie}i&&(function(K,ae,ge){for(var he=0;he<ge;he++)if(K[he]==="S"){ae[he]=M;for(var ke=he-1;ke>=0&&K[ke]==="WS";ke--)ae[ke]=M}})(Q,I,oe)},E=function(P,I,W,Z,Y){if(!(Y.hiLevel<P)){if(P===1&&M===1&&!a)return I.reverse(),void(W&&W.reverse());for(var te,ie,le,se,oe=I.length,ee=0;ee<oe;){if(Z[ee]>=P){for(le=ee+1;le<oe&&Z[le]>=P;)le++;for(se=ee,ie=le-1;se<ie;se++,ie--)te=I[se],I[se]=I[ie],I[ie]=te,W&&(te=W[se],W[se]=W[ie],W[ie]=te);ee=le}ee++}}},z=function(P,I,W){var Z=P.split(""),Y={hiLevel:M};return W||(W=[]),N(Z,W,Y),(function(te,ie,le){if(le.hiLevel!==0&&u)for(var se,oe=0;oe<te.length;oe++)ie[oe]===1&&(se=_.indexOf(te[oe]))>=0&&(te[oe]=_[se+1])})(Z,W,Y),E(2,Z,I,W,Y),E(1,Z,I,W,Y),Z.join("")};return this.__bidiEngine__.doBidiReorder=function(P,I,W){if((function(Y,te){if(te)for(var ie=0;ie<Y.length;ie++)te[ie]=ie;l===void 0&&(l=O(Y)),d===void 0&&(d=O(Y))})(P,I),o||!c||d)if(o&&c&&l^d)M=l?1:0,P=C(P,I,W);else if(!o&&c&&d)M=l?1:0,P=z(P,I,W),P=C(P,I);else if(!o||l||c||d){if(o&&!c&&l^d)P=C(P,I),l?(M=0,P=z(P,I,W)):(M=1,P=z(P,I,W),P=C(P,I));else if(o&&l&&!c&&d)M=1,P=z(P,I,W),P=C(P,I);else if(!o&&!c&&l^d){var Z=u;l?(M=1,P=z(P,I,W),M=0,u=!1,P=z(P,I,W),u=Z):(M=0,P=z(P,I,W),P=C(P,I),M=1,u=!1,P=z(P,I,W),u=Z,P=C(P,I))}}else M=0,P=z(P,I,W);else M=l?1:0,P=z(P,I,W);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,c=P.isOutputVisual,l=P.isInputRtl,d=P.isOutputRtl,u=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(s){var a=s.text;s.x,s.y;var i=s.options||{};s.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);s.text=o}else s.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(Mr),Mr.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Bh(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new voe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new aoe(this.contents),this.head=new ioe(this),this.name=new uoe(this),this.cmap=new MM(this),this.toUnicode={},this.hhea=new ooe(this),this.maxp=new hoe(this),this.hmtx=new foe(this),this.post=new coe(this),this.os2=new loe(this),this.loca=new goe(this),this.glyf=new moe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,s,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,s){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var s;return r==null&&(r=!1),s=r?this.lineGap:0,(this.ascender+s-this.decender)/1e3*t},e})();var a0,Bh=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,s;for(s=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)s[r]=String.fromCharCode(this.readByte());return s.join("")},e.prototype.writeString=function(t){var r,s,a;for(a=[],r=0,s=t.length;0<=s?r<s:r>s;r=0<=s?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,s,a,i,o,l,c;return t=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*s+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,s;return r=Math.floor(t/4294967296),s=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,s;for(r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push(this.readByte());return r},e.prototype.write=function(t){var r,s,a,i;for(i=[],s=0,a=t.length;s<a;s++)r=t[s],i.push(this.writeByte(r));return i},e})(),aoe=(function(){var e;function t(r){var s,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)s={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[s.tag]=s}return t.prototype.encode=function(r){var s,a,i,o,l,c,d,u,p,x,f,y,v;for(v in f=Object.keys(r).length,c=Math.log(2),p=16*Math.floor(Math.log(f)/c),o=Math.floor(p/c),u=16*f-p,(a=new Bh).writeInt(this.scalarType),a.writeShort(f),a.writeShort(p),a.writeShort(o),a.writeShort(u),i=16*f,d=a.pos+i,l=null,y=[],r)for(x=r[v],a.writeString(v),a.writeInt(e(x)),a.writeInt(d),a.writeInt(x.length),y=y.concat(x),v==="head"&&(l=d),d+=x.length;d%4;)y.push(0),d++;return a.write(y),s=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(s),a.data},e=function(r){var s,a,i,o;for(r=LM.call(r);r.length%4;)r.push(0);for(i=new Bh(r),a=0,s=0,o=r.length;s<o;s=s+=4)a+=i.readUInt32();return 4294967295&a},t})(),noe={}.hasOwnProperty,J0=function(e,t){for(var r in t)noe.call(t,r)&&(e[r]=t[r]);function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};a0=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var ioe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return J0(e,a0),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Bh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),OS=(function(){function e(t,r){var s,a,i,o,l,c,d,u,p,x,f,y,v,_,k,S,M;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(f=t.readUInt16(),x=f/2,t.pos+=6,i=(function(){var T,O;for(O=[],c=T=0;0<=x?T<x:T>x;c=0<=x?++T:--T)O.push(t.readUInt16());return O})(),t.pos+=2,v=(function(){var T,O;for(O=[],c=T=0;0<=x?T<x:T>x;c=0<=x?++T:--T)O.push(t.readUInt16());return O})(),d=(function(){var T,O;for(O=[],c=T=0;0<=x?T<x:T>x;c=0<=x?++T:--T)O.push(t.readUInt16());return O})(),u=(function(){var T,O;for(O=[],c=T=0;0<=x?T<x:T>x;c=0<=x?++T:--T)O.push(t.readUInt16());return O})(),a=(this.length-t.pos+this.offset)/2,l=(function(){var T,O;for(O=[],c=T=0;0<=a?T<a:T>a;c=0<=a?++T:--T)O.push(t.readUInt16());return O})(),c=k=0,M=i.length;k<M;c=++k)for(_=i[c],s=S=y=v[c];y<=_?S<=_:S>=_;s=y<=_?++S:--S)u[c]===0?o=s+d[c]:(o=l[u[c]/2+(s-y)-(x-c)]||0)!==0&&(o+=d[c]),this.codeMap[s]=65535&o}t.pos=p}return e.encode=function(t,r){var s,a,i,o,l,c,d,u,p,x,f,y,v,_,k,S,M,T,O,A,C,N,E,z,P,I,W,Z,Y,te,ie,le,se,oe,ee,B,q,Q,K,ae,ge,he,ke,Ae,We,fe;switch(Z=new Bh,o=Object.keys(t).sort(function(ht,De){return ht-De}),r){case"macroman":for(v=0,_=(function(){var ht=[];for(y=0;y<256;++y)ht.push(0);return ht})(),S={0:0},i={},Y=0,se=o.length;Y<se;Y++)S[ke=t[a=o[Y]]]==null&&(S[ke]=++v),i[a]={old:t[a],new:S[t[a]]},_[a]=S[t[a]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(_),{charMap:i,subtable:Z.data,maxGlyphID:v+1};case"unicode":for(I=[],p=[],M=0,S={},s={},k=d=null,te=0,oe=o.length;te<oe;te++)S[O=t[a=o[te]]]==null&&(S[O]=++M),s[a]={old:O,new:S[O]},l=S[O]-a,k!=null&&l===d||(k&&p.push(k),I.push(a),d=l),k=a;for(k&&p.push(k),p.push(65535),I.push(65535),z=2*(E=I.length),N=2*Math.pow(Math.log(E)/Math.LN2,2),x=Math.log(N/2)/Math.LN2,C=2*E-N,c=[],A=[],f=[],y=ie=0,ee=I.length;ie<ee;y=++ie){if(P=I[y],u=p[y],P===65535){c.push(0),A.push(0);break}if(P-(W=s[P].new)>=32768)for(c.push(0),A.push(2*(f.length+E-y)),a=le=P;P<=u?le<=u:le>=u;a=P<=u?++le:--le)f.push(s[a].new);else c.push(W-P),A.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*E+2*f.length),Z.writeUInt16(0),Z.writeUInt16(z),Z.writeUInt16(N),Z.writeUInt16(x),Z.writeUInt16(C),ge=0,B=p.length;ge<B;ge++)a=p[ge],Z.writeUInt16(a);for(Z.writeUInt16(0),he=0,q=I.length;he<q;he++)a=I[he],Z.writeUInt16(a);for(Ae=0,Q=c.length;Ae<Q;Ae++)l=c[Ae],Z.writeUInt16(l);for(We=0,K=A.length;We<K;We++)T=A[We],Z.writeUInt16(T);for(fe=0,ae=f.length;fe<ae;fe++)v=f[fe],Z.writeUInt16(v);return{charMap:s,subtable:Z.data,maxGlyphID:M+1}}},e})(),MM=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return J0(e,a0),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,s,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)r=new OS(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var s,a;return r==null&&(r="macroman"),s=OS.encode(t,r),(a=new Bh).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},e})(),ooe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return J0(e,a0),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),loe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return J0(e,a0),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,s;for(s=[],r=0;r<10;++r)s.push(t.readByte());return s})(),this.charRange=(function(){var r,s;for(s=[],r=0;r<4;++r)s.push(t.readInt());return s})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(t.readInt());return s})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),coe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return J0(e,a0),e.prototype.tag="post",e.prototype.parse=function(t){var r,s,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(s=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e})(),doe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},uoe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return J0(e,a0),e.prototype.tag="name",e.prototype.parse=function(t){var r,s,a,i,o,l,c,d,u,p,x;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),s=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=u=0,p=s.length;u<p;i=++u)a=s[i],t.pos=a.offset,d=t.readString(a.length),o=new doe(d,a),c[x=a.nameID]==null&&(c[x]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),hoe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return J0(e,a0),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),foe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return J0(e,a0),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,s,a,i,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,u;for(u=[],r=d=0;0<=a?d<a:d>a;r=0<=a?++d:--d)u.push(t.readInt16());return u})(),this.widths=(function(){var d,u,p,x;for(x=[],d=0,u=(p=this.metrics).length;d<u;d++)i=p[d],x.push(i.advance);return x}).call(this),s=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),LM=[].slice,moe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return J0(e,a0),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,s,a,i,o,l,c,d,u,p;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,s=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+s,o=(l=new Bh(r.read(a))).readShort(),d=l.readShort(),p=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[t]=o===-1?new xoe(l,d,p,c,u):new poe(l,o,d,p,c,u),this.cache[t]))},e.prototype.encode=function(t,r,s){var a,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)a=t[r[l]],i.push(o.length),a&&(o=o.concat(a.encode(s)));return i.push(o.length),{table:o,offsets:i}},e})(),poe=(function(){function e(t,r,s,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=s,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),xoe=(function(){function e(t,r,s,a,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,s;for(r=new Bh(LM.call(this.raw.data)),t=0,s=this.glyphIDs.length;t<s;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),goe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return J0(e,a0),e.prototype.tag="loca",e.prototype.parse=function(t){var r,s;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var s=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<s.length;++o)if(s[o]=a,i<r.length&&r[i]==o){++i,s[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var d=new Array(4*s.length),u=0;u<s.length;++u)d[4*u+3]=255&s[u],d[4*u+2]=(65280&s[u])>>8,d[4*u+1]=(16711680&s[u])>>16,d[4*u]=(4278190080&s[u])>>24;return d},e})(),voe=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,s,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)s=i[r],t[r]=a[s];return t},e.prototype.glyphsFor=function(t){var r,s,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(s=a[i])!=null&&s.compound&&r.push.apply(r,s.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))s=c[i],a[i]=s;return a},e.prototype.encode=function(t,r){var s,a,i,o,l,c,d,u,p,x,f,y,v,_,k;for(a in s=MM.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},k=s.charMap)f[(c=k[a]).old]=c.new;for(y in x=s.maxGlyphID,o)y in f||(f[y]=x++);return u=(function(S){var M,T;for(M in T={},S)T[S[M]]=M;return T})(f),p=Object.keys(u).sort(function(S,M){return S-M}),v=(function(){var S,M,T;for(T=[],S=0,M=p.length;S<M;S++)l=p[S],T.push(u[l]);return T})(),i=this.font.glyf.encode(o,v,f),d=this.font.loca.encode(i.offsets,v),_={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},e})();Mr.API.PDFObject=(function(){var e;function t(){}return e=function(r,s){return(Array(s+1).join("0")+r).slice(-s)},t.convert=function(r){var s,a,i,o;if(Array.isArray(r))return"["+(function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)s=r[l],d.push(t.convert(s));return d})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t})();function PM(e,t,r,s,a){s=s||{};var i=1.15,o=a.internal.scaleFactor,l=a.internal.getFontSize()/o,c=a.getLineHeightFactor?a.getLineHeightFactor():i,d=l*c,u=/\r\n|\r|\n/g,p="",x=1;if((s.valign==="middle"||s.valign==="bottom"||s.halign==="center"||s.halign==="right")&&(p=typeof e=="string"?e.split(u):e,x=p.length||1),r+=l*(2-i),s.valign==="middle"?r-=x/2*d:s.valign==="bottom"&&(r-=x*d),s.halign==="center"||s.halign==="right"){var f=l;if(s.halign==="center"&&(f*=.5),p&&x>=1){for(var y=0;y<p.length;y++)a.text(p[y],t-a.getStringUnitWidth(p[y])*f,r),r+=d;return a}t-=a.getStringUnitWidth(e)*f}return s.halign==="justify"?a.text(e,t,r,{maxWidth:s.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var BS={},cp=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:BS=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var s,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(s=this.jsPDFDocument).setFillColor.apply(s,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,s){return this.jsPDFDocument.splitTextToSize(t,r,s)},e.prototype.rect=function(t,r,s,a,i){return this.jsPDFDocument.rect(t,r,s,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return BS||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),v4=function(e,t){return v4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},v4(e,t)};function FM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");v4(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var DM=(function(e){FM(t,e);function t(r){var s=e.call(this)||this;return s._element=r,s}return t})(Array);function yoe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function boe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function hy(e,t,r){r.applyStyles(t,!0);var s=Array.isArray(e)?e:[e],a=s.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return a}function IM(e,t,r,s){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var o=RM(a,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),s.y-r.y,o)}function RM(e,t){var r=e>0,s=t||t===0;return r&&s?"DF":r?"S":s?"F":null}function ib(e,t){var r,s,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(s=e.top)!==null&&s!==void 0?s:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function OM(e,t){var r=ib(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function _oe(e,t,r,s,a){var i={},o=1.3333333333333333,l=dw(t,function(M){return a.getComputedStyle(M).backgroundColor});l!=null&&(i.fillColor=l);var c=dw(t,function(M){return a.getComputedStyle(M).color});c!=null&&(i.textColor=c);var d=Noe(s,r);d&&(i.cellPadding=d);var u="borderTopColor",p=o*r,x=s.borderTopWidth;if(s.borderBottomWidth===x&&s.borderRightWidth===x&&s.borderLeftWidth===x){var f=(parseFloat(x)||0)/p;f&&(i.lineWidth=f)}else i.lineWidth={top:(parseFloat(s.borderTopWidth)||0)/p,right:(parseFloat(s.borderRightWidth)||0)/p,bottom:(parseFloat(s.borderBottomWidth)||0)/p,left:(parseFloat(s.borderLeftWidth)||0)/p},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var y=dw(t,function(M){return a.getComputedStyle(M)[u]});y!=null&&(i.lineColor=y);var v=["left","right","center","justify"];v.indexOf(s.textAlign)!==-1&&(i.halign=s.textAlign),v=["middle","bottom","top"],v.indexOf(s.verticalAlign)!==-1&&(i.valign=s.verticalAlign);var _=parseInt(s.fontSize||"");isNaN(_)||(i.fontSize=_/o);var k=woe(s);k&&(i.fontStyle=k);var S=(s.fontFamily||"").toLowerCase();return e.indexOf(S)!==-1&&(i.font=S),i}function woe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function dw(e,t){var r=BM(e,t);if(!r)return null;var s=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!s||!Array.isArray(s))return null;var a=[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])],i=parseInt(s[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function BM(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:BM(e.parentElement,t):r}function Noe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],s=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(l){return parseInt(l||"0")/s}),o=ib(i,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function zM(e,t,r,s,a){var i,o;s===void 0&&(s=!1),a===void 0&&(a=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),u=[],p=[],x=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:u,body:p,foot:x};for(var f=0;f<l.rows.length;f++){var y=l.rows[f],v=(o=(i=y==null?void 0:y.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),_=koe(c,d,r,y,s,a);_&&(v==="thead"?u.push(_):v==="tfoot"?x.push(_):p.push(_))}return{head:u,body:p,foot:x}}function koe(e,t,r,s,a,i){for(var o=new DM(s),l=0;l<s.cells.length;l++){var c=s.cells[l],d=r.getComputedStyle(c);if(a||d.display!=="none"){var u=void 0;i&&(u=_oe(e,c,t,d,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:joe(c)})}}var p=r.getComputedStyle(s);if(o.length>0&&(a||p.display!=="none"))return o}function joe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Coe(e,t,r){for(var s=0,a=[e,t,r];s<a.length;s++){var i=a[s];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Nu(e,t,r,s,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function UM(e,t){var r=new cp(e),s=r.getDocumentOptions(),a=r.getGlobalOptions();Coe(a,s,t);var i=Nu({},a,s,t),o;typeof window<"u"&&(o=window);var l=Soe(a,s,t),c=Eoe(a,s,t),d=Aoe(r,i),u=Moe(r,i,o);return{id:t.tableId,content:u,hooks:c,styles:l,settings:d}}function Soe(e,t,r){for(var s={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var d=e[c],u=t[c],p=r[c];s.columnStyles=Nu({},d,u,p)}else{var x=[e,t,r],f=x.map(function(y){return y[c]||{}});s[c]=Nu({},f[0],f[1],f[2])}},i=0,o=Object.keys(s);i<o.length;i++){var l=o[i];a(l)}return s}function Eoe(e,t,r){for(var s=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=s;i<o.length;i++){var l=o[i];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function Aoe(e,t){var r,s,a,i,o,l,c,d,u,p,x,f,y=ib(t.margin,40/e.scaleFactor()),v=(r=Toe(e,t.startY))!==null&&r!==void 0?r:y.top,_;t.showFoot===!0?_="everyPage":t.showFoot===!1?_="never":_=(s=t.showFoot)!==null&&s!==void 0?s:"everyPage";var k;t.showHead===!0?k="everyPage":t.showHead===!1?k="never":k=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var S=(i=t.useCss)!==null&&i!==void 0?i:!1,M=t.theme||(S?"plain":"striped"),T=!!t.horizontalPageBreak,O=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:S,theme:M,startY:v,margin:y,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:k,showFoot:_,tableLineWidth:(p=t.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(x=t.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:T,horizontalPageBreakRepeat:O,horizontalPageBreakBehaviour:(f=t.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function Toe(e,t){var r=e.getLastAutoTable(),s=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/s:null}function Moe(e,t,r){var s=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var l=zM(e,t.html,r,o,t.useCss)||{};s=l.head||s,a=l.body||s,i=l.foot||s}else console.error("Cannot parse html in non browser environment")}var c=t.columns||Loe(s,a,i);return{columns:c,head:s,body:a,foot:i}}function Loe(e,t,r){var s=e[0]||t[0]||r[0]||[],a=[];return Object.keys(s).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,l;Array.isArray(s)?l=s[parseInt(i)]:l=s[i],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var d=void 0;Array.isArray(s)?d=a.length:d=i+(c>0?"_".concat(c):"");var u={dataKey:d};a.push(u)}}),a}var y4=(function(){function e(t,r,s){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=s,this.doc=t.getDocument()}return e})(),Poe=(function(e){FM(t,e);function t(r,s,a,i,o,l){var c=e.call(this,r,s,l)||this;return c.cell=a,c.row=i,c.column=o,c.section=i.section,c}return t})(y4),Foe=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,s){return r+s.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,s){return r+s.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,s,a,i,o){for(var l=0,c=r;l<c.length;l++){var d=c[l],u=new Poe(t,this,s,a,i,o),p=d(u)===!1;if(s.text=Array.isArray(s.text)?s.text:[s.text],p)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var s=0,a=this.hooks.didDrawPage;s<a.length;s++){var i=a[s];i(new y4(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var s=0,a=this.hooks.willDrawPage;s<a.length;s++){var i=a[s];i(new y4(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var s=this.settings.margin;return t-s.left-s.right}},e})(),$M=(function(){function e(t,r,s,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof DM&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=s,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(s,a){var i;return Math.max(s,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(s){var a=r.cells[s.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var s=this;return t.reduce(function(a,i){var o=s.cells[i.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),d=c+l;return d>a?d:a},0)},e})(),WM=(function(){function e(t,r,s){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=s,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var s;if(this.styles.halign==="right")s=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");s=this.x+a/2+this.padding("left")}else s=this.x+this.padding("left");return{x:s,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var s=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=s*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=ib(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),Doe=(function(){function e(t,r,s){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=s}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,s=0,a=t.allRows();s<a.length;s++){var i=a[s],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e})();function Ioe(e,t){Roe(e,t);var r=[],s=0;t.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(t);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),s+=i.width});var a=t.getWidth(e.pageSize().width)-s;a&&(a=b4(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=b4(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),Boe(t),zoe(t,e),Ooe(t)}function Roe(e,t){var r=e.scaleFactor(),s=t.settings.horizontalPageBreak,a=OM(e,t);t.allRows().forEach(function(i){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){var u=t.hooks.didParseCell;t.callCellHooks(e,u,d,i,c,null);var p=d.padding("horizontal");d.contentWidth=hy(d.text,d.styles,e)+p;var x=hy(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=x+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||s===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var f=10/r;d.minWidth=d.styles.minCellWidth||f,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(i){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var u=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},p=u.cellWidth||u.minCellWidth;p&&typeof p=="number"&&(c.minWidth=p,c.wrappedWidth=p)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function b4(e,t,r){for(var s=t,a=e.reduce(function(f,y){return f+y.wrappedWidth},0),i=0;i<e.length;i++){var o=e[i],l=o.wrappedWidth/a,c=s*l,d=o.width+c,u=r(o),p=d<u?u:d;t-=p-o.width,o.width=p}if(t=Math.round(t*1e10)/1e10,t){var x=e.filter(function(f){return t<0?f.width>r(f):!0});x.length&&(t=b4(x,t,r))}return t}function Ooe(e){for(var t={},r=1,s=e.allRows(),a=0;a<s.length;a++)for(var i=s[a],o=0,l=e.columns;o<l.length;o++){var c=l[o],d=t[c.index];if(r>1)r--,delete i.cells[c.index];else if(d)d.cell.height+=i.height,r=d.cell.colSpan,delete i.cells[c.index],d.left--,d.left<=1&&delete t[c.index];else{var u=i.cells[c.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var p=s.length-a,x=u.rowSpan>p?p:u.rowSpan;t[c.index]={cell:u,left:x,row:i}}}}}function Boe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var s=t[r],a=null,i=0,o=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(o-=1,o>1&&e.columns[l+1])i+=c.width,delete s.cells[c.index];else if(a){var d=a;delete s.cells[c.index],a=null,d.width=c.width+i}else{var d=s.cells[c.index];if(!d)continue;if(o=d.colSpan,i=0,d.colSpan>1){a=d,i+=c.width;continue}d.width=c.width+i}}}function zoe(e,t){for(var r={count:0,height:0},s=0,a=e.allRows();s<a.length;s++){for(var i=a[s],o=0,l=e.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){t.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,u+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=zS(d.text,u,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=zS(d.text,u,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var p=d.styles.overflow(d.text,u);typeof p=="string"?d.text=[p]:d.text=p}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var x=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<x*d.rowSpan?r={height:x,count:d.rowSpan}:r&&r.count>0&&r.height>x&&(x=r.height),x>i.height&&(i.height=x)}}r.count--}}function zS(e,t,r,s,a){return e.map(function(i){return Uoe(i,t,r,s,a)})}function Uoe(e,t,r,s,a){var i=1e4*s.scaleFactor();if(t=Math.ceil(t*i)/i,t>=hy(e,r,s))return e;for(;t<hy(e+a,r,s)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function HM(e,t){var r=new cp(e),s=$oe(t,r.scaleFactor()),a=new Foe(t,s);return Ioe(r,a),r.applyStyles(r.userStyles),a}function $oe(e,t){var r=e.content,s=Hoe(r.columns);if(r.head.length===0){var a=US(s,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=US(s,"foot");a&&r.foot.push(a)}var i=e.settings.theme,o=e.styles;return{columns:s,head:uw("head",r.head,s,o,i,t),body:uw("body",r.body,s,o,i,t),foot:uw("foot",r.foot,s,o,i,t)}}function uw(e,t,r,s,a,i){var o={},l=t.map(function(c,d){for(var u=0,p={},x=0,f=0,y=0,v=r;y<v.length;y++){var _=v[y];if(o[_.index]==null||o[_.index].left===0)if(f===0){var k=void 0;Array.isArray(c)?k=c[_.index-x-u]:k=c[_.dataKey];var S={};typeof k=="object"&&!Array.isArray(k)&&(S=(k==null?void 0:k.styles)||{});var M=Voe(e,_,d,a,s,i,S),T=new WM(k,M,e);p[_.dataKey]=T,p[_.index]=T,f=T.colSpan-1,o[_.index]={left:T.rowSpan-1,times:f}}else f--,x++;else o[_.index].left--,f=o[_.index].times,u++}return new $M(c,d,e,p)});return l}function US(e,t){var r={};return e.forEach(function(s){if(s.raw!=null){var a=Woe(t,s.raw);a!=null&&(r[s.dataKey]=a)}}),Object.keys(r).length>0?r:null}function Woe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function Hoe(e){return e.map(function(t,r){var s,a;return typeof t=="object"?a=(s=t.dataKey)!==null&&s!==void 0?s:r:a=r,new Doe(a,t,r)})}function Voe(e,t,r,s,a,i,o){var l=boe(s),c;e==="head"?c=a.headStyles:e==="body"?c=a.bodyStyles:e==="foot"&&(c=a.footStyles);var d=Nu({},l.table,l[e],a.styles,c),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},p=e==="body"?u:{},x=e==="body"&&r%2===0?Nu({},l.alternateRow,a.alternateRowStyles):{},f=yoe(i),y=Nu({},f,d,x,p);return Nu(y,o)}function Goe(e,t,r){var s;r===void 0&&(r={});var a=OM(e,t),i=new Map,o=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(x){var f=t.columns.find(function(y){return y.dataKey===x||y.index===x});f&&!i.has(f.index)&&(i.set(f.index,!0),o.push(f.index),l.push(t.columns[f.index]),a-=f.wrappedWidth)});for(var d=!0,u=(s=r==null?void 0:r.start)!==null&&s!==void 0?s:0;u<t.columns.length;){if(i.has(u)){u++;continue}var p=t.columns[u].wrappedWidth;if(d||a>=p)d=!1,o.push(u),l.push(t.columns[u]),a-=p;else break;u++}return{colIndexes:o,columns:l,lastIndex:u-1}}function qoe(e,t){for(var r=[],s=0;s<t.columns.length;s++){var a=Goe(e,t,{start:s});a.columns.length&&(r.push(a),s=a.lastIndex)}return r}function VM(e,t){var r=t.settings,s=r.startY,a=r.margin,i={x:a.left,y:s},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=s+a.bottom+o;if(r.pageBreak==="avoid"){var c=t.body,d=c.reduce(function(x,f){return x+f.height},0);l+=d}var u=new cp(e);(r.pageBreak==="always"||r.startY!=null&&l>u.pageSize().height)&&(qM(u),i.y=a.top),t.callWillDrawPageHooks(u,i);var p=Nu({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?Koe(u,t,p,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(x){return Fu(u,t,x,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(x,f){var y=f===t.body.length-1;fy(u,t,x,y,p,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(x){return Fu(u,t,x,i,t.columns)})),IM(u,t,p,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function Koe(e,t,r,s){var a=qoe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,u){e.applyStyles(e.userStyles),u>0?ix(e,t,r,s,d.columns,!0):$S(e,t,s,d.columns),Yoe(e,t,r,s,d.columns),hw(e,t,s,d.columns)});else for(var o=-1,l=a[0],c=function(){var d=o;if(l){e.applyStyles(e.userStyles);var u=l.columns;o>=0?ix(e,t,r,s,u,!0):$S(e,t,s,u),d=WS(e,t,o+1,s,u),hw(e,t,s,u)}var p=d-o;a.slice(1).forEach(function(x){e.applyStyles(e.userStyles),ix(e,t,r,s,x.columns,!0),WS(e,t,o+1,s,x.columns,p),hw(e,t,s,x.columns)}),o=d};o<t.body.length-1;)c()}function $S(e,t,r,s){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return Fu(e,t,i,r,s)})}function Yoe(e,t,r,s,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,o){var l=o===t.body.length-1;fy(e,t,i,l,r,s,a)})}function WS(e,t,r,s,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var o=Math.min(r+i,t.body.length),l=-1;return t.body.slice(r,o).forEach(function(c,d){var u=r+d===t.body.length-1,p=GM(e,t,u,s);c.canEntireRowFit(p,a)&&(Fu(e,t,c,s,a),l=r+d)}),l}function hw(e,t,r,s){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return Fu(e,t,i,r,s)})}function Zoe(e,t,r){var s=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/s);return Math.max(0,i)}function Xoe(e,t,r,s){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],d=e.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new WM(d.raw,d.styles,d.section);u=Nu(u,d),u.text=[];var p=Zoe(d,t,s);d.text.length>p&&(u.text=d.text.splice(p,d.text.length));var x=s.scaleFactor(),f=s.getLineHeightFactor();d.contentHeight=d.getContentHeight(x,f),d.contentHeight>=t&&(d.contentHeight=t,u.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),u.contentHeight=u.getContentHeight(x,f),u.contentHeight>i&&(i=u.contentHeight),a[c.index]=u}}var y=new $M(e.raw,-1,e.section,a,!0);y.height=i;for(var v=0,_=r.columns;v<_.length;v++){var c=_[v],u=y.cells[c.index];u&&(u.height=y.height);var d=e.cells[c.index];d&&(d.height=e.height)}return y}function Joe(e,t,r,s){var a=e.pageSize().height,i=s.settings.margin,o=i.top+i.bottom,l=a-o;t.section==="body"&&(l-=s.getHeadHeight(s.columns)+s.getFootHeight(s.columns));var c=t.getMinimumRowHeight(s.columns,e),d=c<r;if(c>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=t.hasRowSpan(s.columns),p=t.getMaxCellHeight(s.columns)>l;return p?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||s.settings.rowPageBreak==="avoid")}function fy(e,t,r,s,a,i,o){var l=GM(e,t,s,i);if(r.canEntireRowFit(l,o))Fu(e,t,r,i,o);else if(Joe(e,r,l,t)){var c=Xoe(r,l,t,e);Fu(e,t,r,i,o),ix(e,t,a,i,o),fy(e,t,c,s,a,i,o)}else ix(e,t,a,i,o),fy(e,t,r,s,a,i,o)}function Fu(e,t,r,s,a){s.x=t.settings.margin.left;for(var i=0,o=a;i<o.length;i++){var l=o[i],c=r.cells[l.index];if(!c){s.x+=l.width;continue}e.applyStyles(c.styles),c.x=s.x,c.y=s.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,s);if(d===!1){s.x+=l.width;continue}Qoe(e,c,s);var u=c.getTextPos();PM(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,s),s.x+=l.width}s.y+=r.height}function Qoe(e,t,r){var s=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof s.lineWidth=="number"){var a=RM(s.lineWidth,s.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof s.lineWidth=="object"&&(s.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),ele(e,t,r,s.lineWidth))}function ele(e,t,r,s){var a,i,o,l;s.top&&(a=r.x,i=r.y,o=r.x+t.width,l=r.y,s.right&&(o+=.5*s.right),s.left&&(a-=.5*s.left),c(s.top,a,i,o,l)),s.bottom&&(a=r.x,i=r.y+t.height,o=r.x+t.width,l=r.y+t.height,s.right&&(o+=.5*s.right),s.left&&(a-=.5*s.left),c(s.bottom,a,i,o,l)),s.left&&(a=r.x,i=r.y,o=r.x,l=r.y+t.height,s.top&&(i-=.5*s.top),s.bottom&&(l+=.5*s.bottom),c(s.left,a,i,o,l)),s.right&&(a=r.x+t.width,i=r.y,o=r.x+t.width,l=r.y+t.height,s.top&&(i-=.5*s.top),s.bottom&&(l+=.5*s.bottom),c(s.right,a,i,o,l));function c(d,u,p,x,f){e.getDocument().setLineWidth(d),e.getDocument().line(u,p,x,f,"S")}}function GM(e,t,r,s){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-s.y-a}function ix(e,t,r,s,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(l){return Fu(e,t,l,s,a)}),t.callEndPageHooks(e,s);var o=t.settings.margin;IM(e,t,r,s),qM(e),t.pageNumber++,s.x=o.left,s.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,s),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return Fu(e,t,l,s,a)}),e.applyStyles(e.userStyles))}function qM(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function tle(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var s=t[0],a=UM(this,s),i=HM(this,a);return VM(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,s,a){PM(t,r,s,a,this)},e.API.autoTableSetDefaults=function(t){return cp.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){cp.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var s;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new cp(this),i=zM(a,t,window,r,!1),o=i.head,l=i.body,c=((s=o[0])===null||s===void 0?void 0:s.map(function(d){return d.content}))||[];return{columns:c,rows:l,data:l}}}var fw;function rle(e,t){var r=UM(e,t),s=HM(e,r);VM(e,s)}try{if(typeof window<"u"&&window){var HS=window,VS=HS.jsPDF||((fw=HS.jspdf)===null||fw===void 0?void 0:fw.jsPDF);VS&&tle(VS)}}catch(e){console.error("Could not apply autoTable plugin",e)}class sle{constructor(){zt(this,"logs",[]);zt(this,"MAX_LOGS",100)}async logExport(t,r,s,a,i,o){const l={timestamp:new Date().toISOString(),action:t,title:r,recordCount:s,columnCount:a,status:i,errorMessage:o==null?void 0:o.errorMessage,duration:o==null?void 0:o.duration,userId:o==null?void 0:o.userId,filters:o==null?void 0:o.filters};this.logs.push(l),this.logs.length>this.MAX_LOGS&&(this.logs=this.logs.slice(-this.MAX_LOGS)),this.logToConsole(l),await this.sendToBackend(l)}async sendToBackend(t){try{const s={action:`EXPORT_${t.action}`,entity_type:"export",entity_id:`${t.title}_${t.timestamp}`,details:`${t.title} - ${t.recordCount} records, ${t.columnCount} columns`,status:t.status==="SUCCESS"?"success":t.status==="FAILED"?"failure":"pending",event_category:"file_operation",new_values:{title:t.title,recordCount:t.recordCount,columnCount:t.columnCount,duration:t.duration,filters:t.filters,errorMessage:t.errorMessage}};await Pt.post(`${Bt}/audit-logs`,s,{withCredentials:!0}),console.log("[v0] Export logged to backend audit system")}catch(r){console.warn("[v0] Failed to log export to backend:",r)}}logToConsole(t){const r={EXCEL:"#4CAF50",PDF:"#FF6B6B",PRINT:"#2196F3",CSV:"#FF9800"},s={SUCCESS:"#4CAF50",FAILED:"#FF6B6B",STARTED:"#FFC107"},a=r[t.action],i=s[t.status];console.group(`%c[EXPORT] %c${t.action}%c - ${t.title}`,"color: #666; font-weight: bold;",`color: white; background-color: ${a}; padding: 2px 6px; border-radius: 3px; font-weight: bold;`,"color: #333;"),console.log(`%cStatus: %c${t.status}`,"font-weight: bold;",`color: white; background-color: ${i}; padding: 2px 6px; border-radius: 3px;`),console.log(`%cTimestamp: %c${t.timestamp}`,"font-weight: bold;","color: #666;"),console.log(`%cRecords: %c${t.recordCount}`,"font-weight: bold;","color: #333;"),console.log(`%cColumns: %c${t.columnCount}`,"font-weight: bold;","color: #333;"),t.duration&&console.log(`%cDuration: %c${t.duration}ms`,"font-weight: bold;","color: #666;"),t.filters&&Object.keys(t.filters).length>0&&console.log("%cActive Filters:","font-weight: bold;",t.filters),t.errorMessage&&console.error(`%cError: %c${t.errorMessage}`,"font-weight: bold;","color: #FF6B6B;"),console.groupEnd()}getLogs(){return[...this.logs]}clearLogs(){this.logs=[]}getStatistics(){const t=[...this.logs],r=t.filter(s=>s.status==="SUCCESS");return{totalExports:t.length,byAction:{EXCEL:t.filter(s=>s.action==="EXCEL").length,PDF:t.filter(s=>s.action==="PDF").length,PRINT:t.filter(s=>s.action==="PRINT").length,CSV:t.filter(s=>s.action==="CSV").length},successRate:t.length>0?r.length/t.length*100:0,totalRecordsExported:r.reduce((s,a)=>s+a.recordCount,0)}}}const C0=new sle,ale=({value:e,onChange:t,options:r,placeholder:s="Select option",className:a=""})=>{const[i,o]=U.useState(!1),l=r.find(c=>c.value===e);return n.jsxs("div",{className:`relative ${a}`,children:[n.jsxs("button",{type:"button",onClick:()=>o(!i),className:"w-full px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm text-left bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent flex items-center justify-between",children:[n.jsx("span",{className:l?"text-gray-900":"text-gray-500",children:l?l.label:s}),n.jsx(q0,{className:`w-3 h-3 sm:w-4 sm:h-4 text-gray-400 transition-transform ${i?"rotate-180":""}`})]}),i&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),n.jsx("div",{className:"absolute z-20 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-y-auto",children:r.map(c=>n.jsx("button",{type:"button",onClick:()=>{t(c.value),o(!1)},className:`w-full px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm text-left hover:bg-gray-50 focus:outline-none focus:bg-gray-50 ${e===c.value?"bg-purple-50 text-purple-700":"text-gray-900"}`,children:c.label},c.value))})]})]})},Yh=({isOpen:e,onClose:t,filterOptions:r,activeFilters:s,onFilterChange:a,onClearAll:i,hasActiveFilters:o,filteredData:l=[],columns:c=[],exportTitle:d="Filtered Data"})=>{const u=async()=>{if(!l.length||!c.length){console.warn("No data or columns available for export");return}const f=performance.now();await C0.logExport("EXCEL",d,l.length,c.length,"STARTED");try{const y=l.map(O=>{const A={};return c.forEach(C=>{var E;let N;if(typeof C.accessor=="function"?N=C.accessor(O):N=O[C.accessor],C.cell&&typeof C.cell=="function"){const z=C.cell(N);typeof z=="object"&&((E=z==null?void 0:z.props)!=null&&E.children)?N=z.props.children:(typeof z=="string"||typeof z=="number")&&(N=z)}typeof N=="object"&&N!==null&&(N=String(N)),A[C.header]=N||""}),A}),v=Df.book_new(),_=Df.json_to_sheet(y),k=c.map(O=>({wch:Math.max(O.header.length,15)}));_["!cols"]=k,Df.book_append_sheet(v,_,d);const S=new Date().toISOString().split("T")[0],M=`${d.replace(/\s+/g,"_")}_${S}.xlsx`;vae(v,M);const T=performance.now()-f;await C0.logExport("EXCEL",d,l.length,c.length,"SUCCESS",{duration:Math.round(T),filters:s})}catch(y){const v=performance.now()-f;await C0.logExport("EXCEL",d,l.length,c.length,"FAILED",{errorMessage:y instanceof Error?y.message:"Unknown error",duration:Math.round(v),filters:s}),console.error("[v0] Excel export failed:",y)}},p=async()=>{if(!l.length||!c.length){console.warn("No data or columns available for export");return}const f=performance.now();await C0.logExport("PDF",d,l.length,c.length,"STARTED");try{const y=new Mr("l","mm","a4");y.addImage(g7,"PNG",14,8,20,20),y.setFontSize(16),y.text(d,40,20),y.setFontSize(10),y.text(`Exported on: ${new Date().toLocaleDateString()}`,40,28);const v=c.map(T=>T.header),_=l.map(T=>c.map(O=>{var C;let A=typeof O.accessor=="function"?O.accessor(T):T[O.accessor];if(O.cell&&typeof O.cell=="function"){const N=O.cell(A);A=typeof N=="object"&&((C=N==null?void 0:N.props)!=null&&C.children)?N.props.children:N}return typeof A=="object"&&A!==null&&(A=String(A)),String(A||"")}));rle(y,{head:[v],body:_,startY:40,styles:{fontSize:8},headStyles:{fillColor:[147,51,234]},margin:{top:40}});const k=new Date().toISOString().split("T")[0],S=`${d.replace(/\s+/g,"_")}_${k}.pdf`;y.save(S);const M=performance.now()-f;await C0.logExport("PDF",d,l.length,c.length,"SUCCESS",{duration:Math.round(M),filters:s})}catch(y){const v=performance.now()-f;await C0.logExport("PDF",d,l.length,c.length,"FAILED",{errorMessage:y instanceof Error?y.message:"Unknown error",duration:Math.round(v),filters:s}),console.error("[v0] PDF export failed:",y)}},x=async()=>{if(!l.length||!c.length){console.warn("No data or columns available for printing");return}const f=performance.now();await C0.logExport("PRINT",d,l.length,c.length,"STARTED");try{const y=window.open("","_blank");if(!y){console.error("Failed to open print window"),await C0.logExport("PRINT",d,l.length,c.length,"FAILED",{errorMessage:"Failed to open print window",filters:s});return}let v=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>${d}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            h1 { color: #7c3aed; margin-bottom: 10px; }
            .export-info { margin-bottom: 20px; font-size: 12px; color: #666; }
            table { width: 100%; border-collapse: collapse; margin-top: 20px; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #7c3aed; color: white; font-weight: bold; }
            tr:nth-child(even) { background-color: #f9f9f9; }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <h1>${d}</h1>
          <div class="export-info">
            <p>Exported on: ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}</p>
            <p>Total records: ${l.length}</p>
          </div>
          <table>
            <thead>
              <tr>
                ${c.map(_=>`<th>${_.header}</th>`).join("")}
              </tr>
            </thead>
            <tbody>
      `;l.forEach(_=>{v+="<tr>",c.forEach(k=>{var M;let S;if(typeof k.accessor=="function"?S=k.accessor(_):S=_[k.accessor],k.cell&&typeof k.cell=="function"){const T=k.cell(S);typeof T=="object"&&((M=T==null?void 0:T.props)!=null&&M.children)?S=T.props.children:(typeof T=="string"||typeof T=="number")&&(S=T)}typeof S=="object"&&S!==null&&(S=String(S)),v+=`<td>${String(S||"").replace(/</g,"&lt;").replace(/>/g,"&gt;")}</td>`}),v+="</tr>"}),v+=`
            </tbody>
          </table>
        </body>
        </html>
      `,y.document.write(v),y.document.close(),y.onload=async()=>{y.print(),y.close();const _=performance.now()-f;await C0.logExport("PRINT",d,l.length,c.length,"SUCCESS",{duration:Math.round(_),filters:s})}}catch(y){const v=performance.now()-f;await C0.logExport("PRINT",d,l.length,c.length,"FAILED",{errorMessage:y instanceof Error?y.message:"Unknown error",duration:Math.round(v),filters:s}),console.error("[v0] Print failed:",y)}};return e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity duration-300 filterModal",onClick:t}),n.jsxs("div",{className:"fixed inset-y-0 right-0 w-full sm:w-80 lg:w-96 bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out flex flex-col filterModal rounded-tl-lg",children:[n.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 border-b border-gray-200 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Nn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600"}),n.jsxs("h2",{className:"text-sm sm:text-base font-semibold text-gray-900",children:[n.jsx("span",{className:"hidden sm:inline",children:"Filters & Export"}),n.jsx("span",{className:"sm:hidden",children:"Filters"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[l.length>0&&c.length>0&&n.jsxs("div",{className:"flex space-x-1 print_export",children:[n.jsx(Be,{variant:"ghost",size:"sm",onClick:x,className:"p-1 sm:p-1.5 hover:bg-gray-100 rounded",children:n.jsx(xp,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),n.jsx(Be,{variant:"ghost",size:"sm",onClick:u,className:"p-1 sm:p-1.5 hover:bg-gray-100 rounded",children:n.jsx(h7,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),n.jsx(Be,{variant:"ghost",size:"sm",onClick:p,className:"p-1 sm:p-1.5 hover:bg-gray-100 rounded",children:n.jsx(Ya,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),n.jsx(Be,{variant:"ghost",size:"sm",onClick:t,className:"p-1 sm:p-1.5 hover:bg-gray-100 rounded-full",children:n.jsx(Bs,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-2 sm:p-3 space-y-3 sm:space-y-4",children:[r.map(f=>n.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:f.label}),n.jsx(ale,{value:s[f.key]||"",onChange:y=>a(f.key,y||void 0),options:[{value:"",label:`All ${f.label}`},...f.options.map(y=>({value:y,label:y}))],placeholder:`All ${f.label}`})]},f.key)),o&&n.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[n.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Active Filters"}),n.jsx("div",{className:"space-y-1",children:Object.entries(s).map(([f,y])=>{if(!y)return null;const v=r.find(_=>_.key===f);return n.jsxs("div",{className:"flex items-center justify-between p-1.5 sm:p-2 bg-purple-50 rounded-md",children:[n.jsxs("span",{className:"text-xs sm:text-sm text-purple-800 truncate pr-2",children:[v==null?void 0:v.label,": ",y]}),n.jsx(Be,{variant:"ghost",size:"sm",onClick:()=>a(f,void 0),className:"p-0.5 sm:p-1 text-purple-600 hover:text-purple-800 flex-shrink-0",children:n.jsx(Bs,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]},f)})})]})]}),n.jsxs("div",{className:"p-2 sm:p-3 border-t border-gray-200 space-y-2 flex-shrink-0",children:[o&&n.jsx(Be,{variant:"secondary",onClick:i,className:"w-full text-xs sm:text-sm py-1.5 sm:py-2",children:"Clear All Filters"}),n.jsx(Be,{variant:"primary",onClick:t,className:"w-full bg-purple-600 hover:bg-purple-700 text-xs sm:text-sm py-1.5 sm:py-2",children:"Apply Filters"})]})]})]}):null};async function Ng(e,t,r){try{const s={action:"CATEGORY_VIEW",entity_type:"asset_category",entity_id:e,details:`Visited ${t} category`,status:"success",event_category:"asset_access",new_values:{categoryType:e,categoryName:t,timestamp:new Date().toISOString(),source:"frontend",...r}};await Pt.post(`${Bt}/audit-logs`,s,{withCredentials:!0}),console.log(`[v0] Category visit logged: ${t}`)}catch(s){console.warn("[v0] Failed to log category visit:",s)}}const nle=()=>{const e=Vr(),{buildings:t,fetchBuildings:r,isLoading:s}=ug(),[a,i]=U.useState(1),[o]=U.useState(10),[l,c]=U.useState(!1),[d,u]=U.useState({});U.useEffect(()=>{Ng("BUILDINGS_REGISTER","Buildings Register",{buildingCount:(t==null?void 0:t.length)||0}),r()},[r]);const p=U.useMemo(()=>{if(!t||t.length===0)return[];const A=z=>z!=null&&z!=="",C=Array.from(new Set(t.map(z=>z.location).filter(A))).sort(),N=Array.from(new Set(t.map(z=>z.type_of_building).filter(A))).sort(),E=Array.from(new Set(t.map(z=>z.building_ownership).filter(A))).sort();return[{key:"location",label:"Location",options:C},{key:"buildingType",label:"Building Type",options:N},{key:"ownership",label:"Ownership",options:E}]},[t]),x=U.useMemo(()=>t?t.filter(A=>!(d.location&&A.location!==d.location||d.buildingType&&A.type_of_building!==d.buildingType||d.ownership&&A.building_ownership!==d.ownership)):[],[t,d]),f=U.useMemo(()=>{const A=x.length,C=x.filter(te=>{var ie;return((ie=te.building_ownership)==null?void 0:ie.toLowerCase())==="government"}).length,N=x.filter(te=>{var ie;return((ie=te.building_ownership)==null?void 0:ie.toLowerCase())==="private"}).length,E=x.filter(te=>{var ie;return((ie=te.building_ownership)==null?void 0:ie.toLowerCase())==="leased"}).length,z=x.reduce((te,ie)=>te+(ie.net_book_value||0),0),P=4.2,I=6.8,W=3.5,Z=-1.2,Y=(te,ie)=>Array.from({length:7},()=>Math.max(0,te+(Math.random()-.5)*ie));return{total:{value:A,trend:P,subtitle:`Ksh ${z.toLocaleString()} total value`,sparkline:Y(A,A*.1)},government:{value:C,trend:I,subtitle:`${A>0?(C/A*100).toFixed(1):0}% of total buildings`,sparkline:Y(C,C*.2)},private:{value:N,trend:W,subtitle:`${A>0?(N/A*100).toFixed(1):0}% of total buildings`,sparkline:Y(N,N*.15)},leased:{value:E,trend:Z,subtitle:`${A>0?(E/A*100).toFixed(1):0}% of total buildings`,sparkline:Y(E,E*.3)}}},[x]),y=Object.values(d).some(Boolean),v=(A,C)=>{u(N=>({...N,[A]:C})),i(1)},_=()=>{u({}),i(1)},k=A=>{e(`/categories/buildings/${A.id}`)},S=A=>{e(`/categories/buildings/${A.id}/edit`)},M=[{header:"#",accessor:(A,C)=>C!==void 0?(a-1)*o+C+1:0,sortable:!1},{header:"Building Name",accessor:"description_name_of_building",sortable:!0},{header:"Location",accessor:"location",sortable:!0,cell:A=>A||"N/A"},{header:"Land Area (ha)",accessor:"size_of_land_ha",sortable:!0,cell:A=>A?`${A} ha`:"N/A"},{header:"Building Area (m)",accessor:"plinth_area",sortable:!0,cell:A=>A?`${A} m`:"N/A"},{header:"Building Type",accessor:"type_of_building",sortable:!0,cell:A=>A||"N/A"},{header:"Ownership",accessor:"building_ownership",sortable:!0,cell:A=>n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A==="Government"?"bg-blue-100 text-blue-800":A==="Private"?"bg-green-100 text-green-800":A==="Leased"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:A||"N/A"})},{header:"Net Book Value",accessor:"net_book_value",sortable:!0,cell:A=>A?`Ksh. ${A.toLocaleString()}`:"N/A"}],T=A=>n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-accent-600 rounded transition-colors hover:text-accent-800 hover:bg-accent-100 dark:hover:bg-accent-900/20",title:"View Building Details",onClick:C=>{C.stopPropagation(),k(A)},children:n.jsx(Xl,{size:18})}),n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-success-600 rounded transition-colors hover:text-success-800 hover:bg-success-100 dark:hover:bg-success-900/20",title:"Edit Building",onClick:C=>{C.stopPropagation(),S(A)},children:n.jsx(Iu,{size:18})})]}),O=({data:A,color:C})=>{const N=Math.max(...A),E=Math.min(...A),z=N-E||1;return n.jsx("div",{className:"flex items-end h-8 gap-0.5",children:A.map((P,I)=>{const W=(P-E)/z*100;return n.jsx("div",{className:`flex-1 ${C} rounded-sm transition-all`,style:{height:`${W}%`,minHeight:"2px"}},I)})})};return n.jsxs("div",{className:"min-h-screen bg-primary-50 dark:bg-primary-950",children:[n.jsxs("div",{children:[n.jsx("nav",{className:"sticky top-0 z-10 bg-white border-b border-primary-200 shadow-sm dark:bg-primary-900 dark:border-primary-800",children:n.jsx("div",{className:"px-2 sm:px-4 lg:px-6",children:n.jsxs("div",{className:"flex items-center py-2 space-x-2 text-sm text-primary-600 dark:text-primary-400",children:[n.jsxs(Lr,{to:"/",className:"flex items-center transition-colors hover:text-accent-600 dark:hover:text-accent-400",children:[n.jsx(ln,{size:16,className:"mr-1"}),"Home"]}),n.jsx(Dr,{size:16}),n.jsx(Lr,{to:"/asset-categories",className:"transition-colors hover:text-accent-600 dark:hover:text-accent-400",children:"Asset Categories"}),n.jsx(Dr,{size:16}),n.jsx("span",{className:"flex items-center font-medium text-primary-900 dark:text-primary-100",children:"Buildings Register"})]})})}),n.jsx("header",{className:"bg-white border-b border-primary-200 shadow-sm dark:bg-primary-900 dark:border-primary-800",children:n.jsx("div",{className:"px-2 sm:px-4 lg:px-6",children:n.jsxs("div",{className:"flex justify-between items-center py-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(yx,{className:"w-8 h-8 text-accent-600 dark:text-accent-400"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg sm:text-xl font-bold text-primary-900 dark:text-primary-100",children:"Buildings Register"}),n.jsx("p",{className:"text-xs sm:text-sm text-primary-600 dark:text-primary-400",children:"Manage and track all building assets"})]}),y&&n.jsxs("span",{className:"px-2 py-1 text-xs font-medium text-accent-700 bg-accent-50 border border-accent-200 rounded-full dark:bg-accent-900/30 dark:text-accent-300 dark:border-accent-700",children:[Object.values(d).filter(Boolean).length," filter",Object.values(d).filter(Boolean).length>1?"s":""," ","active"]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Be,{variant:"secondary",size:"sm",leftIcon:n.jsx(Nn,{size:14}),onClick:()=>c(!0),className:`hidden sm:flex ${y?"bg-accent-50 text-accent-700 border border-accent-200 hover:bg-accent-100 dark:bg-accent-900/30 dark:text-accent-300 dark:border-accent-700 dark:hover:bg-accent-800/30":"text-primary-700 hover:bg-primary-100 dark:text-primary-300 dark:hover:bg-primary-800/30"}`,children:"Filter"}),n.jsx(Be,{variant:"secondary",size:"sm",className:`sm:hidden h-10 w-10 p-2 flex items-center justify-center ${y?"bg-accent-50 text-accent-700 border border-accent-200 hover:bg-accent-100 dark:bg-accent-900/30 dark:text-accent-300 dark:border-accent-700 dark:hover:bg-accent-800/30":"text-primary-700 hover:bg-primary-100 dark:text-primary-300 dark:hover:bg-primary-800/30"}`,onClick:()=>c(!0),children:n.jsx(Nn,{size:18})}),n.jsx(Be,{variant:"secondary",size:"sm",leftIcon:n.jsx(Xd,{size:14}),className:"hidden sm:flex text-primary-700 hover:bg-primary-100 dark:text-primary-300 dark:hover:bg-primary-800/30",children:"Export"}),n.jsx(Be,{variant:"secondary",size:"sm",className:"sm:hidden h-10 w-10 p-2 flex items-center justify-center text-primary-700 hover:bg-primary-100 dark:text-primary-300 dark:hover:bg-primary-800/30",children:n.jsx(Xd,{size:18})}),n.jsx(Be,{variant:"primary",size:"sm",leftIcon:n.jsx(ri,{size:14}),onClick:()=>e("/categories/buildings/new"),className:"hidden sm:flex bg-success-600 hover:bg-success-700 text-white dark:bg-success-500 dark:hover:bg-success-600",children:"Add Building"}),n.jsx(Be,{variant:"primary",size:"sm",onClick:()=>e("/categories/buildings/new"),className:"sm:hidden h-10 w-10 p-2 flex items-center justify-center bg-success-600 hover:bg-success-700 text-white dark:bg-success-500 dark:hover:bg-success-600",children:n.jsx(ri,{size:18})})]})]})})})]}),n.jsx("main",{className:"px-2 py-4 sm:px-4 sm:py-6 lg:px-6 lg:py-8",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-green-500 to-green-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(yx,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.total.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.total.trend>=0?"text-green-200":"text-red-200"}`,children:[f.total.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.total.trend),"%"]})]}),n.jsxs("p",{className:"text-sm text-green-100 mb-3",children:[y?"Filtered":"Total"," Buildings"]}),n.jsx("p",{className:"text-xs text-green-200 mb-2",children:f.total.subtitle}),n.jsx(O,{data:f.total.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-500 to-blue-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(t5,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.government.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.government.trend>=0?"text-green-200":"text-red-200"}`,children:[f.government.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.government.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-blue-100 mb-3",children:"Government"}),n.jsx("p",{className:"text-xs text-blue-200 mb-2",children:f.government.subtitle}),n.jsx(O,{data:f.government.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-emerald-500 to-emerald-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(ln,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.private.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.private.trend>=0?"text-green-200":"text-red-200"}`,children:[f.private.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.private.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-emerald-100 mb-3",children:"Private"}),n.jsx("p",{className:"text-xs text-emerald-200 mb-2",children:f.private.subtitle}),n.jsx(O,{data:f.private.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-yellow-500 to-yellow-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(Rw,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.leased.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.leased.trend>=0?"text-green-200":"text-red-200"}`,children:[f.leased.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.leased.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-yellow-100 mb-3",children:"Leased"}),n.jsx("p",{className:"text-xs text-yellow-200 mb-2",children:f.leased.subtitle}),n.jsx(O,{data:f.leased.sparkline,color:"bg-white/30"})]})]})})]}),s?n.jsxs("div",{className:"flex justify-center items-center py-12 space-x-2 text-primary-600 dark:text-primary-400",children:[n.jsxs("svg",{className:"w-5 h-5 text-accent-600 animate-spin dark:text-accent-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),n.jsx("span",{className:"text-sm font-medium",children:"Loading buildings..."})]}):n.jsx(it,{className:"p-2 sm:p-3",children:n.jsx(r0,{data:x,columns:M,keyField:"id",onRowClick:k,actions:T,searchable:!0,pagination:!0,pageSize:o,currentPage:a,onPageChange:i})})]})}),n.jsx(Yh,{isOpen:l,onClose:()=>c(!1),filterOptions:p,activeFilters:d,onFilterChange:v,onClearAll:_,hasActiveFilters:y,filteredData:x,columns:M.map(A=>({header:A.header,accessor:(typeof A.accessor=="function",A.accessor),cell:A.cell})),exportTitle:"Buildings Register"})]})};function KM(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=KM(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Vm(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=KM(e))&&(s&&(s+=" "),s+=t);return s}const d3=e=>typeof e=="number"&&!isNaN(e),ox=e=>typeof e=="string",YM=e=>typeof e=="function",ile=e=>U.isValidElement(e)||ox(e)||YM(e)||d3(e);function ole(e,t,r){r===void 0&&(r=300);const{scrollHeight:s,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=s+"px",a.transition=`all ${r}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,r)})})}function ob(e){let{enter:t,exit:r,appendPosition:s=!1,collapse:a=!0,collapseDuration:i=300}=e;return function(o){let{children:l,position:c,preventExitTransition:d,done:u,nodeRef:p,isIn:x,playToast:f}=o;const y=s?`${t}--${c}`:t,v=s?`${r}--${c}`:r,_=U.useRef(0);return U.useLayoutEffect(()=>{const k=p.current,S=y.split(" "),M=T=>{T.target===p.current&&(f(),k.removeEventListener("animationend",M),k.removeEventListener("animationcancel",M),_.current===0&&T.type!=="animationcancel"&&k.classList.remove(...S))};k.classList.add(...S),k.addEventListener("animationend",M),k.addEventListener("animationcancel",M)},[]),U.useEffect(()=>{const k=p.current,S=()=>{k.removeEventListener("animationend",S),a?ole(k,u,i):u()};x||(d?S():(_.current=1,k.className+=` ${v}`,k.addEventListener("animationend",S)))},[x]),Fi.createElement(Fi.Fragment,null,l)}}const I0=new Map;let _4=[];const GS=new Set,ZM=()=>I0.size>0;function lle(e,t){var r;if(t)return!((r=I0.get(t))==null||!r.isToastActive(e));let s=!1;return I0.forEach(a=>{a.isToastActive(e)&&(s=!0)}),s}function cle(e,t){ile(e)&&(ZM()||_4.push({content:e,options:t}),I0.forEach(r=>{r.buildToast(e,t)}))}function qS(e,t){I0.forEach(r=>{t!=null&&t!=null&&t.containerId?(t==null?void 0:t.containerId)===r.id&&r.toggle(e,t==null?void 0:t.id):r.toggle(e,t==null?void 0:t.id)})}let dle=1;const XM=()=>""+dle++;function ule(e){return e&&(ox(e.toastId)||d3(e.toastId))?e.toastId:XM()}function lx(e,t){return cle(e,t),t.toastId}function my(e,t){return{...t,type:t&&t.type||e,toastId:ule(t)}}function K2(e){return(t,r)=>lx(t,my(e,r))}function Ke(e,t){return lx(e,my("default",t))}Ke.loading=(e,t)=>lx(e,my("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Ke.promise=function(e,t,r){let s,{pending:a,error:i,success:o}=t;a&&(s=ox(a)?Ke.loading(a,r):Ke.loading(a.render,{...r,...a}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(u,p,x)=>{if(p==null)return void Ke.dismiss(s);const f={type:u,...l,...r,data:x},y=ox(p)?{render:p}:p;return s?Ke.update(s,{...f,...y}):Ke(y.render,{...f,...y}),x},d=YM(e)?e():e;return d.then(u=>c("success",o,u)).catch(u=>c("error",i,u)),d},Ke.success=K2("success"),Ke.info=K2("info"),Ke.error=K2("error"),Ke.warning=K2("warning"),Ke.warn=Ke.warning,Ke.dark=(e,t)=>lx(e,my("default",{theme:"dark",...t})),Ke.dismiss=function(e){(function(t){var r;if(ZM()){if(t==null||ox(r=t)||d3(r))I0.forEach(s=>{s.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const s=I0.get(t.containerId);s?s.removeToast(t.id):I0.forEach(a=>{a.removeToast(t.id)})}}else _4=_4.filter(s=>t!=null&&s.options.toastId!==t)})(e)},Ke.clearWaitingQueue=function(e){e===void 0&&(e={}),I0.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},Ke.isActive=lle,Ke.update=function(e,t){t===void 0&&(t={});const r=((s,a)=>{var i;let{containerId:o}=a;return(i=I0.get(o||1))==null?void 0:i.toasts.get(s)})(e,t);if(r){const{props:s,content:a}=r,i={delay:100,...s,...t,toastId:t.toastId||e,updateId:XM()};i.toastId!==e&&(i.staleId=e);const o=i.render||a;delete i.render,lx(o,i)}},Ke.done=e=>{Ke.update(e,{progress:1})},Ke.onChange=function(e){return GS.add(e),()=>{GS.delete(e)}},Ke.play=e=>qS(!0,e),Ke.pause=e=>qS(!1,e);const lb=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}};ob(lb("bounce",!0));ob(lb("slide",!0));ob(lb("zoom"));ob(lb("flip"));const hle=({show:e,data:t,onConfirm:r,onCancel:s,isLoading:a})=>{const[i,o]=U.useState([]),[l,c]=U.useState(null),[d,u]=U.useState(null);U.useEffect(()=>{o([...t])},[t]);const p=(_,k,S)=>{const M=[...i];M[_]={...M[_],[k]:S},o(M)},x=_=>{const k=i.filter((S,M)=>M!==_);o(k)},f=(_,k)=>{c(_),u(k)},y=()=>{c(null),u(null)},v=(_,k,S,M="text",T)=>l===k&&d===S?M==="select"&&T?n.jsxs("select",{value:_||"",onChange:A=>p(k,S,A.target.value),onBlur:y,autoFocus:!0,className:"px-2 py-1 w-full text-sm rounded border border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select..."}),T.map(A=>n.jsx("option",{value:A,children:A},A))]}):n.jsx("input",{type:M,value:_||"",onChange:A=>p(k,S,A.target.value),onBlur:y,autoFocus:!0,className:"px-2 py-1 w-full text-sm rounded border border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500"}):n.jsxs("div",{onClick:()=>f(k,S),className:"px-2 py-1 text-sm rounded cursor-pointer hover:bg-blue-50 group",title:"Click to edit",children:[n.jsx("span",{className:"group-hover:hidden",children:_||""}),n.jsxs("span",{className:"hidden group-hover:inline-flex items-center gap-1 text-blue-600",children:[n.jsx(r5,{size:12}),_||"Click to edit"]})]});return e?n.jsx("div",{className:"flex fixed inset-0 z-50 justify-center items-center p-4 bg-black bg-opacity-50 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-[95vw] max-h-[95vh] relative overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"sticky top-0 z-20 p-6 pb-4 bg-white border-b",children:[n.jsx("h3",{className:"text-xl font-bold",children:"Confirm Building Excel Data"}),n.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Review and edit the data before uploading. Click any field to edit it."}),n.jsxs("div",{className:"flex items-center gap-2 mt-3 p-2 bg-blue-50 rounded-md border border-blue-200",children:[n.jsx(Mu,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-xs text-blue-700",children:"Intelligent column mapping is active - columns have been automatically matched to the correct fields"})]})]}),n.jsxs("div",{className:"overflow-auto flex-1 p-6",children:[n.jsx("div",{className:"overflow-x-auto rounded-md border",children:n.jsxs("table",{className:"min-w-full border-collapse table-auto",children:[n.jsx("thead",{className:"sticky top-0 z-10 bg-gray-50",children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left bg-gray-50",children:"Actions"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Building Name"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Building Ownership"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Category"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Building No"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Institution No"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Nearest Town"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Street"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"County"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Sub County"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Division"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Location"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Sub Location"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"LR No"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Land Size (Ha)"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Ownership Status"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Source of Funds"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Mode of Acquisition"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Date of Purchase"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Type of Building"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Designated Use"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Useful Life (Years)"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"No of Floors"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Plinth Area (sq m)"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Cost/Valuation"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Annual Depreciation"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Accumulated Depreciation"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Net Book Value"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Annual Rental Income"}),n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left whitespace-nowrap bg-gray-50",children:"Remarks"})]})}),n.jsx("tbody",{children:i.map((_,k)=>n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"px-3 py-2",children:n.jsx("button",{onClick:()=>x(k),className:"p-1 text-red-600 rounded transition-colors hover:bg-red-100",title:"Remove this row",children:n.jsx(ud,{size:16})})}),n.jsx("td",{className:"px-3 py-2 min-w-[200px]",children:v(_.description_name_of_building,k,"description_name_of_building")}),n.jsx("td",{className:"px-3 py-2 min-w-[150px]",children:v(_.building_ownership,k,"building_ownership")}),n.jsx("td",{className:"px-3 py-2 min-w-[120px]",children:v(_.category,k,"category")}),n.jsx("td",{className:"px-3 py-2 min-w-[120px]",children:v(_.building_no,k,"building_no")}),n.jsx("td",{className:"px-3 py-2 min-w-[120px]",children:v(_.institution_no,k,"institution_no")}),n.jsx("td",{className:"px-3 py-2 min-w-[150px]",children:v(_.nearest_town_shopping_centre,k,"nearest_town_shopping_centre")}),n.jsx("td",{className:"px-3 py-2 min-w-[120px]",children:v(_.street,k,"street")}),n.jsx("td",{className:"px-3 py-2 min-w-[120px]",children:v(_.county,k,"county")}),n.jsx("td",{className:"px-3 py-2 min-w-[120px]",children:v(_.sub_county,k,"sub_county")}),n.jsx("td",{className:"px-3 py-2 min-w-[120px]",children:v(_.division,k,"division")}),n.jsx("td",{className:"px-3 py-2 min-w-[120px]",children:v(_.location,k,"location")}),n.jsx("td",{className:"px-3 py-2 min-w-[120px]",children:v(_.sub_location,k,"sub_location")}),n.jsx("td",{className:"px-3 py-2 min-w-[120px]",children:v(_.lr_no,k,"lr_no")}),n.jsx("td",{className:"px-3 py-2 min-w-[120px]",children:v(_.size_of_land_ha,k,"size_of_land_ha","number")}),n.jsx("td",{className:"px-3 py-2 min-w-[150px]",children:v(_.ownership_status,k,"ownership_status","select",["Owned","Leased","Rented","Government"])}),n.jsx("td",{className:"px-3 py-2 min-w-[150px]",children:v(_.source_of_funds,k,"source_of_funds")}),n.jsx("td",{className:"px-3 py-2 min-w-[150px]",children:v(_.mode_of_acquisition,k,"mode_of_acquisition","select",["Purchase","Donation","Construction","Transfer","Inheritance"])}),n.jsx("td",{className:"px-3 py-2 min-w-[150px]",children:v(_.date_of_purchase_or_commissioning,k,"date_of_purchase_or_commissioning","date")}),n.jsx("td",{className:"px-3 py-2 min-w-[150px]",children:v(_.type_of_building,k,"type_of_building")}),n.jsx("td",{className:"px-3 py-2 min-w-[150px]",children:v(_.designated_use,k,"designated_use")}),n.jsx("td",{className:"px-3 py-2 min-w-[120px]",children:v(_.estimated_useful_life,k,"estimated_useful_life","number")}),n.jsx("td",{className:"px-3 py-2 min-w-[120px]",children:v(_.no_of_floors,k,"no_of_floors","number")}),n.jsx("td",{className:"px-3 py-2 min-w-[120px]",children:v(_.plinth_area,k,"plinth_area","number")}),n.jsx("td",{className:"px-3 py-2 min-w-[150px]",children:v(_.cost_of_construction_or_valuation,k,"cost_of_construction_or_valuation","number")}),n.jsx("td",{className:"px-3 py-2 min-w-[150px]",children:v(_.annual_depreciation,k,"annual_depreciation","number")}),n.jsx("td",{className:"px-3 py-2 min-w-[180px]",children:v(_.accumulated_depreciation_to_date,k,"accumulated_depreciation_to_date","number")}),n.jsx("td",{className:"px-3 py-2 min-w-[150px]",children:v(_.net_book_value,k,"net_book_value","number")}),n.jsx("td",{className:"px-3 py-2 min-w-[150px]",children:v(_.annual_rental_income,k,"annual_rental_income","number")}),n.jsx("td",{className:"px-3 py-2 min-w-[200px]",children:v(_.remarks,k,"remarks")})]},k))})]})}),i.length===0&&n.jsxs("div",{className:"flex flex-col justify-center items-center py-12 text-gray-500",children:[n.jsx(aa,{className:"mb-2 w-12 h-12"}),n.jsx("p",{children:"No data to display"})]})]}),n.jsx("div",{className:"sticky bottom-0 p-6 bg-white border-t",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[i.length," building(s) ready to upload"]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-300 rounded transition hover:bg-gray-400",disabled:a,children:"Cancel"}),n.jsx("button",{onClick:()=>r(i),disabled:a||i.length===0,className:`px-4 py-2 rounded transition ${a||i.length===0?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:a?"Uploading...":"Confirm Upload"})]})]})})]})}):null},JM=[{field:"registration_number",variations:["registration_number","registration number","reg number","reg no","regno","registration no","vehicle registration","vehicle reg","plate number","license plate"],aliases:["reg","registration","plate"]},{field:"tag_number",variations:["tag_number","tag number","tag no","tagno","asset tag","tag","asset number"],aliases:["tag","asset_tag"]},{field:"financed_by",variations:["financed_by","financed by","financing source","source of funds","funded by","finance source"],aliases:["financed","funding","source"]},{field:"make_model",variations:["make_model","make model","make/model","make & model","make and model","vehicle make","model","make"],aliases:["make","model","vehicle"]},{field:"year_of_purchase",variations:["year_of_purchase","year of purchase","purchase year","year purchased","acquisition year","year"],aliases:["year","purchase_year"]},{field:"engine_number",variations:["engine_number","engine number","engine no","engineno","engine #"],aliases:["engine","engine_no"]},{field:"chassis_number",variations:["chassis_number","chassis number","chassis no","chassisno","chassis #","vin","vehicle identification number"],aliases:["chassis","chassis_no","vin"]},{field:"pv_number",variations:["pv_number","pv number","pv no","pvno","pv #"],aliases:["pv","pv_no"]},{field:"color",variations:["color","colour","vehicle color","vehicle colour"],aliases:["color","colour"]},{field:"original_location",variations:["original_location","original location","initial location","starting location","first location"],aliases:["original","initial_location"]},{field:"current_location",variations:["current_location","current location","present location","location"],aliases:["current","location"]},{field:"amount",variations:["amount","purchase amount","cost","purchase cost","price","purchase price","value"],aliases:["amount","cost","price"]},{field:"depreciation_rate",variations:["depreciation_rate","depreciation rate","depreciation %","depreciation percent","dep rate","rate"],aliases:["depreciation","rate"]},{field:"annual_depreciation",variations:["annual_depreciation","annual depreciation","yearly depreciation","depreciation per year"],aliases:["annual","yearly_depreciation"]},{field:"accumulated_depreciation",variations:["accumulated_depreciation","accumulated depreciation","total depreciation","cumulative depreciation"],aliases:["accumulated","total_depreciation"]},{field:"net_book_value",variations:["net_book_value","net book value","nbv","book value","current value"],aliases:["nbv","book_value"]},{field:"disposal_value",variations:["disposal_value","disposal value","salvage value","residual value","scrap value"],aliases:["disposal","salvage"]},{field:"replacement_date",variations:["replacement_date","replacement date","date of replacement","replace date"],aliases:["replacement","replace_date"]},{field:"date_of_disposal",variations:["date_of_disposal","date of disposal","disposal date","disposed date"],aliases:["disposal_date","disposed"]},{field:"responsible_officer",variations:["responsible_officer","responsible officer","officer","assigned to","assigned officer","custodian"],aliases:["officer","custodian","assigned"]},{field:"asset_condition",variations:["asset_condition","asset condition","condition","status","state"],aliases:["condition","status"]},{field:"has_logbook",variations:["has_logbook","has logbook","logbook","log book","has log book","logbook available"],aliases:["logbook","log_book"]},{field:"notes",variations:["notes","note","comments","comment","remarks","remark","description"],aliases:["notes","comments","remarks"]}];function KS(e){return e.toLowerCase().trim().replace(/[_\-\s/&]+/g," ").replace(/\s+/g," ").trim()}function py(e,t){const r=KS(e),s=KS(t);if(r===s)return 1;if(r.includes(s)||s.includes(r)){const l=Math.max(r.length,s.length);return Math.min(r.length,s.length)/l}const a=[];for(let l=0;l<=r.length;l++)a[l]=[l];for(let l=0;l<=s.length;l++)a[0][l]=l;for(let l=1;l<=r.length;l++)for(let c=1;c<=s.length;c++)r[l-1]===s[c-1]?a[l][c]=a[l-1][c-1]:a[l][c]=Math.min(a[l-1][c-1]+1,a[l][c-1]+1,a[l-1][c]+1);const i=a[r.length][s.length],o=Math.max(r.length,s.length);return 1-i/o}function fle(e,t=.6){let r=null,s=0;for(const a of JM){for(const i of a.variations){const o=py(e,i);o>s&&o>=t&&(s=o,r=a.field)}for(const i of a.aliases){const o=py(e,i);o>s&&o>=t&&(s=o,r=a.field)}}return r}function mle(e){const t={},r=Object.keys(e);console.log("[v0] Excel headers found:",r);for(const s of r){const a=fle(s);a?(t[s]=a,console.log(`[v0] Mapped "${s}"  "${a}"`)):console.log(`[v0] No match found for "${s}"`)}return t}function ple(e,t){const r={};for(const[s,a]of Object.entries(t)){const i=e[s];if(i===""||i===null||i===void 0){r[a]=void 0;continue}if(["amount","depreciation_rate","annual_depreciation","accumulated_depreciation","net_book_value","disposal_value"].includes(a)){const o=Number.parseFloat(i);r[a]=isNaN(o)?void 0:o;continue}if(["replacement_date","date_of_disposal"].includes(a)&&i){if(typeof i=="number"){const o=new Date((i-25569)*86400*1e3);r[a]=o.toISOString().split("T")[0]}else r[a]=i;continue}r[a]=i}return r}function xle(e){if(e.length===0)return[];const t=mle(e[0]);console.log("[v0] Final column mapping:",t);const r=e.map(s=>ple(s,t));return console.log("[v0] Transformed data sample:",r[0]),r}function gle(e){const t=[],r=Object.keys(e);for(const s of r){let a=null,i=0;for(const o of JM)for(const l of o.variations){const c=py(s,l);c>i&&(i=c,a=o.field)}t.push({header:s,mappedTo:i>=.6?a:null,confidence:i})}return t}function vle(e,t){const r={},s=Object.keys(e);console.log("[v0] intelligentColumnMapper - Excel headers:",s),console.log("[v0] intelligentColumnMapper - Field mappings:",Object.keys(t));for(const[a,i]of Object.entries(t)){let o=null,l=0;for(const c of s)for(const d of i){const u=py(c,d);u>l&&u>=.6&&(l=u,o=c)}o?(r[a]=e[o]||"",console.log(`[v0] Mapped "${o}"  "${a}" (score: ${l.toFixed(2)})`)):e[a]!==void 0?(r[a]=e[a],console.log(`[v0] Direct match for "${a}"`)):(r[a]="",console.log(`[v0] No match found for "${a}"`))}return r}const YS=()=>{const e=Vr(),{id:t}=si(),{createBuilding:r,checkBuildingNames:s,uploadExcelData:a,isLoading:i,buildings:o,updateBuilding:l}=ug(),c=U.useRef(null),d=U.useRef(null),u=U.useRef(null),[p,x]=U.useState({description_name_of_building:"",building_ownership:"",category:"",building_no:"",institution_no:"",nearest_town_shopping_centre:"",street:"",county:"",sub_county:"",division:"",location:"",sub_location:"",lr_no:"",size_of_land_ha:"",ownership_status:"",source_of_funds:"",mode_of_acquisition:"",date_of_purchase_or_commissioning:"",type_of_building:"",designated_use:"",estimated_useful_life:"",no_of_floors:"",plinth_area:"",cost_of_construction_or_valuation:"",annual_depreciation:"",accumulated_depreciation_to_date:"",net_book_value:"",annual_rental_income:"",remarks:""}),[f,y]=U.useState([]),[v,_]=U.useState(!1),[k,S]=U.useState(!1),[M,T]=U.useState(null),[O,A]=U.useState(null),[C,N]=U.useState([]),[E,z]=U.useState(!1),[P,I]=U.useState(0),[W,Z]=U.useState(!1),[Y,te]=U.useState(!1),ie=U.useRef(null);U.useEffect(()=>{if(t&&t!=="new"){te(!0);const Ue=o.find(rt=>String(rt.id)===t);Ue?(x({description_name_of_building:Ue.description_name_of_building||"",building_ownership:Ue.building_ownership||"",category:Ue.category||"",building_no:Ue.building_no||"",institution_no:Ue.institution_no||"",nearest_town_shopping_centre:Ue.nearest_town_shopping_centre||"",street:Ue.street||"",county:Ue.county||"",sub_county:Ue.sub_county||"",division:Ue.division||"",location:Ue.location||"",sub_location:Ue.sub_location||"",lr_no:Ue.lr_no||"",size_of_land_ha:Ue.size_of_land_ha?String(Ue.size_of_land_ha):"",ownership_status:Ue.ownership_status||"",source_of_funds:Ue.source_of_funds||"",mode_of_acquisition:Ue.mode_of_acquisition||"",date_of_purchase_or_commissioning:Ue.date_of_purchase_or_commissioning?new Date(Ue.date_of_purchase_or_commissioning).toISOString().split("T")[0]:"",type_of_building:Ue.type_of_building||"",designated_use:Ue.designated_use||"",estimated_useful_life:Ue.estimated_useful_life?String(Ue.estimated_useful_life):"",no_of_floors:Ue.no_of_floors?String(Ue.no_of_floors):"",plinth_area:Ue.plinth_area?String(Ue.plinth_area):"",cost_of_construction_or_valuation:Ue.cost_of_construction_or_valuation?String(Ue.cost_of_construction_or_valuation):"",annual_depreciation:Ue.annual_depreciation?String(Ue.annual_depreciation):"",accumulated_depreciation_to_date:Ue.accumulated_depreciation_to_date?String(Ue.accumulated_depreciation_to_date):"",net_book_value:Ue.net_book_value?String(Ue.net_book_value):"",annual_rental_income:Ue.annual_rental_income?String(Ue.annual_rental_income):"",remarks:Ue.remarks||""}),te(!1)):(async()=>{var ft;try{const Re=localStorage.getItem("auth-storage"),pe=Re?JSON.parse(Re):null,Le=(ft=pe==null?void 0:pe.state)==null?void 0:ft.token,He=await fetch(`${Bt}/buildings/${t}`,{headers:{Authorization:`Bearer ${Le}`}});if(!He.ok)throw new Error("Failed to fetch building");const ve=await He.json();x({description_name_of_building:ve.description_name_of_building||"",building_ownership:ve.building_ownership||"",category:ve.category||"",building_no:ve.building_no||"",institution_no:ve.institution_no||"",nearest_town_shopping_centre:ve.nearest_town_shopping_centre||"",street:ve.street||"",county:ve.county||"",sub_county:ve.sub_county||"",division:ve.division||"",location:ve.location||"",sub_location:ve.sub_location||"",lr_no:ve.lr_no||"",size_of_land_ha:ve.size_of_land_ha?String(ve.size_of_land_ha):"",ownership_status:ve.ownership_status||"",source_of_funds:ve.source_of_funds||"",mode_of_acquisition:ve.mode_of_acquisition||"",date_of_purchase_or_commissioning:ve.date_of_purchase_or_commissioning?new Date(ve.date_of_purchase_or_commissioning).toISOString().split("T")[0]:"",type_of_building:ve.type_of_building||"",designated_use:ve.designated_use||"",estimated_useful_life:ve.estimated_useful_life?String(ve.estimated_useful_life):"",no_of_floors:ve.no_of_floors?String(ve.no_of_floors):"",plinth_area:ve.plinth_area?String(ve.plinth_area):"",cost_of_construction_or_valuation:ve.cost_of_construction_or_valuation?String(ve.cost_of_construction_or_valuation):"",annual_depreciation:ve.annual_depreciation?String(ve.annual_depreciation):"",accumulated_depreciation_to_date:ve.accumulated_depreciation_to_date?String(ve.accumulated_depreciation_to_date):"",net_book_value:ve.net_book_value?String(ve.net_book_value):"",annual_rental_income:ve.annual_rental_income?String(ve.annual_rental_income):"",remarks:ve.remarks||""})}catch(Re){console.error("Failed to fetch building:",Re),Ke.error("Failed to load building data")}finally{te(!1)}})()}},[t,o]),U.useEffect(()=>()=>{f.forEach(Ue=>{!Ue.isExisting&&Ue.url.startsWith("blob:")&&URL.revokeObjectURL(Ue.url)}),M&&M.getTracks().forEach(Ue=>Ue.stop())},[]);const le=Ue=>{const{name:rt,value:ft}=Ue.target;x(Re=>({...Re,[rt]:ft}))},se=Ue=>{const ft=Array.from(Ue).filter(Re=>{const pe=Re.type.startsWith("image/"),Le=Re.type==="application/pdf";return!pe&&!Le?(Ke.error(`${Re.name} is not a supported file type (images or PDF only)`),!1):Re.size>52428800?(Ke.error(`${Re.name} is too large (max 50MB)`),!1):!0}).map(Re=>({file:Re,url:URL.createObjectURL(Re),id:Math.random().toString(36).substring(2,15),type:Re.type.startsWith("image/")?"image":"document",isExisting:!1}));y(Re=>[...Re,...ft])},oe=Ue=>{Ue.target.files&&Ue.target.files.length>0&&se(Ue.target.files)},ee=Ue=>{Ue.preventDefault(),_(!0)},B=Ue=>{Ue.preventDefault(),_(!1)},q=Ue=>{Ue.preventDefault(),_(!1),Ue.dataTransfer.files&&Ue.dataTransfer.files.length>0&&se(Ue.dataTransfer.files)},Q=Ue=>{y(rt=>{const ft=rt.find(Re=>Re.id===Ue);return ft&&!ft.isExisting&&ft.url.startsWith("blob:")&&URL.revokeObjectURL(ft.url),rt.filter(Re=>Re.id!==Ue)})},K=async()=>{try{const Ue=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});T(Ue),S(!0),A(null),setTimeout(()=>{d.current&&(d.current.srcObject=Ue,d.current.play().catch(console.error))},100)}catch(Ue){console.error("Error accessing camera:",Ue),Ke.error("Unable to access camera. Please check permissions.")}},ae=()=>{M&&(M.getTracks().forEach(Ue=>Ue.stop()),T(null)),S(!1),A(null)},ge=()=>{if(!d.current||!u.current)return;const Ue=d.current,rt=u.current,ft=rt.getContext("2d");if(!ft||Ue.videoWidth===0||Ue.videoHeight===0){Ke.error("Camera not ready. Please wait a moment and try again.");return}rt.width=Ue.videoWidth,rt.height=Ue.videoHeight,ft.drawImage(Ue,0,0,rt.width,rt.height),rt.toBlob(Re=>{if(Re){const pe=URL.createObjectURL(Re);A(pe)}},"image/jpeg",.8)},he=()=>{O&&URL.revokeObjectURL(O),A(null)},ke=()=>{!O||!u.current||u.current.toBlob(Ue=>{if(Ue){const rt=new Date().getTime(),Re={file:new File([Ue],`building-photo-${rt}.jpg`,{type:"image/jpeg"}),url:O,id:Math.random().toString(36).substring(2,15),type:"image",isExisting:!1};y(pe=>[...pe,Re]),ae(),Ke.success("Photo captured successfully!")}},"image/jpeg",.8)},Ae=Ue=>{var Re;const rt=(Re=Ue.target.files)==null?void 0:Re[0];if(!rt)return;Z(!0),I(0);const ft=new FileReader;ft.onload=pe=>{var pt;const Le=setInterval(()=>{I(xt=>xt>=90?(clearInterval(Le),90):xt+10)},100),He=new Uint8Array((pt=pe.target)==null?void 0:pt.result),ve=Np(He,{type:"array"}),Ne=ve.Sheets[ve.SheetNames[0]],ze=Df.sheet_to_json(Ne,{defval:""});console.log("[v0] Excel columns found:",Object.keys(ze[0]||{})),console.log("[v0] First row data:",ze[0]);const qe=ze.map(xt=>{const Ft=vle(xt,{description_name_of_building:["Description Name of Building","Building Name","Name"],building_ownership:["Building Ownership","Ownership"],category:["Category"],building_no:["Building No","Building Number","Bldg No"],institution_no:["Institution No","Institution Number","Inst No"],nearest_town_shopping_centre:["Nearest Town Shopping Centre","Nearest Town","Town"],street:["Street"],county:["County"],sub_county:["Sub County","Subcounty"],division:["Division"],location:["Location"],sub_location:["Sub Location","Sublocation"],lr_no:["LR No","LR Number","Land Reference"],size_of_land_ha:["Size of Land Ha","Land Size","Size Ha"],ownership_status:["Ownership Status","Status"],source_of_funds:["Source of Funds","Funding Source"],mode_of_acquisition:["Mode of Acquisition","Acquisition Mode"],date_of_purchase_or_commissioning:["Date of Purchase or Commissioning","Purchase Date","Date"],type_of_building:["Type of Building","Building Type"],designated_use:["Designated Use","Use"],estimated_useful_life:["Estimated Useful Life","Useful Life","Life Years"],no_of_floors:["No of Floors","Floors","Number of Floors"],plinth_area:["Plinth Area","Area"],cost_of_construction_or_valuation:["Cost of Construction or Valuation","Cost","Valuation"],annual_depreciation:["Annual Depreciation","Depreciation"],accumulated_depreciation_to_date:["Accumulated Depreciation to Date","Accumulated Depreciation"],net_book_value:["Net Book Value","Book Value","NBV"],annual_rental_income:["Annual Rental Income","Rental Income"],remarks:["Remarks","Notes","Comments"]});return console.log("[v0] Mapped building:",Ft),Ft});console.log("[v0] All mapped data:",qe),I(100),setTimeout(()=>{Z(!1),I(0),N(qe),z(!0)},500)},ft.readAsArrayBuffer(rt)},We=Ue=>{const rt=new Date(Ue);return rt instanceof Date&&!isNaN(rt.getTime())},fe=async Ue=>{if(Ue.preventDefault(),i)return;const rt=f.filter(Re=>Re.file&&Re.file.size>0).map(Re=>Re.file),ft={...p,no_of_floors:p.no_of_floors?Number.parseInt(p.no_of_floors):null,estimated_useful_life:p.estimated_useful_life?Number.parseInt(p.estimated_useful_life):null,size_of_land_ha:p.size_of_land_ha?Number.parseFloat(p.size_of_land_ha):null,plinth_area:p.plinth_area?Number.parseFloat(p.plinth_area):null,cost_of_construction_or_valuation:p.cost_of_construction_or_valuation?Number.parseFloat(p.cost_of_construction_or_valuation):null,annual_depreciation:p.annual_depreciation?Number.parseFloat(p.annual_depreciation):null,accumulated_depreciation_to_date:p.accumulated_depreciation_to_date?Number.parseFloat(p.accumulated_depreciation_to_date):null,net_book_value:p.net_book_value?Number.parseFloat(p.net_book_value):null,annual_rental_income:p.annual_rental_income?Number.parseFloat(p.annual_rental_income):null,date_of_purchase_or_commissioning:We(p.date_of_purchase_or_commissioning)?new Date(p.date_of_purchase_or_commissioning).toISOString():null,support_files:rt,keep_existing_files:f.some(Re=>Re.isExisting)};try{t&&t!=="new"?await l(t,ft):await r(ft),Ke.success(`Building ${t&&t!=="new"?"updated":"added"} successfully!`),setTimeout(()=>e("/categories/buildings"),1500)}catch{Ke.error(`Failed to ${t&&t!=="new"?"update":"create"} building`)}},ht=async Ue=>{if(i)return;I(0);const rt=Ue||C;if(rt.length===0){Ke.error("No data found in the Excel file.");return}try{const ft=rt.map(Le=>Le.description_name_of_building);I(20);const Re=await s(ft);I(40);const pe=rt.filter(Le=>!Re.includes(Le.description_name_of_building));pe.length>0?(I(60),await a(pe),I(100),Ke.success("Excel data uploaded successfully!"),setTimeout(()=>{z(!1),I(0)},1e3)):(I(100),Ke.error("All buildings in the Excel file already exist."),setTimeout(()=>{I(0)},1e3))}catch{Ke.error("Failed to upload excel data"),I(0)}},De=(Ue,rt,ft="text")=>n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{htmlFor:Ue,className:"block mb-1 text-sm font-medium text-gray-700 capitalize",children:rt||Ue.replace(/_/g," ")}),Ue==="remarks"?n.jsx("textarea",{id:Ue,name:Ue,value:p[Ue],onChange:le,rows:3,className:"px-3 py-2 w-full rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter any additional remarks..."}):Ue==="ownership_status"?n.jsxs("select",{id:Ue,name:Ue,value:p[Ue],onChange:le,className:"px-3 py-2 w-full rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select ownership status"}),n.jsx("option",{value:"Owned",children:"Owned"}),n.jsx("option",{value:"Leased",children:"Leased"}),n.jsx("option",{value:"Rented",children:"Rented"}),n.jsx("option",{value:"Government",children:"Government"})]}):Ue==="mode_of_acquisition"?n.jsxs("select",{id:Ue,name:Ue,value:p[Ue],onChange:le,className:"px-3 py-2 w-full rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select acquisition mode"}),n.jsx("option",{value:"Purchase",children:"Purchase"}),n.jsx("option",{value:"Donation",children:"Donation"}),n.jsx("option",{value:"Construction",children:"Construction"}),n.jsx("option",{value:"Transfer",children:"Transfer"}),n.jsx("option",{value:"Inheritance",children:"Inheritance"})]}):n.jsx("input",{id:Ue,type:ft,name:Ue,value:p[Ue],onChange:le,className:"px-3 py-2 w-full rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"})]},Ue);if(Y)return n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[n.jsxs("svg",{className:"w-5 h-5 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),n.jsx("span",{children:"Loading building details..."})]})});const Ee=t&&t!=="new";return n.jsxs("div",{className:"p-2 mx-auto",children:[n.jsx("input",{ref:c,type:"file",multiple:!0,accept:"image/*,.pdf",onChange:oe,className:"hidden"}),k&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full max-h-[90vh] overflow-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Take Photo"}),n.jsx("button",{type:"button",onClick:ae,className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100",children:n.jsx(Bs,{size:24})})]}),n.jsx("div",{className:"relative flex flex-col items-center",children:O?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:O||"/placeholder.svg",alt:"Captured",className:"w-full max-w-2xl rounded-lg",style:{maxHeight:"60vh",minHeight:"300px"}}),n.jsxs("div",{className:"flex justify-center mt-4 space-x-4",children:[n.jsx(Be,{type:"button",onClick:he,variant:"secondary",leftIcon:n.jsx(m7,{size:20}),children:"Retake"}),n.jsx(Be,{type:"button",onClick:ke,variant:"primary",className:"bg-green-600 hover:bg-green-700",leftIcon:n.jsx(Lh,{size:20}),children:"Use Photo"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("video",{ref:d,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full max-w-2xl rounded-lg bg-gray-900",style:{maxHeight:"60vh",minHeight:"300px"}}),n.jsxs("div",{className:"flex justify-center mt-4 space-x-4",children:[n.jsx(Be,{type:"button",onClick:ge,variant:"primary",className:"bg-blue-600 hover:bg-blue-700",leftIcon:n.jsx(fp,{size:20}),children:"Take Photo"}),n.jsx(Be,{type:"button",onClick:ae,variant:"secondary",leftIcon:n.jsx(Bs,{size:20}),children:"Cancel"})]})]})}),n.jsx("canvas",{ref:u,style:{display:"none"}})]})}),n.jsxs("nav",{className:"flex items-center mb-6 space-x-2 text-sm text-gray-600",children:[n.jsxs(Lr,{to:"/",className:"flex items-center transition-colors hover:text-blue-600",children:[n.jsx(ln,{size:16,className:"mr-1"}),"Home"]}),n.jsx(Dr,{size:16}),n.jsx(Lr,{to:"/asset-categories",className:"transition-colors hover:text-blue-600",children:"Asset Categories"}),n.jsx(Dr,{size:16}),n.jsx(Lr,{to:"/categories/buildings",className:"transition-colors hover:text-blue-600",children:"Buildings"}),n.jsx(Dr,{size:16}),n.jsxs("span",{className:"flex items-center font-medium text-gray-900",children:[n.jsx(ri,{size:16,className:"mr-1"}),Ee?"Edit Building":"Add New Building"]})]}),n.jsx("h2",{className:"mb-6 text-2xl font-bold text-left",children:Ee?"Edit Building":"Add New Building"}),n.jsxs("form",{onSubmit:fe,className:"space-y-10",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"Basic Building Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[De("description_name_of_building","Building Name"),De("building_ownership","Building Ownership"),De("category","Category"),De("building_no","Building Number"),De("institution_no","Institution Number")]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"Location Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[De("nearest_town_shopping_centre","Nearest Town/Shopping Centre"),De("street","Street"),De("county","County"),De("sub_county","Sub County"),De("division","Division"),De("location","Location"),De("sub_location","Sub Location")]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"Land and Ownership Details"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[De("lr_no","LR Number"),De("size_of_land_ha","Size of Land (Ha)","number"),De("ownership_status","Ownership Status"),De("source_of_funds","Source of Funds"),De("mode_of_acquisition","Mode of Acquisition"),De("date_of_purchase_or_commissioning","Date of Purchase/Commissioning","date")]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"Building Specifications"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[De("type_of_building","Type of Building"),De("designated_use","Designated Use"),De("estimated_useful_life","Estimated Useful Life (Years)","number"),De("no_of_floors","Number of Floors","number"),De("plinth_area","Plinth Area (sq m)","number")]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"Financial Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[De("cost_of_construction_or_valuation","Cost of Construction/Valuation","number"),De("annual_depreciation","Annual Depreciation","number"),De("accumulated_depreciation_to_date","Accumulated Depreciation to Date","number"),De("net_book_value","Net Book Value","number"),De("annual_rental_income","Annual Rental Income","number")]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"Additional Information"}),n.jsx("div",{className:"grid grid-cols-1 gap-6",children:De("remarks","Remarks")})]}),n.jsxs("div",{className:"p-6 bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsxs("h3",{className:"mb-4 text-lg font-semibold text-gray-900",children:["Support Files"," ",n.jsx("small",{className:"text-sm text-gray-600",children:"(optional)"})]}),n.jsx("p",{className:"mb-4 text-sm text-gray-600",children:"Upload building images, floor plans, PDFs, or other support documents. Supported formats: JPG, PNG, GIF, PDF (Max 50MB each)"}),n.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${v?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:ee,onDragLeave:B,onDrop:q,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:`p-3 rounded-full ${v?"bg-blue-100":"bg-gray-100"}`,children:n.jsx(By,{size:24,className:v?"text-blue-600":"text-gray-600"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-medium text-gray-900",children:v?"Drop files here":"Upload or capture building files"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Drag and drop files here, or use the buttons below"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[n.jsx(Be,{type:"button",variant:"secondary",onClick:()=>{var Ue;return(Ue=c.current)==null?void 0:Ue.click()},leftIcon:n.jsx(ri,{size:16}),className:"inline-flex",children:"Choose Files"}),n.jsx(Be,{type:"button",variant:"primary",onClick:K,leftIcon:n.jsx(fp,{size:16}),className:"inline-flex bg-green-600 hover:bg-green-700",children:"Take Photo"})]})]})}),f.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsxs("h3",{className:"mb-3 text-sm font-medium text-gray-900",children:["Support Files (",f.length,")",f.some(Ue=>Ue.isExisting)&&n.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(includes existing files)"})]}),n.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6",children:f.map(Ue=>{var rt;return n.jsxs("div",{className:"relative group bg-gray-100 rounded-lg overflow-hidden aspect-square",children:[Ue.type==="image"?n.jsx("img",{src:Ue.url||"/placeholder.svg",alt:"Building file",className:"w-full h-full object-cover transition-transform group-hover:scale-105"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-red-50",children:n.jsx(Ya,{size:32,className:"text-red-600"})}),Ue.isExisting&&n.jsx("div",{className:"absolute top-2 left-2 bg-green-600 text-white text-xs px-2 py-1 rounded",children:"Existing"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-200 flex items-center justify-center",children:n.jsx("button",{type:"button",onClick:()=>Q(Ue.id),className:"opacity-0 group-hover:opacity-100 transition-opacity bg-red-600 hover:bg-red-700 text-white p-2 rounded-full shadow-lg",title:"Remove file",children:n.jsx(ud,{size:16})})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-2",children:n.jsx("p",{className:"text-xs text-white truncate opacity-0 group-hover:opacity-100 transition-opacity",children:((rt=Ue.file)==null?void 0:rt.name)||"Existing file"})})]},Ue.id)})})]}),f.length>0&&n.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(og,{size:16,className:"mr-1"}),f.length," file",f.length!==1?"s":""," (",f.filter(Ue=>Ue.isExisting).length," existing,"," ",f.filter(Ue=>!Ue.isExisting).length," new)"]}),n.jsxs("span",{children:["New files size:"," ",(f.filter(Ue=>Ue.file).reduce((Ue,rt)=>{var ft;return Ue+(((ft=rt.file)==null?void 0:ft.size)||0)},0)/(1024*1024)).toFixed(1)," ","MB"]})]})})]}),!Ee&&n.jsxs("div",{className:"p-6 bg-white rounded-lg border border-gray-200 shadow-sm",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upload Excel File"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm text-gray-500",children:"Ready to upload"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"relative",children:n.jsx("input",{ref:ie,type:"file",accept:".xlsx, .xls",onChange:Ae,className:"block w-full text-sm text-gray-500 cursor-pointer file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 file:cursor-pointer",disabled:W||i})}),(W||i)&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[n.jsx("span",{children:W?"Processing Excel file...":"Uploading to server..."}),n.jsxs("span",{children:[Math.round(P),"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-out",style:{width:`${P}%`}})}),n.jsxs("div",{className:"text-xs text-gray-500",children:[W&&"Reading and mapping Excel data...",i&&"Sending data to server..."]})]}),W&&n.jsxs("div",{className:"flex items-center p-3 space-x-2 text-blue-600 bg-blue-50 rounded-md",children:[n.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-blue-600 animate-spin border-t-transparent"}),n.jsx("span",{className:"text-sm font-medium",children:"Processing Excel file..."})]}),i&&n.jsxs("div",{className:"flex items-center p-3 space-x-2 text-green-600 bg-green-50 rounded-md",children:[n.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-green-600 animate-spin border-t-transparent"}),n.jsx("span",{className:"text-sm font-medium",children:"Uploading to server..."})]}),C.length>0&&!W&&!i&&n.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-md border border-green-200",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsxs("span",{className:"text-sm text-green-700",children:[C.length," building(s) ready for review"]})]}),n.jsx("button",{onClick:()=>z(!0),className:"text-sm font-medium text-green-700 hover:text-green-800",children:"Review Data "})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(Be,{type:"submit",disabled:i,children:i?"Submitting...":Ee?"Update Building":"Submit"})})]}),n.jsx(hle,{show:E,data:C,onConfirm:ht,onCancel:()=>{z(!1),ie.current&&(ie.current.value="")},isLoading:i})]})},yle=()=>{const e=Vr(),{landRegisters:t,fetchLandRegisters:r,isLoading:s}=fg(),[a,i]=U.useState(1),[o]=U.useState(10),[l,c]=U.useState(!1),[d,u]=U.useState({});U.useEffect(()=>{Ng("LAND_REGISTER","Land Register",{landCount:(t==null?void 0:t.length)||0}),r()},[r]);const p=U.useMemo(()=>{if(!t||t.length===0)return[];const A=Array.from(new Set(t.map(I=>I.county).filter(Boolean))).sort(),C=Array.from(new Set(t.map(I=>I.category).filter(Boolean))).sort(),N=Array.from(new Set(t.map(I=>I.land_tenure).filter(Boolean))).sort(),E=Array.from(new Set(t.map(I=>I.surveyed).filter(Boolean))).sort(),z=Array.from(new Set(t.map(I=>I.disputed).filter(Boolean))).sort(),P=Array.from(new Set(t.map(I=>I.mode_of_acquisition).filter(Boolean))).sort();return[{key:"county",label:"County",options:A},{key:"category",label:"Category",options:C},{key:"landTenure",label:"Land Tenure",options:N},{key:"surveyed",label:"Survey Status",options:E},{key:"disputed",label:"Disputed Status",options:z},{key:"acquisitionMode",label:"Mode of Acquisition",options:P}]},[t]),x=U.useMemo(()=>t?t.filter(A=>!(d.county&&A.county!==d.county||d.category&&A.category!==d.category||d.landTenure&&A.land_tenure!==d.landTenure||d.surveyed&&A.surveyed!==d.surveyed||d.disputed&&A.disputed!==d.disputed||d.acquisitionMode&&A.mode_of_acquisition!==d.acquisitionMode)):[],[t,d]),f=U.useMemo(()=>{const A=x.length,C=x.filter(te=>{var ie;return((ie=te.category)==null?void 0:ie.toLowerCase())==="land"}).length,N=x.filter(te=>{var ie;return((ie=te.category)==null?void 0:ie.toLowerCase())==="investment property"}).length,E=x.filter(te=>{var ie;return((ie=te.land_tenure)==null?void 0:ie.toLowerCase())==="freehold"}).length,z=x.reduce((te,ie)=>te+(ie.fair_value||0),0),P=5.3,I=8.7,W=-2.4,Z=6.1,Y=(te,ie)=>Array.from({length:7},()=>Math.max(0,te+(Math.random()-.5)*ie));return{total:{value:A,trend:P,subtitle:`Ksh ${z.toLocaleString()} total value`,sparkline:Y(A,A*.1)},land:{value:C,trend:I,subtitle:`${A>0?(C/A*100).toFixed(1):0}% of total records`,sparkline:Y(C,C*.2)},investment:{value:N,trend:W,subtitle:`${A>0?(N/A*100).toFixed(1):0}% of total records`,sparkline:Y(N,N*.15)},freehold:{value:E,trend:Z,subtitle:`${A>0?(E/A*100).toFixed(1):0}% of total records`,sparkline:Y(E,E*.3)}}},[x]),y=Object.values(d).some(Boolean),v=(A,C)=>{u(N=>({...N,[A]:C})),i(1)},_=()=>{u({}),i(1)},k=A=>{e(`/categories/land-register/${A.id}`)},S=A=>{e(`/categories/land-register/${A.id}?edit=true`)},M=[{header:"#",accessor:(A,C)=>C!==void 0?(a-1)*o+C+1:0,sortable:!1},{header:"Description",accessor:"description_of_land",sortable:!0,cell:A=>n.jsx("div",{className:"max-w-xs truncate",title:A,children:A})},{header:"Location",accessor:A=>`${A.location||""} ${A.county?`, ${A.county}`:""}`.trim()||"N/A",cell:A=>A},{header:"LR Certificate No.",accessor:"lr_certificate_no",sortable:!0,cell:A=>A||"N/A"},{header:"Size (ha)",accessor:"size_ha",sortable:!0,cell:A=>A?`${A} ha`:"N/A"},{header:"Category",accessor:"category",sortable:!0,cell:A=>n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A==="Land"?"bg-green-100 text-green-800":A==="Investment Property"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:A||"N/A"})},{header:"Land Tenure",accessor:"land_tenure",sortable:!0,cell:A=>n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A==="Freehold"?"bg-emerald-100 text-emerald-800":A==="Leasehold"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:A||"N/A"})},{header:"Fair Value",accessor:"fair_value",sortable:!0,cell:A=>A?`Ksh.${A.toLocaleString()}`:"N/A"},{header:"Mode of Acquisition",accessor:"mode_of_acquisition",sortable:!0,cell:A=>A||"N/A"},{header:"Survey Status",accessor:"surveyed",sortable:!0,cell:A=>n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A==="Surveyed"?"bg-green-100 text-green-800":A==="Not Surveyed"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:A||"N/A"})},{header:"Disputed Status",accessor:"disputed",sortable:!0,cell:A=>n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A==="Undisputed"?"bg-green-100 text-green-800":A==="Disputed"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:A||"N/A"})}],T=A=>n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-accent-600 rounded transition-colors hover:text-accent-800 hover:bg-accent-100 dark:hover:bg-accent-900/20",title:"View Land Register Details",onClick:C=>{C.stopPropagation(),k(A)},children:n.jsx(Xl,{size:18})}),n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-success-600 rounded transition-colors hover:text-success-800 hover:bg-success-100 dark:hover:bg-success-900/20",title:"Edit Land Register",onClick:C=>{C.stopPropagation(),S(A)},children:n.jsx(Iu,{size:18})})]}),O=({data:A,color:C})=>{const N=Math.max(...A),E=Math.min(...A),z=N-E||1;return n.jsx("div",{className:"flex items-end h-8 gap-0.5",children:A.map((P,I)=>{const W=(P-E)/z*100;return n.jsx("div",{className:`flex-1 ${C} rounded-sm transition-all`,style:{height:`${W}%`,minHeight:"2px"}},I)})})};return n.jsxs("div",{className:"min-h-screen bg-primary-50 dark:bg-primary-950",children:[n.jsxs("div",{children:[n.jsx("nav",{className:"sticky top-0 z-10 bg-white border-b border-primary-200 shadow-sm dark:bg-primary-900 dark:border-primary-800",children:n.jsx("div",{className:"px-2 sm:px-4 lg:px-6",children:n.jsxs("div",{className:"flex items-center py-2 space-x-2 text-sm text-primary-600 dark:text-primary-400",children:[n.jsxs(Lr,{to:"/",className:"flex items-center transition-colors hover:text-accent-600 dark:hover:text-accent-400",children:[n.jsx(ln,{size:16,className:"mr-1"}),"Home"]}),n.jsx(Dr,{size:16}),n.jsx(Lr,{to:"/asset-categories",className:"transition-colors hover:text-accent-600 dark:hover:text-accent-400",children:"Asset Categories"}),n.jsx(Dr,{size:16}),n.jsxs("span",{className:"flex items-center font-medium text-primary-900 dark:text-primary-100",children:[n.jsx(Ea,{size:16,className:"mr-1"}),"Land Register"]})]})})}),n.jsx("header",{className:"bg-white border-b border-primary-200 shadow-sm dark:bg-primary-900 dark:border-primary-800",children:n.jsx("div",{className:"px-2 sm:px-4 lg:px-6",children:n.jsxs("div",{className:"flex justify-between items-center py-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ea,{className:"w-8 h-8 text-accent-600 dark:text-accent-400"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg sm:text-xl font-bold text-primary-900 dark:text-primary-100",children:"Land Register"}),n.jsx("p",{className:"text-xs sm:text-sm text-primary-600 dark:text-primary-400",children:"Manage and track all land assets"})]}),y&&n.jsxs("span",{className:"px-2 py-1 text-xs font-medium text-accent-700 bg-accent-50 border border-accent-200 rounded-full dark:bg-accent-900/30 dark:text-accent-300 dark:border-accent-700",children:[Object.values(d).filter(Boolean).length," filter",Object.values(d).filter(Boolean).length>1?"s":""," ","active"]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Be,{variant:"secondary",size:"sm",leftIcon:n.jsx(Nn,{size:14}),onClick:()=>c(!0),className:`${y?"bg-accent-50 text-accent-700 border border-accent-200 hover:bg-accent-100 dark:bg-accent-900/30 dark:text-accent-300 dark:border-accent-700 dark:hover:bg-accent-800/30":"text-primary-700 hover:bg-primary-100 dark:text-primary-300 dark:hover:bg-primary-800/30"}`,children:n.jsx("span",{className:"hidden sm:inline ml-1",children:"Filter"})}),n.jsx(Be,{variant:"secondary",size:"sm",leftIcon:n.jsx(Xd,{size:14}),className:"text-primary-700 hover:bg-primary-100 dark:text-primary-300 dark:hover:bg-primary-800/30",children:n.jsx("span",{className:"hidden sm:inline ml-1",children:"Export"})}),n.jsx(Be,{variant:"primary",size:"sm",leftIcon:n.jsx(ri,{size:14}),onClick:()=>e("/categories/land-register/new"),className:"bg-success-600 hover:bg-success-700 text-white dark:bg-success-500 dark:hover:bg-success-600",children:n.jsx("span",{className:"hidden sm:inline ml-1",children:"Add Land Record"})})]})]})})})]}),n.jsx("main",{className:"px-2 py-4 sm:px-4 sm:py-6 lg:px-6 lg:py-8",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-emerald-500 to-emerald-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(Ea,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.total.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.total.trend>=0?"text-green-200":"text-red-200"}`,children:[f.total.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.total.trend),"%"]})]}),n.jsxs("p",{className:"text-sm text-emerald-100 mb-3",children:[y?"Filtered":"Total"," Land Records"]}),n.jsx("p",{className:"text-xs text-emerald-200 mb-2",children:f.total.subtitle}),n.jsx(O,{data:f.total.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-green-500 to-green-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(t5,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.land.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.land.trend>=0?"text-green-200":"text-red-200"}`,children:[f.land.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.land.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-green-100 mb-3",children:"Land"}),n.jsx("p",{className:"text-xs text-green-200 mb-2",children:f.land.subtitle}),n.jsx(O,{data:f.land.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-500 to-blue-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(yx,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.investment.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.investment.trend>=0?"text-green-200":"text-red-200"}`,children:[f.investment.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.investment.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-blue-100 mb-3",children:"Investment Property"}),n.jsx("p",{className:"text-xs text-blue-200 mb-2",children:f.investment.subtitle}),n.jsx(O,{data:f.investment.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-teal-500 to-teal-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(la,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.freehold.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.freehold.trend>=0?"text-green-200":"text-red-200"}`,children:[f.freehold.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.freehold.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-teal-100 mb-3",children:"Freehold"}),n.jsx("p",{className:"text-xs text-teal-200 mb-2",children:f.freehold.subtitle}),n.jsx(O,{data:f.freehold.sparkline,color:"bg-white/30"})]})]})})]}),s?n.jsxs("div",{className:"flex justify-center items-center py-12 space-x-2 text-primary-600 dark:text-primary-400",children:[n.jsxs("svg",{className:"w-5 h-5 text-accent-600 animate-spin dark:text-accent-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),n.jsx("span",{className:"text-sm font-medium",children:"Loading land registers..."})]}):n.jsx(it,{className:"p-2 sm:p-3",children:n.jsx(r0,{data:x,columns:M,keyField:"id",onRowClick:k,actions:T,searchable:!0,pagination:!0,pageSize:o,currentPage:a,onPageChange:i})})]})}),n.jsx(Yh,{isOpen:l,onClose:()=>c(!1),filterOptions:p,activeFilters:d,onFilterChange:v,onClearAll:_,hasActiveFilters:y,filteredData:x,columns:M.map(A=>({header:A.header,accessor:(typeof A.accessor=="function",A.accessor),cell:A.cell})),exportTitle:"Land Register"})]})},wt=Fi.forwardRef(({label:e,error:t,description:r,className:s="",id:a,...i},o)=>{const l=a||i.name||`input-${Math.random().toString(36).substr(2,9)}`;return n.jsxs("div",{className:"space-y-1",children:[e&&n.jsx("label",{htmlFor:l,className:"block text-sm font-medium text-primary-700",children:e}),n.jsx("input",{id:l,ref:o,className:`w-full rounded-md border px-3 py-2 shadow-sm focus:outline-none focus:ring-2 ${t?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-accent-500"} ${s}`,...i}),r&&!t&&n.jsx("p",{className:"text-xs text-gray-500",children:r}),t&&n.jsx("p",{className:"text-xs text-red-500",children:t})]})});wt.displayName="Input";const Pi=U.forwardRef(({className:e,error:t,children:r,...s},a)=>n.jsx("select",{className:Vm("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm","focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20","disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-gray-50","hover:border-gray-400",t&&"border-red-500 focus:border-red-500 focus:ring-red-500/20","appearance-none bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iOCIgdmlld0JveD0iMCAwIDEyIDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xIDFMNiA2TDExIDEiIHN0cm9rZT0iIzY5NzU5MyIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg==')] bg-[right_0.75rem_center] bg-no-repeat pr-8",e),ref:a,...s,children:r}));Pi.displayName="Select";const bo=U.forwardRef(({className:e,error:t,rows:r=3,...s},a)=>n.jsx("textarea",{className:Vm("flex min-h-[80px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm","focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20","disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-gray-50","hover:border-gray-400",t&&"border-red-500 focus:border-red-500 focus:ring-red-500/20","resize-none","placeholder:text-gray-400",e),rows:r,ref:a,...s}));bo.displayName="TextArea";const QM=({isOpen:e,onClose:t,onConfirm:r,title:s,message:a,confirmText:i="Confirm",cancelText:o="Cancel",isLoading:l=!1})=>{if(!e)return null;const c=u=>{u.target===u.currentTarget&&!l&&t()},d=u=>{u.key==="Escape"&&!l&&t(),u.key==="Enter"&&!l&&r()};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:c,onKeyDown:d,tabIndex:-1,children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 transform transition-all",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(aa,{className:"h-6 w-6 text-amber-500"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s})]}),!l&&n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(Bs,{size:20})})]}),n.jsx("div",{className:"p-6",children:n.jsx("p",{className:"text-gray-600 leading-relaxed",children:a})}),n.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:[n.jsx(Be,{type:"button",variant:"secondary",onClick:t,disabled:l,children:o}),n.jsx(Be,{type:"button",variant:"primary",onClick:r,isLoading:l,className:"bg-blue-600 hover:bg-blue-700",children:i})]})]})})},ZS=({value:e,onChange:t,options:r,placeholder:s="Select or type...",disabled:a=!1,className:i="",error:o=!1})=>{const[l,c]=U.useState(!1),[d,u]=U.useState(""),[p,x]=U.useState(r),[f,y]=U.useState({top:0,left:0,width:0}),v=U.useRef(null),_=U.useRef(null);U.useEffect(()=>{const C=r.find(N=>N.code===e);u(C?C.name:e||"")},[e,r]),U.useEffect(()=>{if(d.trim()==="")x(r);else{const C=r.filter(N=>N.name.toLowerCase().includes(d.toLowerCase()));x(C)}},[d,r]),U.useEffect(()=>{const C=()=>{if(v.current&&l){const N=v.current.getBoundingClientRect();y({top:N.bottom+window.scrollY,left:N.left+window.scrollX,width:N.width})}};if(l)return C(),window.addEventListener("scroll",C,!0),window.addEventListener("resize",C),()=>{window.removeEventListener("scroll",C,!0),window.removeEventListener("resize",C)}},[l]),U.useEffect(()=>{const C=N=>{v.current&&!v.current.contains(N.target)&&(N.target.closest("[data-combobox-dropdown]")||c(!1))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const k=C=>{const N=C.target.value;u(N),c(!0),t(N)},S=(C,N)=>{N.preventDefault(),N.stopPropagation(),console.log("[v0] Combobox option selected:",C),u(C.name),t(C.code),c(!1),setTimeout(()=>{var E;(E=_.current)==null||E.focus()},0)},M=()=>{var C;u(""),t(""),(C=_.current)==null||C.focus()},T=()=>{c(!0)},O=C=>{C.key==="Escape"&&c(!1)},A=l&&!a&&n.jsx("div",{"data-combobox-dropdown":!0,className:"fixed z-[9999] bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",style:{top:`${f.top+4}px`,left:`${f.left}px`,width:`${f.width}px`},onMouseDown:C=>C.preventDefault(),children:p.length>0?n.jsx("ul",{className:"py-1",children:p.map(C=>n.jsx("li",{children:n.jsx("button",{type:"button",onClick:N=>S(C,N),onMouseDown:N=>N.preventDefault(),className:Vm("w-full text-left px-3 py-2 text-sm hover:bg-blue-50 transition-colors cursor-pointer",e===C.code&&"bg-blue-100 font-medium"),children:C.name})},C.code))}):n.jsxs("div",{className:"px-3 py-2 text-sm text-gray-500",children:['No options found. Press Enter to use "',d,'"']})});return n.jsxs("div",{ref:v,className:Vm("relative",i),children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{ref:_,type:"text",value:d,onChange:k,onFocus:T,onKeyDown:O,placeholder:s,disabled:a,className:Vm("flex h-10 w-full rounded-md border bg-white px-3 py-2 text-sm pr-20","focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20","disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-gray-50","hover:border-gray-400",o&&"border-red-500 focus:border-red-500 focus:ring-red-500/20",!o&&"border-gray-300")}),n.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[d&&!a&&n.jsx("button",{type:"button",onClick:M,className:"p-1 hover:bg-gray-100 rounded transition-colors",tabIndex:-1,children:n.jsx(Bs,{size:14,className:"text-gray-500"})}),n.jsx("button",{type:"button",onClick:()=>!a&&c(!l),className:"p-1 hover:bg-gray-100 rounded transition-colors",tabIndex:-1,disabled:a,children:n.jsx(q0,{size:16,className:Vm("text-gray-500 transition-transform",l&&"rotate-180")})})]})]}),typeof document<"u"&&IE.createPortal(A,document.body)]})},ble=({show:e,data:t,onConfirm:r,onCancel:s,isLoading:a})=>{const[i,o]=U.useState(null),[l,c]=U.useState(!1),[d,u]=U.useState(null),[p,x]=U.useState(null),[f,y]=U.useState([]),[v,_]=U.useState("LR-");U.useEffect(()=>{y([...t])},[t]),U.useEffect(()=>{e&&t.length>0&&(console.log("ConfirmLandRegisterExcelModal received data:",t),console.log("First land register sample:",t[0]),k())},[e,t]),U.useEffect(()=>{e&&f.length>0&&f!==t&&(console.log("editedData changed, re-validating..."),S(f))},[f,e]);const k=async()=>{if(t.length!==0){console.log("Main validateData called with data:",t),c(!0),u(null);try{const W=t.map(te=>te.lr_certificate_no).filter(Boolean),Z=W.filter((te,ie)=>W.indexOf(te)!==ie);console.log("LR certificate numbers found:",W),console.log("Duplicate LR numbers detected:",Z);let Y;try{if(Y=await fetch(`${Bt}/land-assets/check-lr-numbers`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({lr_numbers:W})}),!Y.ok)throw new Error(`Failed to check LR numbers: ${Y.status} ${Y.statusText}`);const ie=(await Y.json()).existing_lr_numbers||[];console.log("Existing LR numbers from database:",ie);const le=t.filter(oe=>{const ee=oe.lr_certificate_no&&oe.lr_certificate_no.trim()!=="",B=oe.description_of_land&&oe.description_of_land.trim()!=="",q=oe.proprietorship_details&&oe.proprietorship_details.trim()!=="";return console.log("Validating land:",oe.lr_certificate_no,{hasLRNumber:ee,hasDescription:B,hasOwnership:q}),!ee||!B||!q});console.log("Invalid data found:",le);const se={existingLRNumbers:ie,duplicateLRNumbers:[...new Set(Z)],invalidData:le,totalValid:t.length-le.length-Z.length+[...new Set(Z)].length,totalInvalid:le.length,totalDuplicates:[...new Set(Z)].length,totalExisting:ie.length};console.log("Validation result:",se),o(se)}catch(te){console.error("Validation error:",te),u("Failed to validate data. Please try again.")}finally{c(!1)}}catch(W){console.error("Validation error:",W),u("Failed to validate data. Please try again."),c(!1)}}},S=async W=>{if(W.length!==0){console.log("validateDataWithData called with:",W),c(!0),u(null);try{const Z=W.map(ie=>ie.lr_certificate_no).filter(Boolean),Y=Z.filter((ie,le)=>Z.indexOf(ie)!==le);let te;try{if(te=await fetch(`${Bt}/land-assets/check-lr-numbers`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({lr_numbers:Z})}),!te.ok)throw new Error(`Failed to check LR numbers: ${te.status} ${te.statusText}`);const le=(await te.json()).existing_lr_numbers||[],se=W.filter(ee=>{const B=ee.lr_certificate_no&&ee.lr_certificate_no.trim()!=="",q=ee.description_of_land&&ee.description_of_land.trim()!=="",Q=ee.proprietorship_details&&ee.proprietorship_details.trim()!=="";return!B||!q||!Q}),oe={existingLRNumbers:le,duplicateLRNumbers:[...new Set(Y)],invalidData:se,totalValid:W.length-se.length-Y.length+[...new Set(Y)].length,totalInvalid:se.length,totalDuplicates:[...new Set(Y)].length,totalExisting:le.length};o(oe)}catch(ie){console.error("Validation error:",ie),u("Failed to validate data. Please try again.")}finally{c(!1)}}catch(Z){console.error("Validation error:",Z),u("Failed to validate data. Please try again."),c(!1)}}},M=i&&i.totalInvalid===0&&i.totalDuplicates===0&&i.totalExisting===0,T=W=>{switch(W){case"success":return n.jsx(la,{className:"w-5 h-5 text-green-500"});case"warning":return n.jsx(aa,{className:"w-5 h-5 text-yellow-500"});case"error":return n.jsx(mp,{className:"w-5 h-5 text-red-500"});case"info":return n.jsx(Mu,{className:"w-5 h-5 text-blue-500"})}},O=W=>!W.lr_certificate_no||W.lr_certificate_no.trim()===""?"Missing LR certificate number":!W.description_of_land||W.description_of_land.trim()===""?"Missing land description":!W.proprietorship_details||W.proprietorship_details.trim()===""?"Missing ownership details":i!=null&&i.duplicateLRNumbers.includes(W.lr_certificate_no)?"Duplicate LR number in file":i!=null&&i.existingLRNumbers.includes(W.lr_certificate_no)?"LR number already exists":"Valid",A=(W,Z)=>{let Y=1,te=`${v}${W}`;for(;Z.includes(te);)te=`${v}${Y}-${W}`,Y++;return te},C=()=>{if(!i)return;console.log("Auto-fixing duplicates...");const W=[...f],Z=[...i.existingLRNumbers,...W.map(te=>te.lr_certificate_no).filter(Boolean)],Y=new Map;W.forEach((te,ie)=>{te.lr_certificate_no&&i.duplicateLRNumbers.includes(te.lr_certificate_no)&&(Y.has(te.lr_certificate_no)||Y.set(te.lr_certificate_no,[]),Y.get(te.lr_certificate_no).push(ie))}),Y.forEach((te,ie)=>{te.length>1&&te.slice(1).forEach(le=>{const se=A(ie,Z);W[le]={...W[le],lr_certificate_no:se},Z.push(se)})}),y(W),setTimeout(()=>{S(W)},100)},N=W=>{x(W)},E=()=>{x(null),setTimeout(()=>{S(f)},100)},z=()=>{x(null),y([...t]),setTimeout(()=>{k()},100)},P=(W,Z,Y)=>{const te=[...f];te[W]={...te[W],[Z]:Y},y(te)},I=W=>{const Z=f.filter((Y,te)=>te!==W);y(Z),setTimeout(()=>{S(Z)},100)};return e?n.jsx("div",{className:"flex fixed inset-0 z-50 justify-center items-center p-4 bg-black bg-opacity-50 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-9xl max-h-[95vh] relative overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"sticky top-0 z-20 p-6 pb-4 bg-white border-b",children:[n.jsx("h3",{className:"text-xl font-bold",children:"Confirm Excel Data"}),n.jsx("p",{className:"mt-1 text-gray-600",children:"Review your land register data and resolve any issues before uploading"})]}),n.jsxs("div",{className:"overflow-y-auto flex-1 p-6",children:[i&&n.jsxs("div",{className:"p-4 mb-6 bg-gray-50 rounded-lg border",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsxs("h4",{className:"flex gap-2 items-center font-semibold",children:[n.jsx(Mu,{className:"w-5 h-5 text-blue-500"}),"Data Validation Summary"]}),n.jsxs("div",{className:"flex gap-2",children:[i.totalDuplicates>0&&n.jsxs("button",{onClick:C,className:"flex gap-2 items-center px-3 py-1 text-sm text-yellow-700 bg-yellow-100 rounded transition hover:bg-yellow-200",title:"Automatically fix duplicate LR numbers with prefixes",children:[n.jsx(Za,{size:16}),"Auto-fix Duplicates"]}),n.jsx("button",{onClick:k,disabled:l,className:"px-2 py-1 text-sm text-blue-700 bg-blue-100 rounded transition hover:bg-blue-200 disabled:opacity-50",children:l?"Validating...":"Refresh"})]})]}),i.totalDuplicates>0&&n.jsx("div",{className:"p-3 mb-4 bg-yellow-50 rounded-md border border-yellow-200",children:n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsx("label",{className:"text-sm font-medium text-yellow-800",children:"Prefix for duplicate LR numbers:"}),n.jsx("input",{type:"text",value:v,onChange:W=>_(W.target.value),className:"px-2 py-1 text-sm rounded border border-yellow-300 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"LR-"})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 md:grid-cols-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.totalValid}),n.jsx("div",{className:"text-sm text-gray-600",children:"Valid Records"})]}),i.totalInvalid>0&&n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:i.totalInvalid}),n.jsx("div",{className:"text-sm text-gray-600",children:"Invalid Records"})]}),i.totalDuplicates>0&&n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:i.totalDuplicates}),n.jsx("div",{className:"text-sm text-gray-600",children:"Duplicate LR Numbers"})]}),i.totalExisting>0&&n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:i.totalExisting}),n.jsx("div",{className:"text-sm text-gray-600",children:"Already Exist"})]})]}),n.jsxs("div",{className:"space-y-2",children:[M&&n.jsxs("div",{className:"flex gap-2 items-center p-3 text-green-700 bg-green-50 rounded-md",children:[T("success"),n.jsx("span",{className:"font-medium",children:"All data is valid and ready for upload!"})]}),i.totalInvalid>0&&n.jsxs("div",{className:"flex gap-2 items-center p-3 text-red-700 bg-red-50 rounded-md",children:[T("error"),n.jsxs("span",{className:"font-medium",children:[i.totalInvalid," record(s) have missing required fields"]})]}),i.totalDuplicates>0&&n.jsxs("div",{className:"flex gap-2 items-center p-3 text-yellow-700 bg-yellow-50 rounded-md",children:[T("warning"),n.jsxs("span",{className:"font-medium",children:[i.totalDuplicates," duplicate LR number(s) found"]})]}),i.totalExisting>0&&n.jsxs("div",{className:"flex gap-2 items-center p-3 text-orange-700 bg-orange-50 rounded-md",children:[T("warning"),n.jsxs("span",{className:"font-medium",children:[i.totalExisting," LR number(s) already exist"]})]})]})]}),l&&n.jsx("div",{className:"p-4 mb-6 bg-blue-50 rounded-lg border",children:n.jsxs("div",{className:"flex gap-2 items-center text-blue-700",children:[n.jsx("div",{className:"w-5 h-5 rounded-full border-b-2 border-blue-700 animate-spin"}),n.jsx("span",{children:"Validating data..."})]})}),d&&n.jsx("div",{className:"p-4 mb-6 bg-red-50 rounded-lg border",children:n.jsxs("div",{className:"flex gap-2 items-center text-red-700",children:[T("error"),n.jsx("span",{children:d})]})}),n.jsx("div",{className:"overflow-x-auto rounded-md border",children:n.jsxs("table",{className:"min-w-full border-collapse table-auto",children:[n.jsx("thead",{className:"sticky top-0 z-10 bg-white",children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"px-4 py-2 text-sm font-semibold text-left bg-white",children:"Status"}),["LR Certificate No","Description","Ownership Details","County","Size (ha)","Acquisition Date","Acquisition Amount"].map(W=>n.jsx("th",{className:"px-4 py-2 text-sm font-semibold text-left whitespace-nowrap bg-white",children:W},W)),n.jsx("th",{className:"px-4 py-2 text-sm font-semibold text-left bg-white",children:"Actions"})]})}),n.jsx("tbody",{children:f.map((W,Z)=>{const Y=i==null?void 0:i.duplicateLRNumbers.includes(W.lr_certificate_no),te=i==null?void 0:i.existingLRNumbers.includes(W.lr_certificate_no),ie=i==null?void 0:i.invalidData.some(ee=>ee.lr_certificate_no===W.lr_certificate_no);let le="valid",se="Valid",oe="text-green-600";return ie?(le="invalid",se="Invalid",oe="text-red-600"):Y?(le="duplicate",se="Duplicate",oe="text-yellow-600"):te&&(le="existing",se="Exists",oe="text-orange-600"),n.jsxs("tr",{className:`border-b ${le!=="valid"?"bg-red-50":""}`,children:[n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:`flex gap-2 items-center ${oe}`,children:[T(le),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium",children:se}),n.jsx("span",{className:"text-xs text-gray-500",children:O(W)})]})]})}),n.jsx("td",{className:"px-4 py-2",children:p===Z?n.jsx("input",{type:"text",value:W.lr_certificate_no||"",onChange:ee=>P(Z,"lr_certificate_no",ee.target.value),className:"px-2 py-1 w-full text-sm rounded border focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"LR Certificate No"}):n.jsx("span",{className:"text-sm",children:W.lr_certificate_no||"N/A"})}),n.jsx("td",{className:"px-4 py-2 max-w-xs",children:p===Z?n.jsx("input",{type:"text",value:W.description_of_land||"",onChange:ee=>P(Z,"description_of_land",ee.target.value),className:"px-2 py-1 w-full text-sm rounded border focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Description"}):n.jsx("span",{className:"text-sm truncate",children:W.description_of_land||"N/A"})}),n.jsx("td",{className:"px-4 py-2 max-w-xs",children:p===Z?n.jsx("input",{type:"text",value:W.proprietorship_details||"",onChange:ee=>P(Z,"proprietorship_details",ee.target.value),className:"px-2 py-1 w-full text-sm rounded border focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ownership Details"}):n.jsx("span",{className:"text-sm truncate",children:W.proprietorship_details||"N/A"})}),n.jsx("td",{className:"px-4 py-2 text-sm",children:W.county||"N/A"}),n.jsx("td",{className:"px-4 py-2 text-sm",children:W.size_ha||"N/A"}),n.jsx("td",{className:"px-4 py-2 text-sm",children:W.acquisition_date||"N/A"}),n.jsx("td",{className:"px-4 py-2 text-sm",children:W.acquisition_amount||"N/A"}),n.jsx("td",{className:"px-4 py-2",children:p===Z?n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:E,className:"p-1 text-green-600 rounded transition-colors hover:bg-green-100",title:"Save changes",children:n.jsx(bi,{size:16})}),n.jsx("button",{onClick:z,className:"p-1 text-gray-600 rounded transition-colors hover:bg-gray-100",title:"Cancel edit",children:n.jsx(Bs,{size:16})})]}):n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>N(Z),className:"p-1 text-blue-600 rounded transition-colors hover:bg-blue-100",title:"Edit record",children:n.jsx(r5,{size:16})}),n.jsx("button",{onClick:()=>I(Z),className:"p-1 text-red-600 rounded transition-colors hover:bg-red-100",title:"Remove record",children:n.jsx(ud,{size:16})})]})})]},Z)})})]})})]}),n.jsx("div",{className:"sticky bottom-0 p-6 bg-white border-t",children:n.jsxs("div",{className:"flex flex-col gap-4 justify-between items-start sm:flex-row sm:items-center",children:[n.jsx("div",{className:"text-sm text-gray-600",children:i&&n.jsx("span",{children:M?`Ready to upload ${i.totalValid} valid record(s)`:`Please resolve ${i.totalInvalid+i.totalDuplicates+i.totalExisting} issue(s) before uploading`})}),n.jsxs("div",{className:"flex space-x-4 w-full sm:w-auto",children:[n.jsx("button",{onClick:s,className:"flex-1 px-4 py-2 bg-gray-300 rounded transition sm:flex-none hover:bg-gray-400",children:"Cancel"}),n.jsx("button",{onClick:()=>r(f),disabled:!M||a,className:`flex-1 sm:flex-none px-4 py-2 rounded transition ${M&&!a?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-gray-400 text-gray-200 cursor-not-allowed"}`,children:a?"Uploading...":"Confirm Upload"})]})]})})]})}):null},XS=[{code:"001",name:"Mombasa"},{code:"002",name:"Kwale"},{code:"003",name:"Kilifi"},{code:"004",name:"Tana River"},{code:"005",name:"Lamu"},{code:"006",name:"Taita-Taveta"},{code:"007",name:"Garissa"},{code:"008",name:"Wajir"},{code:"009",name:"Mandera"},{code:"010",name:"Marsabit"},{code:"011",name:"Isiolo"},{code:"012",name:"Meru"},{code:"013",name:"Tharaka-Nithi"},{code:"014",name:"Embu"},{code:"015",name:"Kitui"},{code:"016",name:"Machakos"},{code:"017",name:"Makueni"},{code:"018",name:"Nyandarua"},{code:"019",name:"Nyeri"},{code:"020",name:"Kirinyaga"},{code:"021",name:"Murang'a"},{code:"022",name:"Kiambu"},{code:"023",name:"Turkana"},{code:"024",name:"West Pokot"},{code:"025",name:"Samburu"},{code:"026",name:"Trans Nzoia"},{code:"027",name:"Uasin Gishu"},{code:"028",name:"Elgeyo-Marakwet"},{code:"029",name:"Nandi"},{code:"030",name:"Baringo"},{code:"031",name:"Laikipia"},{code:"032",name:"Nakuru"},{code:"033",name:"Narok"},{code:"034",name:"Kajiado"},{code:"035",name:"Kericho"},{code:"036",name:"Bomet"},{code:"037",name:"Kakamega"},{code:"038",name:"Vihiga"},{code:"039",name:"Bungoma"},{code:"040",name:"Busia"},{code:"041",name:"Siaya"},{code:"042",name:"Kisumu"},{code:"043",name:"Homa Bay"},{code:"044",name:"Migori"},{code:"045",name:"Kisii"},{code:"046",name:"Nyamira"},{code:"047",name:"Nairobi"}],_le=[{code:"001001",name:"Changamwe",countyCode:"001"},{code:"001002",name:"Jomvu",countyCode:"001"},{code:"001003",name:"Kisauni",countyCode:"001"},{code:"001004",name:"Nyali",countyCode:"001"},{code:"001005",name:"Likoni",countyCode:"001"},{code:"001006",name:"Mvita",countyCode:"001"},{code:"002007",name:"Msambweni",countyCode:"002"},{code:"002008",name:"Lungalunga",countyCode:"002"},{code:"002009",name:"Matuga",countyCode:"002"},{code:"002010",name:"Kinango",countyCode:"002"},{code:"003011",name:"Kilifi North",countyCode:"003"},{code:"003012",name:"Kilifi South",countyCode:"003"},{code:"003013",name:"Kaloleni",countyCode:"003"},{code:"003014",name:"Rabai",countyCode:"003"},{code:"003015",name:"Ganze",countyCode:"003"},{code:"003016",name:"Malindi",countyCode:"003"},{code:"003017",name:"Magarini",countyCode:"003"},{code:"004018",name:"Garsen",countyCode:"004"},{code:"004019",name:"Galole",countyCode:"004"},{code:"004020",name:"Bura",countyCode:"004"},{code:"005021",name:"Lamu East",countyCode:"005"},{code:"005022",name:"Lamu West",countyCode:"005"},{code:"006023",name:"Taveta",countyCode:"006"},{code:"006024",name:"Wundanyi",countyCode:"006"},{code:"006025",name:"Mwatate",countyCode:"006"},{code:"006026",name:"Voi",countyCode:"006"},{code:"007027",name:"Garissa Township",countyCode:"007"},{code:"007028",name:"Balambala",countyCode:"007"},{code:"007029",name:"Lagdera",countyCode:"007"},{code:"007030",name:"Dadaab",countyCode:"007"},{code:"007031",name:"Fafi",countyCode:"007"},{code:"007032",name:"Ijara",countyCode:"007"},{code:"008033",name:"Wajir North",countyCode:"008"},{code:"008034",name:"Wajir East",countyCode:"008"},{code:"008035",name:"Tarbaj",countyCode:"008"},{code:"008036",name:"Wajir West",countyCode:"008"},{code:"008037",name:"Eldas",countyCode:"008"},{code:"008038",name:"Wajir South",countyCode:"008"},{code:"009039",name:"Mandera West",countyCode:"009"},{code:"009040",name:"Banissa",countyCode:"009"},{code:"009041",name:"Mandera North",countyCode:"009"},{code:"009042",name:"Mandera South",countyCode:"009"},{code:"009043",name:"Mandera East",countyCode:"009"},{code:"009044",name:"Lafey",countyCode:"009"},{code:"010045",name:"Moyale",countyCode:"010"},{code:"010046",name:"North Horr",countyCode:"010"},{code:"010047",name:"Saku",countyCode:"010"},{code:"010048",name:"Laisamis",countyCode:"010"},{code:"011049",name:"Isiolo North",countyCode:"011"},{code:"011050",name:"Isiolo South",countyCode:"011"},{code:"012051",name:"Igembe South",countyCode:"012"},{code:"012052",name:"Igembe Central",countyCode:"012"},{code:"012053",name:"Igembe North",countyCode:"012"},{code:"012054",name:"Tigania West",countyCode:"012"},{code:"012055",name:"Tigania East",countyCode:"012"},{code:"012056",name:"North Imenti",countyCode:"012"},{code:"012057",name:"Buuri",countyCode:"012"},{code:"012058",name:"Central Imenti",countyCode:"012"},{code:"012059",name:"South Imenti",countyCode:"012"},{code:"013060",name:"Maara",countyCode:"013"},{code:"013061",name:"Chuka/Igambang'",countyCode:"013"},{code:"013062",name:"Tharaka",countyCode:"013"},{code:"014063",name:"Manyatta",countyCode:"014"},{code:"014064",name:"Runyenjes",countyCode:"014"},{code:"014065",name:"Mbeere South",countyCode:"014"},{code:"014066",name:"Mbeere North",countyCode:"014"},{code:"015067",name:"Mwingi North",countyCode:"015"},{code:"015068",name:"Mwingi West",countyCode:"015"},{code:"015069",name:"Mwingi Central",countyCode:"015"},{code:"015070",name:"Kitui West",countyCode:"015"},{code:"015071",name:"Kitui Rural",countyCode:"015"},{code:"015072",name:"Kitui Central",countyCode:"015"},{code:"015073",name:"Kitui East",countyCode:"015"},{code:"015074",name:"Kitui South",countyCode:"015"},{code:"016075",name:"Masinga",countyCode:"016"},{code:"016076",name:"Yatta",countyCode:"016"},{code:"016077",name:"Kangundo",countyCode:"016"},{code:"016078",name:"Matungulu",countyCode:"016"},{code:"016079",name:"Kathiani",countyCode:"016"},{code:"016080",name:"Mavoko",countyCode:"016"},{code:"016081",name:"Machakos Town",countyCode:"016"},{code:"016082",name:"Mwala",countyCode:"016"},{code:"017083",name:"Mbooni",countyCode:"017"},{code:"017084",name:"Kilome",countyCode:"017"},{code:"017085",name:"Kaiti",countyCode:"017"},{code:"017086",name:"Makueni",countyCode:"017"},{code:"017087",name:"Kibwezi West",countyCode:"017"},{code:"017088",name:"Kibwezi East",countyCode:"017"},{code:"018089",name:"Kinangop",countyCode:"018"},{code:"018090",name:"Kipipiri",countyCode:"018"},{code:"018091",name:"Ol Kalou",countyCode:"018"},{code:"018092",name:"Ol Jorok",countyCode:"018"},{code:"018093",name:"Ndaragwa",countyCode:"018"},{code:"019094",name:"Tetu",countyCode:"019"},{code:"019095",name:"Kieni",countyCode:"019"},{code:"019096",name:"Mathira",countyCode:"019"},{code:"019097",name:"Othaya",countyCode:"019"},{code:"019098",name:"Mukurweini",countyCode:"019"},{code:"019099",name:"Nyeri Town",countyCode:"019"},{code:"020100",name:"Mwea",countyCode:"020"},{code:"020101",name:"Gichugu",countyCode:"020"},{code:"020102",name:"Ndia",countyCode:"020"},{code:"020103",name:"Kirinyaga Central",countyCode:"020"},{code:"021104",name:"Kangema",countyCode:"021"},{code:"021105",name:"Mathioya",countyCode:"021"},{code:"021106",name:"Kiharu",countyCode:"021"},{code:"021107",name:"Kigumo",countyCode:"021"},{code:"021108",name:"Maragwa",countyCode:"021"},{code:"021109",name:"Kandara",countyCode:"021"},{code:"021110",name:"Gatanga",countyCode:"021"},{code:"022111",name:"Gatundu South",countyCode:"022"},{code:"022112",name:"Gatundu North",countyCode:"022"},{code:"022113",name:"Juja",countyCode:"022"},{code:"022114",name:"Thika Town",countyCode:"022"},{code:"022115",name:"Ruiru",countyCode:"022"},{code:"022116",name:"Githunguri",countyCode:"022"},{code:"022117",name:"Kiambu",countyCode:"022"},{code:"022118",name:"Kiambaa",countyCode:"022"},{code:"022119",name:"Kabete",countyCode:"022"},{code:"022120",name:"Kikuyu",countyCode:"022"},{code:"022121",name:"Limuru",countyCode:"022"},{code:"022122",name:"Lari",countyCode:"022"},{code:"023123",name:"Turkana North",countyCode:"023"},{code:"023124",name:"Turkana West",countyCode:"023"},{code:"023125",name:"Turkana Central",countyCode:"023"},{code:"023126",name:"Loima",countyCode:"023"},{code:"023127",name:"Turkana South",countyCode:"023"},{code:"023128",name:"Turkana East",countyCode:"023"},{code:"024129",name:"Kapenguria",countyCode:"024"},{code:"024130",name:"Sigor",countyCode:"024"},{code:"024131",name:"Kacheliba",countyCode:"024"},{code:"024132",name:"Pokot South",countyCode:"024"},{code:"025133",name:"Samburu West",countyCode:"025"},{code:"025134",name:"Samburu North",countyCode:"025"},{code:"025135",name:"Samburu East",countyCode:"025"},{code:"026136",name:"Kwanza",countyCode:"026"},{code:"026137",name:"Endebess",countyCode:"026"},{code:"026138",name:"Saboti",countyCode:"026"},{code:"026139",name:"Kiminini",countyCode:"026"},{code:"026140",name:"Cherangany",countyCode:"026"},{code:"027141",name:"Soy",countyCode:"027"},{code:"027142",name:"Turbo",countyCode:"027"},{code:"027143",name:"Moiben",countyCode:"027"},{code:"027144",name:"Ainabkoi",countyCode:"027"},{code:"027145",name:"Kapseret",countyCode:"027"},{code:"027146",name:"Kesses",countyCode:"027"},{code:"028147",name:"Marakwet East",countyCode:"028"},{code:"028148",name:"Marakwet West",countyCode:"028"},{code:"028149",name:"Keiyo North",countyCode:"028"},{code:"028150",name:"Keiyo South",countyCode:"028"},{code:"029151",name:"Tinderet",countyCode:"029"},{code:"029152",name:"Aldai",countyCode:"029"},{code:"029153",name:"Nandi Hills",countyCode:"029"},{code:"029154",name:"Chesumei",countyCode:"029"},{code:"029155",name:"Emgwen",countyCode:"029"},{code:"029156",name:"Mosop",countyCode:"029"},{code:"030157",name:"Tiaty",countyCode:"030"},{code:"030158",name:"Baringo North",countyCode:"030"},{code:"030159",name:"Baringo Central",countyCode:"030"},{code:"030160",name:"Baringo South",countyCode:"030"},{code:"030161",name:"Mogotio",countyCode:"030"},{code:"030162",name:"Eldama Ravine",countyCode:"030"},{code:"031163",name:"Laikipia West",countyCode:"031"},{code:"031164",name:"Laikipia East",countyCode:"031"},{code:"031165",name:"Laikipia North",countyCode:"031"},{code:"032166",name:"Molo",countyCode:"032"},{code:"032167",name:"Njoro",countyCode:"032"},{code:"032168",name:"Naivasha",countyCode:"032"},{code:"032169",name:"Gilgil",countyCode:"032"},{code:"032170",name:"Kuresoi South",countyCode:"032"},{code:"032171",name:"Kuresoi North",countyCode:"032"},{code:"032172",name:"Subukia",countyCode:"032"},{code:"032173",name:"Rongai",countyCode:"032"},{code:"032174",name:"Bahati",countyCode:"032"},{code:"032175",name:"Nakuru Town West",countyCode:"032"},{code:"032176",name:"Nakuru Town East",countyCode:"032"},{code:"033177",name:"Kilgoris",countyCode:"033"},{code:"033178",name:"Emurua Dikirr",countyCode:"033"},{code:"033179",name:"Narok North",countyCode:"033"},{code:"033180",name:"Narok East",countyCode:"033"},{code:"033181",name:"Narok South",countyCode:"033"},{code:"033182",name:"Narok West",countyCode:"033"},{code:"034183",name:"Kajiado North",countyCode:"034"},{code:"034184",name:"Kajiado Central",countyCode:"034"},{code:"034185",name:"Kajiado East",countyCode:"034"},{code:"034186",name:"Kajiado West",countyCode:"034"},{code:"034187",name:"Kajiado South",countyCode:"034"},{code:"035188",name:"Kipkelion East",countyCode:"035"},{code:"035189",name:"Kipkelion West",countyCode:"035"},{code:"035190",name:"Ainamoi",countyCode:"035"},{code:"035191",name:"Bureti",countyCode:"035"},{code:"035192",name:"Belgut",countyCode:"035"},{code:"035193",name:"Sigowet/Soin",countyCode:"035"},{code:"036194",name:"Sotik",countyCode:"036"},{code:"036195",name:"Chepalungu",countyCode:"036"},{code:"036196",name:"Bomet East",countyCode:"036"},{code:"036197",name:"Bomet Central",countyCode:"036"},{code:"036198",name:"Konoin",countyCode:"036"},{code:"037199",name:"Lugari",countyCode:"037"},{code:"037200",name:"Likuyani",countyCode:"037"},{code:"037201",name:"Malava",countyCode:"037"},{code:"037202",name:"Lurambi",countyCode:"037"},{code:"037203",name:"Navakholo",countyCode:"037"},{code:"037204",name:"Mumias West",countyCode:"037"},{code:"037205",name:"Mumias East",countyCode:"037"},{code:"037206",name:"Matungu",countyCode:"037"},{code:"037207",name:"Butere",countyCode:"037"},{code:"037208",name:"Khwisero",countyCode:"037"},{code:"037209",name:"Shinyalu",countyCode:"037"},{code:"037210",name:"Ikolomani",countyCode:"037"},{code:"038211",name:"Vihiga",countyCode:"038"},{code:"038212",name:"Sabatia",countyCode:"038"},{code:"038213",name:"Hamisi",countyCode:"038"},{code:"038214",name:"Luanda",countyCode:"038"},{code:"038215",name:"Emuhaya",countyCode:"038"},{code:"039216",name:"Mt. Elgon",countyCode:"039"},{code:"039217",name:"Sirisia",countyCode:"039"},{code:"039218",name:"Kabuchai",countyCode:"039"},{code:"039219",name:"Bumula",countyCode:"039"},{code:"039220",name:"Kanduyi",countyCode:"039"},{code:"039221",name:"Webuye East",countyCode:"039"},{code:"039222",name:"Webuye West",countyCode:"039"},{code:"039223",name:"Kimilili",countyCode:"039"},{code:"039224",name:"Tongaren",countyCode:"039"},{code:"040225",name:"Teso North",countyCode:"040"},{code:"040226",name:"Teso South",countyCode:"040"},{code:"040227",name:"Nambale",countyCode:"040"},{code:"040228",name:"Matayos",countyCode:"040"},{code:"040229",name:"Butula",countyCode:"040"},{code:"040230",name:"Funyula",countyCode:"040"},{code:"040231",name:"Budalangi",countyCode:"040"},{code:"041232",name:"Ugenya",countyCode:"041"},{code:"041233",name:"Ugunja",countyCode:"041"},{code:"041234",name:"Alego Usonga",countyCode:"041"},{code:"041235",name:"Gem",countyCode:"041"},{code:"041236",name:"Bondo",countyCode:"041"},{code:"041237",name:"Rarieda",countyCode:"041"},{code:"042238",name:"Kisumu East",countyCode:"042"},{code:"042239",name:"Kisumu West",countyCode:"042"},{code:"042240",name:"Kisumu Central",countyCode:"042"},{code:"042241",name:"Seme",countyCode:"042"},{code:"042242",name:"Nyando",countyCode:"042"},{code:"042243",name:"Muhoroni",countyCode:"042"},{code:"042244",name:"Nyakach",countyCode:"042"},{code:"043245",name:"Kasipul",countyCode:"043"},{code:"043246",name:"Kabondo Kasipul",countyCode:"043"},{code:"043247",name:"Karachuonyo",countyCode:"043"},{code:"043248",name:"Rangwe",countyCode:"043"},{code:"043249",name:"Homa Bay Town",countyCode:"043"},{code:"043250",name:"Ndhiwa",countyCode:"043"},{code:"043251",name:"Mbita",countyCode:"043"},{code:"043252",name:"Suba",countyCode:"043"},{code:"044253",name:"Rongo",countyCode:"044"},{code:"044254",name:"Awendo",countyCode:"044"},{code:"044255",name:"Suna East",countyCode:"044"},{code:"044256",name:"Suna West",countyCode:"044"},{code:"044257",name:"Uriri",countyCode:"044"},{code:"044258",name:"Nyatike",countyCode:"044"},{code:"044259",name:"Kuria West",countyCode:"044"},{code:"044260",name:"Kuria East",countyCode:"044"},{code:"045261",name:"Bonchari",countyCode:"045"},{code:"045262",name:"South Mugirango",countyCode:"045"},{code:"045263",name:"Bomachoge Borab",countyCode:"045"},{code:"045264",name:"Bobasi",countyCode:"045"},{code:"045265",name:"Bomachoge Chach",countyCode:"045"},{code:"045266",name:"Nyaribari Masaba",countyCode:"045"},{code:"045267",name:"Nyaribari Chache",countyCode:"045"},{code:"045268",name:"Kitutu Chache North",countyCode:"045"},{code:"045269",name:"Kitutu Chache South",countyCode:"045"},{code:"046270",name:"Kitutu Masaba",countyCode:"046"},{code:"046271",name:"West Mugirango",countyCode:"046"},{code:"046272",name:"North Mugirango",countyCode:"046"},{code:"046273",name:"Borabu",countyCode:"046"},{code:"047274",name:"Westlands",countyCode:"047"},{code:"047275",name:"Dagoretti North",countyCode:"047"},{code:"047276",name:"Dagoretti South",countyCode:"047"},{code:"047277",name:"Langata",countyCode:"047"},{code:"047278",name:"Kibra",countyCode:"047"},{code:"047279",name:"Roysambu",countyCode:"047"},{code:"047280",name:"Kasarani",countyCode:"047"},{code:"047281",name:"Ruaraka",countyCode:"047"},{code:"047282",name:"Embakasi South",countyCode:"047"},{code:"047283",name:"Embakasi North",countyCode:"047"},{code:"047284",name:"Embakasi Central",countyCode:"047"},{code:"047285",name:"Embakasi East",countyCode:"047"},{code:"047286",name:"Embakasi West",countyCode:"047"},{code:"047287",name:"Makadara",countyCode:"047"},{code:"047288",name:"Kamukunji",countyCode:"047"},{code:"047289",name:"Starehe",countyCode:"047"},{code:"047290",name:"Mathare",countyCode:"047"}],wle=[{code:"00101001",name:"Changamwe",subCountyCode:"00101"},{code:"00101002",name:"Port Reitz",subCountyCode:"00101"},{code:"00102001",name:"Jomvu",subCountyCode:"00102"},{code:"00102002",name:"Miritini",subCountyCode:"00102"},{code:"00103001",name:"Bamburi",subCountyCode:"00103"},{code:"00103002",name:"Kisauni",subCountyCode:"00103"},{code:"00104001",name:"Kongowea",subCountyCode:"00104"},{code:"00104002",name:"Frere Town",subCountyCode:"00104"},{code:"00105001",name:"Likoni",subCountyCode:"00105"},{code:"00105002",name:"Longo",subCountyCode:"00105"},{code:"00207001",name:"Diani",subCountyCode:"00207"},{code:"00207002",name:"Msambweni",subCountyCode:"00207"},{code:"00208001",name:"Lungalunga",subCountyCode:"00208"},{code:"00208002",name:"Pongwe/ Kikomeni",subCountyCode:"00208"},{code:"00209001",name:"Matuga",subCountyCode:"00209"},{code:"00210001",name:"Kinango",subCountyCode:"00210"},{code:"00210002",name:"Ndavaya",subCountyCode:"00210"},{code:"00311001",name:"Bahari",subCountyCode:"00311"},{code:"00311002",name:"Matsangoni",subCountyCode:"00311"},{code:"00312001",name:"Kikambala",subCountyCode:"00312"},{code:"00312002",name:"Shariani",subCountyCode:"00312"},{code:"00313001",name:"Kaloleni",subCountyCode:"00313"},{code:"00313002",name:"Mariakani",subCountyCode:"00313"},{code:"00313003",name:"Mwanamwinga",subCountyCode:"00313"},{code:"00314001",name:"Kambe/Ribe",subCountyCode:"00314"},{code:"00314002",name:"Mwawesa",subCountyCode:"00314"},{code:"00314003",name:"Rabai",subCountyCode:"00314"},{code:"00315001",name:"Bamba",subCountyCode:"00315"},{code:"00315002",name:"Ganze",subCountyCode:"00315"},{code:"00315003",name:"Vitengeni",subCountyCode:"00315"},{code:"00316001",name:"Langobaya",subCountyCode:"00316"},{code:"00316002",name:"Malindi",subCountyCode:"00316"},{code:"00317001",name:"Magarini",subCountyCode:"00317"},{code:"00317002",name:"Marafa",subCountyCode:"00317"},{code:"00418001",name:"Garsen",subCountyCode:"00418"},{code:"00419001",name:"Galole",subCountyCode:"00419"},{code:"00420001",name:"Bura",subCountyCode:"00420"},{code:"00521001",name:"Basuba",subCountyCode:"00521"},{code:"00521002",name:"Faza",subCountyCode:"00521"},{code:"00521003",name:"Kiunga",subCountyCode:"00521"},{code:"00521004",name:"Kizingitini",subCountyCode:"00521"},{code:"00522001",name:"Mkunumbi",subCountyCode:"00522"},{code:"00522002",name:"Mpeketoni",subCountyCode:"00522"},{code:"00522003",name:"Witu",subCountyCode:"00522"},{code:"00623001",name:"Bomeni",subCountyCode:"00623"},{code:"00623002",name:"Chala",subCountyCode:"00623"},{code:"00623003",name:"Jipe",subCountyCode:"00623"},{code:"00625001",name:"Mwambirwa",subCountyCode:"00625"},{code:"00625002",name:"Mwatate",subCountyCode:"00625"},{code:"00626001",name:"Nyangala",subCountyCode:"00626"},{code:"00626002",name:"Tausa",subCountyCode:"00626"},{code:"00626003",name:"Voi",subCountyCode:"00626"},{code:"00729001",name:"Benane",subCountyCode:"00729"},{code:"00729002",name:"Modogashe",subCountyCode:"00729"},{code:"00729003",name:"Shant-Abaq",subCountyCode:"00729"},{code:"00730001",name:"Dadaab",subCountyCode:"00730"},{code:"00730002",name:"Dertu",subCountyCode:"00730"},{code:"00731001",name:"Jarajila",subCountyCode:"00731"},{code:"00732001",name:"Ijara",subCountyCode:"00732"},{code:"00732002",name:"Kotile",subCountyCode:"00732"},{code:"00732003",name:"Masalani",subCountyCode:"00732"},{code:"00732004",name:"Ruqa",subCountyCode:"00732"},{code:"00833001",name:"Bute",subCountyCode:"00833"},{code:"00833002",name:"Gurar",subCountyCode:"00833"},{code:"00834001",name:"Central",subCountyCode:"00834"},{code:"00835001",name:"Kotulo",subCountyCode:"00835"},{code:"00835002",name:"Mansa",subCountyCode:"00835"},{code:"00835003",name:"Sarman",subCountyCode:"00835"},{code:"00835004",name:"Tarbaj",subCountyCode:"00835"},{code:"00836001",name:"Arbajahan",subCountyCode:"00836"},{code:"00836002",name:"Griftu",subCountyCode:"00836"},{code:"00836003",name:"Wagalla",subCountyCode:"00836"},{code:"00837001",name:"Anole",subCountyCode:"00837"},{code:"00837002",name:"Dela",subCountyCode:"00837"},{code:"00837003",name:"Eldas",subCountyCode:"00837"},{code:"00837004",name:"Elnur",subCountyCode:"00837"},{code:"00838001",name:"Kulaaley",subCountyCode:"00838"},{code:"00838002",name:"Wajir ?Bor South",subCountyCode:"00838"},{code:"00939001",name:"Dandu",subCountyCode:"00939"},{code:"00939002",name:"Takaba",subCountyCode:"00939"},{code:"00941001",name:"Ashabito",subCountyCode:"00941"},{code:"00941002",name:"Olla",subCountyCode:"00941"},{code:"00941003",name:"Rhamu",subCountyCode:"00941"},{code:"00941004",name:"Rhamu Dimtu",subCountyCode:"00941"},{code:"00943001",name:"Central",subCountyCode:"00943"},{code:"00943002",name:"Khalalio",subCountyCode:"00943"},{code:"00944001",name:"Lafey",subCountyCode:"00944"},{code:"00944002",name:"Sala",subCountyCode:"00944"},{code:"00944003",name:"Warankara",subCountyCode:"00944"},{code:"01045001",name:"Central",subCountyCode:"01045"},{code:"01045002",name:"Golbo",subCountyCode:"01045"},{code:"01046001",name:"North Horr",subCountyCode:"01046"},{code:"01251001",name:"Akachiu",subCountyCode:"01251"},{code:"01251002",name:"Athiru Gaiti",subCountyCode:"01251"},{code:"01251003",name:"Kanuni",subCountyCode:"01251"},{code:"01251004",name:"Maua",subCountyCode:"01251"},{code:"01252001",name:"Kangeta",subCountyCode:"01252"},{code:"01252002",name:"Kiengu",subCountyCode:"01252"},{code:"01253001",name:"Laare",subCountyCode:"01253"},{code:"01254001",name:"Athwana",subCountyCode:"01254"},{code:"01254002",name:"Mituntu",subCountyCode:"01254"},{code:"01254003",name:"Tigania West",subCountyCode:"01254"},{code:"01254004",name:"Uringu",subCountyCode:"01254"},{code:"01254005",name:"Akithi",subCountyCode:"01254"},{code:"01255001",name:"Amuthumba",subCountyCode:"01255"},{code:"01255002",name:"Karama",subCountyCode:"01255"},{code:"01255003",name:"Muthara",subCountyCode:"01255"},{code:"01360001",name:"Chogoria",subCountyCode:"01360"},{code:"01360002",name:"Ganga",subCountyCode:"01360"},{code:"01360003",name:"Mwimbi",subCountyCode:"01360"},{code:"01465001",name:"Gachoka",subCountyCode:"01465"},{code:"01465002",name:"Kiritiri",subCountyCode:"01465"},{code:"01466001",name:"Evurore",subCountyCode:"01466"},{code:"01466002",name:"Kanyuambora",subCountyCode:"01466"},{code:"01466003",name:"Muminji",subCountyCode:"01466"},{code:"01466004",name:"Siakago",subCountyCode:"01466"},{code:"01675001",name:"Masinga",subCountyCode:"01675"},{code:"01675002",name:"Ndithini",subCountyCode:"01675"},{code:"01676001",name:"Ikombe",subCountyCode:"01676"},{code:"01676002",name:"Katangi",subCountyCode:"01676"},{code:"01676003",name:"Yatta",subCountyCode:"01676"},{code:"01677001",name:"Kakuyuni",subCountyCode:"01677"},{code:"01677002",name:"Kangundo",subCountyCode:"01677"},{code:"01677003",name:"Kivaani",subCountyCode:"01677"},{code:"01678001",name:"Central",subCountyCode:"01678"},{code:"01678002",name:"Kyanzavi",subCountyCode:"01678"},{code:"01678003",name:"Matungulu",subCountyCode:"01678"},{code:"01679001",name:"Kathiani",subCountyCode:"01679"},{code:"01679002",name:"Mitaboni",subCountyCode:"01679"},{code:"01682001",name:"Kibauni",subCountyCode:"01682"},{code:"01682002",name:"Masii",subCountyCode:"01682"},{code:"01682003",name:"Mwala",subCountyCode:"01682"},{code:"01682004",name:"Yathui",subCountyCode:"01682"},{code:"01786001",name:"Kaiti",subCountyCode:"01786"},{code:"01786002",name:"Kee",subCountyCode:"01786"},{code:"01786003",name:"Wote",subCountyCode:"01786"},{code:"01890001",name:"Kipipiri",subCountyCode:"01890"},{code:"01994001",name:"Tetu East",subCountyCode:"01994"},{code:"01994002",name:"Tetu West",subCountyCode:"01994"},{code:"01998001",name:"Mukurweini Central",subCountyCode:"01998"},{code:"01998002",name:"Mukurweini East",subCountyCode:"01998"},{code:"01998003",name:"Mukurweini South",subCountyCode:"01998"},{code:"01998004",name:"Mukurweini West",subCountyCode:"01998"},{code:"020100001",name:"Makima",subCountyCode:"020100"},{code:"020100002",name:"Mwea",subCountyCode:"020100"},{code:"021104001",name:"Iyego",subCountyCode:"021104"},{code:"021104002",name:"Kanyenyaini",subCountyCode:"021104"},{code:"021104003",name:"Murugu",subCountyCode:"021104"},{code:"021104004",name:"Rwathia",subCountyCode:"021104"},{code:"021105001",name:"Gitugi",subCountyCode:"021105"},{code:"021105002",name:"Kamacharia",subCountyCode:"021105"},{code:"021105003",name:"Kiru",subCountyCode:"021105"},{code:"021105004",name:"Njumbi",subCountyCode:"021105"},{code:"021107001",name:"Kigumo",subCountyCode:"021107"},{code:"021107002",name:"Kinyona",subCountyCode:"021107"},{code:"021107003",name:"Muthithi",subCountyCode:"021107"},{code:"021109001",name:"Githumu",subCountyCode:"021109"},{code:"021109002",name:"Kagundu-Ini",subCountyCode:"021109"},{code:"021109003",name:"Kandara",subCountyCode:"021109"},{code:"021110001",name:"Gatanga",subCountyCode:"021110"},{code:"021110002",name:"Kigoro",subCountyCode:"021110"},{code:"021110003",name:"Kihumbuini",subCountyCode:"021110"},{code:"021110004",name:"Kiriara",subCountyCode:"021110"},{code:"021110005",name:"Samuru",subCountyCode:"021110"},{code:"022111001",name:"Kiamwangi",subCountyCode:"022111"},{code:"022111002",name:"Kiganjo",subCountyCode:"022111"},{code:"022111003",name:"Ndarugu",subCountyCode:"022111"},{code:"022111004",name:"Ngenda",subCountyCode:"022111"},{code:"022112001",name:"Chania",subCountyCode:"022112"},{code:"022112002",name:"Mang'u",subCountyCode:"022112"},{code:"022113001",name:"Juja",subCountyCode:"022113"},{code:"022113002",name:"Witeithie",subCountyCode:"022113"},{code:"022115001",name:"Ruiru",subCountyCode:"022115"},{code:"022116001",name:"Githunguri",subCountyCode:"022116"},{code:"022116002",name:"Ikinu",subCountyCode:"022116"},{code:"022116003",name:"Komothai",subCountyCode:"022116"},{code:"022117001",name:"Municipality",subCountyCode:"022117"},{code:"022117002",name:"Ting'ang'a",subCountyCode:"022117"},{code:"022118001",name:"Kiambaa",subCountyCode:"022118"},{code:"022118002",name:"Kihara",subCountyCode:"022118"},{code:"022119001",name:"Gitaru",subCountyCode:"022119"},{code:"022119002",name:"Kabete",subCountyCode:"022119"},{code:"022120001",name:"Karai",subCountyCode:"022120"},{code:"022120002",name:"Kikuyu",subCountyCode:"022120"},{code:"022120003",name:"Kinoo",subCountyCode:"022120"},{code:"022121001",name:"Limuru",subCountyCode:"022121"},{code:"022121002",name:"Tigoni",subCountyCode:"022121"},{code:"022122001",name:"Gatamaiyu",subCountyCode:"022122"},{code:"022122002",name:"Kijabe",subCountyCode:"022122"},{code:"022122003",name:"Kinale",subCountyCode:"022122"},{code:"022122004",name:"Lari",subCountyCode:"022122"},{code:"023123001",name:"Kaaleng",subCountyCode:"023123"},{code:"023123002",name:"Kataboi",subCountyCode:"023123"},{code:"023123003",name:"Lapur",subCountyCode:"023123"},{code:"023123004",name:"Lokitaung",subCountyCode:"023123"},{code:"023124001",name:"Kakuma",subCountyCode:"023124"},{code:"023124002",name:"Oropoi",subCountyCode:"023124"},{code:"023125001",name:"Central",subCountyCode:"023125"},{code:"023125002",name:"Kalokol",subCountyCode:"023125"},{code:"023125003",name:"Kerio",subCountyCode:"023125"},{code:"023126001",name:"Loima",subCountyCode:"023126"},{code:"023126002",name:"Turkwel",subCountyCode:"023126"},{code:"023127001",name:"Kainuk",subCountyCode:"023127"},{code:"023127002",name:"Katilu",subCountyCode:"023127"},{code:"023127003",name:"Lokichar",subCountyCode:"023127"},{code:"023128001",name:"Lokori",subCountyCode:"023128"},{code:"023128002",name:"Lomelo",subCountyCode:"023128"},{code:"024131001",name:"Kacheliba",subCountyCode:"024131"},{code:"024131002",name:"Konyao",subCountyCode:"024131"},{code:"024132001",name:"Lelan",subCountyCode:"024132"},{code:"024132002",name:"Tapach",subCountyCode:"024132"},{code:"025134001",name:"Baragoi",subCountyCode:"025134"},{code:"025134002",name:"Nyiro",subCountyCode:"025134"},{code:"025135001",name:"Wamba",subCountyCode:"025135"},{code:"025135002",name:"Waso",subCountyCode:"025135"},{code:"026136001",name:"Bidii",subCountyCode:"026136"},{code:"026136002",name:"Kwanza",subCountyCode:"026136"},{code:"026137001",name:"Chepchoina",subCountyCode:"026137"},{code:"026137002",name:"Endebess",subCountyCode:"026137"},{code:"026139001",name:"Kiminini",subCountyCode:"026139"},{code:"026139002",name:"Waitaluk",subCountyCode:"026139"},{code:"027141001",name:"Moi's Bridge",subCountyCode:"027141"},{code:"027141002",name:"Soy",subCountyCode:"027141"},{code:"027142001",name:"Kapyemit",subCountyCode:"027142"},{code:"027142002",name:"Turbo",subCountyCode:"027142"},{code:"027143001",name:"Moiben",subCountyCode:"027143"},{code:"027143002",name:"Sergoit",subCountyCode:"027143"},{code:"027144001",name:"Ainabkoi",subCountyCode:"027144"},{code:"027144002",name:"Kaptagat",subCountyCode:"027144"},{code:"027146001",name:"Cheptiret",subCountyCode:"027146"},{code:"027146002",name:"Kesses",subCountyCode:"027146"},{code:"028147001",name:"Chesongoch",subCountyCode:"028147"},{code:"028147002",name:"Kapyego",subCountyCode:"028147"},{code:"028147003",name:"Tirap",subCountyCode:"028147"},{code:"028147004",name:"Tot",subCountyCode:"028147"},{code:"028148001",name:"Chebiemit",subCountyCode:"028148"},{code:"028148002",name:"Chebororwa",subCountyCode:"028148"},{code:"028148003",name:"Kapcherop",subCountyCode:"028148"},{code:"028148004",name:"Kapsowar",subCountyCode:"028148"},{code:"028148005",name:"Tunyo",subCountyCode:"028148"},{code:"028149001",name:"Kamariny",subCountyCode:"028149"},{code:"028149002",name:"Kapchemutwa",subCountyCode:"028149"},{code:"028149003",name:"Tambach",subCountyCode:"028149"},{code:"028150001",name:"Chepkorio",subCountyCode:"028150"},{code:"028150002",name:"Metkei",subCountyCode:"028150"},{code:"028150003",name:"Soy",subCountyCode:"028150"},{code:"029151001",name:"Chemelil/ Chemase",subCountyCode:"029151"},{code:"029151002",name:"Tinderet",subCountyCode:"029151"},{code:"029154001",name:"Kaptel",subCountyCode:"029154"},{code:"029154002",name:"Kosirai",subCountyCode:"029154"},{code:"030159001",name:"Kabarnet",subCountyCode:"030159"},{code:"030159002",name:"Sacho",subCountyCode:"030159"},{code:"030159003",name:"Salawa",subCountyCode:"030159"},{code:"030159004",name:"Tenges",subCountyCode:"030159"},{code:"030161001",name:"Emining",subCountyCode:"030161"},{code:"030161002",name:"Kimngorom",subCountyCode:"030161"},{code:"030161003",name:"Kisanana",subCountyCode:"030161"},{code:"030161004",name:"Mogotio",subCountyCode:"030161"},{code:"030161005",name:"Sirwa",subCountyCode:"030161"},{code:"031163001",name:"Muhotetu",subCountyCode:"031163"},{code:"031163002",name:"Rumuruti",subCountyCode:"031163"},{code:"031164001",name:"Central",subCountyCode:"031164"},{code:"031164002",name:"Daiga",subCountyCode:"031164"},{code:"031165001",name:"Kilimoni",subCountyCode:"031165"},{code:"031165002",name:"Mukogodo",subCountyCode:"031165"},{code:"032166001",name:"Elburgon",subCountyCode:"032166"},{code:"032166002",name:"Molo Central",subCountyCode:"032166"},{code:"032166003",name:"Sachangwan",subCountyCode:"032166"},{code:"032166004",name:"Turi",subCountyCode:"032166"},{code:"032167001",name:"Kihingo",subCountyCode:"032167"},{code:"032167002",name:"Lare",subCountyCode:"032167"},{code:"032167003",name:"Mau Narok",subCountyCode:"032167"},{code:"032167004",name:"Mauche",subCountyCode:"032167"},{code:"032167005",name:"Nessuit",subCountyCode:"032167"},{code:"032167006",name:"Njoro",subCountyCode:"032167"},{code:"032168001",name:"Kongoni",subCountyCode:"032168"},{code:"032168002",name:"Maaimahiu",subCountyCode:"032168"},{code:"032168003",name:"Naivasha Central",subCountyCode:"032168"},{code:"032169001",name:"Elementaita",subCountyCode:"032169"},{code:"032169002",name:"Gilgil",subCountyCode:"032169"},{code:"032169003",name:"Karunga",subCountyCode:"032169"},{code:"032170001",name:"Keringet",subCountyCode:"032170"},{code:"032170002",name:"Olenguruone",subCountyCode:"032170"},{code:"032171001",name:"Kamara",subCountyCode:"032171"},{code:"032171002",name:"Kuresoi",subCountyCode:"032171"},{code:"032172001",name:"Kabazi",subCountyCode:"032172"},{code:"032172002",name:"Mbogoini",subCountyCode:"032172"},{code:"032172003",name:"Subukia",subCountyCode:"032172"},{code:"032173001",name:"Kampi Ya Moto",subCountyCode:"032173"},{code:"032173002",name:"Ngata",subCountyCode:"032173"},{code:"032173003",name:"Rongai",subCountyCode:"032173"},{code:"032173004",name:"Solai",subCountyCode:"032173"},{code:"033179001",name:"Olokurto",subCountyCode:"033179"},{code:"033180001",name:"Mau",subCountyCode:"033180"},{code:"033180002",name:"Suswa",subCountyCode:"033180"},{code:"033181001",name:"Loita",subCountyCode:"033181"},{code:"033181002",name:"Ololulunga",subCountyCode:"033181"},{code:"033181003",name:"Osupuko",subCountyCode:"033181"},{code:"033182001",name:"Mara",subCountyCode:"033182"},{code:"033182002",name:"Mulot",subCountyCode:"033182"},{code:"034183001",name:"Ngong",subCountyCode:"034183"},{code:"034183002",name:"Ongata-Rongai",subCountyCode:"034183"},{code:"034184001",name:"Central",subCountyCode:"034184"},{code:"034184002",name:"Enkorika",subCountyCode:"034184"},{code:"034186001",name:"Ewuasakendong",subCountyCode:"034186"},{code:"034186002",name:"Loodokilani",subCountyCode:"034186"},{code:"034186003",name:"Magadi",subCountyCode:"034186"},{code:"035191001",name:"Bureti",subCountyCode:"035191"},{code:"035191002",name:"Cheborgei",subCountyCode:"035191"},{code:"035191003",name:"Roret",subCountyCode:"035191"},{code:"035192001",name:"Belgut",subCountyCode:"035192"},{code:"035192002",name:"Kabianga",subCountyCode:"035192"},{code:"035193001",name:"Sigowet",subCountyCode:"035193"},{code:"035193002",name:"Soin",subCountyCode:"035193"},{code:"036194001",name:"Abosi",subCountyCode:"036194"},{code:"036194002",name:"Kapletundo",subCountyCode:"036194"},{code:"036194003",name:"Mutarakwa",subCountyCode:"036194"},{code:"036194004",name:"Ndanai",subCountyCode:"036194"},{code:"036194005",name:"Sotik",subCountyCode:"036194"},{code:"036195001",name:"Sigor",subCountyCode:"036195"},{code:"036195002",name:"Siongiroi",subCountyCode:"036195"},{code:"036196001",name:"Chemaner",subCountyCode:"036196"},{code:"036196002",name:"Longisa",subCountyCode:"036196"},{code:"036197001",name:"Bomet Central",subCountyCode:"036197"},{code:"036197002",name:"Emkwen",subCountyCode:"036197"},{code:"036198001",name:"Cheptalal",subCountyCode:"036198"},{code:"036198002",name:"Kimulot",subCountyCode:"036198"},{code:"036198003",name:"Konoin",subCountyCode:"036198"},{code:"037199001",name:"Lugari",subCountyCode:"037199"},{code:"037199002",name:"Lumakanda",subCountyCode:"037199"},{code:"037200001",name:"Likuyani",subCountyCode:"037200"},{code:"037200002",name:"Nzoia",subCountyCode:"037200"},{code:"037203001",name:"Bunyala West",subCountyCode:"037203"},{code:"037203002",name:"Butsotso North",subCountyCode:"037203"},{code:"037203003",name:"Navakholo",subCountyCode:"037203"},{code:"037204001",name:"Mumias",subCountyCode:"037204"},{code:"037204002",name:"Wanga South",subCountyCode:"037204"},{code:"037205001",name:"Isongo",subCountyCode:"037205"},{code:"037205002",name:"Mumias East",subCountyCode:"037205"},{code:"037206001",name:"Koyonzo",subCountyCode:"037206"},{code:"037206002",name:"Matungu",subCountyCode:"037206"},{code:"037207001",name:"Butere",subCountyCode:"037207"},{code:"037207002",name:"Lunza",subCountyCode:"037207"},{code:"037207003",name:"Shiatsala",subCountyCode:"037207"},{code:"037208001",name:"Khwisero East",subCountyCode:"037208"},{code:"037208002",name:"Khwisero West",subCountyCode:"037208"},{code:"038211001",name:"Vihiga",subCountyCode:"038211"},{code:"038212001",name:"Chavakali",subCountyCode:"038212"},{code:"038212002",name:"Sabatia",subCountyCode:"038212"},{code:"038213001",name:"Jepkoyai",subCountyCode:"038213"},{code:"038213002",name:"Shamakhokho",subCountyCode:"038213"},{code:"038213003",name:"Shaviringa",subCountyCode:"038213"},{code:"038213004",name:"Tambua",subCountyCode:"038213"},{code:"038214001",name:"Ekwanda",subCountyCode:"038214"},{code:"038214002",name:"Esiembero",subCountyCode:"038214"},{code:"038215001",name:"Elukongo",subCountyCode:"038215"},{code:"038215002",name:"Luanda",subCountyCode:"038215"},{code:"039216001",name:"Kapsokwony",subCountyCode:"039216"},{code:"039216002",name:"Kaptama",subCountyCode:"039216"},{code:"039219001",name:"Bumula",subCountyCode:"039219"},{code:"039219002",name:"Kabula",subCountyCode:"039219"},{code:"039219003",name:"Khasoko",subCountyCode:"039219"},{code:"039221001",name:"Ndivisi",subCountyCode:"039221"},{code:"039222001",name:"Bokoli",subCountyCode:"039222"},{code:"039222002",name:"Webuye",subCountyCode:"039222"},{code:"039223001",name:"Kamukuywa/Maeni",subCountyCode:"039223"},{code:"039223002",name:"Kimilili/Kibingei",subCountyCode:"039223"},{code:"039224001",name:"Ndalu",subCountyCode:"039224"},{code:"039224002",name:"Soysambu",subCountyCode:"039224"},{code:"039224003",name:"Tongaren",subCountyCode:"039224"},{code:"040225001",name:"Amagoro",subCountyCode:"040225"},{code:"040225002",name:"Angurai",subCountyCode:"040225"},{code:"040226001",name:"Amukura",subCountyCode:"040226"},{code:"040226002",name:"Chakol",subCountyCode:"040226"},{code:"040227001",name:"Musokoto",subCountyCode:"040227"},{code:"040227002",name:"Nambale",subCountyCode:"040227"},{code:"040229001",name:"Butula",subCountyCode:"040229"},{code:"040229002",name:"Marachi East",subCountyCode:"040229"},{code:"041232001",name:"East Ugenya/Sihay",subCountyCode:"041232"},{code:"041232002",name:"Ukwala",subCountyCode:"041232"},{code:"041233001",name:"Sigomere",subCountyCode:"041233"},{code:"041233002",name:"Ugunja",subCountyCode:"041233"},{code:"041236001",name:"Maranda",subCountyCode:"041236"},{code:"041236002",name:"Nyang?oma",subCountyCode:"041236"},{code:"041236003",name:"Usigu",subCountyCode:"041236"},{code:"041237001",name:"Madiany",subCountyCode:"041237"},{code:"041237002",name:"Rarieda",subCountyCode:"041237"},{code:"042238001",name:"Kajulu",subCountyCode:"042238"},{code:"042238002",name:"Kolwa",subCountyCode:"042238"},{code:"042239001",name:"Maseno",subCountyCode:"042239"},{code:"042239002",name:"Nyahera",subCountyCode:"042239"},{code:"042239003",name:"Otonglo",subCountyCode:"042239"},{code:"042240001",name:"Kisumu Central",subCountyCode:"042240"},{code:"042240002",name:"Winam",subCountyCode:"042240"},{code:"042241001",name:"Kombewa",subCountyCode:"042241"},{code:"042242001",name:"Nyando",subCountyCode:"042242"},{code:"042243001",name:"Miwani",subCountyCode:"042243"},{code:"042243002",name:"Muhoroni",subCountyCode:"042243"},{code:"042244001",name:"Central Nyakach",subCountyCode:"042244"},{code:"042244002",name:"Lower Nyakach",subCountyCode:"042244"},{code:"042244003",name:"North Nyakach",subCountyCode:"042244"},{code:"042244004",name:"Upper Nyakach",subCountyCode:"042244"},{code:"042244005",name:"West Nyakach",subCountyCode:"042244"},{code:"043248001",name:"Lower Nyokal",subCountyCode:"043248"},{code:"043248002",name:"North Nyokal",subCountyCode:"043248"},{code:"043248003",name:"Rangwe",subCountyCode:"043248"},{code:"043250001",name:"Kobama",subCountyCode:"043250"},{code:"043250002",name:"Kobodo",subCountyCode:"043250"},{code:"043250003",name:"Ndhiwa",subCountyCode:"043250"},{code:"043250004",name:"Nyarongi",subCountyCode:"043250"},{code:"043250005",name:"Pala",subCountyCode:"043250"},{code:"043250006",name:"Riana",subCountyCode:"043250"},{code:"043251001",name:"Lambwe",subCountyCode:"043251"},{code:"043251002",name:"Mbita",subCountyCode:"043251"},{code:"043252001",name:"Central",subCountyCode:"043252"},{code:"043252002",name:"Gwassi",subCountyCode:"043252"},{code:"044253001",name:"Chamgiwadu",subCountyCode:"044253"},{code:"044253002",name:"Rongo",subCountyCode:"044253"},{code:"044254001",name:"Awendo",subCountyCode:"044254"},{code:"044254002",name:"Dede",subCountyCode:"044254"},{code:"044255001",name:"Suna Central",subCountyCode:"044255"},{code:"044255002",name:"Suna East",subCountyCode:"044255"},{code:"044256001",name:"Suba Ragana",subCountyCode:"044256"},{code:"044256002",name:"Suba Wasimbete",subCountyCode:"044256"},{code:"044256003",name:"Suba West",subCountyCode:"044256"},{code:"044256004",name:"Suba Wiga",subCountyCode:"044256"},{code:"044257001",name:"Oyani",subCountyCode:"044257"},{code:"044257002",name:"Uriri",subCountyCode:"044257"},{code:"044259001",name:"Gokeharaka",subCountyCode:"044259"},{code:"044259002",name:"Ikerege",subCountyCode:"044259"},{code:"044259003",name:"Isebania",subCountyCode:"044259"},{code:"044259004",name:"Kehancha",subCountyCode:"044259"},{code:"044260001",name:"Chinato",subCountyCode:"044260"},{code:"044260002",name:"Kegonga",subCountyCode:"044260"},{code:"044260003",name:"Maeta",subCountyCode:"044260"},{code:"046273001",name:"Borabu",subCountyCode:"046273"},{code:"046273002",name:"Esise",subCountyCode:"046273"},{code:"046273003",name:"Kiangeni",subCountyCode:"046273"},{code:"046273004",name:"Mekenene",subCountyCode:"046273"},{code:"047274001",name:"Highridge",subCountyCode:"047274"},{code:"047274002",name:"Kangemi",subCountyCode:"047274"},{code:"047274003",name:"Kilimani",subCountyCode:"047274"},{code:"047277001",name:"Langata",subCountyCode:"047277"},{code:"047277002",name:"Nairobi West",subCountyCode:"047277"},{code:"047278001",name:"Kibera",subCountyCode:"047278"},{code:"047278002",name:"Laini Saba",subCountyCode:"047278"},{code:"047278003",name:"Woodley",subCountyCode:"047278"},{code:"047280001",name:"Githurai",subCountyCode:"047280"},{code:"047280002",name:"Kariobangi North",subCountyCode:"047280"},{code:"047280003",name:"Kasarani",subCountyCode:"047280"},{code:"047280004",name:"Roysambu",subCountyCode:"047280"},{code:"047287001",name:"Bahati",subCountyCode:"047287"},{code:"047287002",name:"Makadara",subCountyCode:"047287"},{code:"047287003",name:"Viwandani",subCountyCode:"047287"},{code:"047288001",name:"Eastleigh",subCountyCode:"047288"},{code:"047288002",name:"Pumwani",subCountyCode:"047288"},{code:"047289001",name:"CBD",subCountyCode:"047289"},{code:"047289002",name:"Central",subCountyCode:"047289"},{code:"047289003",name:"South B",subCountyCode:"047289"},{code:"047290001",name:"Huruma",subCountyCode:"047290"},{code:"047290002",name:"Mathare",subCountyCode:"047290"}],Nle=[{code:"001001003001",name:"Chaani",divisionCode:"001001003"},{code:"001001003002",name:"Changamwe",divisionCode:"001001003"},{code:"001001004003",name:"Kwa Hola",divisionCode:"001001004"},{code:"001001004004",name:"Port Reitz",divisionCode:"001001004"},{code:"001002005005",name:"Birikani",divisionCode:"001002005"},{code:"001002005006",name:"Mikindani",divisionCode:"001002005"},{code:"001002006007",name:"Jomvu Kuu",divisionCode:"001002006"},{code:"001002006008",name:"Miritini",divisionCode:"001002006"},{code:"001003007010",name:"Maunguja",divisionCode:"001003007"},{code:"001003007011",name:"Mwembelegeza",divisionCode:"001003007"},{code:"001003007009",name:"Bamburi",divisionCode:"001003007"},{code:"001003008012",name:"Junda",divisionCode:"001003008"},{code:"001003008013",name:"Kisauni",divisionCode:"001003008"},{code:"001003008014",name:"Mwakirunge",divisionCode:"001003008"},{code:"001004010015",name:"Kongowea",divisionCode:"001004010"},{code:"001004010016",name:"Maweni",divisionCode:"001004010"},{code:"001004009017",name:"Frere Town",divisionCode:"001004009"},{code:"001004009018",name:"Kadzandani",divisionCode:"001004009"},{code:"001005011019",name:"Likoni",divisionCode:"001005011"},{code:"001005011020",name:"Mbuta",divisionCode:"001005011"},{code:"001005011021",name:"Shonda",divisionCode:"001005011"},{code:"001005011022",name:"Timbwani",divisionCode:"001005011"},{code:"001005012023",name:"Mtongwe",divisionCode:"001005012"},{code:"001005012024",name:"Shika Adabu",divisionCode:"001005012"},{code:"002001001001",name:"Msambweni",divisionCode:"002001001"},{code:"002001001002",name:"Kinondo",divisionCode:"002001001"},{code:"002002001001",name:"Lungalunga",divisionCode:"002002001"},{code:"002002001002",name:"Vanga",divisionCode:"002002001"},{code:"002003001001",name:"Matuga",divisionCode:"002003001"},{code:"002003001002",name:"Tsimba Golini",divisionCode:"002003001"},{code:"002004001001",name:"Kwale",divisionCode:"002004001"},{code:"002004001002",name:"Mkunumbi",divisionCode:"002004001"},{code:"002005001001",name:"Diani",divisionCode:"002005001"},{code:"002005001002",name:"Shimoni",divisionCode:"002005001"},{code:"002006001001",name:"Mtwapa",divisionCode:"002006001"},{code:"002006001002",name:"Bamburi",divisionCode:"002006001"},{code:"002007001001",name:"Mombasa Island",divisionCode:"002007001"},{code:"002007001002",name:"Likoni",divisionCode:"002007001"},{code:"002008001001",name:"Malindi",divisionCode:"002008001"},{code:"002008001002",name:"Watamu",divisionCode:"002008001"},{code:"002009001001",name:"Magarini",divisionCode:"002009001"},{code:"002009001002",name:"Garashi",divisionCode:"002009001"},{code:"002010001001",name:"Tana River",divisionCode:"002010001"},{code:"002010001002",name:"Garsen",divisionCode:"002010001"},{code:"002011001001",name:"Lamu",divisionCode:"002011001"},{code:"002011001002",name:"Mokowe",divisionCode:"002011001"},{code:"002012001001",name:"Faza",divisionCode:"002012001"},{code:"002012001002",name:"Patte",divisionCode:"002012001"},{code:"002013001001",name:"Siyu",divisionCode:"002013001"},{code:"002013001002",name:"Tchundwa",divisionCode:"002013001"},{code:"002014001001",name:"Kiunga",divisionCode:"002014001"},{code:"002015001001",name:"Kizingitini",divisionCode:"002015001"},{code:"002015001002",name:"Mbajumwali",divisionCode:"002015001"},{code:"002015001003",name:"Ndau",divisionCode:"002015001"},{code:"002016001001",name:"Majembeni",divisionCode:"002016001"},{code:"002016001002",name:"Mkunumbi",divisionCode:"002016001"},{code:"002016001003",name:"Ndambwe",divisionCode:"002016001"},{code:"002017001001",name:"Baharini",divisionCode:"002017001"},{code:"002017001002",name:"Hongwe",divisionCode:"002017001"},{code:"002017001003",name:"Mapenya",divisionCode:"002017001"},{code:"002017001004",name:"Mpeketoni",divisionCode:"002017001"},{code:"002018001001",name:"Dide Waride",divisionCode:"002018001"},{code:"002018001002",name:"Pandanguo",divisionCode:"002018001"},{code:"002018001003",name:"Witu",divisionCode:"002018001"},{code:"003001001001",name:"Kilifi North",divisionCode:"003001001"},{code:"003001002001",name:"Tezo",divisionCode:"003001002"},{code:"003002001001",name:"Kilifi South",divisionCode:"003002001"},{code:"003002002001",name:"Junju",divisionCode:"003002002"},{code:"003003001001",name:"Kaloleni",divisionCode:"003003001"},{code:"003003002001",name:"Mariakani",divisionCode:"003003002"},{code:"003004001001",name:"Rabai",divisionCode:"003004001"},{code:"003004002001",name:"Ruruma",divisionCode:"003004002"},{code:"003005001001",name:"Ganze",divisionCode:"003005001"},{code:"003005002001",name:"Bamba",divisionCode:"003005002"},{code:"003006001001",name:"Malindi",divisionCode:"003006001"},{code:"003006002001",name:"Langobaya",divisionCode:"003006002"},{code:"003007001001",name:"Magarini",divisionCode:"003007001"},{code:"003007002001",name:"Garashi",divisionCode:"003007002"},{code:"004001001001",name:"Garsen",divisionCode:"004001001"},{code:"004001001002",name:"Galole",divisionCode:"004001001"},{code:"004001001003",name:"Bura",divisionCode:"004001001"},{code:"004002001001",name:"Madogo",divisionCode:"004002001"},{code:"004002001002",name:"Mwache",divisionCode:"004002001"},{code:"005001001001",name:"Lamu East",divisionCode:"005001001"},{code:"005001001002",name:"Lamu West",divisionCode:"005001001"},{code:"005002001001",name:"Faza",divisionCode:"005002001"},{code:"005002001002",name:"Mokowe",divisionCode:"005002001"},{code:"005002001003",name:"Pate",divisionCode:"005002001"},{code:"005002001004",name:"Siyu",divisionCode:"005002001"},{code:"005002001005",name:"Tchundwa",divisionCode:"005002001"},{code:"005002001006",name:"Kiunga",divisionCode:"005002001"},{code:"006001001001",name:"Taveta",divisionCode:"006001001"},{code:"006001001002",name:"Wundanyi",divisionCode:"006001001"},{code:"006001001003",name:"Mwatate",divisionCode:"006001001"},{code:"006001001004",name:"Voi",divisionCode:"006001001"},{code:"006001001005",name:"Bura",divisionCode:"006001001"},{code:"006002001001",name:"Taita",divisionCode:"006002001"},{code:"006002001002",name:"Mbololo",divisionCode:"006002001"},{code:"006002001003",name:"Sagalla",divisionCode:"006002001"},{code:"006002001004",name:"Kishamba",divisionCode:"006002001"},{code:"006002001005",name:"Mwachabo",divisionCode:"006002001"},{code:"006002001006",name:"Mwakitau",divisionCode:"006002001"},{code:"006002001007",name:"Mwatate",divisionCode:"006002001"},{code:"007001001001",name:"Dujis",divisionCode:"007001001"},{code:"007001001002",name:"Balambala",divisionCode:"007001001"},{code:"007001002001",name:"Lagdera",divisionCode:"007001002"},{code:"007001003001",name:"Dadaab",divisionCode:"007001003"},{code:"007001004001",name:"Fafi",divisionCode:"007001004"},{code:"007001005001",name:"Ijara",divisionCode:"007001005"},{code:"008001001001",name:"Wajir North",divisionCode:"008001001"},{code:"008001002001",name:"Wajir East",divisionCode:"008001002"},{code:"008001003001",name:"Tarbaj",divisionCode:"008001003"},{code:"008001004001",name:"Wajir West",divisionCode:"008001004"},{code:"008001005001",name:"Eldas",divisionCode:"008001005"},{code:"008001006001",name:"Wajir South",divisionCode:"008001006"},{code:"009001001001",name:"Mandera West",divisionCode:"009001001"},{code:"009001002001",name:"Banissa",divisionCode:"009001002"},{code:"009001003001",name:"Mandera North",divisionCode:"009001003"},{code:"009001004001",name:"Mandera East",divisionCode:"009001004"},{code:"009001005001",name:"Lafey",divisionCode:"009001005"},{code:"009001006001",name:"Mandera South",divisionCode:"009001006"},{code:"010045089001",name:"Biashara/Gurumesa",divisionCode:"010045089"},{code:"010045089002",name:"Bori",divisionCode:"010045089"},{code:"010045089003",name:"Butiye",divisionCode:"010045089"},{code:"010045089004",name:"Heilu",divisionCode:"010045089"},{code:"010045089005",name:"Kinisa",divisionCode:"010045089"},{code:"010045089006",name:"Lami",divisionCode:"010045089"},{code:"010045089007",name:"Manyatta",divisionCode:"010045089"},{code:"010045089008",name:"Somare",divisionCode:"010045089"},{code:"010045089009",name:"Township",divisionCode:"010045089"},{code:"010045090010",name:"Dabel",divisionCode:"010045090"},{code:"010045090011",name:"Godoma",divisionCode:"010045090"},{code:"010045090012",name:"Nana",divisionCode:"010045090"},{code:"010045090013",name:"Odda",divisionCode:"010045090"},{code:"010046091014",name:"Galas",divisionCode:"010046091"},{code:"010046091015",name:"Malabot",divisionCode:"010046091"},{code:"010046091016",name:"North Horr",divisionCode:"010046091"},{code:"012051092001",name:"Akachiu",divisionCode:"012051092"},{code:"012051092002",name:"Athi",divisionCode:"012051092"},{code:"012051092003",name:"Giika",divisionCode:"012051092"},{code:"012051092004",name:"Nduguto",divisionCode:"012051092"},{code:"012051093005",name:"Athiru Gaiti",divisionCode:"012051093"},{code:"012051093006",name:"Kindani",divisionCode:"012051093"},{code:"012051093007",name:"Kirimampio",divisionCode:"012051093"},{code:"012051094008",name:"Kanuni",divisionCode:"012051094"},{code:"012051094009",name:"Kibuline",divisionCode:"012051094"},{code:"012051094010",name:"Kiguru",divisionCode:"012051094"},{code:"012051095011",name:"Antobochiu",divisionCode:"012051095"},{code:"012051095012",name:"Kanthiari",divisionCode:"012051095"},{code:"012051095013",name:"Kiegoi",divisionCode:"012051095"},{code:"012051095014",name:"Kithetu",divisionCode:"012051095"},{code:"012051095015",name:"Luluma",divisionCode:"012051095"},{code:"012051095016",name:"Maua",divisionCode:"012051095"},{code:"012052096017",name:"Akirangondu",divisionCode:"012052096"},{code:"012052096018",name:"Antubeiga",divisionCode:"012052096"},{code:"012052096019",name:"Kangeta",divisionCode:"012052096"},{code:"012052096020",name:"Kithare/Muringene",divisionCode:"012052096"},{code:"012052096021",name:"Liburu/Mukululu",divisionCode:"012052096"},{code:"012052096022",name:"Machungulu",divisionCode:"012052096"},{code:"012052096023",name:"Njia",divisionCode:"012052096"},{code:"012052096024",name:"Nkinyanga",divisionCode:"012052096"},{code:"012052097025",name:"Athiru Ruujine",divisionCode:"012052097"},{code:"012052097026",name:"Kawiru",divisionCode:"012052097"},{code:"012052097027",name:"Kiengu",divisionCode:"012052097"},{code:"012052097028",name:"Miori",divisionCode:"012052097"},{code:"012052097029",name:"Nguyuyu",divisionCode:"012052097"},{code:"012053098030",name:"Antuambui",divisionCode:"012053098"},{code:"012053098031",name:"Ntunene",divisionCode:"012053098"},{code:"012054100032",name:"Athwana",divisionCode:"012054100"},{code:"012054100033",name:"Kitheo",divisionCode:"012054100"},{code:"012054100034",name:"Rwanda",divisionCode:"012054100"},{code:"012054101035",name:"Mituntu",divisionCode:"012054101"},{code:"012054101036",name:"Mumui",divisionCode:"012054101"},{code:"012054101037",name:"Thau",divisionCode:"012054101"},{code:"012054102038",name:"Kiandiu",divisionCode:"012054102"},{code:"012054102039",name:"Kianjai",divisionCode:"012054102"},{code:"012054102040",name:"Miathene",divisionCode:"012054102"},{code:"012054103041",name:"Kimachia",divisionCode:"012054103"},{code:"012054103042",name:"Kiorimba",divisionCode:"012054103"},{code:"012054103043",name:"Mbeu",divisionCode:"012054103"},{code:"012054103044",name:"Nkomo",divisionCode:"012054103"},{code:"012054099045",name:"Nchooro",divisionCode:"012054099"},{code:"012054099046",name:"Thinyaine",divisionCode:"012054099"},{code:"012055104047",name:"Gambela",divisionCode:"012055104"},{code:"012055104048",name:"Mula",divisionCode:"012055104"},{code:"012055104049",name:"Ngaremara",divisionCode:"012055104"},{code:"012055105050",name:"Antuanduru",divisionCode:"012055105"},{code:"012055105051",name:"Karama",divisionCode:"012055105"},{code:"012055105052",name:"Mbaranga/ Uuru",divisionCode:"012055105"},{code:"012055106053",name:"Buuri",divisionCode:"012055106"},{code:"012055106054",name:"Muthara",divisionCode:"012055106"},{code:"012055106055",name:"Thubuku",divisionCode:"012055106"},{code:"013060107056",name:"Chogoria",divisionCode:"013060107"},{code:"013060107057",name:"Murugi East",divisionCode:"013060107"},{code:"013060107058",name:"Murugi West",divisionCode:"013060107"},{code:"013060108059",name:"Kirumi",divisionCode:"013060108"},{code:"013060108060",name:"Mugumango",divisionCode:"013060108"},{code:"013060109061",name:"Iruma",divisionCode:"013060109"},{code:"013060109062",name:"Kaare",divisionCode:"013060109"},{code:"013060109063",name:"Kiera",divisionCode:"013060109"},{code:"013060109064",name:"Maara",divisionCode:"013060109"},{code:"014065110065",name:"Mbeti South",divisionCode:"014065110"},{code:"014065111066",name:"Gichiche",divisionCode:"014065111"},{code:"014065111067",name:"Kiambere",divisionCode:"014065111"},{code:"014065111068",name:"Kithunthiri",divisionCode:"014065111"},{code:"014065111069",name:"Mariari",divisionCode:"014065111"},{code:"014065111070",name:"Mavuria",divisionCode:"014065111"},{code:"014065111071",name:"Mutuobare",divisionCode:"014065111"},{code:"014066112072",name:"Iriaitune",divisionCode:"014066112"},{code:"014066112073",name:"Ishiara",divisionCode:"014066112"},{code:"014066112074",name:"Kamarandi",divisionCode:"014066112"},{code:"014066112075",name:"Ndurumori",divisionCode:"014066112"},{code:"014066113076",name:"Kanyuambora",divisionCode:"014066113"},{code:"014066113077",name:"Kiangombe",divisionCode:"014066113"},{code:"014066113078",name:"Muringari",divisionCode:"014066113"},{code:"014066113079",name:"Nguthi",divisionCode:"014066113"},{code:"014066114080",name:"Karambari",divisionCode:"014066114"},{code:"014066114081",name:"Kirie",divisionCode:"014066114"},{code:"014066114082",name:"Muminji",divisionCode:"014066114"},{code:"014066114083",name:"Mutitu",divisionCode:"014066114"},{code:"014066115084",name:"Gitiburi",divisionCode:"014066115"},{code:"014066115085",name:"Nthawa",divisionCode:"014066115"},{code:"014066115086",name:"Riandu",divisionCode:"014066115"},{code:"014066115087",name:"Thura",divisionCode:"014066115"},{code:"016075116088",name:"Ekalakala",divisionCode:"016075116"},{code:"016075116089",name:"Ikaatini",divisionCode:"016075116"},{code:"016075116090",name:"Kangonde",divisionCode:"016075116"},{code:"016075116091",name:"Kithyoko",divisionCode:"016075116"},{code:"016075116092",name:"Kivaa",divisionCode:"016075116"},{code:"016075116093",name:"Masinga",divisionCode:"016075116"},{code:"016075116094",name:"Mikuyuni",divisionCode:"016075116"},{code:"016075117095",name:"Mananja",divisionCode:"016075117"},{code:"016075117096",name:"Muthesya",divisionCode:"016075117"},{code:"016075117097",name:"Ndithini",divisionCode:"016075117"},{code:"016076118098",name:"Ikombe",divisionCode:"016076118"},{code:"016076118099",name:"Kinyaata",divisionCode:"016076118"},{code:"016076119100",name:"Katangi",divisionCode:"016076119"},{code:"016076119101",name:"Kyua",divisionCode:"016076119"},{code:"016076120102",name:"Kithimani",divisionCode:"016076120"},{code:"016076120103",name:"Matuu",divisionCode:"016076120"},{code:"016076120104",name:"Mavoloni",divisionCode:"016076120"},{code:"016076120105",name:"Ndalani",divisionCode:"016076120"},{code:"016077121106",name:"Kakuyuni",divisionCode:"016077121"},{code:"016077121107",name:"Kathaani",divisionCode:"016077121"},{code:"016077121108",name:"Katheini",divisionCode:"016077121"},{code:"016077121109",name:"Kawethei",divisionCode:"016077121"},{code:"016077122110",name:"Isinga",divisionCode:"016077122"},{code:"016077122111",name:"Kangundo",divisionCode:"016077122"},{code:"016077122112",name:"Kanzalu",divisionCode:"016077122"},{code:"016077122113",name:"Kitwii",divisionCode:"016077122"},{code:"016077123114",name:"Kivaani",divisionCode:"016077123"},{code:"016078124115",name:"Kalandini",divisionCode:"016078124"},{code:"016078124116",name:"Matuu",divisionCode:"016078124"},{code:"016078125117",name:"Kiboko",divisionCode:"016078125"},{code:"016078125118",name:"Kyanzavi",divisionCode:"016078125"},{code:"016078125119",name:"Kyeleni",divisionCode:"016078125"},{code:"016078126120",name:"Komarock",divisionCode:"016078126"},{code:"016078126121",name:"Matheini",divisionCode:"016078126"},{code:"016078126122",name:"Matungulu",divisionCode:"016078126"},{code:"016078126123",name:"Nguluni",divisionCode:"016078126"},{code:"016078126124",name:"Tala",divisionCode:"016078126"},{code:"016079127125",name:"Iveti",divisionCode:"016079127"},{code:"016079127126",name:"Kaewa",divisionCode:"016079127"},{code:"016079127127",name:"Kathiani",divisionCode:"016079127"},{code:"016079128128",name:"Mitaboni",divisionCode:"016079128"},{code:"016082129129",name:"Ikalaasa",divisionCode:"016082129"},{code:"016082129130",name:"Kibauni",divisionCode:"016082129"},{code:"016082129131",name:"Ngomano",divisionCode:"016082129"},{code:"016082130132",name:"Makutano",divisionCode:"016082130"},{code:"016082130133",name:"Mango",divisionCode:"016082130"},{code:"016082130134",name:"Masii",divisionCode:"016082130"},{code:"016082130135",name:"Muthetheni",divisionCode:"016082130"},{code:"016082130136",name:"Vyulya",divisionCode:"016082130"},{code:"016082131137",name:"Kathama",divisionCode:"016082131"},{code:"016082131138",name:"Kyawango",divisionCode:"016082131"},{code:"016082131139",name:"Mbiuni",divisionCode:"016082131"},{code:"016082131140",name:"Mwala",divisionCode:"016082131"},{code:"016082132141",name:"Miu",divisionCode:"016082132"},{code:"016082132142",name:"Wamunyu",divisionCode:"016082132"},{code:"016082132143",name:"Yathui",divisionCode:"016082132"},{code:"017086133144",name:"Iuani",divisionCode:"017086133"},{code:"017086133145",name:"Kilala",divisionCode:"017086133"},{code:"017086133146",name:"Kivani",divisionCode:"017086133"},{code:"017086133147",name:"Ukia",divisionCode:"017086133"},{code:"017086134148",name:"Kee",divisionCode:"017086134"},{code:"017086134149",name:"Watema",divisionCode:"017086134"},{code:"017086135150",name:"Kikumini",divisionCode:"017086135"},{code:"017086135151",name:"Mumbuni",divisionCode:"017086135"},{code:"017086135152",name:"Muvau",divisionCode:"017086135"},{code:"017086135153",name:"Nziu",divisionCode:"017086135"},{code:"017086135154",name:"Wote",divisionCode:"017086135"},{code:"018090136155",name:"Kipipiri",divisionCode:"018090136"},{code:"018090136156",name:"Lereshwa",divisionCode:"018090136"},{code:"018090136157",name:"Malewa",divisionCode:"018090136"},{code:"018090136158",name:"Mawingu",divisionCode:"018090136"},{code:"018090136159",name:"Turasha",divisionCode:"018090136"},{code:"019094137160",name:"Aguthi",divisionCode:"019094137"},{code:"019094137161",name:"Gaaki",divisionCode:"019094137"},{code:"019094137162",name:"Karundu",divisionCode:"019094137"},{code:"019094138163",name:"Huhoini",divisionCode:"019094138"},{code:"019094138164",name:"Kimathi",divisionCode:"019094138"},{code:"019094138165",name:"Muhoya",divisionCode:"019094138"},{code:"019094138166",name:"Tetu",divisionCode:"019094138"},{code:"019094138167",name:"Thegenge",divisionCode:"019094138"},{code:"019098139168",name:"Githi",divisionCode:"019098139"},{code:"019098139169",name:"Muhito",divisionCode:"019098139"},{code:"019098139170",name:"Mutundu",divisionCode:"019098139"},{code:"019098139171",name:"Thangathi",divisionCode:"019098139"},{code:"019098140172",name:"Gathuitu",divisionCode:"019098140"},{code:"019098140173",name:"Gikondi",divisionCode:"019098140"},{code:"019098140174",name:"Thanu",divisionCode:"019098140"},{code:"019098141175",name:"Giathugu",divisionCode:"019098141"},{code:"019098141176",name:"Igana",divisionCode:"019098141"},{code:"019098141177",name:"Mweru",divisionCode:"019098141"},{code:"019098141178",name:"Rutune",divisionCode:"019098141"},{code:"019098142179",name:"Gakindu",divisionCode:"019098142"},{code:"019098142180",name:"Gakindu-Ini",divisionCode:"019098142"},{code:"019098142181",name:"Muyu",divisionCode:"019098142"},{code:"019098142182",name:"Ruthanji",divisionCode:"019098142"},{code:"020100143183",name:"Makima",divisionCode:"020100143"},{code:"020100143184",name:"Mbondoni",divisionCode:"020100143"},{code:"020100144185",name:"Karaba",divisionCode:"020100144"},{code:"020100144186",name:"Kianjiru",divisionCode:"020100144"},{code:"020100144187",name:"Mbita",divisionCode:"020100144"},{code:"020100144188",name:"Riakanau",divisionCode:"020100144"},{code:"021104145189",name:"Iyego",divisionCode:"021104145"},{code:"021104145190",name:"Muringa-Ini",divisionCode:"021104145"},{code:"021104146191",name:"Githiga",divisionCode:"021104146"},{code:"021104146192",name:"Ichichi",divisionCode:"021104146"},{code:"021104146193",name:"Kanyenyaini",divisionCode:"021104146"},{code:"021104146194",name:"Kiruri",divisionCode:"021104146"},{code:"021104147195",name:"Gacharaigu",divisionCode:"021104147"},{code:"021104147196",name:"Muguru",divisionCode:"021104147"},{code:"021104148197",name:"Kihoya",divisionCode:"021104148"},{code:"021104148198",name:"Rwathia",divisionCode:"021104148"},{code:"021104148199",name:"Tuthu",divisionCode:"021104148"},{code:"021105149200",name:"chui",divisionCode:"021105149"},{code:"021105149201",name:"Gakoe",divisionCode:"021105149"},{code:"021105149202",name:"Gitugi",divisionCode:"021105149"},{code:"021105149203",name:"Karung'e",divisionCode:"021105149"},{code:"021105149204",name:"Ngutu",divisionCode:"021105149"},{code:"021105150205",name:"Gathunya",divisionCode:"021105150"},{code:"021105150206",name:"Kamacharia",divisionCode:"021105150"},{code:"021105150207",name:"Thuita",divisionCode:"021105150"},{code:"021105150208",name:"Wahundura",divisionCode:"021105150"},{code:"021105151209",name:"Kagumoini",divisionCode:"021105151"},{code:"021105151210",name:"Kairo",divisionCode:"021105151"},{code:"021105151211",name:"Kiru",divisionCode:"021105151"},{code:"021105152212",name:"Kiriti",divisionCode:"021105152"},{code:"021105152213",name:"Mioro",divisionCode:"021105152"},{code:"021105152214",name:"Njumbi",divisionCode:"021105152"},{code:"021107153215",name:"Gachocho",divisionCode:"021107153"},{code:"021107153216",name:"Githima",divisionCode:"021107153"},{code:"021107153217",name:"Kigumo",divisionCode:"021107153"},{code:"021107153218",name:"Kirere",divisionCode:"021107153"},{code:"021107154219",name:"Gacharage",divisionCode:"021107154"},{code:"021107154220",name:"Kamukabi",divisionCode:"021107154"},{code:"021107154221",name:"Kangari",divisionCode:"021107154"},{code:"021107154222",name:"Kinyona",divisionCode:"021107154"},{code:"021107154223",name:"Makomboki",divisionCode:"021107154"},{code:"021107154224",name:"Mariira",divisionCode:"021107154"},{code:"021107155225",name:"Giatha ini",divisionCode:"021107155"},{code:"021107155226",name:"Gikarangu",divisionCode:"021107155"},{code:"021107155227",name:"Kahumbu",divisionCode:"021107155"},{code:"021107155228",name:"Kandani",divisionCode:"021107155"},{code:"021107155229",name:"Mungu ini",divisionCode:"021107155"},{code:"021107155230",name:"Muthithi",divisionCode:"021107155"},{code:"021109156231",name:"Githumu",divisionCode:"021109156"},{code:"021109156232",name:"Kibage",divisionCode:"021109156"},{code:"021109156233",name:"Mung'aria",divisionCode:"021109156"},{code:"021109157234",name:"Gaichanjiru",divisionCode:"021109157"},{code:"021109157235",name:"Kabati",divisionCode:"021109157"},{code:"021109157236",name:"Kagundu-Ini",divisionCode:"021109157"},{code:"021109157237",name:"Ngurwe-Ini",divisionCode:"021109157"},{code:"021109158238",name:"Gakui",divisionCode:"021109158"},{code:"021109158239",name:"Ithiru",divisionCode:"021109158"},{code:"021109158240",name:"Muruka",divisionCode:"021109158"},{code:"021109158241",name:"Ng'araria",divisionCode:"021109158"},{code:"021110159242",name:"Chomo",divisionCode:"021110159"},{code:"021110159243",name:"Gatanga",divisionCode:"021110159"},{code:"021110159244",name:"Kigio",divisionCode:"021110159"},{code:"021110159245",name:"Kiriani",divisionCode:"021110159"},{code:"021110159246",name:"Mugumoini",divisionCode:"021110159"},{code:"021110160247",name:"Kigarari",divisionCode:"021110160"},{code:"021110160248",name:"Ndakaini",divisionCode:"021110160"},{code:"021110160249",name:"Ndunyu Chege",divisionCode:"021110160"},{code:"021110161250",name:"Kihumbuini",divisionCode:"021110161"},{code:"021110161251",name:"Kiunyu",divisionCode:"021110161"},{code:"021110161252",name:"Mukarara",divisionCode:"021110161"},{code:"021110161253",name:"Mukurwe/Thuita",divisionCode:"021110161"},{code:"021110162254",name:"Kariara",divisionCode:"021110162"},{code:"021110162255",name:"Mbugiti",divisionCode:"021110162"},{code:"021110162256",name:"Ngabuya",divisionCode:"021110162"},{code:"021110163257",name:"Karathani",divisionCode:"021110163"},{code:"021110163258",name:"Muthuri",divisionCode:"021110163"},{code:"021110163259",name:"Ngatho",divisionCode:"021110163"},{code:"021110163260",name:"Samuru",divisionCode:"021110163"},{code:"022111164261",name:"Kiamwangi",divisionCode:"022111164"},{code:"022111164262",name:"Kiamworia",divisionCode:"022111164"},{code:"022111164263",name:"Mundoro",divisionCode:"022111164"},{code:"022111165264",name:"Kiganjo",divisionCode:"022111165"},{code:"022111165265",name:"Mutati",divisionCode:"022111165"},{code:"022111166266",name:"Munyuini",divisionCode:"022111166"},{code:"022111166267",name:"Ndarugu",divisionCode:"022111166"},{code:"022111166268",name:"Rwabura",divisionCode:"022111166"},{code:"022111167269",name:"Githunguchu",divisionCode:"022111167"},{code:"022111167270",name:"Ituru",divisionCode:"022111167"},{code:"022111167271",name:"Kahuguini",divisionCode:"022111167"},{code:"022111167272",name:"Kimunyu",divisionCode:"022111167"},{code:"022111167273",name:"Ngenda",divisionCode:"022111167"},{code:"022111167274",name:"Wamwangi",divisionCode:"022111167"},{code:"022112168275",name:"Gituamba",divisionCode:"022112168"},{code:"022112168276",name:"Kairi",divisionCode:"022112168"},{code:"022112168277",name:"Makwa",divisionCode:"022112168"},{code:"022112169278",name:"Gakoe",divisionCode:"022112169"},{code:"022112169279",name:"Gathaite",divisionCode:"022112169"},{code:"022112169280",name:"Githobokoni",divisionCode:"022112169"},{code:"022112169281",name:"Kamwangi",divisionCode:"022112169"},{code:"022112169282",name:"Kanyoni",divisionCode:"022112169"},{code:"022112169283",name:"Karure",divisionCode:"022112169"},{code:"022112169284",name:"Mangu",divisionCode:"022112169"},{code:"022112169285",name:"Mutaara",divisionCode:"022112169"},{code:"022112169286",name:"Njahi",divisionCode:"022112169"},{code:"022112169287",name:"Nyamangara",divisionCode:"022112169"},{code:"022113170288",name:"Juja",divisionCode:"022113170"},{code:"022113170289",name:"Juja farm",divisionCode:"022113170"},{code:"022113170290",name:"Kiahuria",divisionCode:"022113170"},{code:"022113170291",name:"Mirimaini",divisionCode:"022113170"},{code:"022113170292",name:"Mogomano",divisionCode:"022113170"},{code:"022113170293",name:"Mugutha",divisionCode:"022113170"},{code:"022113170294",name:"Murera",divisionCode:"022113170"},{code:"022113170295",name:"Theta",divisionCode:"022113170"},{code:"022113171296",name:"Kalimoni",divisionCode:"022113171"},{code:"022113171297",name:"Komo",divisionCode:"022113171"},{code:"022115172298",name:"Gikumari",divisionCode:"022115172"},{code:"022115172299",name:"Kahawa Wendani",divisionCode:"022115172"},{code:"022115172300",name:"Ruiru",divisionCode:"022115172"},{code:"022116173301",name:"Githunguri",divisionCode:"022116173"},{code:"022116173302",name:"Ngewa",divisionCode:"022116173"},{code:"022116174303",name:"Githiga",divisionCode:"022116174"},{code:"022116174304",name:"Ikinu",divisionCode:"022116174"},{code:"022116175305",name:"Kiratina",divisionCode:"022116175"},{code:"022116175306",name:"Komothai",divisionCode:"022116175"},{code:"022117176307",name:"Kiambaa Settle Area",divisionCode:"022117176"},{code:"022117176308",name:"Kiamumbi",divisionCode:"022117176"},{code:"022117176309",name:"Kirigiti",divisionCode:"022117176"},{code:"022117176310",name:"Ndumberi",divisionCode:"022117176"},{code:"022117176311",name:"Riabai",divisionCode:"022117176"},{code:"022117176312",name:"Thindigua",divisionCode:"022117176"},{code:"022117177313",name:"Kagongo",divisionCode:"022117177"},{code:"022117177314",name:"Kamiti",divisionCode:"022117177"},{code:"022117177315",name:"Ting?ang?a",divisionCode:"022117177"},{code:"022118178316",name:"Cianda",divisionCode:"022118178"},{code:"022118178317",name:"Gatono",divisionCode:"022118178"},{code:"022118178318",name:"Karuri",divisionCode:"022118178"},{code:"022118178319",name:"Kawaida",divisionCode:"022118178"},{code:"022118178320",name:"Kiambaa",divisionCode:"022118178"},{code:"022118178321",name:"Waguthu",divisionCode:"022118178"},{code:"022118179322",name:"Karura",divisionCode:"022118179"},{code:"022118179323",name:"Kihara",divisionCode:"022118179"},{code:"022118179324",name:"Ruaka",divisionCode:"022118179"},{code:"022119180325",name:"Gitaru",divisionCode:"022119180"},{code:"022119181326",name:"Gathiga",divisionCode:"022119181"},{code:"022119181327",name:"Kabete",divisionCode:"022119181"},{code:"022119181328",name:"Muguga",divisionCode:"022119181"},{code:"022119181329",name:"Nyathuna",divisionCode:"022119181"},{code:"022119181330",name:"Uthiru",divisionCode:"022119181"},{code:"022119181331",name:"Wangige",divisionCode:"022119181"},{code:"022120182332",name:"Karai",divisionCode:"022120182"},{code:"022120182333",name:"Lussigeti",divisionCode:"022120182"},{code:"022120182334",name:"Nachu",divisionCode:"022120182"},{code:"022120183335",name:"Kerwa",divisionCode:"022120183"},{code:"022120183336",name:"Kikuyu",divisionCode:"022120183"},{code:"022120183337",name:"Thogoto",divisionCode:"022120183"},{code:"022120184338",name:"Kinoo",divisionCode:"022120184"},{code:"022120184339",name:"Muthiga",divisionCode:"022120184"},{code:"023123191392",name:"Yapakuno",divisionCode:"023123191"},{code:"023123192393",name:"Kataboi",divisionCode:"023123192"},{code:"023123193394",name:"Kaeris",divisionCode:"023123193"},{code:"023123194395",name:"Karebur",divisionCode:"023123194"},{code:"023123194396",name:"Lokitaung",divisionCode:"023123194"},{code:"023123194397",name:"Ngissiger",divisionCode:"023123194"},{code:"023123194398",name:"Riokomor",divisionCode:"023123194"},{code:"023123194399",name:"Todonyang",divisionCode:"023123194"},{code:"023124195400",name:"Kakuma",divisionCode:"023124195"},{code:"023124195401",name:"Letea",divisionCode:"023124195"},{code:"023124195402",name:"Nakalale",divisionCode:"023124195"},{code:"023124195403",name:"Pelekech",divisionCode:"023124195"},{code:"023124196404",name:"Kalobeyei",divisionCode:"023124196"},{code:"023124196405",name:"Letea",divisionCode:"023124196"},{code:"023124196406",name:"Lokichoggio",divisionCode:"023124196"},{code:"023124196407",name:"Lokipoto",divisionCode:"023124196"},{code:"023124196408",name:"Loreng",divisionCode:"023124196"},{code:"023125197409",name:"Kanamkemer",divisionCode:"023125197"},{code:"023125197410",name:"Lodwar Township",divisionCode:"023125197"},{code:"023125198411",name:"Kalokol",divisionCode:"023125198"},{code:"023125198412",name:"Kang'atotha",divisionCode:"023125198"},{code:"023125198413",name:"Kapua",divisionCode:"023125198"},{code:"023125198414",name:"Namukuse",divisionCode:"023125198"},{code:"023125199415",name:"Kangirisae",divisionCode:"023125199"},{code:"023125199416",name:"Kerio",divisionCode:"023125199"},{code:"023125199417",name:"Lorengelup",divisionCode:"023125199"},{code:"023126200418",name:"Loima",divisionCode:"023126200"},{code:"023126200419",name:"Lokiriama",divisionCode:"023126200"},{code:"023126200420",name:"Lorengippi",divisionCode:"023126200"},{code:"023126200421",name:"Urum",divisionCode:"023126200"},{code:"023126201422",name:"Kalemunyang",divisionCode:"023126201"},{code:"023126201423",name:"Kapuus",divisionCode:"023126201"},{code:"023126201424",name:"Kotaruk",divisionCode:"023126201"},{code:"023126201425",name:"Lobei",divisionCode:"023126201"},{code:"023126201426",name:"Lokipetot-Areng",divisionCode:"023126201"},{code:"023126201427",name:"Lomeyan",divisionCode:"023126201"},{code:"023126201428",name:"Lorugum",divisionCode:"023126201"},{code:"023126201429",name:"Nadapal",divisionCode:"023126201"},{code:"023126201430",name:"Napeililim",divisionCode:"023126201"},{code:"023126201431",name:"Turkwel",divisionCode:"023126201"},{code:"023127202432",name:"Kainuk",divisionCode:"023127202"},{code:"023127202433",name:"Kaputir",divisionCode:"023127202"},{code:"023127203434",name:"Katilu",divisionCode:"023127203"},{code:"023127204435",name:"Kalapata",divisionCode:"023127204"},{code:"023127204436",name:"Lochwa-Angikamatak",divisionCode:"023127204"},{code:"023127204437",name:"Lokichar",divisionCode:"023127204"},{code:"023128205438",name:"Katilia",divisionCode:"023128205"},{code:"023128205439",name:"Kochodin",divisionCode:"023128205"},{code:"023128205440",name:"Lochakula",divisionCode:"023128205"},{code:"023128205441",name:"Lokori",divisionCode:"023128205"},{code:"023128206442",name:"Kamuge",divisionCode:"023128206"},{code:"023128206443",name:"Kapedo",divisionCode:"023128206"},{code:"023128206444",name:"Lomelo",divisionCode:"023128206"},{code:"023128206445",name:"Mado",divisionCode:"023128206"},{code:"023128206446",name:"Napeitom",divisionCode:"023128206"},{code:"0301592501043",name:"Ewalel",divisionCode:"030159250"},{code:"0301592501044",name:"Kabarnet Mosop",divisionCode:"030159250"},{code:"0301592501045",name:"Kapropita",divisionCode:"030159250"},{code:"0301592501046",name:"Kituro",divisionCode:"030159250"},{code:"0301592501047",name:"Ngetmoi",divisionCode:"030159250"},{code:"0301592501048",name:"Orokwo",divisionCode:"030159250"},{code:"0301592501049",name:"Talai",divisionCode:"030159250"},{code:"0301592511050",name:"Chepkero",divisionCode:"030159251"},{code:"0301592511051",name:"Kabasis",divisionCode:"030159251"},{code:"0301592511052",name:"Kibonjos",divisionCode:"030159251"},{code:"0301592511053",name:"Sacho Mosop",divisionCode:"030159251"},{code:"0301592511054",name:"Sacho Soi",divisionCode:"030159251"},{code:"0301592521055",name:"Kabarnet Soi",divisionCode:"030159252"},{code:"0301592521056",name:"Kapropita Soi",divisionCode:"030159252"},{code:"0301592521057",name:"Kiboino",divisionCode:"030159252"},{code:"0301592521058",name:"Lelmen",divisionCode:"030159252"},{code:"0301592531059",name:"Bekibon",divisionCode:"030159253"},{code:"0301592531060",name:"Emom",divisionCode:"030159253"},{code:"0301592531061",name:"Kisonei",divisionCode:"030159253"},{code:"0301592531062",name:"Tenges",divisionCode:"030159253"},{code:"0301592531063",name:"Tuluongoi",divisionCode:"030159253"},{code:"0301612541064",name:"Emining",divisionCode:"030161254"},{code:"0301612541065",name:"Kimose",divisionCode:"030161254"},{code:"0301612541066",name:"Koibos Soi",divisionCode:"030161254"},{code:"0301612541067",name:"Koitebes",divisionCode:"030161254"},{code:"0301612541068",name:"Rosoga",divisionCode:"030161254"},{code:"0301612551069",name:"Cheberen",divisionCode:"030161255"},{code:"0301612551070",name:"Kimngorom",divisionCode:"030161255"},{code:"0311632591087",name:"Karaba",divisionCode:"031163259"},{code:"0311632591088",name:"Melwa",divisionCode:"031163259"},{code:"0311632591089",name:"Muhotetu",divisionCode:"031163259"},{code:"0311632601090",name:"Lorien",divisionCode:"031163260"},{code:"0311632601091",name:"Mutara",divisionCode:"031163260"},{code:"0311632601092",name:"Ndurumo",divisionCode:"031163260"},{code:"0311632601093",name:"Rumuruti",divisionCode:"031163260"},{code:"0311632601094",name:"Sosian",divisionCode:"031163260"},{code:"0311632601095",name:"Thome",divisionCode:"031163260"},{code:"0311642611096",name:"Impala",divisionCode:"031164261"},{code:"0311642611097",name:"Nanyuki",divisionCode:"031164261"},{code:"0311642611098",name:"Nturukuma",divisionCode:"031164261"},{code:"0311642611099",name:"Segera",divisionCode:"031164261"},{code:"0311642621100",name:"Ethi",divisionCode:"031164262"},{code:"0311642621101",name:"Ethi South",divisionCode:"031164262"},{code:"0311642621102",name:"Muramati",divisionCode:"031164262"},{code:"0311642621103",name:"Umande",divisionCode:"031164262"},{code:"0311652631104",name:"Ildigri",divisionCode:"031165263"},{code:"0311652631105",name:"Ilmotiok",divisionCode:"031165263"},{code:"0311652631106",name:"Kirimon",divisionCode:"031165263"},{code:"0311652631107",name:"Oloiborosoit",divisionCode:"031165263"},{code:"0311652641108",name:"Ilngwesi",divisionCode:"031165264"},{code:"0311652641109",name:"Ilpolei",divisionCode:"031165264"},{code:"0311652641110",name:"Makurian",divisionCode:"031165264"},{code:"0311652641111",name:"Mukogodo",divisionCode:"031165264"},{code:"0311652641112",name:"Mumonyot",divisionCode:"031165264"},{code:"0311652641113",name:"Sieku",divisionCode:"031165264"},{code:"0321662651114",name:"Arimi",divisionCode:"032166265"},{code:"0321662651115",name:"Elburgon",divisionCode:"032166265"},{code:"0321662651116",name:"Mariashoni",divisionCode:"032166265"},{code:"0321662651117",name:"Mutamaiyu",divisionCode:"032166265"},{code:"0321662651118",name:"Ndoswa",divisionCode:"032166265"},{code:"0321662651119",name:"Tegat",divisionCode:"032166265"},{code:"0321662661120",name:"Matumaini",divisionCode:"032166266"},{code:"0321662661121",name:"Molo",divisionCode:"032166266"},{code:"0321662661122",name:"Tayari",divisionCode:"032166266"},{code:"0321662671123",name:"Kabianga",divisionCode:"032166267"},{code:"0321662671124",name:"Mukinyai",divisionCode:"032166267"},{code:"0321662671125",name:"Sachangwan",divisionCode:"032166267"},{code:"0321662681126",name:"Chendera",divisionCode:"032166268"},{code:"0321662681127",name:"Kiambiriria",divisionCode:"032166268"},{code:"0321662681128",name:"Turi",divisionCode:"032166268"},{code:"0321672691129",name:"Kihingo",divisionCode:"032167269"},{code:"0321672691130",name:"Lusiru",divisionCode:"032167269"},{code:"0321672701131",name:"Bagaria",divisionCode:"032167270"},{code:"0321672701132",name:"Gichobo",divisionCode:"032167270"},{code:"0321672701133",name:"Kianjoya",divisionCode:"032167270"},{code:"0321672701134",name:"Kiriri",divisionCode:"032167270"},{code:"0321672701135",name:"Lare",divisionCode:"032167270"},{code:"0321672701136",name:"Maji Moto",divisionCode:"032167270"},{code:"0321672701137",name:"Naishi",divisionCode:"032167270"},{code:"0321672711138",name:"Gatimu",divisionCode:"032167271"},{code:"0321672711139",name:"Likia",divisionCode:"032167271"},{code:"0321672711140",name:"Mau Narok",divisionCode:"032167271"},{code:"0321672711141",name:"Mwisho Wa Lami",divisionCode:"032167271"},{code:"0321672711142",name:"Sururu",divisionCode:"032167271"},{code:"0321672711143",name:"Tipis",divisionCode:"032167271"},{code:"0321672721144",name:"Kapkembu",divisionCode:"032167272"},{code:"0321672721145",name:"Mauche",divisionCode:"032167272"},{code:"0321672721146",name:"Teret",divisionCode:"032167272"},{code:"0321672721147",name:"Tuiyotich",divisionCode:"032167272"},{code:"0321672731148",name:"Misipei",divisionCode:"032167273"},{code:"0321672731149",name:"Nessuit",divisionCode:"032167273"},{code:"0321672731150",name:"Sigotik",divisionCode:"032167273"},{code:"0321672741151",name:"Lower Piave",divisionCode:"032167274"},{code:"0321672741152",name:"Mukungugu",divisionCode:"032167274"},{code:"0321672741153",name:"Njoro",divisionCode:"032167274"},{code:"0321672741154",name:"Upper Piave",divisionCode:"032167274"},{code:"0321682751155",name:"Maiela",divisionCode:"032168275"},{code:"0321682751156",name:"Moi Ndabi",divisionCode:"032168275"},{code:"0321682751157",name:"Ndabibi",divisionCode:"032168275"},{code:"0321682761158",name:"Kijabe",divisionCode:"032168276"},{code:"0321682761159",name:"Longonot",divisionCode:"032168276"},{code:"0321682771160",name:"Hellsgate",divisionCode:"032168277"},{code:"0321682771161",name:"Karati",divisionCode:"032168277"},{code:"0321682771162",name:"Kinungi",divisionCode:"032168277"},{code:"0321682771163",name:"Lake View",divisionCode:"032168277"},{code:"0321682771164",name:"Malewa",divisionCode:"032168277"},{code:"0321682771165",name:"Naivasha East",divisionCode:"032168277"},{code:"0321682771166",name:"Naivasha Town",divisionCode:"032168277"},{code:"0321692781167",name:"Kaptangwany",divisionCode:"032169278"},{code:"0321692781168",name:"Kiambogo",divisionCode:"032169278"},{code:"0321692781169",name:"Miti Mingi",divisionCode:"032169278"},{code:"0321692781170",name:"Oljorai",divisionCode:"032169278"},{code:"0321692791171",name:"Eburru",divisionCode:"032169279"},{code:"0321692791172",name:"Gilgil",divisionCode:"032169279"},{code:"0321692791173",name:"Mbaruk",divisionCode:"032169279"},{code:"0321692801174",name:"Gitare",divisionCode:"032169280"},{code:"0321692801175",name:"Karunga",divisionCode:"032169280"},{code:"0321702811176",name:"Chebara",divisionCode:"032170281"},{code:"0321702811177",name:"Chemaner",divisionCode:"032170281"},{code:"0321702811178",name:"Kapsimbeiywo",divisionCode:"032170281"},{code:"0321702811179",name:"Keringet",divisionCode:"032170281"},{code:"0321702811180",name:"Kipsonoi",divisionCode:"032170281"},{code:"0321702811181",name:"Silibwet",divisionCode:"032170281"},{code:"0321702811182",name:"Tinet",divisionCode:"032170281"},{code:"0321702821183",name:"Amalo",divisionCode:"032170282"},{code:"0321702821184",name:"Cheptuech",divisionCode:"032170282"},{code:"0321702821185",name:"Emitik",divisionCode:"032170282"},{code:"0321702821186",name:"Kaplamai",divisionCode:"032170282"},{code:"0321702821187",name:"Kiptagich",divisionCode:"032170282"},{code:"0321702821188",name:"Sinendet",divisionCode:"032170282"},{code:"0321712831189",name:"Kamara",divisionCode:"032171283"},{code:"0321712831190",name:"Mau-Summit",divisionCode:"032171283"},{code:"0321712831191",name:"Nyota",divisionCode:"032171283"},{code:"0321712831192",name:"Sirikwa",divisionCode:"032171283"},{code:"0321712831193",name:"Temoyetta",divisionCode:"032171283"},{code:"0321712841194",name:"Kiptororo",divisionCode:"032171284"},{code:"0321712841195",name:"Kuresoi",divisionCode:"032171284"},{code:"0321712841196",name:"Mkulima",divisionCode:"032171284"},{code:"0321712841197",name:"Tulwet",divisionCode:"032171284"},{code:"0321722851198",name:"Kabazi",divisionCode:"032172285"},{code:"0321722851199",name:"Munanda",divisionCode:"032172285"},{code:"0321722861200",name:"Lari",divisionCode:"032172286"},{code:"0321722861201",name:"Mwiteithia",divisionCode:"032172286"},{code:"0321722861202",name:"Olmanyatta",divisionCode:"032172286"},{code:"0321722861203",name:"Waseges",divisionCode:"032172286"},{code:"0321722871204",name:"Arash",divisionCode:"032172287"},{code:"0321722871205",name:"Subukia Central",divisionCode:"032172287"},{code:"0321722871206",name:"Subukia East",divisionCode:"032172287"},{code:"0321722871207",name:"Wei",divisionCode:"032172287"},{code:"0321732881208",name:"Kampi Ya Moto",divisionCode:"032173288"},{code:"0321732881209",name:"Makongeni",divisionCode:"032173288"},{code:"0321732881210",name:"Makutano",divisionCode:"032173288"},{code:"0321732881211",name:"Ol Rongai",divisionCode:"032173288"},{code:"0321732891212",name:"Kiamunyi",divisionCode:"032173289"},{code:"0321732891213",name:"Menengai",divisionCode:"032173289"},{code:"0321732891214",name:"Ngata",divisionCode:"032173289"},{code:"0321732891215",name:"Ogilgei",divisionCode:"032173289"},{code:"0321732901216",name:"Boror",divisionCode:"032173290"},{code:"0321732901217",name:"Lengenet",divisionCode:"032173290"},{code:"0321732901218",name:"Rongai",divisionCode:"032173290"},{code:"0321732901219",name:"Summek",divisionCode:"032173290"},{code:"0321732901220",name:"Visoi",divisionCode:"032173290"},{code:"0321732911221",name:"Banita",divisionCode:"032173291"},{code:"0321732911222",name:"Maji Tamu",divisionCode:"032173291"},{code:"0321732911223",name:"Ruiyobei",divisionCode:"032173291"},{code:"0321732911224",name:"Solai",divisionCode:"032173291"},{code:"0331792921225",name:"Empatipat",divisionCode:"033179292"},{code:"0331792921226",name:"Enabelbel",divisionCode:"033179292"},{code:"0331792921227",name:"Entiyani",divisionCode:"033179292"},{code:"0331792921228",name:"Naituyupaki",divisionCode:"033179292"},{code:"0331792921229",name:"Olokurto",divisionCode:"033179292"},{code:"0331792921230",name:"Ololongoi",divisionCode:"033179292"},{code:"0331792921231",name:"Oloropil",divisionCode:"033179292"},{code:"0331792921232",name:"Olpusimoru",divisionCode:"033179292"},{code:"0331792921233",name:"Topoti",divisionCode:"033179292"},{code:"0331802931234",name:"Ildamat",divisionCode:"033180293"},{code:"0331802931235",name:"Keekonyokie",divisionCode:"033180293"},{code:"0331802931236",name:"Oletukat",divisionCode:"033180293"},{code:"0331802931237",name:"Ololpironito",divisionCode:"033180293"},{code:"0331802931238",name:"Ongata Naado",divisionCode:"033180293"},{code:"0331802941239",name:"Enoosupukia",divisionCode:"033180294"},{code:"0331802941240",name:"Mosiro",divisionCode:"033180294"},{code:"0331802941241",name:"Ntulele",divisionCode:"033180294"},{code:"0331802941242",name:"Suswa",divisionCode:"033180294"},{code:"0331812951243",name:"Entasekera",divisionCode:"033181295"},{code:"0331812951244",name:"Ilkerin",divisionCode:"033181295"},{code:"0331812951245",name:"Morijo Loita",divisionCode:"033181295"},{code:"0331812951246",name:"Olmesutie",divisionCode:"033181295"},{code:"0331812951247",name:"Olorte",divisionCode:"033181295"},{code:"0331812961248",name:"Endonyo Ngiro",divisionCode:"033181296"},{code:"0331812961249",name:"Melelo",divisionCode:"033181296"},{code:"0331812961250",name:"Olashapani",divisionCode:"033181296"},{code:"0331812961251",name:"Olkiriaine",divisionCode:"033181296"},{code:"0331812961252",name:"Ololulunga",divisionCode:"033181296"},{code:"0331812961253",name:"Sagamian",divisionCode:"033181296"},{code:"0331812961254",name:"Sogoo",divisionCode:"033181296"},{code:"0331812971255",name:"Elangata Enterit",divisionCode:"033181297"},{code:"0331812971256",name:"Maji Moto",divisionCode:"033181297"},{code:"0331812971257",name:"Naroosura",divisionCode:"033181297"},{code:"0331812971258",name:"Ntuka",divisionCode:"033181297"},{code:"0331812971259",name:"Olenkuluo",divisionCode:"033181297"},{code:"0331822981260",name:"Aitong",divisionCode:"033182298"},{code:"0331822981261",name:"Koyiaki",divisionCode:"033182298"},{code:"0331822981262",name:"Naikarra",divisionCode:"033182298"},{code:"0331822981263",name:"Olderkesi",divisionCode:"033182298"},{code:"0331822981264",name:"Olkinyei",divisionCode:"033182298"},{code:"0331822981265",name:"Siana",divisionCode:"033182298"},{code:"0331822991266",name:"Enerelai",divisionCode:"033182299"},{code:"0331822991267",name:"Ilmotiok",divisionCode:"033182299"},{code:"0331822991268",name:"Lemek",divisionCode:"033182299"},{code:"0331822991269",name:"Mulot",divisionCode:"033182299"},{code:"0331822991270",name:"Nkorinkori",divisionCode:"033182299"},{code:"0341833001271",name:"Embulbul",divisionCode:"034183300"},{code:"0341833001272",name:"Lekurruk",divisionCode:"034183300"},{code:"0341833001273",name:"Ngong",divisionCode:"034183300"},{code:"0341833001274",name:"Olkeri",divisionCode:"034183300"},{code:"0341833001275",name:"Oloolua",divisionCode:"034183300"},{code:"0341833011276",name:"Kandisi",divisionCode:"034183301"},{code:"0341833011277",name:"Lemelepo",divisionCode:"034183301"},{code:"0341833011278",name:"Nkaimurunya",divisionCode:"034183301"},{code:"0341833011279",name:"Olekasasi",divisionCode:"034183301"},{code:"0341833011280",name:"Ongata Rongai",divisionCode:"034183301"},{code:"0341843021281",name:"Enkaroni",divisionCode:"034184302"},{code:"0341843021282",name:"Ildamat",divisionCode:"034184302"},{code:"0341843021283",name:"Ilngosuani",divisionCode:"034184302"},{code:"0341843021284",name:"Impiro",divisionCode:"034184302"},{code:"0341843021285",name:"Kumpa",divisionCode:"034184302"},{code:"0341843021286",name:"Nkoile",divisionCode:"034184302"},{code:"0341843021287",name:"Oloyankalani",divisionCode:"034184302"},{code:"0341843021288",name:"Sajiloni",divisionCode:"034184302"},{code:"0341843021289",name:"Township",divisionCode:"034184302"},{code:"0341843031290",name:"Enkorika",divisionCode:"034184303"},{code:"0341843031291",name:"Isilale",divisionCode:"034184303"},{code:"0341843031292",name:"Kikurro",divisionCode:"034184303"},{code:"0341843031293",name:"Olobelbel",divisionCode:"034184303"},{code:"0341843031294",name:"Oloontulugum",divisionCode:"034184303"},{code:"0341843031295",name:"Orinie",divisionCode:"034184303"},{code:"0341863041296",name:"Enosorua",divisionCode:"034186304"},{code:"0341863041297",name:"Entashart",divisionCode:"034186304"},{code:"0341863041298",name:"Keekonokie West",divisionCode:"034186304"},{code:"0341863041299",name:"Keekonyo South",divisionCode:"034186304"},{code:"0341863041300",name:"Keekonyokie Central",divisionCode:"034186304"},{code:"0341863041301",name:"Kibiko",divisionCode:"034186304"},{code:"0341863041302",name:"Kiserian",divisionCode:"034186304"},{code:"0341863041303",name:"Mosiro",divisionCode:"034186304"},{code:"0341863041304",name:"Najile",divisionCode:"034186304"},{code:"0341863041305",name:"North Keekonikie",divisionCode:"034186304"},{code:"0341863041306",name:"Olchorro",divisionCode:"034186304"},{code:"0341863041307",name:"Oloorien",divisionCode:"034186304"},{code:"0341863041308",name:"Saikeri",divisionCode:"034186304"},{code:"0341863051309",name:"Elangatawuas",divisionCode:"034186305"},{code:"0341863051310",name:"Kilonito",divisionCode:"034186305"},{code:"0341863051311",name:"Loodokilani",divisionCode:"034186305"},{code:"0341863051312",name:"Oltepesi",divisionCode:"034186305"},{code:"0341863051313",name:"Singiraine",divisionCode:"034186305"},{code:"0341863051314",name:"Torosei",divisionCode:"034186305"},{code:"0341863061315",name:"Magadi",divisionCode:"034186306"},{code:"0341863061316",name:"Musenke",divisionCode:"034186306"},{code:"0341863061317",name:"Oldonyonyoikie",divisionCode:"034186306"},{code:"0341863061318",name:"Olkiramat East",divisionCode:"034186306"},{code:"0341863061319",name:"Olkiramat west",divisionCode:"034186306"},{code:"0341863061320",name:"Shompole East",divisionCode:"034186306"},{code:"0341863061321",name:"Shompole West",divisionCode:"034186306"},{code:"0351913071322",name:"Chebwagan",divisionCode:"035191307"},{code:"0351913071323",name:"Chemoiben",divisionCode:"035191307"},{code:"0351913071324",name:"Cheplanget",divisionCode:"035191307"},{code:"0351913071325",name:"Kapkatet",divisionCode:"035191307"},{code:"0351913071326",name:"Kusumek",divisionCode:"035191307"},{code:"0351913071327",name:"Litein",divisionCode:"035191307"},{code:"0351913071328",name:"Ngesumin",divisionCode:"035191307"},{code:"0351913081329",name:"Cheboin",divisionCode:"035191308"},{code:"0351913081330",name:"Cheborgei",divisionCode:"035191308"},{code:"0351913081331",name:"Kapsogut",divisionCode:"035191308"},{code:"0351913081332",name:"Kibugat",divisionCode:"035191308"},{code:"0351913081333",name:"Tebesonik",divisionCode:"035191308"},{code:"0351913081334",name:"Techoget",divisionCode:"035191308"},{code:"0351913091335",name:"Chemosot",divisionCode:"035191309"},{code:"0351913091336",name:"Getarwet",divisionCode:"035191309"},{code:"0351913091337",name:"Kabartegan",divisionCode:"035191309"},{code:"0351913091338",name:"Kapkisiara",divisionCode:"035191309"},{code:"0351913091339",name:"Kisiara",divisionCode:"035191309"},{code:"0351913091340",name:"Tulwet",divisionCode:"035191309"},{code:"0351923101341",name:"Kaborok",divisionCode:"035192310"},{code:"0351923101342",name:"Kapsuser",divisionCode:"035192310"},{code:"0351923101343",name:"Kaptoboiti",divisionCode:"035192310"},{code:"0351923101344",name:"Kipkoiyan",divisionCode:"035192310"},{code:"0351923101345",name:"Kipsolu",divisionCode:"035192310"},{code:"0351923101346",name:"Waldai",divisionCode:"035192310"},{code:"0351923111347",name:"Chaik",divisionCode:"035192311"},{code:"0351923111348",name:"Chemamul",divisionCode:"035192311"},{code:"0351923111349",name:"Kabianga",divisionCode:"035192311"},{code:"0351923111350",name:"Kiptome",divisionCode:"035192311"},{code:"0351923111351",name:"Mobego",divisionCode:"035192311"},{code:"0351923111352",name:"Seretut",divisionCode:"035192311"},{code:"0351933121353",name:"Cheptuyet",divisionCode:"035193312"},{code:"0351933121354",name:"Iraa",divisionCode:"035193312"},{code:"0351933121355",name:"Kalyongwet",divisionCode:"035193312"},{code:"0351933121356",name:"Kaplelartet",divisionCode:"035193312"},{code:"0351933121357",name:"Kebeneti",divisionCode:"035193312"},{code:"0351933121358",name:"Kiptere",divisionCode:"035193312"},{code:"0351933121359",name:"Sigowet",divisionCode:"035193312"},{code:"0351933131360",name:"Kaitui",divisionCode:"035193313"},{code:"0351933131361",name:"Kapsegut",divisionCode:"035193313"},{code:"0351933131362",name:"Kapsorok",divisionCode:"035193313"},{code:"0351933131363",name:"Koitaburot",divisionCode:"035193313"},{code:"0351933131364",name:"Soin",divisionCode:"035193313"},{code:"0351933131365",name:"Soliat",divisionCode:"035193313"},{code:"0361943141366",name:"Abosi",divisionCode:"036194314"},{code:"0361943141367",name:"Gelegele",divisionCode:"036194314"},{code:"0361943151368",name:"Chebilat",divisionCode:"036194315"},{code:"0361943151369",name:"Chebirbelek",divisionCode:"036194315"},{code:"0361943151370",name:"Kamungei",divisionCode:"036194315"},{code:"0361943151371",name:"Kapletundo",divisionCode:"036194315"},{code:"0361943151372",name:"Kimawit",divisionCode:"036194315"},{code:"0361943151373",name:"Kimolwet",divisionCode:"036194315"},{code:"0361943161374",name:"Kanusin",divisionCode:"036194316"},{code:"0361943161375",name:"Kiptulwa",divisionCode:"036194316"},{code:"0361943161376",name:"Mutarakwa",divisionCode:"036194316"},{code:"0361943171377",name:"Kapkelei",divisionCode:"036194317"},{code:"0361943171378",name:"Ndanai",divisionCode:"036194317"},{code:"0361943181379",name:"Chemagel",divisionCode:"036194318"},{code:"0361943181380",name:"Kaplong",divisionCode:"036194318"},{code:"0361943181381",name:"Manaret",divisionCode:"036194318"},{code:"0361943181382",name:"Rongena",divisionCode:"036194318"},{code:"0361943181383",name:"Tembwo",divisionCode:"036194318"},{code:"0361943181384",name:"Yaganek",divisionCode:"036194318"},{code:"0361953191385",name:"Cheleget",divisionCode:"036195319"},{code:"0361953191386",name:"Kaboson",divisionCode:"036195319"},{code:"0361953191387",name:"Kapkesosio",divisionCode:"036195319"},{code:"0361953191388",name:"Lelaitich",divisionCode:"036195319"},{code:"0361953191389",name:"Sigor",divisionCode:"036195319"},{code:"0361953191390",name:"Sugumerga",divisionCode:"036195319"},{code:"0361953201391",name:"Bingwa",divisionCode:"036195320"},{code:"0361953201392",name:"Chebunyo",divisionCode:"036195320"},{code:"0361953201393",name:"Kamaget",divisionCode:"036195320"},{code:"0361953201394",name:"Kongasis",divisionCode:"036195320"},{code:"0361953201395",name:"Makimeny",divisionCode:"036195320"},{code:"0361953201396",name:"Mogor",divisionCode:"036195320"},{code:"0361953201397",name:"Siongiroi",divisionCode:"036195320"},{code:"0361963211398",name:"Chemaner",divisionCode:"036196321"},{code:"0361963211399",name:"Kembu",divisionCode:"036196321"},{code:"0361963211400",name:"Kimuchul",divisionCode:"036196321"},{code:"0361963211401",name:"Kiromwok",divisionCode:"036196321"},{code:"0361963211402",name:"Merigi",divisionCode:"036196321"},{code:"0361963211403",name:"Tegat",divisionCode:"036196321"},{code:"0361963221404",name:"Cheboin",divisionCode:"036196322"},{code:"0361963221405",name:"Kapkimolwa",divisionCode:"036196322"},{code:"0361963221406",name:"Kiplabotwa",divisionCode:"036196322"},{code:"0361963221407",name:"Kipreres",divisionCode:"036196322"},{code:"0361973231408",name:"Itembe",divisionCode:"036197323"},{code:"0361973231409",name:"Kyogong",divisionCode:"036197323"},{code:"0361973231410",name:"Mugango",divisionCode:"036197323"},{code:"0361973231411",name:"Singorwet",divisionCode:"036197323"},{code:"0361973231412",name:"Township",divisionCode:"036197323"},{code:"0361973241413",name:"Chesoen",divisionCode:"036197324"},{code:"0361973241414",name:"Kamogoso",divisionCode:"036197324"},{code:"0361973241415",name:"Ndaraweta",divisionCode:"036197324"},{code:"0361973241416",name:"Sibaiyan",divisionCode:"036197324"},{code:"0361983251417",name:"Bosto (New)",divisionCode:"036198325"},{code:"0361983251418",name:"Cheptalal",divisionCode:"036198325"},{code:"0361983251419",name:"Embomos",divisionCode:"036198325"},{code:"0361983251420",name:"Kiptenden",divisionCode:"036198325"},{code:"0361983251421",name:"Kitala",divisionCode:"036198325"},{code:"0361983251422",name:"Satiet",divisionCode:"036198325"},{code:"0361983251423",name:"Siomo (New)",divisionCode:"036198325"},{code:"0361983251424",name:"Sotit",divisionCode:"036198325"},{code:"0361983251425",name:"Terek",divisionCode:"036198325"},{code:"0361983261426",name:"Chebangang",divisionCode:"036198326"},{code:"0361983261427",name:"Chepchabas",divisionCode:"036198326"},{code:"0361983261428",name:"Kamogomon",divisionCode:"036198326"},{code:"0361983261429",name:"Kapset",divisionCode:"036198326"},{code:"0361983261430",name:"Kaptebengwet",divisionCode:"036198326"},{code:"0361983261431",name:"Kaptien",divisionCode:"036198326"},{code:"0361983261432",name:"Kimulot",divisionCode:"036198326"},{code:"0361983261433",name:"Saosa",divisionCode:"036198326"},{code:"0361983271434",name:"Boito",divisionCode:"036198327"},{code:"0361983271435",name:"Chemelet",divisionCode:"036198327"},{code:"0361983271436",name:"Chongenwo",divisionCode:"036198327"},{code:"0361983271437",name:"Kenyakoro",divisionCode:"036198327"},{code:"0361983271438",name:"Koiwa",divisionCode:"036198327"},{code:"0361983271439",name:"Mogogosiek",divisionCode:"036198327"},{code:"0361983271440",name:"Mosonik",divisionCode:"036198327"},{code:"0361983271441",name:"Ngererit",divisionCode:"036198327"},{code:"0361983271442",name:"Simoti",divisionCode:"036198327"},{code:"0371993281443",name:"Chekalini",divisionCode:"037199328"},{code:"0371993281444",name:"Lugari",divisionCode:"037199328"},{code:"0371993281445",name:"Marakusi",divisionCode:"037199328"},{code:"0371993291446",name:"Lumakanda",divisionCode:"037199329"},{code:"0371993291447",name:"Mautuma",divisionCode:"037199329"},{code:"0371993291448",name:"Mwamba",divisionCode:"037199329"},{code:"0432484051738",name:"West Gem",divisionCode:"043248405"},{code:"0432504061739",name:"Central Kwabwai",divisionCode:"043250406"},{code:"0432504061740",name:"East Kabwai",divisionCode:"043250406"},{code:"0432504061741",name:"North Kwabwai",divisionCode:"043250406"},{code:"0432504061742",name:"Rachar",divisionCode:"043250406"},{code:"0432504061743",name:"South West Kwabwai",divisionCode:"043250406"},{code:"0432504061744",name:"West Kwabwai",divisionCode:"043250406"},{code:"0432504071745",name:"North East Kanyamwa",divisionCode:"043250407"},{code:"0432504071746",name:"North Kanyamwa",divisionCode:"043250407"},{code:"0432504071747",name:"South East Kanyamwa",divisionCode:"043250407"},{code:"0432504071748",name:"South Kanyamwa",divisionCode:"043250407"},{code:"0432504081749",name:"Central Kanyamwa",divisionCode:"043250408"},{code:"0432504081750",name:"East Kanyamwa",divisionCode:"043250408"},{code:"0432504081751",name:"Lower Kayambo",divisionCode:"043250408"},{code:"0432504081752",name:"Upper Kayambo",divisionCode:"043250408"},{code:"0432504081753",name:"West Kanyamwa",divisionCode:"043250408"},{code:"0432504091754",name:"Central Kanyadoto",divisionCode:"043250409"},{code:"0432504091755",name:"North Kanyikela",divisionCode:"043250409"},{code:"0432504091756",name:"South Kanyikela",divisionCode:"043250409"},{code:"0432504091757",name:"West Kanyadoto",divisionCode:"043250409"},{code:"0432504101758",name:"Kamenya",divisionCode:"043250410"},{code:"0432504101759",name:"Kobita",divisionCode:"043250410"},{code:"0432504101760",name:"Koguta",divisionCode:"043250410"},{code:"0432504101761",name:"South Kabuoch",divisionCode:"043250410"},{code:"0432504111762",name:"Central Kabuoch",divisionCode:"043250411"},{code:"0432504111763",name:"East Kabuoch",divisionCode:"043250411"},{code:"0432504111764",name:"North Kabuoch",divisionCode:"043250411"},{code:"0432504111765",name:"West Kabuoch",divisionCode:"043250411"},{code:"0432504111766",name:"West Kachieng",divisionCode:"043250411"},{code:"0432514121767",name:"Lambwe Central",divisionCode:"043251412"},{code:"0432514121768",name:"Lambwe East",divisionCode:"043251412"},{code:"0432514121769",name:"Lambwe West",divisionCode:"043251412"},{code:"0432514131770",name:"Gembe Central",divisionCode:"043251413"},{code:"0432514131771",name:"Gembe East",divisionCode:"043251413"},{code:"0432514131772",name:"Gembe North",divisionCode:"043251413"},{code:"0432514131773",name:"Gembe West",divisionCode:"043251413"},{code:"0432514131774",name:"Rusinga Central",divisionCode:"043251413"},{code:"0432514131775",name:"Rusinga East",divisionCode:"043251413"},{code:"0432514131776",name:"Rusinga West",divisionCode:"043251413"},{code:"0432524141777",name:"Kaksingri Central",divisionCode:"043252414"},{code:"0432524141778",name:"Kaksingri East",divisionCode:"043252414"},{code:"0432524141779",name:"Kaksingri West",divisionCode:"043252414"},{code:"0432524141780",name:"Ruma",divisionCode:"043252414"},{code:"0432524151781",name:"Gwassi Central",divisionCode:"043252415"},{code:"0432524151782",name:"Gwassi East",divisionCode:"043252415"},{code:"0432524151783",name:"Gwassi North",divisionCode:"043252415"},{code:"0432524151784",name:"Gwassi South",divisionCode:"043252415"},{code:"0432524151785",name:"Gwassi West",divisionCode:"043252415"},{code:"0442534161786",name:"South Kamagambo",divisionCode:"044253416"},{code:"0442534161787",name:"South West Kamagambo",divisionCode:"044253416"},{code:"0442534161788",name:"West Kamagambo",divisionCode:"044253416"},{code:"0442534171789",name:"Central Kamagambo",divisionCode:"044253417"},{code:"0442534171790",name:"East Kamagambo",divisionCode:"044253417"},{code:"0442534171791",name:"North East Kamagambo",divisionCode:"044253417"},{code:"0442534171792",name:"North Kamagambo",divisionCode:"044253417"},{code:"0442544181793",name:"Awendo",divisionCode:"044254418"},{code:"0442544181794",name:"Central Sakwa",divisionCode:"044254418"},{code:"0442544181795",name:"East Sakwa",divisionCode:"044254418"},{code:"0442544181796",name:"South Sakwa",divisionCode:"044254418"},{code:"0442544191797",name:"North E.Sakwa",divisionCode:"044254419"},{code:"0442544191798",name:"North Sakwa",divisionCode:"044254419"},{code:"0442544191799",name:"West Sakwa",divisionCode:"044254419"},{code:"0442554201800",name:"Suna Central",divisionCode:"044255420"},{code:"0442554201801",name:"Suna East",divisionCode:"044255420"},{code:"0442554201802",name:"Suna Ngege",divisionCode:"044255420"},{code:"0442554201803",name:"Suna North",divisionCode:"044255420"},{code:"0442554201804",name:"Suna Otacho",divisionCode:"044255420"},{code:"0442554211805",name:"God Jope",divisionCode:"044255421"},{code:"0442554211806",name:"Suna Kwa",divisionCode:"044255421"},{code:"0442554211807",name:"Suna Nyabisawa",divisionCode:"044255421"},{code:"0442554211808",name:"Suna Rabuor",divisionCode:"044255421"},{code:"0442554211809",name:"Suna Sagegi",divisionCode:"044255421"},{code:"0442554211810",name:"Suna Upper",divisionCode:"044255421"},{code:"0442564221811",name:"Suna Oruba",divisionCode:"044256422"},{code:"0442564221812",name:"Suna Ragana",divisionCode:"044256422"},{code:"0442564231813",name:"Suna Wasimbete",divisionCode:"044256423"},{code:"0442564231814",name:"Suna West",divisionCode:"044256423"},{code:"0442564241815",name:"Suna Sagero",divisionCode:"044256424"},{code:"0442564241816",name:"Suna South",divisionCode:"044256424"},{code:"0442564251817",name:"Suna Lower",divisionCode:"044256425"},{code:"0442564251818",name:"Suna Raha",divisionCode:"044256425"},{code:"0442574261819",name:"East Kanyamkago",divisionCode:"044257426"},{code:"0442574261820",name:"South East Kanyamkago",divisionCode:"044257426"},{code:"0442574261821",name:"South Kanyamkago",divisionCode:"044257426"},{code:"0442574271822",name:"Central Kanyamkago",divisionCode:"044257427"},{code:"0442574271823",name:"Kamgundho",divisionCode:"044257427"},{code:"0442574271824",name:"North Kanyamkago",divisionCode:"044257427"},{code:"0442574271825",name:"Upper West Nyakamkago",divisionCode:"044257427"},{code:"0442574271826",name:"West Kanyamkago",divisionCode:"044257427"},{code:"0442594281827",name:"Gokeharaka",divisionCode:"044259428"},{code:"0442594291828",name:"Bukira Central",divisionCode:"044259429"},{code:"0442594291829",name:"Bukira North",divisionCode:"044259429"},{code:"0442594301830",name:"Bukira West",divisionCode:"044259430"},{code:"0442594301831",name:"Makerero",divisionCode:"044259430"},{code:"0442594311832",name:"Bukira East",divisionCode:"044259431"},{code:"0442594311833",name:"Bukira South",divisionCode:"044259431"},{code:"0442604321834",name:"Kebaroti",divisionCode:"044260432"},{code:"0442604321835",name:"Komotobo",divisionCode:"044260432"},{code:"0442604321836",name:"Nyabasi South",divisionCode:"044260432"},{code:"0442604321837",name:"Nyabasi West",divisionCode:"044260432"},{code:"0442604321838",name:"Tebesi",divisionCode:"044260432"},{code:"0442604331839",name:"Nguruna",divisionCode:"044260433"},{code:"0442604331840",name:"Nyabasi Central",divisionCode:"044260433"},{code:"0442604331841",name:"Nyabasi East",divisionCode:"044260433"},{code:"0442604341842",name:"Maeta",divisionCode:"044260434"},{code:"0442604341843",name:"Nyabasi North",divisionCode:"044260434"},{code:"0462734351844",name:"Ensakia",divisionCode:"046273435"},{code:"0462734351845",name:"Kineni",divisionCode:"046273435"},{code:"0462734351846",name:"Nyansiongo",divisionCode:"046273435"},{code:"0462734361847",name:"Ekerubo",divisionCode:"046273436"},{code:"0462734361848",name:"Esise",divisionCode:"046273436"},{code:"0462734361849",name:"Mecheo",divisionCode:"046273436"},{code:"0462734361850",name:"Raitigo",divisionCode:"046273436"},{code:"0462734371851",name:"Kiangeni",divisionCode:"046273437"},{code:"0462734371852",name:"Kitaru",divisionCode:"046273437"},{code:"0462734381853",name:"Matutu",divisionCode:"046273438"},{code:"0462734381854",name:"Mekenene",divisionCode:"046273438"},{code:"0472744391855",name:"Highridge",divisionCode:"047274439"},{code:"0472744391856",name:"Parklands",divisionCode:"047274439"},{code:"0472744401857",name:"Kangemi",divisionCode:"047274440"},{code:"0472744401858",name:"Kitisuru",divisionCode:"047274440"},{code:"0472744411859",name:"Kileleshwa",divisionCode:"047274441"},{code:"0472744411860",name:"Kilimani",divisionCode:"047274441"},{code:"0472774421861",name:"Karen",divisionCode:"047277442"},{code:"0472774421862",name:"Langata",divisionCode:"047277442"},{code:"0472774431863",name:"Highrise",divisionCode:"047277443"},{code:"0472774431864",name:"Mugumoini",divisionCode:"047277443"},{code:"0472774431865",name:"Nairobi West",divisionCode:"047277443"},{code:"0472784441866",name:"Kibera",divisionCode:"047278444"},{code:"0472784441867",name:"Sarangombe",divisionCode:"047278444"},{code:"0472784451868",name:"Laini Saba",divisionCode:"047278445"},{code:"0472784461869",name:"Golf Course",divisionCode:"047278446"},{code:"0472784461870",name:"Kenyatta",divisionCode:"047278446"},{code:"0472784461871",name:"Woodley",divisionCode:"047278446"},{code:"0472804471872",name:"Githurai",divisionCode:"047280447"},{code:"0472804471873",name:"Kahawa West",divisionCode:"047280447"},{code:"0472804471874",name:"Zimmerman",divisionCode:"047280447"},{code:"0472804481875",name:"Baba Dogo",divisionCode:"047280448"},{code:"0472804481876",name:"Kariobangi North",divisionCode:"047280448"},{code:"0472804481877",name:"Korogocho",divisionCode:"047280448"},{code:"0472804481878",name:"Utalii",divisionCode:"047280448"},{code:"0472804491879",name:"Kasarani",divisionCode:"047280449"},{code:"0472804491880",name:"Mwiki",divisionCode:"047280449"},{code:"0472804501881",name:"Roysambu",divisionCode:"047280450"},{code:"0472804501882",name:"Ruaraka",divisionCode:"047280450"},{code:"0472874511883",name:"Bahati",divisionCode:"047287451"},{code:"0472874521884",name:"Makadara",divisionCode:"047287452"},{code:"0472874521885",name:"Makongeni",divisionCode:"047287452"},{code:"0472874521886",name:"Maringo",divisionCode:"047287452"},{code:"0472874531887",name:"Viwandani",divisionCode:"047287453"},{code:"0472884541888",name:"Eastleigh Airbase",divisionCode:"047288454"},{code:"0472884541889",name:"Eastleigh North",divisionCode:"047288454"},{code:"0472884541890",name:"Eastleigh South",divisionCode:"047288454"},{code:"0472884541891",name:"Kiambiu",divisionCode:"047288454"},{code:"0472884541892",name:"Uhuru",divisionCode:"047288454"},{code:"0472884551893",name:"Pumwani",divisionCode:"047288455"},{code:"0472884551894",name:"Shauri Moyo",divisionCode:"047288455"},{code:"0472894561895",name:"Kamukunji",divisionCode:"047289456"},{code:"0472894561896",name:"Ngara",divisionCode:"047289456"},{code:"0472894561897",name:"Starehe",divisionCode:"047289456"},{code:"0472894571898",name:"Kariokor",divisionCode:"047289457"},{code:"0472894571899",name:"Pangani",divisionCode:"047289457"},{code:"0472894581900",name:"Land Mawe",divisionCode:"047289458"},{code:"0472894581901",name:"Mukuru Futa Nyayo",divisionCode:"047289458"},{code:"0472894581902",name:"Mukuru Kayiaba",divisionCode:"047289458"},{code:"0472904591903",name:"Huruma",divisionCode:"047290459"},{code:"0472904591904",name:"Kiamaiko",divisionCode:"047290459"},{code:"0472904601905",name:"Mabatini",divisionCode:"047290460"},{code:"0472904601906",name:"Mathare",divisionCode:"047290460"}],kle=[{code:"001001001001001",name:"Changamwe Central",locationCode:"001001001001"},{code:"001001001001002",name:"Changamwe West",locationCode:"001001001001"},{code:"001001001002001",name:"Airport North",locationCode:"001001001002"},{code:"001001001002002",name:"Airport South",locationCode:"001001001002"},{code:"001003001001001",name:"Kisauni Central",locationCode:"001003001001"},{code:"001003001001002",name:"Kisauni East",locationCode:"001003001001"},{code:"001003001002001",name:"Shanzu North",locationCode:"001003001002"},{code:"001003001002002",name:"Shanzu South",locationCode:"001003001002"},{code:"001004001001001",name:"Nyali Central",locationCode:"001004001001"},{code:"001004001001002",name:"Nyali North",locationCode:"001004001001"},{code:"001005001001001",name:"Likoni Central",locationCode:"001005001001"},{code:"001005001001002",name:"Likoni South",locationCode:"001005001001"},{code:"001006001001001",name:"Mvita Central",locationCode:"001006001001"},{code:"001006001001002",name:"Mvita North",locationCode:"001006001001"},{code:"047017001001001",name:"Kitisuru East",locationCode:"047017001001"},{code:"047017001001002",name:"Kitisuru West",locationCode:"047017001001"},{code:"047017001003001",name:"Parklands Central",locationCode:"047017001003"},{code:"047017001003002",name:"Parklands North",locationCode:"047017001003"},{code:"047017001004001",name:"Westlands Central",locationCode:"047017001004"},{code:"047017001004002",name:"Westlands East",locationCode:"047017001004"},{code:"047003001001001",name:"Karen Central",locationCode:"047003001001"},{code:"047003001001002",name:"Karen Hardy",locationCode:"047003001001"},{code:"047003001002001",name:"Nairobi West Central",locationCode:"047003001002"},{code:"047003001002002",name:"Nairobi West South",locationCode:"047003001002"},{code:"047003003001001",name:"South C Central",locationCode:"047003003001"},{code:"047003003001002",name:"South C East",locationCode:"047003003001"},{code:"047004001001001",name:"Kibra Central",locationCode:"047004001001"},{code:"047004001001002",name:"Kibra East",locationCode:"047004001001"},{code:"047005001001001",name:"Roysambu Central",locationCode:"047005001001"},{code:"047005001001002",name:"Roysambu East",locationCode:"047005001001"},{code:"047006001001001",name:"Kasarani Central",locationCode:"047006001001"},{code:"047006001001002",name:"Kasarani North",locationCode:"047006001001"},{code:"047015001001001",name:"CBD Central",locationCode:"047015001001"},{code:"047015001001002",name:"CBD East",locationCode:"047015001001"},{code:"022005001001001",name:"Ruiru Central",locationCode:"022005001001"},{code:"022005001001002",name:"Ruiru East",locationCode:"022005001001"},{code:"022005001002001",name:"Gitothua Central",locationCode:"022005001002"},{code:"022005001002002",name:"Gitothua West",locationCode:"022005001002"},{code:"022004001001001",name:"Thika Central",locationCode:"022004001001"},{code:"022004001001002",name:"Thika East",locationCode:"022004001001"},{code:"032001004001001",name:"Section 58 Central",locationCode:"032001004001"},{code:"032001004001002",name:"Section 58 East",locationCode:"032001004001"},{code:"032001004002001",name:"Shabab Central",locationCode:"032001004002"},{code:"032001004002002",name:"Shabab North",locationCode:"032001004002"},{code:"032008001001001",name:"Naivasha Town",locationCode:"032008001001"},{code:"032008001001002",name:"Naivasha East",locationCode:"032008001001"}],jle=[{code:"001T001",name:"Mombasa",countyCode:"001"},{code:"001T002",name:"Likoni",countyCode:"001"},{code:"001T003",name:"Nyali",countyCode:"001"},{code:"001T004",name:"Bamburi",countyCode:"001"},{code:"001T005",name:"Changamwe",countyCode:"001"},{code:"002T001",name:"Kwale (Town)",countyCode:"002"},{code:"002T002",name:"Ukunda",countyCode:"002"},{code:"002T003",name:"Msambweni",countyCode:"002"},{code:"002T004",name:"Lungalunga",countyCode:"002"},{code:"002T005",name:"Kinango",countyCode:"002"},{code:"002T006",name:"Matuga",countyCode:"002"},{code:"003T001",name:"Kilifi",countyCode:"003"},{code:"003T002",name:"Malindi",countyCode:"003"},{code:"003T003",name:"Watamu",countyCode:"003"},{code:"003T004",name:"Mariakani",countyCode:"003"},{code:"003T005",name:"Kaloleni",countyCode:"003"},{code:"003T006",name:"Ganze",countyCode:"003"},{code:"003T007",name:"Magarini",countyCode:"003"},{code:"004T001",name:"Hola",countyCode:"004"},{code:"004T002",name:"Garsen",countyCode:"004"},{code:"004T003",name:"Bura",countyCode:"004"},{code:"004T004",name:"Madogo",countyCode:"004"},{code:"005T001",name:"Lamu",countyCode:"005"},{code:"005T002",name:"Mokowe",countyCode:"005"},{code:"005T003",name:"Faza",countyCode:"005"},{code:"006T001",name:"Voi",countyCode:"006"},{code:"006T002",name:"Mwatate",countyCode:"006"},{code:"006T003",name:"Taveta",countyCode:"006"},{code:"006T004",name:"Wundanyi",countyCode:"6T004"},{code:"006T005",name:"Bura",countyCode:"006"},{code:"007T001",name:"Garissa",countyCode:"007"},{code:"007T002",name:"Dadaab",countyCode:"007"},{code:"007T003",name:"Ijara",countyCode:"007"},{code:"007T004",name:"Balambala",countyCode:"007"},{code:"008T001",name:"Wajir",countyCode:"008"},{code:"008T002",name:"Habaswein",countyCode:"008"},{code:"008T003",name:"Griftu",countyCode:"008"},{code:"009T001",name:"Mandera",countyCode:"009"},{code:"009T002",name:"Banissa",countyCode:"009"},{code:"009T003",name:"El Wak",countyCode:"009"},{code:"009T004",name:"Rhamu",countyCode:"009"},{code:"010T001",name:"Marsabit",countyCode:"010"},{code:"010T002",name:"Moyale",countyCode:"010"},{code:"010T003",name:"Loiyangalani",countyCode:"010"},{code:"010T004",name:"North Horr",countyCode:"010"},{code:"011T001",name:"Isiolo",countyCode:"011"},{code:"011T002",name:"Merti",countyCode:"011"},{code:"011T003",name:"Garbatulla",countyCode:"011"},{code:"012T001",name:"Meru",countyCode:"012"},{code:"012T002",name:"Maua",countyCode:"012"},{code:"012T003",name:"Mikinduri",countyCode:"012"},{code:"012T004",name:"Nkubu",countyCode:"012"},{code:"012T005",name:"Timau",countyCode:"012"},{code:"013T001",name:"Chuka",countyCode:"013"},{code:"013T002",name:"Marimanti",countyCode:"013"},{code:"013T003",name:"Imenti",countyCode:"013"},{code:"014T001",name:"Embu",countyCode:"014"},{code:"014T002",name:"Runyenjes",countyCode:"014"},{code:"014T003",name:"Siakago",countyCode:"014"},{code:"015T001",name:"Kitui",countyCode:"015"},{code:"015T002",name:"Mwingi",countyCode:"015"},{code:"015T003",name:"Mutomo",countyCode:"015"},{code:"015T004",name:"Kyuso",countyCode:"015"},{code:"015T005",name:"Kitui South / Kitui Boma",countyCode:"015"},{code:"016T001",name:"Machakos",countyCode:"016"},{code:"016T002",name:"Athi River",countyCode:"016"},{code:"016T003",name:"Kangundo",countyCode:"016"},{code:"016T004",name:"Masinga",countyCode:"016"},{code:"016T005",name:"Mavoko",countyCode:"016"},{code:"016T006",name:"Matungulu",countyCode:"016"},{code:"017T001",name:"Wote",countyCode:"017"},{code:"017T002",name:"Makindu",countyCode:"017"},{code:"017T003",name:"Kibwezi",countyCode:"017"},{code:"017T004",name:"Mtito Andei",countyCode:"017"},{code:"017T005",name:"Emali",countyCode:"017"},{code:"017T006",name:"Sultan Hamud",countyCode:"017"},{code:"018T001",name:"Ol Kalou",countyCode:"018"},{code:"018T002",name:"Nyahururu",countyCode:"018"},{code:"018T003",name:"Mairo-Inya",countyCode:"018"},{code:"018T004",name:"Kipipiri (Horseshoe)",countyCode:"018"},{code:"019T001",name:"Nyeri",countyCode:"019"},{code:"019T002",name:"Karatina",countyCode:"019"},{code:"019T003",name:"Othaya",countyCode:"019"},{code:"019T004",name:"Mukurweini",countyCode:"019"},{code:"020T001",name:"Kerugoya",countyCode:"020"},{code:"020T002",name:"Sagana",countyCode:"020"},{code:"020T003",name:"Wanguru",countyCode:"020"},{code:"021T001",name:"Murang'a",countyCode:"021"},{code:"021T002",name:"Kangema",countyCode:"021"},{code:"021T003",name:"Kigumo",countyCode:"021"},{code:"021T004",name:"Kenol",countyCode:"021"},{code:"022T001",name:"Kiambu",countyCode:"022"},{code:"022T002",name:"Thika",countyCode:"022"},{code:"022T003",name:"Ruiru",countyCode:"022"},{code:"022T004",name:"Kikuyu",countyCode:"022"},{code:"022T005",name:"Limuru",countyCode:"022"},{code:"022T006",name:"Juja",countyCode:"022"},{code:"023T001",name:"Lodwar",countyCode:"023"},{code:"023T002",name:"Kakuma",countyCode:"023"},{code:"023T003",name:"Lokichoggio",countyCode:"023"},{code:"023T004",name:"Kalokol",countyCode:"023"},{code:"024T001",name:"Kapenguria",countyCode:"024"},{code:"024T002",name:"Makutano",countyCode:"024"},{code:"024T003",name:"Chepareria",countyCode:"024"},{code:"025T001",name:"Maralal",countyCode:"025"},{code:"025T002",name:"Baragoi",countyCode:"025"},{code:"025T003",name:"Wamba",countyCode:"025"},{code:"026T001",name:"Kitale",countyCode:"026"},{code:"026T002",name:"Endebess",countyCode:"026"},{code:"026T003",name:"Kacheliba (if any major centre)",countyCode:"026"},{code:"027T001",name:"Eldoret",countyCode:"027"},{code:"027T002",name:"Turbo",countyCode:"027"},{code:"027T003",name:"Burnt Forest",countyCode:"027"},{code:"028T001",name:"Iten",countyCode:"028"},{code:"028T002",name:"Kapsowar",countyCode:"028"},{code:"029T001",name:"Kapsabet",countyCode:"029"},{code:"029T002",name:"Nandi Hills",countyCode:"029"},{code:"029T003",name:"Mosoriot",countyCode:"029"},{code:"029T004",name:"Kobujoi",countyCode:"029"},{code:"029T005",name:"Kaiboi",countyCode:"029"},{code:"029T006",name:"Kabiyet",countyCode:"029"},{code:"030T001",name:"Kabarnet",countyCode:"030"},{code:"030T002",name:"Eldama Ravine",countyCode:"030"},{code:"030T003",name:"Mogotio",countyCode:"030"},{code:"031T001",name:"Nanyuki",countyCode:"031"},{code:"031T002",name:"Rumuruti",countyCode:"031"},{code:"031T003",name:"Nyahururu",countyCode:"031"},{code:"032T001",name:"Nakuru",countyCode:"032"},{code:"032T002",name:"Naivasha",countyCode:"032"},{code:"032T003",name:"Gilgil",countyCode:"032"},{code:"032T004",name:"Molo",countyCode:"032"},{code:"032T005",name:"Njoro",countyCode:"032"},{code:"032T006",name:"Subukia",countyCode:"032"},{code:"033T001",name:"Narok",countyCode:"033"},{code:"033T002",name:"Kilgoris",countyCode:"033"},{code:"033T003",name:"Ololulunga",countyCode:"033"},{code:"034T001",name:"Kajiado",countyCode:"034"},{code:"034T002",name:"Ngong",countyCode:"034"},{code:"034T003",name:"Ongata Rongai",countyCode:"034"},{code:"034T004",name:"Kitengela",countyCode:"034"},{code:"034T005",name:"Kiserian",countyCode:"034"},{code:"034T006",name:"Isinya",countyCode:"034"},{code:"034T007",name:"Loitokitok",countyCode:"034"},{code:"035T001",name:"Kericho",countyCode:"035"},{code:"035T002",name:"Litein",countyCode:"035"},{code:"035T003",name:"Kipkelion",countyCode:"035"},{code:"036T001",name:"Bomet",countyCode:"036"},{code:"036T002",name:"Sotik",countyCode:"036"},{code:"036T003",name:"Chepalungu",countyCode:"036"},{code:"036T004",name:"Longisa",countyCode:"036"},{code:"037T001",name:"Kakamega",countyCode:"037"},{code:"037T002",name:"Mumias",countyCode:"037"},{code:"037T003",name:"Malava",countyCode:"037"},{code:"037T004",name:"Butere",countyCode:"037"},{code:"037T005",name:"Lugari",countyCode:"037"},{code:"038T001",name:"Vihiga",countyCode:"038"},{code:"038T002",name:"Mbale",countyCode:"038"},{code:"038T003",name:"Chavakali",countyCode:"038"},{code:"039T001",name:"Bungoma",countyCode:"039"},{code:"039T002",name:"Webuye",countyCode:"039"},{code:"039T003",name:"Kimilili",countyCode:"039"},{code:"039T004",name:"Sirisia",countyCode:"039"},{code:"039T005",name:"Chwele",countyCode:"039"},{code:"040T001",name:"Busia",countyCode:"040"},{code:"040T002",name:"Malaba",countyCode:"040"},{code:"040T003",name:"Teso",countyCode:"040"},{code:"041T001",name:"Siaya",countyCode:"041"},{code:"041T002",name:"Bondo",countyCode:"041"},{code:"041T003",name:"Ugunja",countyCode:"041"},{code:"041T004",name:"Usenge",countyCode:"041"},{code:"042T001",name:"Kisumu",countyCode:"042"},{code:"042T002",name:"Ahero",countyCode:"042"},{code:"042T003",name:"Muhoroni",countyCode:"042"},{code:"042T004",name:"Maseno",countyCode:"042"},{code:"042T005",name:"Kombewa",countyCode:"042"},{code:"043T001",name:"Homa Bay",countyCode:"043"},{code:"043T002",name:"Oyugis",countyCode:"043"},{code:"043T003",name:"Ndhiwa",countyCode:"043"},{code:"043T004",name:"Kendu Bay",countyCode:"043"},{code:"043T005",name:"Mbita",countyCode:"043"},{code:"044T001",name:"Migori",countyCode:"044"},{code:"044T002",name:"Rongo",countyCode:"044"},{code:"044T003",name:"Awendo",countyCode:"044"},{code:"044T004",name:"Kehancha",countyCode:"044"},{code:"044T005",name:"Isebania",countyCode:"044"},{code:"045T001",name:"Kisii",countyCode:"045"},{code:"045T002",name:"Keroka",countyCode:"045"},{code:"045T003",name:"Nyamache",countyCode:"045"},{code:"046T001",name:"Nyamira",countyCode:"046"},{code:"046T002",name:"Keroka",countyCode:"046"},{code:"047T001",name:"Nairobi CBD",countyCode:"047"},{code:"047T002",name:"Westlands",countyCode:"047"},{code:"047T003",name:"Parklands",countyCode:"047"},{code:"047T004",name:"Karen",countyCode:"047"},{code:"047T005",name:"Eastlands",countyCode:"047"},{code:"047T006",name:"South B",countyCode:"047"},{code:"047T007",name:"South C",countyCode:"047"},{code:"047T008",name:"Industrial Area",countyCode:"047"},{code:"047T009",name:"Kibra",countyCode:"047"},{code:"047T010",name:"Langata",countyCode:"047"},{code:"047T011",name:"Kasarani",countyCode:"047"},{code:"047T012",name:"Roysambu",countyCode:"047"},{code:"047T013",name:"Embakasi",countyCode:"047"},{code:"047T014",name:"Donholm",countyCode:"047"},{code:"047T015",name:"Umoja",countyCode:"047"},{code:"047T016",name:"Dandora",countyCode:"047"},{code:"047T017",name:"Kayole",countyCode:"047"},{code:"047T018",name:"Buruburu",countyCode:"047"},{code:"047T019",name:"Pipeline",countyCode:"047"},{code:"047T020",name:"Fedha",countyCode:"047"},{code:"047T021",name:"Kileleshwa",countyCode:"047"},{code:"047T022",name:"Lavington",countyCode:"047"},{code:"047T023",name:"Gigiri",countyCode:"047"},{code:"047T024",name:"Runda",countyCode:"047"},{code:"047T025",name:"Muthaiga",countyCode:"047"},{code:"047T026",name:"Ngara",countyCode:"047"},{code:"047T027",name:"Pangani",countyCode:"047"},{code:"047T028",name:"Kariobangi",countyCode:"047"},{code:"047T029",name:"Mathare",countyCode:"047"},{code:"047T030",name:"Zimmerman",countyCode:"047"},{code:"047T031",name:"Githurai",countyCode:"047"},{code:"047T032",name:"Ruai",countyCode:"047"},{code:"047T033",name:"Kamulu",countyCode:"047"},{code:"047T034",name:"Njiru",countyCode:"047"},{code:"047T035",name:"Kangemi",countyCode:"047"},{code:"047T036",name:"Kawangware",countyCode:"047"},{code:"047T037",name:"Dagoretti",countyCode:"047"},{code:"047T038",name:"Waithaka",countyCode:"047"},{code:"047T039",name:"Karen Hardy",countyCode:"047"},{code:"047T040",name:"Kitengela Road (satellite)",countyCode:"047"}],JS=e=>_le.filter(t=>t.countyCode===e),QS=e=>wle.filter(t=>t.subCountyCode===e),e8=e=>Nle.filter(t=>t.divisionCode===e),t8=e=>kle.filter(t=>t.locationCode===e),r8=e=>jle.filter(t=>t.countyCode===e),s8=()=>{const e=Vr(),{id:t}=si(),r=!!(t&&t!=="new"),{createLandRegister:s,updateLandRegister:a,getLandRegisterById:i,isLoading:o}=fg(),[l,c]=U.useState({description_of_land:"",mode_of_acquisition:"",category:"",county:"",sub_county:"",division:"",location:"",sub_location:"",nearest_town_location:"",gps_coordinates:"",polygon:{A:""},lr_certificate_no:"",document_of_ownership:"",proprietorship_details:"",size_ha:void 0,land_tenure:"",acquisition_date:"",registration_date:"",disputed:"",encumbrances:"",planned_unplanned:"",purpose_use_of_land:"",surveyed:"",acquisition_amount:void 0,fair_value:void 0,disposal_date:"",disposal_value:void 0,annual_rental_income:void 0,remarks:""}),[d,u]=U.useState([]),[p,x]=U.useState([]),[f,y]=U.useState([]),[v,_]=U.useState([]),[k,S]=U.useState([]),[M,T]=U.useState({A:""}),[O,A]=U.useState({}),[C,N]=U.useState({}),[E,z]=U.useState(!1),[P,I]=U.useState(null),[W,Z]=U.useState([]),[Y,te]=U.useState(!1),[ie,le]=U.useState(!1),[se,oe]=U.useState(0),[ee,B]=U.useState(!1),q=U.useRef(null);U.useEffect(()=>{r&&t&&Q()},[t,r]),U.useEffect(()=>{l.county?(u(JS(l.county)),S(r8(l.county)),d.find(ve=>ve.code===l.sub_county)||c(ve=>({...ve,sub_county:"",division:"",location:"",sub_location:""}))):(u([]),S([]))},[l.county]),U.useEffect(()=>{l.sub_county?(x(QS(l.sub_county)),p.find(ve=>ve.code===l.division)||c(ve=>({...ve,division:"",location:"",sub_location:""}))):x([])},[l.sub_county]),U.useEffect(()=>{l.division?(y(e8(l.division)),f.find(ve=>ve.code===l.location)||c(ve=>({...ve,location:"",sub_location:""}))):y([])},[l.division]),U.useEffect(()=>{l.location?(_(t8(l.location)),v.find(ve=>ve.code===l.sub_location)||c(ve=>({...ve,sub_location:""}))):_([])},[l.location]);const Q=async()=>{if(t)try{const ve=await i(t);ve&&(c(ve),T(ve.polygon||{A:""}))}catch{Ke.error("Failed to load land register"),e("/categories/land-register")}},K=(ve,Ne)=>{c(ze=>({...ze,[ve]:Ne})),C[ve]&&N(ze=>{const qe={...ze};return delete qe[ve],qe})},ae=()=>{const ve=String.fromCharCode(65+Object.keys(M).length);T(Ne=>({...Ne,[ve]:""}))},ge=(ve,Ne)=>{(Ne===""||/^-?\d*\.?\d*(,\s*-?\d*\.?\d*)?$/.test(Ne))&&(T(ze=>({...ze,[ve]:Ne})),O[ve]&&A(ze=>{const qe={...ze};return delete qe[ve],qe}))},he=ve=>{if(Object.keys(M).length>1){const Ne={...M};delete Ne[ve],T(Ne)}},ke=ve=>{if(!ve.trim())return"Coordinates are required";const Ne=ve.split(",").map(Ft=>Ft.trim());if(Ne.length!==2)return"Please enter coordinates separated by comma (e.g., -1.2921,36.8219 or 239000,9849228)";const[ze,qe]=Ne,pt=Number(ze),xt=Number(qe);return isNaN(pt)||isNaN(xt)?"Coordinates must be valid numbers":pt>=-90&&pt<=90&&xt>=-180&&xt<=180||pt>1e3&&xt>1e3?null:"Coordinates must be either Lat/Lng (-9090, -180180) or valid UTM values"},Ae=()=>{var pt,xt,Ft,Et;const ve=[],Ne={};(pt=l.description_of_land)!=null&&pt.trim()||(ve.push("Description of land is required"),Ne.description_of_land="Field required"),(xt=l.lr_certificate_no)!=null&&xt.trim()||(ve.push("LR Certificate No. is required"),Ne.lr_certificate_no="Field required"),(Ft=l.proprietorship_details)!=null&&Ft.trim()||(ve.push("Ownership Details is required"),Ne.proprietorship_details="Field required"),(Et=l.acquisition_date)!=null&&Et.trim()||(ve.push("Acquisition Date is required"),Ne.acquisition_date="Field required"),N(Ne);const ze={};let qe=!1;return Object.entries(M).forEach(([At,ar])=>{if(ar.trim()){const er=ke(ar);er&&(ze[At]=er,qe=!0)}}),qe&&(A(ze),ve.push("Please fix polygon coordinate errors")),ve},We=ve=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(Ne=>{const ze=`${Ne.coords.latitude},${Ne.coords.longitude}`;ve(ze)},Ne=>{console.error("Error fetching location:",Ne),alert("Unable to fetch location. Please enable GPS.")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):alert("Geolocation not supported by your browser.")},fe=ve=>{const Ne=XS.find(ze=>ze.code===ve);return Ne?Ne.name:ve},ht=ve=>{if(!l.county)return ve;const ze=JS(l.county).find(qe=>qe.code===ve);return ze?ze.name:ve},De=ve=>{if(!l.sub_county)return ve;const ze=QS(l.sub_county).find(qe=>qe.code===ve);return ze?ze.name:ve},Ee=ve=>{if(!l.division)return ve;const ze=e8(l.division).find(qe=>qe.code===ve);return ze?ze.name:ve},Ue=ve=>{if(!l.location)return ve;const ze=t8(l.location).find(qe=>qe.code===ve);return ze?ze.name:ve},rt=ve=>{if(!l.county)return ve;const ze=r8(l.county).find(qe=>qe.code===ve);return ze?ze.name:ve},ft=async ve=>{ve.preventDefault();const Ne=Ae();if(Ne.length>0){Ne.forEach(qe=>Ke.error(qe));return}const ze={description_of_land:l.description_of_land,mode_of_acquisition:l.mode_of_acquisition||null,category:l.category||null,county:l.county?fe(l.county):null,sub_county:l.sub_county?ht(l.sub_county):null,division:l.division?De(l.division):null,location:l.location?Ee(l.location):null,sub_location:l.sub_location?Ue(l.sub_location):null,nearest_town_location:l.nearest_town_location?rt(l.nearest_town_location):null,gps_coordinates:l.gps_coordinates||null,polygon:Object.keys(M).length>0&&Object.values(M).some(qe=>qe.trim())?M:null,lr_certificate_no:l.lr_certificate_no||null,document_of_ownership:l.document_of_ownership||null,proprietorship_details:l.proprietorship_details||null,size_ha:l.size_ha||null,land_tenure:l.land_tenure||null,surveyed:l.surveyed||null,acquisition_date:l.acquisition_date||null,registration_date:l.registration_date||null,disposal_date:l.disposal_date||null,disputed:l.disputed||null,planned_unplanned:l.planned_unplanned||null,purpose_use_of_land:l.purpose_use_of_land||null,acquisition_amount:l.acquisition_amount||null,fair_value:l.fair_value||null,disposal_value:l.disposal_value||null,annual_rental_income:l.annual_rental_income||null,encumbrances:l.encumbrances||null,remarks:l.remarks||null};I(ze),z(!0)},Re=async()=>{if(P)try{r&&t?(await a(t,P),Ke.success("Land register updated successfully")):(await s(P),Ke.success("Land register created successfully")),z(!1),I(null),e("/categories/land-register")}catch{Ke.error(r?"Failed to update land register":"Failed to create land register"),z(!1),I(null)}},pe=()=>{z(!1),I(null)},Le=ve=>{var qe;const Ne=(qe=ve.target.files)==null?void 0:qe[0];if(!Ne)return;B(!0),oe(0);const ze=new FileReader;ze.onload=pt=>{var Qt;const xt=setInterval(()=>{oe(Lt=>Lt>=90?(clearInterval(xt),90):Lt+10)},100),Ft=new Uint8Array((Qt=pt.target)==null?void 0:Qt.result),Et=Np(Ft,{type:"array"}),At=Et.Sheets[Et.SheetNames[0]],ar=Df.sheet_to_json(At,{defval:""});console.log("Excel columns found:",Object.keys(ar[0]||{})),console.log("First row data:",ar[0]);const er=ar.map(Lt=>({description_of_land:Lt["Description of Land"]||Lt.description_of_land||"",lr_certificate_no:Lt["LR Certificate No"]||Lt.lr_certificate_no||"",proprietorship_details:Lt["Ownership Details"]||Lt.proprietorship_details||"",acquisition_date:Lt["Acquisition Date"]||Lt.acquisition_date||"",mode_of_acquisition:Lt["Mode of Acquisition"]||Lt.mode_of_acquisition||void 0,category:Lt.Category||Lt.category||void 0,county:Lt.County||Lt.county||void 0,sub_county:Lt["Sub County"]||Lt.sub_county||void 0,division:Lt.Division||Lt.division||void 0,location:Lt.Location||Lt.location||void 0,sub_location:Lt["Sub Location"]||Lt.sub_location||void 0,nearest_town_location:Lt["Nearest Town"]||Lt.nearest_town_location||void 0,gps_coordinates:Lt["GPS Coordinates"]||Lt.gps_coordinates||void 0,document_of_ownership:Lt["Document of Ownership"]||Lt.document_of_ownership||void 0,land_tenure:Lt["Land Tenure"]||Lt.land_tenure||void 0,surveyed:Lt.Surveyed||Lt.surveyed||void 0,size_ha:Number.parseFloat(Lt["Size (ha)"]||Lt.size_ha||"0")||void 0,registration_date:Lt["Registration Date"]||Lt.registration_date||void 0,disposal_date:Lt["Disposal Date"]||Lt.disposal_date||void 0,disputed:Lt.Disputed||Lt.disputed||void 0,planned_unplanned:Lt["Planned/Unplanned"]||Lt.planned_unplanned||void 0,purpose_use_of_land:Lt["Purpose of Land"]||Lt.purpose_use_of_land||void 0,encumbrances:Lt.Encumbrances||Lt.encumbrances||void 0,acquisition_amount:Number.parseFloat(Lt["Acquisition Amount"]||Lt.acquisition_amount||"0")||void 0,fair_value:Number.parseFloat(Lt["Fair Value"]||Lt.fair_value||"0")||void 0,disposal_value:Number.parseFloat(Lt["Disposal Value"]||Lt.disposal_value||"0")||void 0,annual_rental_income:Number.parseFloat(Lt["Annual Rental Income"]||Lt.annual_rental_income||"0")||void 0,remarks:Lt.Remarks||Lt.remarks||void 0}));console.log("Mapped land register data:",er),oe(100),setTimeout(()=>{B(!1),oe(0),Z(er),te(!0)},500)},ze.readAsArrayBuffer(Ne)},He=async ve=>{var ze,qe;if(ie)return;le(!0),oe(0);const Ne=ve||W;if(Ne.length===0){Ke.error("No data found in the Excel file."),le(!1),oe(0);return}try{const pt=Ne.map(At=>At.lr_certificate_no);oe(20);const xt=await Pt.post("https://assets-system-sigma.vercel.app/api/land-assets/check-lr-numbers",{lr_numbers:pt},{withCredentials:!0});oe(40);const Ft=xt.data.existing_lr_numbers||[],Et=Ne.filter(At=>!Ft.includes(At.lr_certificate_no));if(Et.length>0){oe(60);const At=Pt.create();At.interceptors.request.use(ar=>(ar.onUploadProgress=er=>{if(er.total){const Qt=Math.round(er.loaded*100/er.total);oe(60+Qt*.3)}},ar)),await At.post("https://assets-system-sigma.vercel.app/api/land-assets/upload-excel-data",{data:Et},{withCredentials:!0}),oe(100),Ke.success("Excel data uploaded successfully!"),setTimeout(()=>{te(!1),oe(0),e("/categories/land-register")},1500)}else oe(100),Ke.error("All land records in the Excel file already exist."),setTimeout(()=>{oe(0)},1e3)}catch(pt){const xt=((qe=(ze=pt.response)==null?void 0:ze.data)==null?void 0:qe.message)||"Failed to upload excel data";Ke.error(xt),oe(0)}finally{le(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"flex sticky top-0 z-10 bg-white border-b border-gray-200 shadow-sm w-full",children:n.jsxs("div",{className:"w-full flex justify-between px-2 py-0.5 sm:px-4 lg:px-6 ",children:[n.jsxs("nav",{className:"flex items-center mb-2 space-x-2 text-sm text-gray-600",children:[n.jsxs(Lr,{to:"/",className:"flex items-center transition-colors hover:text-blue-600",children:[n.jsx(ln,{size:16,className:"mr-1"}),"Home"]}),n.jsx(Dr,{size:16}),n.jsxs(Lr,{to:"/asset-categories",className:"flex items-center transition-colors hover:text-blue-600",children:[n.jsx(Lc,{size:16,className:"mr-1"}),"Asset Categories"]}),n.jsx(Dr,{size:16}),n.jsx(Lr,{to:"/categories/land-register",className:"transition-colors hover:text-blue-600",children:"Land Register"}),n.jsx(Dr,{size:16}),n.jsxs("span",{className:"flex items-center font-medium text-gray-900",children:[n.jsx(Ea,{size:16,className:"mr-1"}),r?"Edit Land Record":"Add Land Record"]})]}),n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-1xl font-bold text-gray-900",children:r?"Edit Land Record":"Add Land Record"}),n.jsx("p",{className:"mt-0 text-sm text-gray-400",children:r?"Update land register information":"Create a new land register entry"})]})})]})}),n.jsx("div",{className:"px-2 py-2 space-y-2",children:n.jsxs("form",{onSubmit:ft,className:"space-y-2",children:[n.jsx(it,{children:n.jsxs("div",{className:"p-4",children:[n.jsx("h2",{className:"mb-2 text-lg font-semibold text-gray-900",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Description of Land ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bo,{value:l.description_of_land||"",onChange:ve=>K("description_of_land",ve.target.value),placeholder:"Enter detailed description of the land",required:!0,className:C.description_of_land?"border-red-300 focus:border-red-500":""}),C.description_of_land&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.description_of_land})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Mode of Acquisition"}),n.jsxs(Pi,{value:l.mode_of_acquisition||"",onChange:ve=>K("mode_of_acquisition",ve.target.value),children:[n.jsx("option",{value:"",children:"Select mode"}),n.jsx("option",{value:"Purchase",children:"Purchase"}),n.jsx("option",{value:"Transfer",children:"Transfer"}),n.jsx("option",{value:"Donation",children:"Donation"}),n.jsx("option",{value:"Inheritance",children:"Inheritance"}),n.jsx("option",{value:"Government Allocation",children:"Government Allocation"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Category"}),n.jsxs(Pi,{value:l.category||"",onChange:ve=>K("category",ve.target.value),children:[n.jsx("option",{value:"",children:"Select category"}),n.jsx("option",{value:"Land",children:"Land"}),n.jsx("option",{value:"Investment Property",children:"Investment Property"})]})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Location Details"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"County"}),n.jsxs(Pi,{value:l.county||"",onChange:ve=>K("county",ve.target.value),children:[n.jsx("option",{value:"",children:"Select county"}),XS.map(ve=>n.jsx("option",{value:ve.code,children:ve.name},ve.code))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Sub County"}),n.jsxs(Pi,{value:l.sub_county||"",onChange:ve=>K("sub_county",ve.target.value),children:[n.jsx("option",{value:"",children:"Select sub county"}),d.map(ve=>n.jsx("option",{value:ve.code,children:ve.name},ve.code))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Division"}),n.jsxs(Pi,{value:l.division||"",onChange:ve=>K("division",ve.target.value),children:[n.jsx("option",{value:"",children:"Select division"}),p.map(ve=>n.jsx("option",{value:ve.code,children:ve.name},ve.code))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Location"}),n.jsxs(Pi,{value:l.location||"",onChange:ve=>K("location",ve.target.value),children:[n.jsx("option",{value:"",children:"Select location"}),f.map(ve=>n.jsx("option",{value:ve.code,children:ve.name},ve.code))]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Sub Location"}),n.jsx(ZS,{value:l.sub_location||"",onChange:ve=>K("sub_location",ve),options:v,placeholder:"Select or type sub location"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Nearest Town"}),n.jsx(ZS,{value:l.nearest_town_location||"",onChange:ve=>K("nearest_town_location",ve),options:k,placeholder:"Select or type nearest town"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Geographic Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"GPS Coordinates"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(wt,{type:"text",value:l.gps_coordinates||"",onChange:ve=>K("gps_coordinates",ve.target.value),placeholder:"Enter GPS coordinates (lat,long)",className:"flex-1"}),n.jsx(Be,{type:"button",variant:"secondary",size:"sm",onClick:()=>We(ve=>K("gps_coordinates",ve)),children:" Use My Location"})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Survey Points"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Type coordinates manually or press  to capture from GPS"})]}),n.jsxs(Be,{type:"button",variant:"secondary",size:"sm",onClick:ae,className:"flex gap-1 items-center bg-transparent",children:[n.jsx(ri,{size:16}),"Add Point"]})]}),n.jsx("div",{className:"space-y-2",children:Object.entries(M).map(([ve,Ne])=>n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsxs("span",{className:"w-8 text-sm font-medium text-gray-700",children:[ve,":"]}),n.jsx(wt,{type:"text",inputMode:"decimal",pattern:"-?[0-9]*\\.?[0-9]*,-?[0-9]*\\.?[0-9]*",value:Ne,onChange:ze=>ge(ve,ze.target.value),placeholder:"-0.22455,36.82195",className:`flex-1 ${O[ve]?"border-red-500 focus:border-red-500":""}`}),n.jsx(Be,{type:"button",variant:"secondary",size:"sm",onClick:()=>We(ze=>ge(ve,ze)),children:""}),Object.keys(M).length>1&&n.jsx(Be,{type:"button",variant:"ghost",size:"sm",onClick:()=>he(ve),className:"text-red-600 hover:text-red-700",children:n.jsx(ud,{size:16})})]}),O[ve]&&n.jsx("p",{className:"ml-10 text-sm text-red-600",children:O[ve]})]},ve))})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Legal Documentation"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["LR Certificate No. ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(wt,{value:l.lr_certificate_no||"",onChange:ve=>K("lr_certificate_no",ve.target.value),placeholder:"Enter LR certificate number",required:!0,className:C.lr_certificate_no?"border-red-300 focus:border-red-500":""}),C.lr_certificate_no&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.lr_certificate_no})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Document of Ownership"}),n.jsxs(Pi,{value:l.document_of_ownership||"",onChange:ve=>K("document_of_ownership",ve.target.value),children:[n.jsx("option",{value:"",children:"Select document type"}),n.jsx("option",{value:"Title Deed",children:"Title Deed"}),n.jsx("option",{value:"Certificate",children:"Certificate"}),n.jsx("option",{value:"Allotment Letter",children:"Allotment Letter"}),n.jsx("option",{value:"Other",children:"Other"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Ownership Details ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bo,{value:l.proprietorship_details||"",onChange:ve=>K("proprietorship_details",ve.target.value),placeholder:"Enter ownership details as per document of title",required:!0,className:C.proprietorship_details?"border-red-300 focus:border-red-500":""}),C.proprietorship_details&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.proprietorship_details})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Land Specifications"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Size (ha)"}),n.jsx(wt,{type:"number",step:"0.0001",value:l.size_ha||"",onChange:ve=>K("size_ha",Number.parseFloat(ve.target.value)||void 0),placeholder:"Enter size in hectares"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Land Tenure"}),n.jsxs(Pi,{value:l.land_tenure||"",onChange:ve=>K("land_tenure",ve.target.value),children:[n.jsx("option",{value:"",children:"Select tenure"}),n.jsx("option",{value:"Freehold",children:"Freehold"}),n.jsx("option",{value:"Leasehold",children:"Leasehold"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Survey Status"}),n.jsxs(Pi,{value:l.surveyed||"",onChange:ve=>K("surveyed",ve.target.value),children:[n.jsx("option",{value:"",children:"Select status"}),n.jsx("option",{value:"Surveyed",children:"Surveyed"}),n.jsx("option",{value:"Not Surveyed",children:"Not Surveyed"})]})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Important Dates"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Acquisition Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(wt,{type:"date",value:l.acquisition_date||"",onChange:ve=>K("acquisition_date",ve.target.value),required:!0,className:C.acquisition_date?"border-red-300 focus:border-red-500":""}),C.acquisition_date&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.acquisition_date})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Registration Date"}),n.jsx(wt,{type:"date",value:l.registration_date||"",onChange:ve=>K("registration_date",ve.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Disposal Date"}),n.jsx(wt,{type:"date",value:l.disposal_date||"",onChange:ve=>K("disposal_date",ve.target.value)})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Status and Conditions"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Disputed Status"}),n.jsxs(Pi,{value:l.disputed||"",onChange:ve=>K("disputed",ve.target.value),children:[n.jsx("option",{value:"",children:"Select status"}),n.jsx("option",{value:"Undisputed",children:"Undisputed"}),n.jsx("option",{value:"Disputed",children:"Disputed"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Planned Status"}),n.jsxs(Pi,{value:l.planned_unplanned||"",onChange:ve=>K("planned_unplanned",ve.target.value),children:[n.jsx("option",{value:"",children:"Select status"}),n.jsx("option",{value:"Planned",children:"Planned"}),n.jsx("option",{value:"Unplanned",children:"Unplanned"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Purpose of Land"}),n.jsx(bo,{value:l.purpose_use_of_land||"",onChange:ve=>K("purpose_use_of_land",ve.target.value),placeholder:"Enter purpose/use of land"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Encumbrances"}),n.jsx(bo,{value:l.encumbrances||"",onChange:ve=>K("encumbrances",ve.target.value),placeholder:"Enter any encumbrances"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Financial Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Acquisition Amount"}),n.jsx(wt,{type:"number",step:"0.01",value:l.acquisition_amount||"",onChange:ve=>K("acquisition_amount",Number.parseFloat(ve.target.value)||void 0),placeholder:"Enter acquisition amount"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Fair Value"}),n.jsx(wt,{type:"number",step:"0.01",value:l.fair_value||"",onChange:ve=>K("fair_value",Number.parseFloat(ve.target.value)||void 0),placeholder:"Enter fair value"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Disposal Value"}),n.jsx(wt,{type:"number",step:"0.01",value:l.disposal_value||"",onChange:ve=>K("disposal_value",Number.parseFloat(ve.target.value)||void 0),placeholder:"Enter disposal value"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Annual Rental Income"}),n.jsx(wt,{type:"number",step:"0.01",value:l.annual_rental_income||"",onChange:ve=>K("annual_rental_income",Number.parseFloat(ve.target.value)||void 0),placeholder:"Enter annual rental income"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Additional Information"}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Remarks"}),n.jsx(bo,{value:l.remarks||"",onChange:ve=>K("remarks",ve.target.value),placeholder:"Enter any additional remarks",rows:4})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Upload Excel File"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm text-gray-500",children:"Ready to upload"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"relative",children:n.jsx("input",{ref:q,type:"file",accept:".xlsx, .xls",onChange:Le,className:"block w-full text-sm text-gray-500 cursor-pointer file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-emerald-50 file:text-emerald-700 hover:file:bg-emerald-100 file:cursor-pointer",disabled:ee||ie})}),(ee||ie)&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[n.jsx("span",{children:ee?"Processing Excel file...":"Uploading to server..."}),n.jsxs("span",{children:[Math.round(se),"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"bg-emerald-600 h-2.5 rounded-full transition-all duration-300 ease-out",style:{width:`${se}%`}})}),n.jsxs("div",{className:"text-xs text-gray-500",children:[ee&&"Reading and mapping Excel data...",ie&&"Sending data to server..."]})]}),ee&&n.jsxs("div",{className:"flex items-center p-3 space-x-2 text-emerald-600 bg-emerald-50 rounded-md",children:[n.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-emerald-600 animate-spin border-t-transparent"}),n.jsx("span",{className:"text-sm font-medium",children:"Processing Excel file..."})]}),ie&&n.jsxs("div",{className:"flex items-center p-3 space-x-2 text-green-600 bg-green-50 rounded-md",children:[n.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-green-600 animate-spin border-t-transparent"}),n.jsx("span",{className:"text-sm font-medium",children:"Uploading to server..."})]}),W.length>0&&!ee&&!ie&&n.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-md border border-green-200",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsxs("span",{className:"text-sm text-green-700",children:[W.length," land record(s) ready for review"]})]}),n.jsx("button",{type:"button",onClick:()=>te(!0),className:"text-sm font-medium text-green-700 hover:text-green-800",children:"Review Data "})]}),n.jsx("div",{className:"p-3 bg-gray-50 rounded-md border border-gray-200",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("strong",{children:"Excel Format:"}),' Your Excel file should include columns like "Description of Land", "LR Certificate No", "Ownership Details", "County", "Size (ha)", "Acquisition Date", "Acquisition Amount", etc.']})})]})]})}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx(Be,{type:"button",variant:"secondary",onClick:()=>e("/categories/land-register"),leftIcon:n.jsx(Bs,{size:16}),children:"Cancel"}),n.jsx(Be,{type:"submit",variant:"primary",className:"bg-emerald-600 hover:bg-emerald-700",leftIcon:n.jsx(bi,{size:16}),isLoading:o,children:r?"Update Land Record":"Create Land Record"})]})]})}),n.jsx(QM,{isOpen:E,onClose:pe,onConfirm:Re,title:"Confirm Land Record Creation",message:r?"Are you sure you want to update this land register record? This action will save all changes permanently.":"Are you sure you want to create this new land register record? Please review all information before confirming.",confirmText:r?"Update Record":"Create Record",cancelText:"Cancel",isLoading:o}),n.jsx(ble,{show:Y,data:W,onConfirm:He,onCancel:()=>{te(!1),q.current&&(q.current.value="")},isLoading:ie})]})};var I1={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Cle=I1.exports,a8;function Sle(){return a8||(a8=1,(function(e,t){(function(r,s){s(t)})(Cle,(function(r){var s="1.9.4";function a(m){var b,F,V,ne;for(F=1,V=arguments.length;F<V;F++){ne=arguments[F];for(b in ne)m[b]=ne[b]}return m}var i=Object.create||(function(){function m(){}return function(b){return m.prototype=b,new m}})();function o(m,b){var F=Array.prototype.slice;if(m.bind)return m.bind.apply(m,F.call(arguments,1));var V=F.call(arguments,2);return function(){return m.apply(b,V.length?V.concat(F.call(arguments)):arguments)}}var l=0;function c(m){return"_leaflet_id"in m||(m._leaflet_id=++l),m._leaflet_id}function d(m,b,F){var V,ne,ye,Ve;return Ve=function(){V=!1,ne&&(ye.apply(F,ne),ne=!1)},ye=function(){V?ne=arguments:(m.apply(F,arguments),setTimeout(Ve,b),V=!0)},ye}function u(m,b,F){var V=b[1],ne=b[0],ye=V-ne;return m===V&&F?m:((m-ne)%ye+ye)%ye+ne}function p(){return!1}function x(m,b){if(b===!1)return m;var F=Math.pow(10,b===void 0?6:b);return Math.round(m*F)/F}function f(m){return m.trim?m.trim():m.replace(/^\s+|\s+$/g,"")}function y(m){return f(m).split(/\s+/)}function v(m,b){Object.prototype.hasOwnProperty.call(m,"options")||(m.options=m.options?i(m.options):{});for(var F in b)m.options[F]=b[F];return m.options}function _(m,b,F){var V=[];for(var ne in m)V.push(encodeURIComponent(F?ne.toUpperCase():ne)+"="+encodeURIComponent(m[ne]));return(!b||b.indexOf("?")===-1?"?":"&")+V.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function S(m,b){return m.replace(k,function(F,V){var ne=b[V];if(ne===void 0)throw new Error("No value provided for variable "+F);return typeof ne=="function"&&(ne=ne(b)),ne})}var M=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"};function T(m,b){for(var F=0;F<m.length;F++)if(m[F]===b)return F;return-1}var O="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(m){return window["webkit"+m]||window["moz"+m]||window["ms"+m]}var C=0;function N(m){var b=+new Date,F=Math.max(0,16-(b-C));return C=b+F,window.setTimeout(m,F)}var E=window.requestAnimationFrame||A("RequestAnimationFrame")||N,z=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(m){window.clearTimeout(m)};function P(m,b,F){if(F&&E===N)m.call(b);else return E.call(window,o(m,b))}function I(m){m&&z.call(window,m)}var W={__proto__:null,extend:a,create:i,bind:o,get lastId(){return l},stamp:c,throttle:d,wrapNum:u,falseFn:p,formatNum:x,trim:f,splitWords:y,setOptions:v,getParamString:_,template:S,isArray:M,indexOf:T,emptyImageUrl:O,requestFn:E,cancelFn:z,requestAnimFrame:P,cancelAnimFrame:I};function Z(){}Z.extend=function(m){var b=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},F=b.__super__=this.prototype,V=i(F);V.constructor=b,b.prototype=V;for(var ne in this)Object.prototype.hasOwnProperty.call(this,ne)&&ne!=="prototype"&&ne!=="__super__"&&(b[ne]=this[ne]);return m.statics&&a(b,m.statics),m.includes&&(Y(m.includes),a.apply(null,[V].concat(m.includes))),a(V,m),delete V.statics,delete V.includes,V.options&&(V.options=F.options?i(F.options):{},a(V.options,m.options)),V._initHooks=[],V.callInitHooks=function(){if(!this._initHooksCalled){F.callInitHooks&&F.callInitHooks.call(this),this._initHooksCalled=!0;for(var ye=0,Ve=V._initHooks.length;ye<Ve;ye++)V._initHooks[ye].call(this)}},b},Z.include=function(m){var b=this.prototype.options;return a(this.prototype,m),m.options&&(this.prototype.options=b,this.mergeOptions(m.options)),this},Z.mergeOptions=function(m){return a(this.prototype.options,m),this},Z.addInitHook=function(m){var b=Array.prototype.slice.call(arguments,1),F=typeof m=="function"?m:function(){this[m].apply(this,b)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(F),this};function Y(m){if(!(typeof L>"u"||!L||!L.Mixin)){m=M(m)?m:[m];for(var b=0;b<m.length;b++)m[b]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var te={on:function(m,b,F){if(typeof m=="object")for(var V in m)this._on(V,m[V],b);else{m=y(m);for(var ne=0,ye=m.length;ne<ye;ne++)this._on(m[ne],b,F)}return this},off:function(m,b,F){if(!arguments.length)delete this._events;else if(typeof m=="object")for(var V in m)this._off(V,m[V],b);else{m=y(m);for(var ne=arguments.length===1,ye=0,Ve=m.length;ye<Ve;ye++)ne?this._off(m[ye]):this._off(m[ye],b,F)}return this},_on:function(m,b,F,V){if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}if(this._listens(m,b,F)===!1){F===this&&(F=void 0);var ne={fn:b,ctx:F};V&&(ne.once=!0),this._events=this._events||{},this._events[m]=this._events[m]||[],this._events[m].push(ne)}},_off:function(m,b,F){var V,ne,ye;if(this._events&&(V=this._events[m],!!V)){if(arguments.length===1){if(this._firingCount)for(ne=0,ye=V.length;ne<ye;ne++)V[ne].fn=p;delete this._events[m];return}if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}var Ve=this._listens(m,b,F);if(Ve!==!1){var lt=V[Ve];this._firingCount&&(lt.fn=p,this._events[m]=V=V.slice()),V.splice(Ve,1)}}},fire:function(m,b,F){if(!this.listens(m,F))return this;var V=a({},b,{type:m,target:this,sourceTarget:b&&b.sourceTarget||this});if(this._events){var ne=this._events[m];if(ne){this._firingCount=this._firingCount+1||1;for(var ye=0,Ve=ne.length;ye<Ve;ye++){var lt=ne[ye],yt=lt.fn;lt.once&&this.off(m,yt,lt.ctx),yt.call(lt.ctx||this,V)}this._firingCount--}}return F&&this._propagateEvent(V),this},listens:function(m,b,F,V){typeof m!="string"&&console.warn('"string" type argument expected');var ne=b;typeof b!="function"&&(V=!!b,ne=void 0,F=void 0);var ye=this._events&&this._events[m];if(ye&&ye.length&&this._listens(m,ne,F)!==!1)return!0;if(V){for(var Ve in this._eventParents)if(this._eventParents[Ve].listens(m,b,F,V))return!0}return!1},_listens:function(m,b,F){if(!this._events)return!1;var V=this._events[m]||[];if(!b)return!!V.length;F===this&&(F=void 0);for(var ne=0,ye=V.length;ne<ye;ne++)if(V[ne].fn===b&&V[ne].ctx===F)return ne;return!1},once:function(m,b,F){if(typeof m=="object")for(var V in m)this._on(V,m[V],b,!0);else{m=y(m);for(var ne=0,ye=m.length;ne<ye;ne++)this._on(m[ne],b,F,!0)}return this},addEventParent:function(m){return this._eventParents=this._eventParents||{},this._eventParents[c(m)]=m,this},removeEventParent:function(m){return this._eventParents&&delete this._eventParents[c(m)],this},_propagateEvent:function(m){for(var b in this._eventParents)this._eventParents[b].fire(m.type,a({layer:m.target,propagatedFrom:m.target},m),!0)}};te.addEventListener=te.on,te.removeEventListener=te.clearAllEventListeners=te.off,te.addOneTimeEventListener=te.once,te.fireEvent=te.fire,te.hasEventListeners=te.listens;var ie=Z.extend(te);function le(m,b,F){this.x=F?Math.round(m):m,this.y=F?Math.round(b):b}var se=Math.trunc||function(m){return m>0?Math.floor(m):Math.ceil(m)};le.prototype={clone:function(){return new le(this.x,this.y)},add:function(m){return this.clone()._add(oe(m))},_add:function(m){return this.x+=m.x,this.y+=m.y,this},subtract:function(m){return this.clone()._subtract(oe(m))},_subtract:function(m){return this.x-=m.x,this.y-=m.y,this},divideBy:function(m){return this.clone()._divideBy(m)},_divideBy:function(m){return this.x/=m,this.y/=m,this},multiplyBy:function(m){return this.clone()._multiplyBy(m)},_multiplyBy:function(m){return this.x*=m,this.y*=m,this},scaleBy:function(m){return new le(this.x*m.x,this.y*m.y)},unscaleBy:function(m){return new le(this.x/m.x,this.y/m.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=se(this.x),this.y=se(this.y),this},distanceTo:function(m){m=oe(m);var b=m.x-this.x,F=m.y-this.y;return Math.sqrt(b*b+F*F)},equals:function(m){return m=oe(m),m.x===this.x&&m.y===this.y},contains:function(m){return m=oe(m),Math.abs(m.x)<=Math.abs(this.x)&&Math.abs(m.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function oe(m,b,F){return m instanceof le?m:M(m)?new le(m[0],m[1]):m==null?m:typeof m=="object"&&"x"in m&&"y"in m?new le(m.x,m.y):new le(m,b,F)}function ee(m,b){if(m)for(var F=b?[m,b]:m,V=0,ne=F.length;V<ne;V++)this.extend(F[V])}ee.prototype={extend:function(m){var b,F;if(!m)return this;if(m instanceof le||typeof m[0]=="number"||"x"in m)b=F=oe(m);else if(m=B(m),b=m.min,F=m.max,!b||!F)return this;return!this.min&&!this.max?(this.min=b.clone(),this.max=F.clone()):(this.min.x=Math.min(b.x,this.min.x),this.max.x=Math.max(F.x,this.max.x),this.min.y=Math.min(b.y,this.min.y),this.max.y=Math.max(F.y,this.max.y)),this},getCenter:function(m){return oe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,m)},getBottomLeft:function(){return oe(this.min.x,this.max.y)},getTopRight:function(){return oe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(m){var b,F;return typeof m[0]=="number"||m instanceof le?m=oe(m):m=B(m),m instanceof ee?(b=m.min,F=m.max):b=F=m,b.x>=this.min.x&&F.x<=this.max.x&&b.y>=this.min.y&&F.y<=this.max.y},intersects:function(m){m=B(m);var b=this.min,F=this.max,V=m.min,ne=m.max,ye=ne.x>=b.x&&V.x<=F.x,Ve=ne.y>=b.y&&V.y<=F.y;return ye&&Ve},overlaps:function(m){m=B(m);var b=this.min,F=this.max,V=m.min,ne=m.max,ye=ne.x>b.x&&V.x<F.x,Ve=ne.y>b.y&&V.y<F.y;return ye&&Ve},isValid:function(){return!!(this.min&&this.max)},pad:function(m){var b=this.min,F=this.max,V=Math.abs(b.x-F.x)*m,ne=Math.abs(b.y-F.y)*m;return B(oe(b.x-V,b.y-ne),oe(F.x+V,F.y+ne))},equals:function(m){return m?(m=B(m),this.min.equals(m.getTopLeft())&&this.max.equals(m.getBottomRight())):!1}};function B(m,b){return!m||m instanceof ee?m:new ee(m,b)}function q(m,b){if(m)for(var F=b?[m,b]:m,V=0,ne=F.length;V<ne;V++)this.extend(F[V])}q.prototype={extend:function(m){var b=this._southWest,F=this._northEast,V,ne;if(m instanceof K)V=m,ne=m;else if(m instanceof q){if(V=m._southWest,ne=m._northEast,!V||!ne)return this}else return m?this.extend(ae(m)||Q(m)):this;return!b&&!F?(this._southWest=new K(V.lat,V.lng),this._northEast=new K(ne.lat,ne.lng)):(b.lat=Math.min(V.lat,b.lat),b.lng=Math.min(V.lng,b.lng),F.lat=Math.max(ne.lat,F.lat),F.lng=Math.max(ne.lng,F.lng)),this},pad:function(m){var b=this._southWest,F=this._northEast,V=Math.abs(b.lat-F.lat)*m,ne=Math.abs(b.lng-F.lng)*m;return new q(new K(b.lat-V,b.lng-ne),new K(F.lat+V,F.lng+ne))},getCenter:function(){return new K((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new K(this.getNorth(),this.getWest())},getSouthEast:function(){return new K(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(m){typeof m[0]=="number"||m instanceof K||"lat"in m?m=ae(m):m=Q(m);var b=this._southWest,F=this._northEast,V,ne;return m instanceof q?(V=m.getSouthWest(),ne=m.getNorthEast()):V=ne=m,V.lat>=b.lat&&ne.lat<=F.lat&&V.lng>=b.lng&&ne.lng<=F.lng},intersects:function(m){m=Q(m);var b=this._southWest,F=this._northEast,V=m.getSouthWest(),ne=m.getNorthEast(),ye=ne.lat>=b.lat&&V.lat<=F.lat,Ve=ne.lng>=b.lng&&V.lng<=F.lng;return ye&&Ve},overlaps:function(m){m=Q(m);var b=this._southWest,F=this._northEast,V=m.getSouthWest(),ne=m.getNorthEast(),ye=ne.lat>b.lat&&V.lat<F.lat,Ve=ne.lng>b.lng&&V.lng<F.lng;return ye&&Ve},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(m,b){return m?(m=Q(m),this._southWest.equals(m.getSouthWest(),b)&&this._northEast.equals(m.getNorthEast(),b)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Q(m,b){return m instanceof q?m:new q(m,b)}function K(m,b,F){if(isNaN(m)||isNaN(b))throw new Error("Invalid LatLng object: ("+m+", "+b+")");this.lat=+m,this.lng=+b,F!==void 0&&(this.alt=+F)}K.prototype={equals:function(m,b){if(!m)return!1;m=ae(m);var F=Math.max(Math.abs(this.lat-m.lat),Math.abs(this.lng-m.lng));return F<=(b===void 0?1e-9:b)},toString:function(m){return"LatLng("+x(this.lat,m)+", "+x(this.lng,m)+")"},distanceTo:function(m){return he.distance(this,ae(m))},wrap:function(){return he.wrapLatLng(this)},toBounds:function(m){var b=180*m/40075017,F=b/Math.cos(Math.PI/180*this.lat);return Q([this.lat-b,this.lng-F],[this.lat+b,this.lng+F])},clone:function(){return new K(this.lat,this.lng,this.alt)}};function ae(m,b,F){return m instanceof K?m:M(m)&&typeof m[0]!="object"?m.length===3?new K(m[0],m[1],m[2]):m.length===2?new K(m[0],m[1]):null:m==null?m:typeof m=="object"&&"lat"in m?new K(m.lat,"lng"in m?m.lng:m.lon,m.alt):b===void 0?null:new K(m,b,F)}var ge={latLngToPoint:function(m,b){var F=this.projection.project(m),V=this.scale(b);return this.transformation._transform(F,V)},pointToLatLng:function(m,b){var F=this.scale(b),V=this.transformation.untransform(m,F);return this.projection.unproject(V)},project:function(m){return this.projection.project(m)},unproject:function(m){return this.projection.unproject(m)},scale:function(m){return 256*Math.pow(2,m)},zoom:function(m){return Math.log(m/256)/Math.LN2},getProjectedBounds:function(m){if(this.infinite)return null;var b=this.projection.bounds,F=this.scale(m),V=this.transformation.transform(b.min,F),ne=this.transformation.transform(b.max,F);return new ee(V,ne)},infinite:!1,wrapLatLng:function(m){var b=this.wrapLng?u(m.lng,this.wrapLng,!0):m.lng,F=this.wrapLat?u(m.lat,this.wrapLat,!0):m.lat,V=m.alt;return new K(F,b,V)},wrapLatLngBounds:function(m){var b=m.getCenter(),F=this.wrapLatLng(b),V=b.lat-F.lat,ne=b.lng-F.lng;if(V===0&&ne===0)return m;var ye=m.getSouthWest(),Ve=m.getNorthEast(),lt=new K(ye.lat-V,ye.lng-ne),yt=new K(Ve.lat-V,Ve.lng-ne);return new q(lt,yt)}},he=a({},ge,{wrapLng:[-180,180],R:6371e3,distance:function(m,b){var F=Math.PI/180,V=m.lat*F,ne=b.lat*F,ye=Math.sin((b.lat-m.lat)*F/2),Ve=Math.sin((b.lng-m.lng)*F/2),lt=ye*ye+Math.cos(V)*Math.cos(ne)*Ve*Ve,yt=2*Math.atan2(Math.sqrt(lt),Math.sqrt(1-lt));return this.R*yt}}),ke=6378137,Ae={R:ke,MAX_LATITUDE:85.0511287798,project:function(m){var b=Math.PI/180,F=this.MAX_LATITUDE,V=Math.max(Math.min(F,m.lat),-F),ne=Math.sin(V*b);return new le(this.R*m.lng*b,this.R*Math.log((1+ne)/(1-ne))/2)},unproject:function(m){var b=180/Math.PI;return new K((2*Math.atan(Math.exp(m.y/this.R))-Math.PI/2)*b,m.x*b/this.R)},bounds:(function(){var m=ke*Math.PI;return new ee([-m,-m],[m,m])})()};function We(m,b,F,V){if(M(m)){this._a=m[0],this._b=m[1],this._c=m[2],this._d=m[3];return}this._a=m,this._b=b,this._c=F,this._d=V}We.prototype={transform:function(m,b){return this._transform(m.clone(),b)},_transform:function(m,b){return b=b||1,m.x=b*(this._a*m.x+this._b),m.y=b*(this._c*m.y+this._d),m},untransform:function(m,b){return b=b||1,new le((m.x/b-this._b)/this._a,(m.y/b-this._d)/this._c)}};function fe(m,b,F,V){return new We(m,b,F,V)}var ht=a({},he,{code:"EPSG:3857",projection:Ae,transformation:(function(){var m=.5/(Math.PI*Ae.R);return fe(m,.5,-m,.5)})()}),De=a({},ht,{code:"EPSG:900913"});function Ee(m){return document.createElementNS("http://www.w3.org/2000/svg",m)}function Ue(m,b){var F="",V,ne,ye,Ve,lt,yt;for(V=0,ye=m.length;V<ye;V++){for(lt=m[V],ne=0,Ve=lt.length;ne<Ve;ne++)yt=lt[ne],F+=(ne?"L":"M")+yt.x+" "+yt.y;F+=b?Nt.svg?"z":"x":""}return F||"M0 0"}var rt=document.documentElement.style,ft="ActiveXObject"in window,Re=ft&&!document.addEventListener,pe="msLaunchUri"in navigator&&!("documentMode"in document),Le=Kt("webkit"),He=Kt("android"),ve=Kt("android 2")||Kt("android 3"),Ne=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ze=He&&Kt("Google")&&Ne<537&&!("AudioNode"in window),qe=!!window.opera,pt=!pe&&Kt("chrome"),xt=Kt("gecko")&&!Le&&!qe&&!ft,Ft=!pt&&Kt("safari"),Et=Kt("phantom"),At="OTransition"in rt,ar=navigator.platform.indexOf("Win")===0,er=ft&&"transition"in rt,Qt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ve,Lt="MozPerspective"in rt,rs=!window.L_DISABLE_3D&&(er||Qt||Lt)&&!At&&!Et,gr=typeof orientation<"u"||Kt("mobile"),zr=gr&&Le,Ir=gr&&Qt,Ds=!window.PointerEvent&&window.MSPointerEvent,zs=!!(window.PointerEvent||Ds),us="ontouchstart"in window||!!window.TouchEvent,Fr=!window.L_NO_TOUCH&&(us||zs),gs=gr&&qe,Ni=gr&&xt,ka=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Oi=(function(){var m=!1;try{var b=Object.defineProperty({},"passive",{get:function(){m=!0}});window.addEventListener("testPassiveEventSupport",p,b),window.removeEventListener("testPassiveEventSupport",p,b)}catch{}return m})(),ni=(function(){return!!document.createElement("canvas").getContext})(),Oe=!!(document.createElementNS&&Ee("svg").createSVGRect),et=!!Oe&&(function(){var m=document.createElement("div");return m.innerHTML="<svg/>",(m.firstChild&&m.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),gt=!Oe&&(function(){try{var m=document.createElement("div");m.innerHTML='<v:shape adj="1"/>';var b=m.firstChild;return b.style.behavior="url(#default#VML)",b&&typeof b.adj=="object"}catch{return!1}})(),Dt=navigator.platform.indexOf("Mac")===0,Xt=navigator.platform.indexOf("Linux")===0;function Kt(m){return navigator.userAgent.toLowerCase().indexOf(m)>=0}var Nt={ie:ft,ielt9:Re,edge:pe,webkit:Le,android:He,android23:ve,androidStock:ze,opera:qe,chrome:pt,gecko:xt,safari:Ft,phantom:Et,opera12:At,win:ar,ie3d:er,webkit3d:Qt,gecko3d:Lt,any3d:rs,mobile:gr,mobileWebkit:zr,mobileWebkit3d:Ir,msPointer:Ds,pointer:zs,touch:Fr,touchNative:us,mobileOpera:gs,mobileGecko:Ni,retina:ka,passiveEvents:Oi,canvas:ni,svg:Oe,vml:gt,inlineSvg:et,mac:Dt,linux:Xt},ce=Nt.msPointer?"MSPointerDown":"pointerdown",Ce=Nt.msPointer?"MSPointerMove":"pointermove",be=Nt.msPointer?"MSPointerUp":"pointerup",we=Nt.msPointer?"MSPointerCancel":"pointercancel",je={touchstart:ce,touchmove:Ce,touchend:be,touchcancel:we},Me={touchstart:Ht,touchmove:$t,touchend:$t,touchcancel:$t},Xe={},mt=!1;function nt(m,b,F){return b==="touchstart"&&sr(),Me[b]?(F=Me[b].bind(this,F),m.addEventListener(je[b],F,!1),F):(console.warn("wrong event specified:",b),p)}function tt(m,b,F){if(!je[b]){console.warn("wrong event specified:",b);return}m.removeEventListener(je[b],F,!1)}function st(m){Xe[m.pointerId]=m}function Rt(m){Xe[m.pointerId]&&(Xe[m.pointerId]=m)}function Yt(m){delete Xe[m.pointerId]}function sr(){mt||(document.addEventListener(ce,st,!0),document.addEventListener(Ce,Rt,!0),document.addEventListener(be,Yt,!0),document.addEventListener(we,Yt,!0),mt=!0)}function $t(m,b){if(b.pointerType!==(b.MSPOINTER_TYPE_MOUSE||"mouse")){b.touches=[];for(var F in Xe)b.touches.push(Xe[F]);b.changedTouches=[b],m(b)}}function Ht(m,b){b.MSPOINTER_TYPE_TOUCH&&b.pointerType===b.MSPOINTER_TYPE_TOUCH&&na(b),$t(m,b)}function Pr(m){var b={},F,V;for(V in m)F=m[V],b[V]=F&&F.bind?F.bind(m):F;return m=b,b.type="dblclick",b.detail=2,b.isTrusted=!1,b._simulated=!0,b}var hs=200;function ts(m,b){m.addEventListener("dblclick",b);var F=0,V;function ne(ye){if(ye.detail!==1){V=ye.detail;return}if(!(ye.pointerType==="mouse"||ye.sourceCapabilities&&!ye.sourceCapabilities.firesTouchEvents)){var Ve=ko(ye);if(!(Ve.some(function(yt){return yt instanceof HTMLLabelElement&&yt.attributes.for})&&!Ve.some(function(yt){return yt instanceof HTMLInputElement||yt instanceof HTMLSelectElement}))){var lt=Date.now();lt-F<=hs?(V++,V===2&&b(Pr(ye))):V=1,F=lt}}}return m.addEventListener("click",ne),{dblclick:b,simDblclick:ne}}function Rs(m,b){m.removeEventListener("dblclick",b.dblclick),m.removeEventListener("click",b.simDblclick)}var Gr=Dc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Es=Dc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ua=Es==="webkitTransition"||Es==="OTransition"?Es+"End":"transitionend";function Os(m){return typeof m=="string"?document.getElementById(m):m}function Ts(m,b){var F=m.style[b]||m.currentStyle&&m.currentStyle[b];if((!F||F==="auto")&&document.defaultView){var V=document.defaultView.getComputedStyle(m,null);F=V?V[b]:null}return F==="auto"?null:F}function vr(m,b,F){var V=document.createElement(m);return V.className=b||"",F&&F.appendChild(V),V}function Zs(m){var b=m.parentNode;b&&b.removeChild(m)}function ma(m){for(;m.firstChild;)m.removeChild(m.firstChild)}function rc(m){var b=m.parentNode;b&&b.lastChild!==m&&b.appendChild(m)}function _o(m){var b=m.parentNode;b&&b.firstChild!==m&&b.insertBefore(m,b.firstChild)}function Bi(m,b){if(m.classList!==void 0)return m.classList.contains(b);var F=ja(m);return F.length>0&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(F)}function Or(m,b){if(m.classList!==void 0)for(var F=y(b),V=0,ne=F.length;V<ne;V++)m.classList.add(F[V]);else if(!Bi(m,b)){var ye=ja(m);sc(m,(ye?ye+" ":"")+b)}}function ws(m,b){m.classList!==void 0?m.classList.remove(b):sc(m,f((" "+ja(m)+" ").replace(" "+b+" "," ")))}function sc(m,b){m.className.baseVal===void 0?m.className=b:m.className.baseVal=b}function ja(m){return m.correspondingElement&&(m=m.correspondingElement),m.className.baseVal===void 0?m.className:m.className.baseVal}function kn(m,b){"opacity"in m.style?m.style.opacity=b:"filter"in m.style&&$u(m,b)}function $u(m,b){var F=!1,V="DXImageTransform.Microsoft.Alpha";try{F=m.filters.item(V)}catch{if(b===1)return}b=Math.round(b*100),F?(F.Enabled=b!==100,F.Opacity=b):m.style.filter+=" progid:"+V+"(opacity="+b+")"}function Dc(m){for(var b=document.documentElement.style,F=0;F<m.length;F++)if(m[F]in b)return m[F];return!1}function ro(m,b,F){var V=b||new le(0,0);m.style[Gr]=(Nt.ie3d?"translate("+V.x+"px,"+V.y+"px)":"translate3d("+V.x+"px,"+V.y+"px,0)")+(F?" scale("+F+")":"")}function Us(m,b){m._leaflet_pos=b,Nt.any3d?ro(m,b):(m.style.left=b.x+"px",m.style.top=b.y+"px")}function wo(m){return m._leaflet_pos||new le(0,0)}var vs,so,Ic;if("onselectstart"in document)vs=function(){Ur(window,"selectstart",na)},so=function(){Xs(window,"selectstart",na)};else{var ac=Dc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);vs=function(){if(ac){var m=document.documentElement.style;Ic=m[ac],m[ac]="none"}},so=function(){ac&&(document.documentElement.style[ac]=Ic,Ic=void 0)}}function n0(){Ur(window,"dragstart",na)}function i0(){Xs(window,"dragstart",na)}var nc,al;function ao(m){for(;m.tabIndex===-1;)m=m.parentNode;m.style&&(no(),nc=m,al=m.style.outlineStyle,m.style.outlineStyle="none",Ur(window,"keydown",no))}function no(){nc&&(nc.style.outlineStyle=al,nc=void 0,al=void 0,Xs(window,"keydown",no))}function ki(m){do m=m.parentNode;while((!m.offsetWidth||!m.offsetHeight)&&m!==document.body);return m}function zi(m){var b=m.getBoundingClientRect();return{x:b.width/m.offsetWidth||1,y:b.height/m.offsetHeight||1,boundingClientRect:b}}var Br={__proto__:null,TRANSFORM:Gr,TRANSITION:Es,TRANSITION_END:Ua,get:Os,getStyle:Ts,create:vr,remove:Zs,empty:ma,toFront:rc,toBack:_o,hasClass:Bi,addClass:Or,removeClass:ws,setClass:sc,getClass:ja,setOpacity:kn,testProp:Dc,setTransform:ro,setPosition:Us,getPosition:wo,get disableTextSelection(){return vs},get enableTextSelection(){return so},disableImageDrag:n0,enableImageDrag:i0,preventOutline:ao,restoreOutline:no,getSizedParentNode:ki,getScale:zi};function Ur(m,b,F,V){if(b&&typeof b=="object")for(var ne in b)nl(m,ne,b[ne],F);else{b=y(b);for(var ye=0,Ve=b.length;ye<Ve;ye++)nl(m,b[ye],F,V)}return this}var cn="_leaflet_events";function Xs(m,b,F,V){if(arguments.length===1)Q0(m),delete m[cn];else if(b&&typeof b=="object")for(var ne in b)o0(m,ne,b[ne],F);else if(b=y(b),arguments.length===2)Q0(m,function(lt){return T(b,lt)!==-1});else for(var ye=0,Ve=b.length;ye<Ve;ye++)o0(m,b[ye],F,V);return this}function Q0(m,b){for(var F in m[cn]){var V=F.split(/\d/)[0];(!b||b(V))&&o0(m,V,null,null,F)}}var ji={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function nl(m,b,F,V){var ne=b+c(F)+(V?"_"+c(V):"");if(m[cn]&&m[cn][ne])return this;var ye=function(lt){return F.call(V||m,lt||window.event)},Ve=ye;!Nt.touchNative&&Nt.pointer&&b.indexOf("touch")===0?ye=nt(m,b,ye):Nt.touch&&b==="dblclick"?ye=ts(m,ye):"addEventListener"in m?b==="touchstart"||b==="touchmove"||b==="wheel"||b==="mousewheel"?m.addEventListener(ji[b]||b,ye,Nt.passiveEvents?{passive:!1}:!1):b==="mouseenter"||b==="mouseleave"?(ye=function(lt){lt=lt||window.event,il(m,lt)&&Ve(lt)},m.addEventListener(ji[b],ye,!1)):m.addEventListener(b,Ve,!1):m.attachEvent("on"+b,ye),m[cn]=m[cn]||{},m[cn][ne]=ye}function o0(m,b,F,V,ne){ne=ne||b+c(F)+(V?"_"+c(V):"");var ye=m[cn]&&m[cn][ne];if(!ye)return this;!Nt.touchNative&&Nt.pointer&&b.indexOf("touch")===0?tt(m,b,ye):Nt.touch&&b==="dblclick"?Rs(m,ye):"removeEventListener"in m?m.removeEventListener(ji[b]||b,ye,!1):m.detachEvent("on"+b,ye),m[cn][ne]=null}function No(m){return m.stopPropagation?m.stopPropagation():m.originalEvent?m.originalEvent._stopped=!0:m.cancelBubble=!0,this}function ic(m){return nl(m,"wheel",No),this}function oc(m){return Ur(m,"mousedown touchstart dblclick contextmenu",No),m._leaflet_disable_click=!0,this}function na(m){return m.preventDefault?m.preventDefault():m.returnValue=!1,this}function ii(m){return na(m),No(m),this}function ko(m){if(m.composedPath)return m.composedPath();for(var b=[],F=m.target;F;)b.push(F),F=F.parentNode;return b}function yd(m,b){if(!b)return new le(m.clientX,m.clientY);var F=zi(b),V=F.boundingClientRect;return new le((m.clientX-V.left)/F.x-b.clientLeft,(m.clientY-V.top)/F.y-b.clientTop)}var eu=Nt.linux&&Nt.chrome?window.devicePixelRatio:Nt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function l0(m){return Nt.edge?m.wheelDeltaY/2:m.deltaY&&m.deltaMode===0?-m.deltaY/eu:m.deltaY&&m.deltaMode===1?-m.deltaY*20:m.deltaY&&m.deltaMode===2?-m.deltaY*60:m.deltaX||m.deltaZ?0:m.wheelDelta?(m.wheelDeltaY||m.wheelDelta)/2:m.detail&&Math.abs(m.detail)<32765?-m.detail*20:m.detail?m.detail/-32765*60:0}function il(m,b){var F=b.relatedTarget;if(!F)return!0;try{for(;F&&F!==m;)F=F.parentNode}catch{return!1}return F!==m}var Nl={__proto__:null,on:Ur,off:Xs,stopPropagation:No,disableScrollPropagation:ic,disableClickPropagation:oc,preventDefault:na,stop:ii,getPropagationPath:ko,getMousePosition:yd,getWheelDelta:l0,isExternalTarget:il,addListener:Ur,removeListener:Xs},Rc=ie.extend({run:function(m,b,F,V){this.stop(),this._el=m,this._inProgress=!0,this._duration=F||.25,this._easeOutPower=1/Math.max(V||.5,.2),this._startPos=wo(m),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=P(this._animate,this),this._step()},_step:function(m){var b=+new Date-this._startTime,F=this._duration*1e3;b<F?this._runFrame(this._easeOut(b/F),m):(this._runFrame(1),this._complete())},_runFrame:function(m,b){var F=this._startPos.add(this._offset.multiplyBy(m));b&&F._round(),Us(this._el,F),this.fire("step")},_complete:function(){I(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(m){return 1-Math.pow(1-m,this._easeOutPower)}}),as=ie.extend({options:{crs:ht,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(m,b){b=v(this,b),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(m),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),b.maxBounds&&this.setMaxBounds(b.maxBounds),b.zoom!==void 0&&(this._zoom=this._limitZoom(b.zoom)),b.center&&b.zoom!==void 0&&this.setView(ae(b.center),b.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Es&&Nt.any3d&&!Nt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ur(this._proxy,Ua,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(m,b,F){if(b=b===void 0?this._zoom:this._limitZoom(b),m=this._limitCenter(ae(m),b,this.options.maxBounds),F=F||{},this._stop(),this._loaded&&!F.reset&&F!==!0){F.animate!==void 0&&(F.zoom=a({animate:F.animate},F.zoom),F.pan=a({animate:F.animate,duration:F.duration},F.pan));var V=this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(m,b,F.zoom):this._tryAnimatedPan(m,F.pan);if(V)return clearTimeout(this._sizeTimer),this}return this._resetView(m,b,F.pan&&F.pan.noMoveStart),this},setZoom:function(m,b){return this._loaded?this.setView(this.getCenter(),m,{zoom:b}):(this._zoom=m,this)},zoomIn:function(m,b){return m=m||(Nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+m,b)},zoomOut:function(m,b){return m=m||(Nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-m,b)},setZoomAround:function(m,b,F){var V=this.getZoomScale(b),ne=this.getSize().divideBy(2),ye=m instanceof le?m:this.latLngToContainerPoint(m),Ve=ye.subtract(ne).multiplyBy(1-1/V),lt=this.containerPointToLatLng(ne.add(Ve));return this.setView(lt,b,{zoom:F})},_getBoundsCenterZoom:function(m,b){b=b||{},m=m.getBounds?m.getBounds():Q(m);var F=oe(b.paddingTopLeft||b.padding||[0,0]),V=oe(b.paddingBottomRight||b.padding||[0,0]),ne=this.getBoundsZoom(m,!1,F.add(V));if(ne=typeof b.maxZoom=="number"?Math.min(b.maxZoom,ne):ne,ne===1/0)return{center:m.getCenter(),zoom:ne};var ye=V.subtract(F).divideBy(2),Ve=this.project(m.getSouthWest(),ne),lt=this.project(m.getNorthEast(),ne),yt=this.unproject(Ve.add(lt).divideBy(2).add(ye),ne);return{center:yt,zoom:ne}},fitBounds:function(m,b){if(m=Q(m),!m.isValid())throw new Error("Bounds are not valid.");var F=this._getBoundsCenterZoom(m,b);return this.setView(F.center,F.zoom,b)},fitWorld:function(m){return this.fitBounds([[-90,-180],[90,180]],m)},panTo:function(m,b){return this.setView(m,this._zoom,{pan:b})},panBy:function(m,b){if(m=oe(m).round(),b=b||{},!m.x&&!m.y)return this.fire("moveend");if(b.animate!==!0&&!this.getSize().contains(m))return this._resetView(this.unproject(this.project(this.getCenter()).add(m)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Rc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),b.animate!==!1){Or(this._mapPane,"leaflet-pan-anim");var F=this._getMapPanePos().subtract(m).round();this._panAnim.run(this._mapPane,F,b.duration||.25,b.easeLinearity)}else this._rawPanBy(m),this.fire("move").fire("moveend");return this},flyTo:function(m,b,F){if(F=F||{},F.animate===!1||!Nt.any3d)return this.setView(m,b,F);this._stop();var V=this.project(this.getCenter()),ne=this.project(m),ye=this.getSize(),Ve=this._zoom;m=ae(m),b=b===void 0?Ve:b;var lt=Math.max(ye.x,ye.y),yt=lt*this.getZoomScale(Ve,b),Ot=ne.distanceTo(V)||1,lr=1.42,Tr=lr*lr;function ns(ys){var Wn=ys?-1:1,Gp=ys?yt:lt,qp=yt*yt-lt*lt+Wn*Tr*Tr*Ot*Ot,Hc=2*Gp*Tr*Ot,Vc=qp/Hc,Gc=Math.sqrt(Vc*Vc+1)-Vc,nu=Gc<1e-9?-18:Math.log(Gc);return nu}function $n(ys){return(Math.exp(ys)-Math.exp(-ys))/2}function fn(ys){return(Math.exp(ys)+Math.exp(-ys))/2}function fo(ys){return $n(ys)/fn(ys)}var Wi=ns(0);function g0(ys){return lt*(fn(Wi)/fn(Wi+lr*ys))}function tf(ys){return lt*(fn(Wi)*fo(Wi+lr*ys)-$n(Wi))/Tr}function Ei(ys){return 1-Math.pow(1-ys,1.5)}var Lo=Date.now(),Ai=(ns(1)-Wi)/lr,Pl=F.duration?1e3*F.duration:1e3*Ai*.8;function Cd(){var ys=(Date.now()-Lo)/Pl,Wn=Ei(ys)*Ai;ys<=1?(this._flyToFrame=P(Cd,this),this._move(this.unproject(V.add(ne.subtract(V).multiplyBy(tf(Wn)/Ot)),Ve),this.getScaleZoom(lt/g0(Wn),Ve),{flyTo:!0})):this._move(m,b)._moveEnd(!0)}return this._moveStart(!0,F.noMoveStart),Cd.call(this),this},flyToBounds:function(m,b){var F=this._getBoundsCenterZoom(m,b);return this.flyTo(F.center,F.zoom,b)},setMaxBounds:function(m){return m=Q(m),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),m.isValid()?(this.options.maxBounds=m,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(m){var b=this.options.minZoom;return this.options.minZoom=m,this._loaded&&b!==m&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(m):this},setMaxZoom:function(m){var b=this.options.maxZoom;return this.options.maxZoom=m,this._loaded&&b!==m&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(m):this},panInsideBounds:function(m,b){this._enforcingBounds=!0;var F=this.getCenter(),V=this._limitCenter(F,this._zoom,Q(m));return F.equals(V)||this.panTo(V,b),this._enforcingBounds=!1,this},panInside:function(m,b){b=b||{};var F=oe(b.paddingTopLeft||b.padding||[0,0]),V=oe(b.paddingBottomRight||b.padding||[0,0]),ne=this.project(this.getCenter()),ye=this.project(m),Ve=this.getPixelBounds(),lt=B([Ve.min.add(F),Ve.max.subtract(V)]),yt=lt.getSize();if(!lt.contains(ye)){this._enforcingBounds=!0;var Ot=ye.subtract(lt.getCenter()),lr=lt.extend(ye).getSize().subtract(yt);ne.x+=Ot.x<0?-lr.x:lr.x,ne.y+=Ot.y<0?-lr.y:lr.y,this.panTo(this.unproject(ne),b),this._enforcingBounds=!1}return this},invalidateSize:function(m){if(!this._loaded)return this;m=a({animate:!1,pan:!0},m===!0?{animate:!0}:m);var b=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var F=this.getSize(),V=b.divideBy(2).round(),ne=F.divideBy(2).round(),ye=V.subtract(ne);return!ye.x&&!ye.y?this:(m.animate&&m.pan?this.panBy(ye):(m.pan&&this._rawPanBy(ye),this.fire("move"),m.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:F}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(m){if(m=this._locateOptions=a({timeout:1e4,watch:!1},m),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=o(this._handleGeolocationResponse,this),F=o(this._handleGeolocationError,this);return m.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,F,m):navigator.geolocation.getCurrentPosition(b,F,m),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(m){if(this._container._leaflet_id){var b=m.code,F=m.message||(b===1?"permission denied":b===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:b,message:"Geolocation error: "+F+"."})}},_handleGeolocationResponse:function(m){if(this._container._leaflet_id){var b=m.coords.latitude,F=m.coords.longitude,V=new K(b,F),ne=V.toBounds(m.coords.accuracy*2),ye=this._locateOptions;if(ye.setView){var Ve=this.getBoundsZoom(ne);this.setView(V,ye.maxZoom?Math.min(Ve,ye.maxZoom):Ve)}var lt={latlng:V,bounds:ne,timestamp:m.timestamp};for(var yt in m.coords)typeof m.coords[yt]=="number"&&(lt[yt]=m.coords[yt]);this.fire("locationfound",lt)}},addHandler:function(m,b){if(!b)return this;var F=this[m]=new b(this);return this._handlers.push(F),this.options[m]&&F.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Zs(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(I(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var m;for(m in this._layers)this._layers[m].remove();for(m in this._panes)Zs(this._panes[m]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(m,b){var F="leaflet-pane"+(m?" leaflet-"+m.replace("Pane","")+"-pane":""),V=vr("div",F,b||this._mapPane);return m&&(this._panes[m]=V),V},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var m=this.getPixelBounds(),b=this.unproject(m.getBottomLeft()),F=this.unproject(m.getTopRight());return new q(b,F)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(m,b,F){m=Q(m),F=oe(F||[0,0]);var V=this.getZoom()||0,ne=this.getMinZoom(),ye=this.getMaxZoom(),Ve=m.getNorthWest(),lt=m.getSouthEast(),yt=this.getSize().subtract(F),Ot=B(this.project(lt,V),this.project(Ve,V)).getSize(),lr=Nt.any3d?this.options.zoomSnap:1,Tr=yt.x/Ot.x,ns=yt.y/Ot.y,$n=b?Math.max(Tr,ns):Math.min(Tr,ns);return V=this.getScaleZoom($n,V),lr&&(V=Math.round(V/(lr/100))*(lr/100),V=b?Math.ceil(V/lr)*lr:Math.floor(V/lr)*lr),Math.max(ne,Math.min(ye,V))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new le(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(m,b){var F=this._getTopLeftPoint(m,b);return new ee(F,F.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(m){return this.options.crs.getProjectedBounds(m===void 0?this.getZoom():m)},getPane:function(m){return typeof m=="string"?this._panes[m]:m},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(m,b){var F=this.options.crs;return b=b===void 0?this._zoom:b,F.scale(m)/F.scale(b)},getScaleZoom:function(m,b){var F=this.options.crs;b=b===void 0?this._zoom:b;var V=F.zoom(m*F.scale(b));return isNaN(V)?1/0:V},project:function(m,b){return b=b===void 0?this._zoom:b,this.options.crs.latLngToPoint(ae(m),b)},unproject:function(m,b){return b=b===void 0?this._zoom:b,this.options.crs.pointToLatLng(oe(m),b)},layerPointToLatLng:function(m){var b=oe(m).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(m){var b=this.project(ae(m))._round();return b._subtract(this.getPixelOrigin())},wrapLatLng:function(m){return this.options.crs.wrapLatLng(ae(m))},wrapLatLngBounds:function(m){return this.options.crs.wrapLatLngBounds(Q(m))},distance:function(m,b){return this.options.crs.distance(ae(m),ae(b))},containerPointToLayerPoint:function(m){return oe(m).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(m){return oe(m).add(this._getMapPanePos())},containerPointToLatLng:function(m){var b=this.containerPointToLayerPoint(oe(m));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(m){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ae(m)))},mouseEventToContainerPoint:function(m){return yd(m,this._container)},mouseEventToLayerPoint:function(m){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(m))},mouseEventToLatLng:function(m){return this.layerPointToLatLng(this.mouseEventToLayerPoint(m))},_initContainer:function(m){var b=this._container=Os(m);if(b){if(b._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ur(b,"scroll",this._onScroll,this),this._containerId=c(b)},_initLayout:function(){var m=this._container;this._fadeAnimated=this.options.fadeAnimation&&Nt.any3d,Or(m,"leaflet-container"+(Nt.touch?" leaflet-touch":"")+(Nt.retina?" leaflet-retina":"")+(Nt.ielt9?" leaflet-oldie":"")+(Nt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=Ts(m,"position");b!=="absolute"&&b!=="relative"&&b!=="fixed"&&b!=="sticky"&&(m.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var m=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Us(this._mapPane,new le(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Or(m.markerPane,"leaflet-zoom-hide"),Or(m.shadowPane,"leaflet-zoom-hide"))},_resetView:function(m,b,F){Us(this._mapPane,new le(0,0));var V=!this._loaded;this._loaded=!0,b=this._limitZoom(b),this.fire("viewprereset");var ne=this._zoom!==b;this._moveStart(ne,F)._move(m,b)._moveEnd(ne),this.fire("viewreset"),V&&this.fire("load")},_moveStart:function(m,b){return m&&this.fire("zoomstart"),b||this.fire("movestart"),this},_move:function(m,b,F,V){b===void 0&&(b=this._zoom);var ne=this._zoom!==b;return this._zoom=b,this._lastCenter=m,this._pixelOrigin=this._getNewPixelOrigin(m),V?F&&F.pinch&&this.fire("zoom",F):((ne||F&&F.pinch)&&this.fire("zoom",F),this.fire("move",F)),this},_moveEnd:function(m){return m&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return I(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(m){Us(this._mapPane,this._getMapPanePos().subtract(m))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(m){this._targets={},this._targets[c(this._container)]=this;var b=m?Xs:Ur;b(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&b(window,"resize",this._onResize,this),Nt.any3d&&this.options.transform3DLimit&&(m?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){I(this._resizeRequest),this._resizeRequest=P(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var m=this._getMapPanePos();Math.max(Math.abs(m.x),Math.abs(m.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(m,b){for(var F=[],V,ne=b==="mouseout"||b==="mouseover",ye=m.target||m.srcElement,Ve=!1;ye;){if(V=this._targets[c(ye)],V&&(b==="click"||b==="preclick")&&this._draggableMoved(V)){Ve=!0;break}if(V&&V.listens(b,!0)&&(ne&&!il(ye,m)||(F.push(V),ne))||ye===this._container)break;ye=ye.parentNode}return!F.length&&!Ve&&!ne&&this.listens(b,!0)&&(F=[this]),F},_isClickDisabled:function(m){for(;m&&m!==this._container;){if(m._leaflet_disable_click)return!0;m=m.parentNode}},_handleDOMEvent:function(m){var b=m.target||m.srcElement;if(!(!this._loaded||b._leaflet_disable_events||m.type==="click"&&this._isClickDisabled(b))){var F=m.type;F==="mousedown"&&ao(b),this._fireDOMEvent(m,F)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(m,b,F){if(m.type==="click"){var V=a({},m);V.type="preclick",this._fireDOMEvent(V,V.type,F)}var ne=this._findEventTargets(m,b);if(F){for(var ye=[],Ve=0;Ve<F.length;Ve++)F[Ve].listens(b,!0)&&ye.push(F[Ve]);ne=ye.concat(ne)}if(ne.length){b==="contextmenu"&&na(m);var lt=ne[0],yt={originalEvent:m};if(m.type!=="keypress"&&m.type!=="keydown"&&m.type!=="keyup"){var Ot=lt.getLatLng&&(!lt._radius||lt._radius<=10);yt.containerPoint=Ot?this.latLngToContainerPoint(lt.getLatLng()):this.mouseEventToContainerPoint(m),yt.layerPoint=this.containerPointToLayerPoint(yt.containerPoint),yt.latlng=Ot?lt.getLatLng():this.layerPointToLatLng(yt.layerPoint)}for(Ve=0;Ve<ne.length;Ve++)if(ne[Ve].fire(b,yt,!0),yt.originalEvent._stopped||ne[Ve].options.bubblingMouseEvents===!1&&T(this._mouseEvents,b)!==-1)return}},_draggableMoved:function(m){return m=m.dragging&&m.dragging.enabled()?m:this,m.dragging&&m.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var m=0,b=this._handlers.length;m<b;m++)this._handlers[m].disable()},whenReady:function(m,b){return this._loaded?m.call(b||this,{target:this}):this.on("load",m,b),this},_getMapPanePos:function(){return wo(this._mapPane)||new le(0,0)},_moved:function(){var m=this._getMapPanePos();return m&&!m.equals([0,0])},_getTopLeftPoint:function(m,b){var F=m&&b!==void 0?this._getNewPixelOrigin(m,b):this.getPixelOrigin();return F.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(m,b){var F=this.getSize()._divideBy(2);return this.project(m,b)._subtract(F)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(m,b,F){var V=this._getNewPixelOrigin(F,b);return this.project(m,b)._subtract(V)},_latLngBoundsToNewLayerBounds:function(m,b,F){var V=this._getNewPixelOrigin(F,b);return B([this.project(m.getSouthWest(),b)._subtract(V),this.project(m.getNorthWest(),b)._subtract(V),this.project(m.getSouthEast(),b)._subtract(V),this.project(m.getNorthEast(),b)._subtract(V)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(m){return this.latLngToLayerPoint(m).subtract(this._getCenterLayerPoint())},_limitCenter:function(m,b,F){if(!F)return m;var V=this.project(m,b),ne=this.getSize().divideBy(2),ye=new ee(V.subtract(ne),V.add(ne)),Ve=this._getBoundsOffset(ye,F,b);return Math.abs(Ve.x)<=1&&Math.abs(Ve.y)<=1?m:this.unproject(V.add(Ve),b)},_limitOffset:function(m,b){if(!b)return m;var F=this.getPixelBounds(),V=new ee(F.min.add(m),F.max.add(m));return m.add(this._getBoundsOffset(V,b))},_getBoundsOffset:function(m,b,F){var V=B(this.project(b.getNorthEast(),F),this.project(b.getSouthWest(),F)),ne=V.min.subtract(m.min),ye=V.max.subtract(m.max),Ve=this._rebound(ne.x,-ye.x),lt=this._rebound(ne.y,-ye.y);return new le(Ve,lt)},_rebound:function(m,b){return m+b>0?Math.round(m-b)/2:Math.max(0,Math.ceil(m))-Math.max(0,Math.floor(b))},_limitZoom:function(m){var b=this.getMinZoom(),F=this.getMaxZoom(),V=Nt.any3d?this.options.zoomSnap:1;return V&&(m=Math.round(m/V)*V),Math.max(b,Math.min(F,m))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ws(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(m,b){var F=this._getCenterOffset(m)._trunc();return(b&&b.animate)!==!0&&!this.getSize().contains(F)?!1:(this.panBy(F,b),!0)},_createAnimProxy:function(){var m=this._proxy=vr("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(m),this.on("zoomanim",function(b){var F=Gr,V=this._proxy.style[F];ro(this._proxy,this.project(b.center,b.zoom),this.getZoomScale(b.zoom,1)),V===this._proxy.style[F]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Zs(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var m=this.getCenter(),b=this.getZoom();ro(this._proxy,this.project(m,b),this.getZoomScale(b,1))},_catchTransitionEnd:function(m){this._animatingZoom&&m.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(m,b,F){if(this._animatingZoom)return!0;if(F=F||{},!this._zoomAnimated||F.animate===!1||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var V=this.getZoomScale(b),ne=this._getCenterOffset(m)._divideBy(1-1/V);return F.animate!==!0&&!this.getSize().contains(ne)?!1:(P(function(){this._moveStart(!0,F.noMoveStart||!1)._animateZoom(m,b,!0)},this),!0)},_animateZoom:function(m,b,F,V){this._mapPane&&(F&&(this._animatingZoom=!0,this._animateToCenter=m,this._animateToZoom=b,Or(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:m,zoom:b,noUpdate:V}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ws(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function jo(m,b){return new as(m,b)}var dn=Z.extend({options:{position:"topright"},initialize:function(m){v(this,m)},getPosition:function(){return this.options.position},setPosition:function(m){var b=this._map;return b&&b.removeControl(this),this.options.position=m,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(m){this.remove(),this._map=m;var b=this._container=this.onAdd(m),F=this.getPosition(),V=m._controlCorners[F];return Or(b,"leaflet-control"),F.indexOf("bottom")!==-1?V.insertBefore(b,V.firstChild):V.appendChild(b),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Zs(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(m){this._map&&m&&m.screenX>0&&m.screenY>0&&this._map.getContainer().focus()}}),ol=function(m){return new dn(m)};as.include({addControl:function(m){return m.addTo(this),this},removeControl:function(m){return m.remove(),this},_initControlPos:function(){var m=this._controlCorners={},b="leaflet-",F=this._controlContainer=vr("div",b+"control-container",this._container);function V(ne,ye){var Ve=b+ne+" "+b+ye;m[ne+ye]=vr("div",Ve,F)}V("top","left"),V("top","right"),V("bottom","left"),V("bottom","right")},_clearControlPos:function(){for(var m in this._controlCorners)Zs(this._controlCorners[m]);Zs(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var c0=dn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(m,b,F,V){return F<V?-1:V<F?1:0}},initialize:function(m,b,F){v(this,F),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var V in m)this._addLayer(m[V],V);for(V in b)this._addLayer(b[V],V,!0)},onAdd:function(m){this._initLayout(),this._update(),this._map=m,m.on("zoomend",this._checkDisabledLayers,this);for(var b=0;b<this._layers.length;b++)this._layers[b].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(m){return dn.prototype.addTo.call(this,m),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(m,b){return this._addLayer(m,b),this._map?this._update():this},addOverlay:function(m,b){return this._addLayer(m,b,!0),this._map?this._update():this},removeLayer:function(m){m.off("add remove",this._onLayerChange,this);var b=this._getLayer(c(m));return b&&this._layers.splice(this._layers.indexOf(b),1),this._map?this._update():this},expand:function(){Or(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var m=this._map.getSize().y-(this._container.offsetTop+50);return m<this._section.clientHeight?(Or(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=m+"px"):ws(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ws(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var m="leaflet-control-layers",b=this._container=vr("div",m),F=this.options.collapsed;b.setAttribute("aria-haspopup",!0),oc(b),ic(b);var V=this._section=vr("section",m+"-list");F&&(this._map.on("click",this.collapse,this),Ur(b,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var ne=this._layersLink=vr("a",m+"-toggle",b);ne.href="#",ne.title="Layers",ne.setAttribute("role","button"),Ur(ne,{keydown:function(ye){ye.keyCode===13&&this._expandSafely()},click:function(ye){na(ye),this._expandSafely()}},this),F||this.expand(),this._baseLayersList=vr("div",m+"-base",V),this._separator=vr("div",m+"-separator",V),this._overlaysList=vr("div",m+"-overlays",V),b.appendChild(V)},_getLayer:function(m){for(var b=0;b<this._layers.length;b++)if(this._layers[b]&&c(this._layers[b].layer)===m)return this._layers[b]},_addLayer:function(m,b,F){this._map&&m.on("add remove",this._onLayerChange,this),this._layers.push({layer:m,name:b,overlay:F}),this.options.sortLayers&&this._layers.sort(o(function(V,ne){return this.options.sortFunction(V.layer,ne.layer,V.name,ne.name)},this)),this.options.autoZIndex&&m.setZIndex&&(this._lastZIndex++,m.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ma(this._baseLayersList),ma(this._overlaysList),this._layerControlInputs=[];var m,b,F,V,ne=0;for(F=0;F<this._layers.length;F++)V=this._layers[F],this._addItem(V),b=b||V.overlay,m=m||!V.overlay,ne+=V.overlay?0:1;return this.options.hideSingleBase&&(m=m&&ne>1,this._baseLayersList.style.display=m?"":"none"),this._separator.style.display=b&&m?"":"none",this},_onLayerChange:function(m){this._handlingClick||this._update();var b=this._getLayer(c(m.target)),F=b.overlay?m.type==="add"?"overlayadd":"overlayremove":m.type==="add"?"baselayerchange":null;F&&this._map.fire(F,b)},_createRadioElement:function(m,b){var F='<input type="radio" class="leaflet-control-layers-selector" name="'+m+'"'+(b?' checked="checked"':"")+"/>",V=document.createElement("div");return V.innerHTML=F,V.firstChild},_addItem:function(m){var b=document.createElement("label"),F=this._map.hasLayer(m.layer),V;m.overlay?(V=document.createElement("input"),V.type="checkbox",V.className="leaflet-control-layers-selector",V.defaultChecked=F):V=this._createRadioElement("leaflet-base-layers_"+c(this),F),this._layerControlInputs.push(V),V.layerId=c(m.layer),Ur(V,"click",this._onInputClick,this);var ne=document.createElement("span");ne.innerHTML=" "+m.name;var ye=document.createElement("span");b.appendChild(ye),ye.appendChild(V),ye.appendChild(ne);var Ve=m.overlay?this._overlaysList:this._baseLayersList;return Ve.appendChild(b),this._checkDisabledLayers(),b},_onInputClick:function(){if(!this._preventClick){var m=this._layerControlInputs,b,F,V=[],ne=[];this._handlingClick=!0;for(var ye=m.length-1;ye>=0;ye--)b=m[ye],F=this._getLayer(b.layerId).layer,b.checked?V.push(F):b.checked||ne.push(F);for(ye=0;ye<ne.length;ye++)this._map.hasLayer(ne[ye])&&this._map.removeLayer(ne[ye]);for(ye=0;ye<V.length;ye++)this._map.hasLayer(V[ye])||this._map.addLayer(V[ye]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var m=this._layerControlInputs,b,F,V=this._map.getZoom(),ne=m.length-1;ne>=0;ne--)b=m[ne],F=this._getLayer(b.layerId).layer,b.disabled=F.options.minZoom!==void 0&&V<F.options.minZoom||F.options.maxZoom!==void 0&&V>F.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var m=this._section;this._preventClick=!0,Ur(m,"click",na),this.expand();var b=this;setTimeout(function(){Xs(m,"click",na),b._preventClick=!1})}}),Co=function(m,b,F){return new c0(m,b,F)},Ui=dn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(m){var b="leaflet-control-zoom",F=vr("div",b+" leaflet-bar"),V=this.options;return this._zoomInButton=this._createButton(V.zoomInText,V.zoomInTitle,b+"-in",F,this._zoomIn),this._zoomOutButton=this._createButton(V.zoomOutText,V.zoomOutTitle,b+"-out",F,this._zoomOut),this._updateDisabled(),m.on("zoomend zoomlevelschange",this._updateDisabled,this),F},onRemove:function(m){m.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(m){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(m.shiftKey?3:1))},_zoomOut:function(m){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(m.shiftKey?3:1))},_createButton:function(m,b,F,V,ne){var ye=vr("a",F,V);return ye.innerHTML=m,ye.href="#",ye.title=b,ye.setAttribute("role","button"),ye.setAttribute("aria-label",b),oc(ye),Ur(ye,"click",ii),Ur(ye,"click",ne,this),Ur(ye,"click",this._refocusOnMap,this),ye},_updateDisabled:function(){var m=this._map,b="leaflet-disabled";ws(this._zoomInButton,b),ws(this._zoomOutButton,b),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||m._zoom===m.getMinZoom())&&(Or(this._zoomOutButton,b),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||m._zoom===m.getMaxZoom())&&(Or(this._zoomInButton,b),this._zoomInButton.setAttribute("aria-disabled","true"))}});as.mergeOptions({zoomControl:!0}),as.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ui,this.addControl(this.zoomControl))});var tu=function(m){return new Ui(m)},zn=dn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(m){var b="leaflet-control-scale",F=vr("div",b),V=this.options;return this._addScales(V,b+"-line",F),m.on(V.updateWhenIdle?"moveend":"move",this._update,this),m.whenReady(this._update,this),F},onRemove:function(m){m.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(m,b,F){m.metric&&(this._mScale=vr("div",b,F)),m.imperial&&(this._iScale=vr("div",b,F))},_update:function(){var m=this._map,b=m.getSize().y/2,F=m.distance(m.containerPointToLatLng([0,b]),m.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(F)},_updateScales:function(m){this.options.metric&&m&&this._updateMetric(m),this.options.imperial&&m&&this._updateImperial(m)},_updateMetric:function(m){var b=this._getRoundNum(m),F=b<1e3?b+" m":b/1e3+" km";this._updateScale(this._mScale,F,b/m)},_updateImperial:function(m){var b=m*3.2808399,F,V,ne;b>5280?(F=b/5280,V=this._getRoundNum(F),this._updateScale(this._iScale,V+" mi",V/F)):(ne=this._getRoundNum(b),this._updateScale(this._iScale,ne+" ft",ne/b))},_updateScale:function(m,b,F){m.style.width=Math.round(this.options.maxWidth*F)+"px",m.innerHTML=b},_getRoundNum:function(m){var b=Math.pow(10,(Math.floor(m)+"").length-1),F=m/b;return F=F>=10?10:F>=5?5:F>=3?3:F>=2?2:1,b*F}}),So=function(m){return new zn(m)},d0='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',H=dn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Nt.inlineSvg?d0+" ":"")+"Leaflet</a>"},initialize:function(m){v(this,m),this._attributions={}},onAdd:function(m){m.attributionControl=this,this._container=vr("div","leaflet-control-attribution"),oc(this._container);for(var b in m._layers)m._layers[b].getAttribution&&this.addAttribution(m._layers[b].getAttribution());return this._update(),m.on("layeradd",this._addAttribution,this),this._container},onRemove:function(m){m.off("layeradd",this._addAttribution,this)},_addAttribution:function(m){m.layer.getAttribution&&(this.addAttribution(m.layer.getAttribution()),m.layer.once("remove",function(){this.removeAttribution(m.layer.getAttribution())},this))},setPrefix:function(m){return this.options.prefix=m,this._update(),this},addAttribution:function(m){return m?(this._attributions[m]||(this._attributions[m]=0),this._attributions[m]++,this._update(),this):this},removeAttribution:function(m){return m?(this._attributions[m]&&(this._attributions[m]--,this._update()),this):this},_update:function(){if(this._map){var m=[];for(var b in this._attributions)this._attributions[b]&&m.push(b);var F=[];this.options.prefix&&F.push(this.options.prefix),m.length&&F.push(m.join(", ")),this._container.innerHTML=F.join(' <span aria-hidden="true">|</span> ')}}});as.mergeOptions({attributionControl:!0}),as.addInitHook(function(){this.options.attributionControl&&new H().addTo(this)});var de=function(m){return new H(m)};dn.Layers=c0,dn.Zoom=Ui,dn.Scale=zn,dn.Attribution=H,ol.layers=Co,ol.zoom=tu,ol.scale=So,ol.attribution=de;var Pe=Z.extend({initialize:function(m){this._map=m},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Pe.addTo=function(m,b){return m.addHandler(b,this),this};var Ge={Events:te},at=Nt.touch?"touchstart mousedown":"mousedown",jt=ie.extend({options:{clickTolerance:3},initialize:function(m,b,F,V){v(this,V),this._element=m,this._dragStartTarget=b||m,this._preventOutline=F},enable:function(){this._enabled||(Ur(this._dragStartTarget,at,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(jt._dragging===this&&this.finishDrag(!0),Xs(this._dragStartTarget,at,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(m){if(this._enabled&&(this._moved=!1,!Bi(this._element,"leaflet-zoom-anim"))){if(m.touches&&m.touches.length!==1){jt._dragging===this&&this.finishDrag();return}if(!(jt._dragging||m.shiftKey||m.which!==1&&m.button!==1&&!m.touches)&&(jt._dragging=this,this._preventOutline&&ao(this._element),n0(),vs(),!this._moving)){this.fire("down");var b=m.touches?m.touches[0]:m,F=ki(this._element);this._startPoint=new le(b.clientX,b.clientY),this._startPos=wo(this._element),this._parentScale=zi(F);var V=m.type==="mousedown";Ur(document,V?"mousemove":"touchmove",this._onMove,this),Ur(document,V?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(m){if(this._enabled){if(m.touches&&m.touches.length>1){this._moved=!0;return}var b=m.touches&&m.touches.length===1?m.touches[0]:m,F=new le(b.clientX,b.clientY)._subtract(this._startPoint);!F.x&&!F.y||Math.abs(F.x)+Math.abs(F.y)<this.options.clickTolerance||(F.x/=this._parentScale.x,F.y/=this._parentScale.y,na(m),this._moved||(this.fire("dragstart"),this._moved=!0,Or(document.body,"leaflet-dragging"),this._lastTarget=m.target||m.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Or(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(F),this._moving=!0,this._lastEvent=m,this._updatePosition())}},_updatePosition:function(){var m={originalEvent:this._lastEvent};this.fire("predrag",m),Us(this._element,this._newPos),this.fire("drag",m)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(m){ws(document.body,"leaflet-dragging"),this._lastTarget&&(ws(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Xs(document,"mousemove touchmove",this._onMove,this),Xs(document,"mouseup touchend touchcancel",this._onUp,this),i0(),so();var b=this._moved&&this._moving;this._moving=!1,jt._dragging=!1,b&&this.fire("dragend",{noInertia:m,distance:this._newPos.distanceTo(this._startPos)})}});function Ut(m,b,F){var V,ne=[1,4,2,8],ye,Ve,lt,yt,Ot,lr,Tr,ns;for(ye=0,lr=m.length;ye<lr;ye++)m[ye]._code=en(m[ye],b);for(lt=0;lt<4;lt++){for(Tr=ne[lt],V=[],ye=0,lr=m.length,Ve=lr-1;ye<lr;Ve=ye++)yt=m[ye],Ot=m[Ve],yt._code&Tr?Ot._code&Tr||(ns=Ci(Ot,yt,Tr,b,F),ns._code=en(ns,b),V.push(ns)):(Ot._code&Tr&&(ns=Ci(Ot,yt,Tr,b,F),ns._code=en(ns,b),V.push(ns)),V.push(yt));m=V}return m}function mr(m,b){var F,V,ne,ye,Ve,lt,yt,Ot,lr;if(!m||m.length===0)throw new Error("latlngs not passed");Cn(m)||(console.warn("latlngs are not flat! Only the first ring will be used"),m=m[0]);var Tr=ae([0,0]),ns=Q(m),$n=ns.getNorthWest().distanceTo(ns.getSouthWest())*ns.getNorthEast().distanceTo(ns.getNorthWest());$n<1700&&(Tr=br(m));var fn=m.length,fo=[];for(F=0;F<fn;F++){var Wi=ae(m[F]);fo.push(b.project(ae([Wi.lat-Tr.lat,Wi.lng-Tr.lng])))}for(lt=yt=Ot=0,F=0,V=fn-1;F<fn;V=F++)ne=fo[F],ye=fo[V],Ve=ne.y*ye.x-ye.y*ne.x,yt+=(ne.x+ye.x)*Ve,Ot+=(ne.y+ye.y)*Ve,lt+=Ve*3;lt===0?lr=fo[0]:lr=[yt/lt,Ot/lt];var g0=b.unproject(oe(lr));return ae([g0.lat+Tr.lat,g0.lng+Tr.lng])}function br(m){for(var b=0,F=0,V=0,ne=0;ne<m.length;ne++){var ye=ae(m[ne]);b+=ye.lat,F+=ye.lng,V++}return ae([b/V,F/V])}var qr={__proto__:null,clipPolygon:Ut,polygonCenter:mr,centroid:br};function Hr(m,b){if(!b||!m.length)return m.slice();var F=b*b;return m=un(m,F),m=Qa(m,F),m}function Ms(m,b,F){return Math.sqrt(Eo(m,b,F,!0))}function Aa(m,b,F){return Eo(m,b,F)}function Qa(m,b){var F=m.length,V=typeof Uint8Array<"u"?Uint8Array:Array,ne=new V(F);ne[0]=ne[F-1]=1,Js(m,ne,b,0,F-1);var ye,Ve=[];for(ye=0;ye<F;ye++)ne[ye]&&Ve.push(m[ye]);return Ve}function Js(m,b,F,V,ne){var ye=0,Ve,lt,yt;for(lt=V+1;lt<=ne-1;lt++)yt=Eo(m[lt],m[V],m[ne],!0),yt>ye&&(Ve=lt,ye=yt);ye>F&&(b[Ve]=1,Js(m,b,F,V,Ve),Js(m,b,F,Ve,ne))}function un(m,b){for(var F=[m[0]],V=1,ne=0,ye=m.length;V<ye;V++)Wu(m[V],m[ne])>b&&(F.push(m[V]),ne=V);return ne<ye-1&&F.push(m[ye-1]),F}var Fa;function jn(m,b,F,V,ne){var ye=V?Fa:en(m,F),Ve=en(b,F),lt,yt,Ot;for(Fa=Ve;;){if(!(ye|Ve))return[m,b];if(ye&Ve)return!1;lt=ye||Ve,yt=Ci(m,b,lt,F,ne),Ot=en(yt,F),lt===ye?(m=yt,ye=Ot):(b=yt,Ve=Ot)}}function Ci(m,b,F,V,ne){var ye=b.x-m.x,Ve=b.y-m.y,lt=V.min,yt=V.max,Ot,lr;return F&8?(Ot=m.x+ye*(yt.y-m.y)/Ve,lr=yt.y):F&4?(Ot=m.x+ye*(lt.y-m.y)/Ve,lr=lt.y):F&2?(Ot=yt.x,lr=m.y+Ve*(yt.x-m.x)/ye):F&1&&(Ot=lt.x,lr=m.y+Ve*(lt.x-m.x)/ye),new le(Ot,lr,ne)}function en(m,b){var F=0;return m.x<b.min.x?F|=1:m.x>b.max.x&&(F|=2),m.y<b.min.y?F|=4:m.y>b.max.y&&(F|=8),F}function Wu(m,b){var F=b.x-m.x,V=b.y-m.y;return F*F+V*V}function Eo(m,b,F,V){var ne=b.x,ye=b.y,Ve=F.x-ne,lt=F.y-ye,yt=Ve*Ve+lt*lt,Ot;return yt>0&&(Ot=((m.x-ne)*Ve+(m.y-ye)*lt)/yt,Ot>1?(ne=F.x,ye=F.y):Ot>0&&(ne+=Ve*Ot,ye+=lt*Ot)),Ve=m.x-ne,lt=m.y-ye,V?Ve*Ve+lt*lt:new le(ne,ye)}function Cn(m){return!M(m[0])||typeof m[0][0]!="object"&&typeof m[0][0]<"u"}function lc(m){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Cn(m)}function Oc(m,b){var F,V,ne,ye,Ve,lt,yt,Ot;if(!m||m.length===0)throw new Error("latlngs not passed");Cn(m)||(console.warn("latlngs are not flat! Only the first ring will be used"),m=m[0]);var lr=ae([0,0]),Tr=Q(m),ns=Tr.getNorthWest().distanceTo(Tr.getSouthWest())*Tr.getNorthEast().distanceTo(Tr.getNorthWest());ns<1700&&(lr=br(m));var $n=m.length,fn=[];for(F=0;F<$n;F++){var fo=ae(m[F]);fn.push(b.project(ae([fo.lat-lr.lat,fo.lng-lr.lng])))}for(F=0,V=0;F<$n-1;F++)V+=fn[F].distanceTo(fn[F+1])/2;if(V===0)Ot=fn[0];else for(F=0,ye=0;F<$n-1;F++)if(Ve=fn[F],lt=fn[F+1],ne=Ve.distanceTo(lt),ye+=ne,ye>V){yt=(ye-V)/ne,Ot=[lt.x-yt*(lt.x-Ve.x),lt.y-yt*(lt.y-Ve.y)];break}var Wi=b.unproject(oe(Ot));return ae([Wi.lat+lr.lat,Wi.lng+lr.lng])}var Bc={__proto__:null,simplify:Hr,pointToSegmentDistance:Ms,closestPointOnSegment:Aa,clipSegment:jn,_getEdgeIntersection:Ci,_getBitCode:en,_sqClosestPointOnSegment:Eo,isFlat:Cn,_flat:lc,polylineCenter:Oc},cc={project:function(m){return new le(m.lng,m.lat)},unproject:function(m){return new K(m.y,m.x)},bounds:new ee([-180,-90],[180,90])},Sn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(m){var b=Math.PI/180,F=this.R,V=m.lat*b,ne=this.R_MINOR/F,ye=Math.sqrt(1-ne*ne),Ve=ye*Math.sin(V),lt=Math.tan(Math.PI/4-V/2)/Math.pow((1-Ve)/(1+Ve),ye/2);return V=-F*Math.log(Math.max(lt,1e-10)),new le(m.lng*b*F,V)},unproject:function(m){for(var b=180/Math.PI,F=this.R,V=this.R_MINOR/F,ne=Math.sqrt(1-V*V),ye=Math.exp(-m.y/F),Ve=Math.PI/2-2*Math.atan(ye),lt=0,yt=.1,Ot;lt<15&&Math.abs(yt)>1e-7;lt++)Ot=ne*Math.sin(Ve),Ot=Math.pow((1-Ot)/(1+Ot),ne/2),yt=Math.PI/2-2*Math.atan(ye*Ot)-Ve,Ve+=yt;return new K(Ve*b,m.x*b/F)}},bd={__proto__:null,LonLat:cc,Mercator:Sn,SphericalMercator:Ae},_d=a({},he,{code:"EPSG:3395",projection:Sn,transformation:(function(){var m=.5/(Math.PI*Sn.R);return fe(m,.5,-m,.5)})()}),u0=a({},he,{code:"EPSG:4326",projection:cc,transformation:fe(1/180,1,-1/180,.5)}),ru=a({},ge,{projection:cc,transformation:fe(1,0,-1,0),scale:function(m){return Math.pow(2,m)},zoom:function(m){return Math.log(m)/Math.LN2},distance:function(m,b){var F=b.lng-m.lng,V=b.lat-m.lat;return Math.sqrt(F*F+V*V)},infinite:!0});ge.Earth=he,ge.EPSG3395=_d,ge.EPSG3857=ht,ge.EPSG900913=De,ge.EPSG4326=u0,ge.Simple=ru;var Ls=ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(m){return m.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(m){return m&&m.removeLayer(this),this},getPane:function(m){return this._map.getPane(m?this.options[m]||m:this.options.pane)},addInteractiveTarget:function(m){return this._map._targets[c(m)]=this,this},removeInteractiveTarget:function(m){return delete this._map._targets[c(m)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(m){var b=m.target;if(b.hasLayer(this)){if(this._map=b,this._zoomAnimated=b._zoomAnimated,this.getEvents){var F=this.getEvents();b.on(F,this),this.once("remove",function(){b.off(F,this)},this)}this.onAdd(b),this.fire("add"),b.fire("layeradd",{layer:this})}}});as.include({addLayer:function(m){if(!m._layerAdd)throw new Error("The provided object is not a Layer.");var b=c(m);return this._layers[b]?this:(this._layers[b]=m,m._mapToAdd=this,m.beforeAdd&&m.beforeAdd(this),this.whenReady(m._layerAdd,m),this)},removeLayer:function(m){var b=c(m);return this._layers[b]?(this._loaded&&m.onRemove(this),delete this._layers[b],this._loaded&&(this.fire("layerremove",{layer:m}),m.fire("remove")),m._map=m._mapToAdd=null,this):this},hasLayer:function(m){return c(m)in this._layers},eachLayer:function(m,b){for(var F in this._layers)m.call(b,this._layers[F]);return this},_addLayers:function(m){m=m?M(m)?m:[m]:[];for(var b=0,F=m.length;b<F;b++)this.addLayer(m[b])},_addZoomLimit:function(m){(!isNaN(m.options.maxZoom)||!isNaN(m.options.minZoom))&&(this._zoomBoundLayers[c(m)]=m,this._updateZoomLevels())},_removeZoomLimit:function(m){var b=c(m);this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels())},_updateZoomLevels:function(){var m=1/0,b=-1/0,F=this._getZoomSpan();for(var V in this._zoomBoundLayers){var ne=this._zoomBoundLayers[V].options;m=ne.minZoom===void 0?m:Math.min(m,ne.minZoom),b=ne.maxZoom===void 0?b:Math.max(b,ne.maxZoom)}this._layersMaxZoom=b===-1/0?void 0:b,this._layersMinZoom=m===1/0?void 0:m,F!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var oi=Ls.extend({initialize:function(m,b){v(this,b),this._layers={};var F,V;if(m)for(F=0,V=m.length;F<V;F++)this.addLayer(m[F])},addLayer:function(m){var b=this.getLayerId(m);return this._layers[b]=m,this._map&&this._map.addLayer(m),this},removeLayer:function(m){var b=m in this._layers?m:this.getLayerId(m);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(m){var b=typeof m=="number"?m:this.getLayerId(m);return b in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(m){var b=Array.prototype.slice.call(arguments,1),F,V;for(F in this._layers)V=this._layers[F],V[m]&&V[m].apply(V,b);return this},onAdd:function(m){this.eachLayer(m.addLayer,m)},onRemove:function(m){this.eachLayer(m.removeLayer,m)},eachLayer:function(m,b){for(var F in this._layers)m.call(b,this._layers[F]);return this},getLayer:function(m){return this._layers[m]},getLayers:function(){var m=[];return this.eachLayer(m.push,m),m},setZIndex:function(m){return this.invoke("setZIndex",m)},getLayerId:function(m){return c(m)}}),kl=function(m,b){return new oi(m,b)},Ao=oi.extend({addLayer:function(m){return this.hasLayer(m)?this:(m.addEventParent(this),oi.prototype.addLayer.call(this,m),this.fire("layeradd",{layer:m}))},removeLayer:function(m){return this.hasLayer(m)?(m in this._layers&&(m=this._layers[m]),m.removeEventParent(this),oi.prototype.removeLayer.call(this,m),this.fire("layerremove",{layer:m})):this},setStyle:function(m){return this.invoke("setStyle",m)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var m=new q;for(var b in this._layers){var F=this._layers[b];m.extend(F.getBounds?F.getBounds():F.getLatLng())}return m}}),io=function(m,b){return new Ao(m,b)},oo=Z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(m){v(this,m)},createIcon:function(m){return this._createIcon("icon",m)},createShadow:function(m){return this._createIcon("shadow",m)},_createIcon:function(m,b){var F=this._getIconUrl(m);if(!F){if(m==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var V=this._createImg(F,b&&b.tagName==="IMG"?b:null);return this._setIconStyles(V,m),(this.options.crossOrigin||this.options.crossOrigin==="")&&(V.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),V},_setIconStyles:function(m,b){var F=this.options,V=F[b+"Size"];typeof V=="number"&&(V=[V,V]);var ne=oe(V),ye=oe(b==="shadow"&&F.shadowAnchor||F.iconAnchor||ne&&ne.divideBy(2,!0));m.className="leaflet-marker-"+b+" "+(F.className||""),ye&&(m.style.marginLeft=-ye.x+"px",m.style.marginTop=-ye.y+"px"),ne&&(m.style.width=ne.x+"px",m.style.height=ne.y+"px")},_createImg:function(m,b){return b=b||document.createElement("img"),b.src=m,b},_getIconUrl:function(m){return Nt.retina&&this.options[m+"RetinaUrl"]||this.options[m+"Url"]}});function h0(m){return new oo(m)}var jl=oo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(m){return typeof jl.imagePath!="string"&&(jl.imagePath=this._detectIconPath()),(this.options.imagePath||jl.imagePath)+oo.prototype._getIconUrl.call(this,m)},_stripUrl:function(m){var b=function(F,V,ne){var ye=V.exec(F);return ye&&ye[ne]};return m=b(m,/^url\((['"])?(.+)\1\)$/,2),m&&b(m,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var m=vr("div","leaflet-default-icon-path",document.body),b=Ts(m,"background-image")||Ts(m,"backgroundImage");if(document.body.removeChild(m),b=this._stripUrl(b),b)return b;var F=document.querySelector('link[href$="leaflet.css"]');return F?F.href.substring(0,F.href.length-11-1):""}}),Cl=Pe.extend({initialize:function(m){this._marker=m},addHooks:function(){var m=this._marker._icon;this._draggable||(this._draggable=new jt(m,m,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Or(m,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ws(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(m){var b=this._marker,F=b._map,V=this._marker.options.autoPanSpeed,ne=this._marker.options.autoPanPadding,ye=wo(b._icon),Ve=F.getPixelBounds(),lt=F.getPixelOrigin(),yt=B(Ve.min._subtract(lt).add(ne),Ve.max._subtract(lt).subtract(ne));if(!yt.contains(ye)){var Ot=oe((Math.max(yt.max.x,ye.x)-yt.max.x)/(Ve.max.x-yt.max.x)-(Math.min(yt.min.x,ye.x)-yt.min.x)/(Ve.min.x-yt.min.x),(Math.max(yt.max.y,ye.y)-yt.max.y)/(Ve.max.y-yt.max.y)-(Math.min(yt.min.y,ye.y)-yt.min.y)/(Ve.min.y-yt.min.y)).multiplyBy(V);F.panBy(Ot,{animate:!1}),this._draggable._newPos._add(Ot),this._draggable._startPos._add(Ot),Us(b._icon,this._draggable._newPos),this._onDrag(m),this._panRequest=P(this._adjustPan.bind(this,m))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(m){this._marker.options.autoPan&&(I(this._panRequest),this._panRequest=P(this._adjustPan.bind(this,m)))},_onDrag:function(m){var b=this._marker,F=b._shadow,V=wo(b._icon),ne=b._map.layerPointToLatLng(V);F&&Us(F,V),b._latlng=ne,m.latlng=ne,m.oldLatLng=this._oldLatLng,b.fire("move",m).fire("drag",m)},_onDragEnd:function(m){I(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",m)}}),Si=Ls.extend({options:{icon:new jl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(m,b){v(this,b),this._latlng=ae(m)},onAdd:function(m){this._zoomAnimated=this._zoomAnimated&&m.options.markerZoomAnimation,this._zoomAnimated&&m.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(m){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&m.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(m){var b=this._latlng;return this._latlng=ae(m),this.update(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},setZIndexOffset:function(m){return this.options.zIndexOffset=m,this.update()},getIcon:function(){return this.options.icon},setIcon:function(m){return this.options.icon=m,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var m=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(m)}return this},_initIcon:function(){var m=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),F=m.icon.createIcon(this._icon),V=!1;F!==this._icon&&(this._icon&&this._removeIcon(),V=!0,m.title&&(F.title=m.title),F.tagName==="IMG"&&(F.alt=m.alt||"")),Or(F,b),m.keyboard&&(F.tabIndex="0",F.setAttribute("role","button")),this._icon=F,m.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ur(F,"focus",this._panOnFocus,this);var ne=m.icon.createShadow(this._shadow),ye=!1;ne!==this._shadow&&(this._removeShadow(),ye=!0),ne&&(Or(ne,b),ne.alt=""),this._shadow=ne,m.opacity<1&&this._updateOpacity(),V&&this.getPane().appendChild(this._icon),this._initInteraction(),ne&&ye&&this.getPane(m.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xs(this._icon,"focus",this._panOnFocus,this),Zs(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Zs(this._shadow),this._shadow=null},_setPos:function(m){this._icon&&Us(this._icon,m),this._shadow&&Us(this._shadow,m),this._zIndex=m.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(m){this._icon&&(this._icon.style.zIndex=this._zIndex+m)},_animateZoom:function(m){var b=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.interactive&&(Or(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Cl)){var m=this.options.draggable;this.dragging&&(m=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Cl(this),m&&this.dragging.enable()}},setOpacity:function(m){return this.options.opacity=m,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var m=this.options.opacity;this._icon&&kn(this._icon,m),this._shadow&&kn(this._shadow,m)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var m=this._map;if(m){var b=this.options.icon.options,F=b.iconSize?oe(b.iconSize):oe(0,0),V=b.iconAnchor?oe(b.iconAnchor):oe(0,0);m.panInside(this._latlng,{paddingTopLeft:V,paddingBottomRight:F.subtract(V)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function lo(m,b){return new Si(m,b)}var tn=Ls.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(m){this._renderer=m.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(m){return v(this,m),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&m&&Object.prototype.hasOwnProperty.call(m,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ll=tn.extend({options:{fill:!0,radius:10},initialize:function(m,b){v(this,b),this._latlng=ae(m),this._radius=this.options.radius},setLatLng:function(m){var b=this._latlng;return this._latlng=ae(m),this.redraw(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(m){return this.options.radius=this._radius=m,this.redraw()},getRadius:function(){return this._radius},setStyle:function(m){var b=m&&m.radius||this._radius;return tn.prototype.setStyle.call(this,m),this.setRadius(b),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var m=this._radius,b=this._radiusY||m,F=this._clickTolerance(),V=[m+F,b+F];this._pxBounds=new ee(this._point.subtract(V),this._point.add(V))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(m){return m.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Sl(m,b){return new ll(m,b)}var cl=ll.extend({initialize:function(m,b,F){if(typeof b=="number"&&(b=a({},F,{radius:b})),v(this,b),this._latlng=ae(m),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(m){return this._mRadius=m,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var m=[this._radius,this._radiusY||this._radius];return new q(this._map.layerPointToLatLng(this._point.subtract(m)),this._map.layerPointToLatLng(this._point.add(m)))},setStyle:tn.prototype.setStyle,_project:function(){var m=this._latlng.lng,b=this._latlng.lat,F=this._map,V=F.options.crs;if(V.distance===he.distance){var ne=Math.PI/180,ye=this._mRadius/he.R/ne,Ve=F.project([b+ye,m]),lt=F.project([b-ye,m]),yt=Ve.add(lt).divideBy(2),Ot=F.unproject(yt).lat,lr=Math.acos((Math.cos(ye*ne)-Math.sin(b*ne)*Math.sin(Ot*ne))/(Math.cos(b*ne)*Math.cos(Ot*ne)))/ne;(isNaN(lr)||lr===0)&&(lr=ye/Math.cos(Math.PI/180*b)),this._point=yt.subtract(F.getPixelOrigin()),this._radius=isNaN(lr)?0:yt.x-F.project([Ot,m-lr]).x,this._radiusY=yt.y-Ve.y}else{var Tr=V.unproject(V.project(this._latlng).subtract([this._mRadius,0]));this._point=F.latLngToLayerPoint(this._latlng),this._radius=this._point.x-F.latLngToLayerPoint(Tr).x}this._updateBounds()}});function dc(m,b,F){return new cl(m,b,F)}var En=tn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(m,b){v(this,b),this._setLatLngs(m)},getLatLngs:function(){return this._latlngs},setLatLngs:function(m){return this._setLatLngs(m),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(m){for(var b=1/0,F=null,V=Eo,ne,ye,Ve=0,lt=this._parts.length;Ve<lt;Ve++)for(var yt=this._parts[Ve],Ot=1,lr=yt.length;Ot<lr;Ot++){ne=yt[Ot-1],ye=yt[Ot];var Tr=V(m,ne,ye,!0);Tr<b&&(b=Tr,F=V(m,ne,ye))}return F&&(F.distance=Math.sqrt(b)),F},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Oc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(m,b){return b=b||this._defaultShape(),m=ae(m),b.push(m),this._bounds.extend(m),this.redraw()},_setLatLngs:function(m){this._bounds=new q,this._latlngs=this._convertLatLngs(m)},_defaultShape:function(){return Cn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(m){for(var b=[],F=Cn(m),V=0,ne=m.length;V<ne;V++)F?(b[V]=ae(m[V]),this._bounds.extend(b[V])):b[V]=this._convertLatLngs(m[V]);return b},_project:function(){var m=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,m),this._bounds.isValid()&&m.isValid()&&(this._rawPxBounds=m,this._updateBounds())},_updateBounds:function(){var m=this._clickTolerance(),b=new le(m,m);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(b),this._rawPxBounds.max.add(b)]))},_projectLatlngs:function(m,b,F){var V=m[0]instanceof K,ne=m.length,ye,Ve;if(V){for(Ve=[],ye=0;ye<ne;ye++)Ve[ye]=this._map.latLngToLayerPoint(m[ye]),F.extend(Ve[ye]);b.push(Ve)}else for(ye=0;ye<ne;ye++)this._projectLatlngs(m[ye],b,F)},_clipPoints:function(){var m=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(m))){if(this.options.noClip){this._parts=this._rings;return}var b=this._parts,F,V,ne,ye,Ve,lt,yt;for(F=0,ne=0,ye=this._rings.length;F<ye;F++)for(yt=this._rings[F],V=0,Ve=yt.length;V<Ve-1;V++)lt=jn(yt[V],yt[V+1],m,V,!0),lt&&(b[ne]=b[ne]||[],b[ne].push(lt[0]),(lt[1]!==yt[V+1]||V===Ve-2)&&(b[ne].push(lt[1]),ne++))}},_simplifyPoints:function(){for(var m=this._parts,b=this.options.smoothFactor,F=0,V=m.length;F<V;F++)m[F]=Hr(m[F],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(m,b){var F,V,ne,ye,Ve,lt,yt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(m))return!1;for(F=0,ye=this._parts.length;F<ye;F++)for(lt=this._parts[F],V=0,Ve=lt.length,ne=Ve-1;V<Ve;ne=V++)if(!(!b&&V===0)&&Ms(m,lt[ne],lt[V])<=yt)return!0;return!1}});function $a(m,b){return new En(m,b)}En._flat=lc;var To=En.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(m){var b=En.prototype._convertLatLngs.call(this,m),F=b.length;return F>=2&&b[0]instanceof K&&b[0].equals(b[F-1])&&b.pop(),b},_setLatLngs:function(m){En.prototype._setLatLngs.call(this,m),Cn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Cn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var m=this._renderer._bounds,b=this.options.weight,F=new le(b,b);if(m=new ee(m.min.subtract(F),m.max.add(F)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(m))){if(this.options.noClip){this._parts=this._rings;return}for(var V=0,ne=this._rings.length,ye;V<ne;V++)ye=Ut(this._rings[V],m,!0),ye.length&&this._parts.push(ye)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(m){var b=!1,F,V,ne,ye,Ve,lt,yt,Ot;if(!this._pxBounds||!this._pxBounds.contains(m))return!1;for(ye=0,yt=this._parts.length;ye<yt;ye++)for(F=this._parts[ye],Ve=0,Ot=F.length,lt=Ot-1;Ve<Ot;lt=Ve++)V=F[Ve],ne=F[lt],V.y>m.y!=ne.y>m.y&&m.x<(ne.x-V.x)*(m.y-V.y)/(ne.y-V.y)+V.x&&(b=!b);return b||En.prototype._containsPoint.call(this,m,!0)}});function El(m,b){return new To(m,b)}var hn=Ao.extend({initialize:function(m,b){v(this,b),this._layers={},m&&this.addData(m)},addData:function(m){var b=M(m)?m:m.features,F,V,ne;if(b){for(F=0,V=b.length;F<V;F++)ne=b[F],(ne.geometries||ne.geometry||ne.features||ne.coordinates)&&this.addData(ne);return this}var ye=this.options;if(ye.filter&&!ye.filter(m))return this;var Ve=Al(m,ye);return Ve?(Ve.feature=Tl(m),Ve.defaultOptions=Ve.options,this.resetStyle(Ve),ye.onEachFeature&&ye.onEachFeature(m,Ve),this.addLayer(Ve)):this},resetStyle:function(m){return m===void 0?this.eachLayer(this.resetStyle,this):(m.options=a({},m.defaultOptions),this._setLayerStyle(m,this.options.style),this)},setStyle:function(m){return this.eachLayer(function(b){this._setLayerStyle(b,m)},this)},_setLayerStyle:function(m,b){m.setStyle&&(typeof b=="function"&&(b=b(m.feature)),m.setStyle(b))}});function Al(m,b){var F=m.type==="Feature"?m.geometry:m,V=F?F.coordinates:null,ne=[],ye=b&&b.pointToLayer,Ve=b&&b.coordsToLatLng||Uc,lt,yt,Ot,lr;if(!V&&!F)return null;switch(F.type){case"Point":return lt=Ve(V),zc(ye,m,lt,b);case"MultiPoint":for(Ot=0,lr=V.length;Ot<lr;Ot++)lt=Ve(V[Ot]),ne.push(zc(ye,m,lt,b));return new Ao(ne);case"LineString":case"MultiLineString":return yt=uc(V,F.type==="LineString"?0:1,Ve),new En(yt,b);case"Polygon":case"MultiPolygon":return yt=uc(V,F.type==="Polygon"?1:2,Ve),new To(yt,b);case"GeometryCollection":for(Ot=0,lr=F.geometries.length;Ot<lr;Ot++){var Tr=Al({geometry:F.geometries[Ot],type:"Feature",properties:m.properties},b);Tr&&ne.push(Tr)}return new Ao(ne);case"FeatureCollection":for(Ot=0,lr=F.features.length;Ot<lr;Ot++){var ns=Al(F.features[Ot],b);ns&&ne.push(ns)}return new Ao(ne);default:throw new Error("Invalid GeoJSON object.")}}function zc(m,b,F,V){return m?m(b,F):new Si(F,V&&V.markersInheritOptions&&V)}function Uc(m){return new K(m[1],m[0],m[2])}function uc(m,b,F){for(var V=[],ne=0,ye=m.length,Ve;ne<ye;ne++)Ve=b?uc(m[ne],b-1,F):(F||Uc)(m[ne]),V.push(Ve);return V}function dl(m,b){return m=ae(m),m.alt!==void 0?[x(m.lng,b),x(m.lat,b),x(m.alt,b)]:[x(m.lng,b),x(m.lat,b)]}function ul(m,b,F,V){for(var ne=[],ye=0,Ve=m.length;ye<Ve;ye++)ne.push(b?ul(m[ye],Cn(m[ye])?0:b-1,F,V):dl(m[ye],V));return!b&&F&&ne.length>0&&ne.push(ne[0].slice()),ne}function co(m,b){return m.feature?a({},m.feature,{geometry:b}):Tl(b)}function Tl(m){return m.type==="Feature"||m.type==="FeatureCollection"?m:{type:"Feature",properties:{},geometry:m}}var Ml={toGeoJSON:function(m){return co(this,{type:"Point",coordinates:dl(this.getLatLng(),m)})}};Si.include(Ml),cl.include(Ml),ll.include(Ml),En.include({toGeoJSON:function(m){var b=!Cn(this._latlngs),F=ul(this._latlngs,b?1:0,!1,m);return co(this,{type:(b?"Multi":"")+"LineString",coordinates:F})}}),To.include({toGeoJSON:function(m){var b=!Cn(this._latlngs),F=b&&!Cn(this._latlngs[0]),V=ul(this._latlngs,F?2:b?1:0,!0,m);return b||(V=[V]),co(this,{type:(F?"Multi":"")+"Polygon",coordinates:V})}}),oi.include({toMultiPoint:function(m){var b=[];return this.eachLayer(function(F){b.push(F.toGeoJSON(m).geometry.coordinates)}),co(this,{type:"MultiPoint",coordinates:b})},toGeoJSON:function(m){var b=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(b==="MultiPoint")return this.toMultiPoint(m);var F=b==="GeometryCollection",V=[];return this.eachLayer(function(ne){if(ne.toGeoJSON){var ye=ne.toGeoJSON(m);if(F)V.push(ye.geometry);else{var Ve=Tl(ye);Ve.type==="FeatureCollection"?V.push.apply(V,Ve.features):V.push(Ve)}}}),F?co(this,{geometries:V,type:"GeometryCollection"}):{type:"FeatureCollection",features:V}}});function $c(m,b){return new hn(m,b)}var Da=$c,Un=Ls.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(m,b,F){this._url=m,this._bounds=Q(b),v(this,F)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Or(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Zs(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(m){return this.options.opacity=m,this._image&&this._updateOpacity(),this},setStyle:function(m){return m.opacity&&this.setOpacity(m.opacity),this},bringToFront:function(){return this._map&&rc(this._image),this},bringToBack:function(){return this._map&&_o(this._image),this},setUrl:function(m){return this._url=m,this._image&&(this._image.src=m),this},setBounds:function(m){return this._bounds=Q(m),this._map&&this._reset(),this},getEvents:function(){var m={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},setZIndex:function(m){return this.options.zIndex=m,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var m=this._url.tagName==="IMG",b=this._image=m?this._url:vr("img");if(Or(b,"leaflet-image-layer"),this._zoomAnimated&&Or(b,"leaflet-zoom-animated"),this.options.className&&Or(b,this.options.className),b.onselectstart=p,b.onmousemove=p,b.onload=o(this.fire,this,"load"),b.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),m){this._url=b.src;return}b.src=this._url,b.alt=this.options.alt},_animateZoom:function(m){var b=this._map.getZoomScale(m.zoom),F=this._map._latLngBoundsToNewLayerBounds(this._bounds,m.zoom,m.center).min;ro(this._image,F,b)},_reset:function(){var m=this._image,b=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),F=b.getSize();Us(m,b.min),m.style.width=F.x+"px",m.style.height=F.y+"px"},_updateOpacity:function(){kn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var m=this.options.errorOverlayUrl;m&&this._url!==m&&(this._url=m,this._image.src=m)},getCenter:function(){return this._bounds.getCenter()}}),Is=function(m,b,F){return new Un(m,b,F)},$s=Un.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var m=this._url.tagName==="VIDEO",b=this._image=m?this._url:vr("video");if(Or(b,"leaflet-image-layer"),this._zoomAnimated&&Or(b,"leaflet-zoom-animated"),this.options.className&&Or(b,this.options.className),b.onselectstart=p,b.onmousemove=p,b.onloadeddata=o(this.fire,this,"load"),m){for(var F=b.getElementsByTagName("source"),V=[],ne=0;ne<F.length;ne++)V.push(F[ne].src);this._url=F.length>0?V:[b.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(b.style,"objectFit")&&(b.style.objectFit="fill"),b.autoplay=!!this.options.autoplay,b.loop=!!this.options.loop,b.muted=!!this.options.muted,b.playsInline=!!this.options.playsInline;for(var ye=0;ye<this._url.length;ye++){var Ve=vr("source");Ve.src=this._url[ye],b.appendChild(Ve)}}});function Ia(m,b,F){return new $s(m,b,F)}var Wa=Un.extend({_initImage:function(){var m=this._image=this._url;Or(m,"leaflet-image-layer"),this._zoomAnimated&&Or(m,"leaflet-zoom-animated"),this.options.className&&Or(m,this.options.className),m.onselectstart=p,m.onmousemove=p}});function hl(m,b,F){return new Wa(m,b,F)}var $i=Ls.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(m,b){m&&(m instanceof K||M(m))?(this._latlng=ae(m),v(this,b)):(v(this,m),this._source=b),this.options.content&&(this._content=this.options.content)},openOn:function(m){return m=arguments.length?m:this._source._map,m.hasLayer(this)||m.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(m){return this._map?this.close():(arguments.length?this._source=m:m=this._source,this._prepareOpen(),this.openOn(m._map)),this},onAdd:function(m){this._zoomAnimated=m._zoomAnimated,this._container||this._initLayout(),m._fadeAnimated&&kn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),m._fadeAnimated&&kn(this._container,1),this.bringToFront(),this.options.interactive&&(Or(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(m){m._fadeAnimated?(kn(this._container,0),this._removeTimeout=setTimeout(o(Zs,void 0,this._container),200)):Zs(this._container),this.options.interactive&&(ws(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(m){return this._latlng=ae(m),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(m){return this._content=m,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var m={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&rc(this._container),this},bringToBack:function(){return this._map&&_o(this._container),this},_prepareOpen:function(m){var b=this._source;if(!b._map)return!1;if(b instanceof Ao){b=null;var F=this._source._layers;for(var V in F)if(F[V]._map){b=F[V];break}if(!b)return!1;this._source=b}if(!m)if(b.getCenter)m=b.getCenter();else if(b.getLatLng)m=b.getLatLng();else if(b.getBounds)m=b.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(m),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var m=this._contentNode,b=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof b=="string")m.innerHTML=b;else{for(;m.hasChildNodes();)m.removeChild(m.firstChild);m.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var m=this._map.latLngToLayerPoint(this._latlng),b=oe(this.options.offset),F=this._getAnchor();this._zoomAnimated?Us(this._container,m.add(F)):b=b.add(m).add(F);var V=this._containerBottom=-b.y,ne=this._containerLeft=-Math.round(this._containerWidth/2)+b.x;this._container.style.bottom=V+"px",this._container.style.left=ne+"px"}},_getAnchor:function(){return[0,0]}});as.include({_initOverlay:function(m,b,F,V){var ne=b;return ne instanceof m||(ne=new m(V).setContent(b)),F&&ne.setLatLng(F),ne}}),Ls.include({_initOverlay:function(m,b,F,V){var ne=F;return ne instanceof m?(v(ne,V),ne._source=this):(ne=b&&!V?b:new m(V,this),ne.setContent(F)),ne}});var hc=$i.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(m){return m=arguments.length?m:this._source._map,!m.hasLayer(this)&&m._popup&&m._popup.options.autoClose&&m.removeLayer(m._popup),m._popup=this,$i.prototype.openOn.call(this,m)},onAdd:function(m){$i.prototype.onAdd.call(this,m),m.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof tn||this._source.on("preclick",No))},onRemove:function(m){$i.prototype.onRemove.call(this,m),m.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof tn||this._source.off("preclick",No))},getEvents:function(){var m=$i.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(m.preclick=this.close),this.options.keepInView&&(m.moveend=this._adjustPan),m},_initLayout:function(){var m="leaflet-popup",b=this._container=vr("div",m+" "+(this.options.className||"")+" leaflet-zoom-animated"),F=this._wrapper=vr("div",m+"-content-wrapper",b);if(this._contentNode=vr("div",m+"-content",F),oc(b),ic(this._contentNode),Ur(b,"contextmenu",No),this._tipContainer=vr("div",m+"-tip-container",b),this._tip=vr("div",m+"-tip",this._tipContainer),this.options.closeButton){var V=this._closeButton=vr("a",m+"-close-button",b);V.setAttribute("role","button"),V.setAttribute("aria-label","Close popup"),V.href="#close",V.innerHTML='<span aria-hidden="true">&#215;</span>',Ur(V,"click",function(ne){na(ne),this.close()},this)}},_updateLayout:function(){var m=this._contentNode,b=m.style;b.width="",b.whiteSpace="nowrap";var F=m.offsetWidth;F=Math.min(F,this.options.maxWidth),F=Math.max(F,this.options.minWidth),b.width=F+1+"px",b.whiteSpace="",b.height="";var V=m.offsetHeight,ne=this.options.maxHeight,ye="leaflet-popup-scrolled";ne&&V>ne?(b.height=ne+"px",Or(m,ye)):ws(m,ye),this._containerWidth=this._container.offsetWidth},_animateZoom:function(m){var b=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center),F=this._getAnchor();Us(this._container,b.add(F))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var m=this._map,b=parseInt(Ts(this._container,"marginBottom"),10)||0,F=this._container.offsetHeight+b,V=this._containerWidth,ne=new le(this._containerLeft,-F-this._containerBottom);ne._add(wo(this._container));var ye=m.layerPointToContainerPoint(ne),Ve=oe(this.options.autoPanPadding),lt=oe(this.options.autoPanPaddingTopLeft||Ve),yt=oe(this.options.autoPanPaddingBottomRight||Ve),Ot=m.getSize(),lr=0,Tr=0;ye.x+V+yt.x>Ot.x&&(lr=ye.x+V-Ot.x+yt.x),ye.x-lr-lt.x<0&&(lr=ye.x-lt.x),ye.y+F+yt.y>Ot.y&&(Tr=ye.y+F-Ot.y+yt.y),ye.y-Tr-lt.y<0&&(Tr=ye.y-lt.y),(lr||Tr)&&(this.options.keepInView&&(this._autopanning=!0),m.fire("autopanstart").panBy([lr,Tr]))}},_getAnchor:function(){return oe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),fc=function(m,b){return new hc(m,b)};as.mergeOptions({closePopupOnClick:!0}),as.include({openPopup:function(m,b,F){return this._initOverlay(hc,m,b,F).openOn(this),this},closePopup:function(m){return m=arguments.length?m:this._popup,m&&m.close(),this}}),Ls.include({bindPopup:function(m,b){return this._popup=this._initOverlay(hc,this._popup,m,b),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(m){return this._popup&&(this instanceof Ao||(this._popup._source=this),this._popup._prepareOpen(m||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(m){return this._popup&&this._popup.setContent(m),this},getPopup:function(){return this._popup},_openPopup:function(m){if(!(!this._popup||!this._map)){ii(m);var b=m.layer||m.target;if(this._popup._source===b&&!(b instanceof tn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(m.latlng);return}this._popup._source=b,this.openPopup(m.latlng)}},_movePopup:function(m){this._popup.setLatLng(m.latlng)},_onKeyPress:function(m){m.originalEvent.keyCode===13&&this._openPopup(m)}});var wd=$i.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(m){$i.prototype.onAdd.call(this,m),this.setOpacity(this.options.opacity),m.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(m){$i.prototype.onRemove.call(this,m),m.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var m=$i.prototype.getEvents.call(this);return this.options.permanent||(m.preclick=this.close),m},_initLayout:function(){var m="leaflet-tooltip",b=m+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=vr("div",b),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(m){var b,F,V=this._map,ne=this._container,ye=V.latLngToContainerPoint(V.getCenter()),Ve=V.layerPointToContainerPoint(m),lt=this.options.direction,yt=ne.offsetWidth,Ot=ne.offsetHeight,lr=oe(this.options.offset),Tr=this._getAnchor();lt==="top"?(b=yt/2,F=Ot):lt==="bottom"?(b=yt/2,F=0):lt==="center"?(b=yt/2,F=Ot/2):lt==="right"?(b=0,F=Ot/2):lt==="left"?(b=yt,F=Ot/2):Ve.x<ye.x?(lt="right",b=0,F=Ot/2):(lt="left",b=yt+(lr.x+Tr.x)*2,F=Ot/2),m=m.subtract(oe(b,F,!0)).add(lr).add(Tr),ws(ne,"leaflet-tooltip-right"),ws(ne,"leaflet-tooltip-left"),ws(ne,"leaflet-tooltip-top"),ws(ne,"leaflet-tooltip-bottom"),Or(ne,"leaflet-tooltip-"+lt),Us(ne,m)},_updatePosition:function(){var m=this._map.latLngToLayerPoint(this._latlng);this._setPosition(m)},setOpacity:function(m){this.options.opacity=m,this._container&&kn(this._container,m)},_animateZoom:function(m){var b=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center);this._setPosition(b)},_getAnchor:function(){return oe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),f0=function(m,b){return new wd(m,b)};as.include({openTooltip:function(m,b,F){return this._initOverlay(wd,m,b,F).openOn(this),this},closeTooltip:function(m){return m.close(),this}}),Ls.include({bindTooltip:function(m,b){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(wd,this._tooltip,m,b),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(m){if(!(!m&&this._tooltipHandlersAdded)){var b=m?"off":"on",F={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?F.add=this._openTooltip:(F.mouseover=this._openTooltip,F.mouseout=this.closeTooltip,F.click=this._openTooltip,this._map?this._addFocusListeners():F.add=this._addFocusListeners),this._tooltip.options.sticky&&(F.mousemove=this._moveTooltip),this[b](F),this._tooltipHandlersAdded=!m}},openTooltip:function(m){return this._tooltip&&(this instanceof Ao||(this._tooltip._source=this),this._tooltip._prepareOpen(m)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(m){return this._tooltip&&this._tooltip.setContent(m),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(m){var b=typeof m.getElement=="function"&&m.getElement();b&&(Ur(b,"focus",function(){this._tooltip._source=m,this.openTooltip()},this),Ur(b,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(m){var b=typeof m.getElement=="function"&&m.getElement();b&&b.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(m){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var b=this;this._map.once("moveend",function(){b._openOnceFlag=!1,b._openTooltip(m)});return}this._tooltip._source=m.layer||m.target,this.openTooltip(this._tooltip.options.sticky?m.latlng:void 0)}},_moveTooltip:function(m){var b=m.latlng,F,V;this._tooltip.options.sticky&&m.originalEvent&&(F=this._map.mouseEventToContainerPoint(m.originalEvent),V=this._map.containerPointToLayerPoint(F),b=this._map.layerPointToLatLng(V)),this._tooltip.setLatLng(b)}});var su=oo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(m){var b=m&&m.tagName==="DIV"?m:document.createElement("div"),F=this.options;if(F.html instanceof Element?(ma(b),b.appendChild(F.html)):b.innerHTML=F.html!==!1?F.html:"",F.bgPos){var V=oe(F.bgPos);b.style.backgroundPosition=-V.x+"px "+-V.y+"px"}return this._setIconStyles(b,"icon"),b},createShadow:function(){return null}});function Xh(m){return new su(m)}oo.Default=jl;var mc=Ls.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Nt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(m){v(this,m)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(m){m._addZoomLimit(this)},onRemove:function(m){this._removeAllTiles(),Zs(this._container),m._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(rc(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_o(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(m){return this.options.opacity=m,this._updateOpacity(),this},setZIndex:function(m){return this.options.zIndex=m,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var m=this._clampZoom(this._map.getZoom());m!==this._tileZoom&&(this._tileZoom=m,this._updateLevels()),this._update()}return this},getEvents:function(){var m={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),m.move=this._onMove),this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},createTile:function(){return document.createElement("div")},getTileSize:function(){var m=this.options.tileSize;return m instanceof le?m:new le(m,m)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(m){for(var b=this.getPane().children,F=-m(-1/0,1/0),V=0,ne=b.length,ye;V<ne;V++)ye=b[V].style.zIndex,b[V]!==this._container&&ye&&(F=m(F,+ye));isFinite(F)&&(this.options.zIndex=F+m(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Nt.ielt9){kn(this._container,this.options.opacity);var m=+new Date,b=!1,F=!1;for(var V in this._tiles){var ne=this._tiles[V];if(!(!ne.current||!ne.loaded)){var ye=Math.min(1,(m-ne.loaded)/200);kn(ne.el,ye),ye<1?b=!0:(ne.active?F=!0:this._onOpaqueTile(ne),ne.active=!0)}}F&&!this._noPrune&&this._pruneTiles(),b&&(I(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=vr("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var m=this._tileZoom,b=this.options.maxZoom;if(m!==void 0){for(var F in this._levels)F=Number(F),this._levels[F].el.children.length||F===m?(this._levels[F].el.style.zIndex=b-Math.abs(m-F),this._onUpdateLevel(F)):(Zs(this._levels[F].el),this._removeTilesAtZoom(F),this._onRemoveLevel(F),delete this._levels[F]);var V=this._levels[m],ne=this._map;return V||(V=this._levels[m]={},V.el=vr("div","leaflet-tile-container leaflet-zoom-animated",this._container),V.el.style.zIndex=b,V.origin=ne.project(ne.unproject(ne.getPixelOrigin()),m).round(),V.zoom=m,this._setZoomTransform(V,ne.getCenter(),ne.getZoom()),p(V.el.offsetWidth),this._onCreateLevel(V)),this._level=V,V}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var m,b,F=this._map.getZoom();if(F>this.options.maxZoom||F<this.options.minZoom){this._removeAllTiles();return}for(m in this._tiles)b=this._tiles[m],b.retain=b.current;for(m in this._tiles)if(b=this._tiles[m],b.current&&!b.active){var V=b.coords;this._retainParent(V.x,V.y,V.z,V.z-5)||this._retainChildren(V.x,V.y,V.z,V.z+2)}for(m in this._tiles)this._tiles[m].retain||this._removeTile(m)}},_removeTilesAtZoom:function(m){for(var b in this._tiles)this._tiles[b].coords.z===m&&this._removeTile(b)},_removeAllTiles:function(){for(var m in this._tiles)this._removeTile(m)},_invalidateAll:function(){for(var m in this._levels)Zs(this._levels[m].el),this._onRemoveLevel(Number(m)),delete this._levels[m];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(m,b,F,V){var ne=Math.floor(m/2),ye=Math.floor(b/2),Ve=F-1,lt=new le(+ne,+ye);lt.z=+Ve;var yt=this._tileCoordsToKey(lt),Ot=this._tiles[yt];return Ot&&Ot.active?(Ot.retain=!0,!0):(Ot&&Ot.loaded&&(Ot.retain=!0),Ve>V?this._retainParent(ne,ye,Ve,V):!1)},_retainChildren:function(m,b,F,V){for(var ne=2*m;ne<2*m+2;ne++)for(var ye=2*b;ye<2*b+2;ye++){var Ve=new le(ne,ye);Ve.z=F+1;var lt=this._tileCoordsToKey(Ve),yt=this._tiles[lt];if(yt&&yt.active){yt.retain=!0;continue}else yt&&yt.loaded&&(yt.retain=!0);F+1<V&&this._retainChildren(ne,ye,F+1,V)}},_resetView:function(m){var b=m&&(m.pinch||m.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),b,b)},_animateZoom:function(m){this._setView(m.center,m.zoom,!0,m.noUpdate)},_clampZoom:function(m){var b=this.options;return b.minNativeZoom!==void 0&&m<b.minNativeZoom?b.minNativeZoom:b.maxNativeZoom!==void 0&&b.maxNativeZoom<m?b.maxNativeZoom:m},_setView:function(m,b,F,V){var ne=Math.round(b);this.options.maxZoom!==void 0&&ne>this.options.maxZoom||this.options.minZoom!==void 0&&ne<this.options.minZoom?ne=void 0:ne=this._clampZoom(ne);var ye=this.options.updateWhenZooming&&ne!==this._tileZoom;(!V||ye)&&(this._tileZoom=ne,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),ne!==void 0&&this._update(m),F||this._pruneTiles(),this._noPrune=!!F),this._setZoomTransforms(m,b)},_setZoomTransforms:function(m,b){for(var F in this._levels)this._setZoomTransform(this._levels[F],m,b)},_setZoomTransform:function(m,b,F){var V=this._map.getZoomScale(F,m.zoom),ne=m.origin.multiplyBy(V).subtract(this._map._getNewPixelOrigin(b,F)).round();Nt.any3d?ro(m.el,ne,V):Us(m.el,ne)},_resetGrid:function(){var m=this._map,b=m.options.crs,F=this._tileSize=this.getTileSize(),V=this._tileZoom,ne=this._map.getPixelWorldBounds(this._tileZoom);ne&&(this._globalTileRange=this._pxBoundsToTileRange(ne)),this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(m.project([0,b.wrapLng[0]],V).x/F.x),Math.ceil(m.project([0,b.wrapLng[1]],V).x/F.y)],this._wrapY=b.wrapLat&&!this.options.noWrap&&[Math.floor(m.project([b.wrapLat[0],0],V).y/F.x),Math.ceil(m.project([b.wrapLat[1],0],V).y/F.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(m){var b=this._map,F=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom(),V=b.getZoomScale(F,this._tileZoom),ne=b.project(m,this._tileZoom).floor(),ye=b.getSize().divideBy(V*2);return new ee(ne.subtract(ye),ne.add(ye))},_update:function(m){var b=this._map;if(b){var F=this._clampZoom(b.getZoom());if(m===void 0&&(m=b.getCenter()),this._tileZoom!==void 0){var V=this._getTiledPixelBounds(m),ne=this._pxBoundsToTileRange(V),ye=ne.getCenter(),Ve=[],lt=this.options.keepBuffer,yt=new ee(ne.getBottomLeft().subtract([lt,-lt]),ne.getTopRight().add([lt,-lt]));if(!(isFinite(ne.min.x)&&isFinite(ne.min.y)&&isFinite(ne.max.x)&&isFinite(ne.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ot in this._tiles){var lr=this._tiles[Ot].coords;(lr.z!==this._tileZoom||!yt.contains(new le(lr.x,lr.y)))&&(this._tiles[Ot].current=!1)}if(Math.abs(F-this._tileZoom)>1){this._setView(m,F);return}for(var Tr=ne.min.y;Tr<=ne.max.y;Tr++)for(var ns=ne.min.x;ns<=ne.max.x;ns++){var $n=new le(ns,Tr);if($n.z=this._tileZoom,!!this._isValidTile($n)){var fn=this._tiles[this._tileCoordsToKey($n)];fn?fn.current=!0:Ve.push($n)}}if(Ve.sort(function(Wi,g0){return Wi.distanceTo(ye)-g0.distanceTo(ye)}),Ve.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var fo=document.createDocumentFragment();for(ns=0;ns<Ve.length;ns++)this._addTile(Ve[ns],fo);this._level.el.appendChild(fo)}}}},_isValidTile:function(m){var b=this._map.options.crs;if(!b.infinite){var F=this._globalTileRange;if(!b.wrapLng&&(m.x<F.min.x||m.x>F.max.x)||!b.wrapLat&&(m.y<F.min.y||m.y>F.max.y))return!1}if(!this.options.bounds)return!0;var V=this._tileCoordsToBounds(m);return Q(this.options.bounds).overlaps(V)},_keyToBounds:function(m){return this._tileCoordsToBounds(this._keyToTileCoords(m))},_tileCoordsToNwSe:function(m){var b=this._map,F=this.getTileSize(),V=m.scaleBy(F),ne=V.add(F),ye=b.unproject(V,m.z),Ve=b.unproject(ne,m.z);return[ye,Ve]},_tileCoordsToBounds:function(m){var b=this._tileCoordsToNwSe(m),F=new q(b[0],b[1]);return this.options.noWrap||(F=this._map.wrapLatLngBounds(F)),F},_tileCoordsToKey:function(m){return m.x+":"+m.y+":"+m.z},_keyToTileCoords:function(m){var b=m.split(":"),F=new le(+b[0],+b[1]);return F.z=+b[2],F},_removeTile:function(m){var b=this._tiles[m];b&&(Zs(b.el),delete this._tiles[m],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(m)}))},_initTile:function(m){Or(m,"leaflet-tile");var b=this.getTileSize();m.style.width=b.x+"px",m.style.height=b.y+"px",m.onselectstart=p,m.onmousemove=p,Nt.ielt9&&this.options.opacity<1&&kn(m,this.options.opacity)},_addTile:function(m,b){var F=this._getTilePos(m),V=this._tileCoordsToKey(m),ne=this.createTile(this._wrapCoords(m),o(this._tileReady,this,m));this._initTile(ne),this.createTile.length<2&&P(o(this._tileReady,this,m,null,ne)),Us(ne,F),this._tiles[V]={el:ne,coords:m,current:!0},b.appendChild(ne),this.fire("tileloadstart",{tile:ne,coords:m})},_tileReady:function(m,b,F){b&&this.fire("tileerror",{error:b,tile:F,coords:m});var V=this._tileCoordsToKey(m);F=this._tiles[V],F&&(F.loaded=+new Date,this._map._fadeAnimated?(kn(F.el,0),I(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this)):(F.active=!0,this._pruneTiles()),b||(Or(F.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:F.el,coords:m})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Nt.ielt9||!this._map._fadeAnimated?P(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(m){return m.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(m){var b=new le(this._wrapX?u(m.x,this._wrapX):m.x,this._wrapY?u(m.y,this._wrapY):m.y);return b.z=m.z,b},_pxBoundsToTileRange:function(m){var b=this.getTileSize();return new ee(m.min.unscaleBy(b).floor(),m.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var m in this._tiles)if(!this._tiles[m].loaded)return!1;return!0}});function Nd(m){return new mc(m)}var Mo=mc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(m,b){this._url=m,b=v(this,b),b.detectRetina&&Nt.retina&&b.maxZoom>0?(b.tileSize=Math.floor(b.tileSize/2),b.zoomReverse?(b.zoomOffset--,b.minZoom=Math.min(b.maxZoom,b.minZoom+1)):(b.zoomOffset++,b.maxZoom=Math.max(b.minZoom,b.maxZoom-1)),b.minZoom=Math.max(0,b.minZoom)):b.zoomReverse?b.minZoom=Math.min(b.maxZoom,b.minZoom):b.maxZoom=Math.max(b.minZoom,b.maxZoom),typeof b.subdomains=="string"&&(b.subdomains=b.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(m,b){return this._url===m&&b===void 0&&(b=!0),this._url=m,b||this.redraw(),this},createTile:function(m,b){var F=document.createElement("img");return Ur(F,"load",o(this._tileOnLoad,this,b,F)),Ur(F,"error",o(this._tileOnError,this,b,F)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(F.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(F.referrerPolicy=this.options.referrerPolicy),F.alt="",F.src=this.getTileUrl(m),F},getTileUrl:function(m){var b={r:Nt.retina?"@2x":"",s:this._getSubdomain(m),x:m.x,y:m.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var F=this._globalTileRange.max.y-m.y;this.options.tms&&(b.y=F),b["-y"]=F}return S(this._url,a(b,this.options))},_tileOnLoad:function(m,b){Nt.ielt9?setTimeout(o(m,this,null,b),0):m(null,b)},_tileOnError:function(m,b,F){var V=this.options.errorTileUrl;V&&b.getAttribute("src")!==V&&(b.src=V),m(F,b)},_onTileRemove:function(m){m.tile.onload=null},_getZoomForUrl:function(){var m=this._tileZoom,b=this.options.maxZoom,F=this.options.zoomReverse,V=this.options.zoomOffset;return F&&(m=b-m),m+V},_getSubdomain:function(m){var b=Math.abs(m.x+m.y)%this.options.subdomains.length;return this.options.subdomains[b]},_abortLoading:function(){var m,b;for(m in this._tiles)if(this._tiles[m].coords.z!==this._tileZoom&&(b=this._tiles[m].el,b.onload=p,b.onerror=p,!b.complete)){b.src=O;var F=this._tiles[m].coords;Zs(b),delete this._tiles[m],this.fire("tileabort",{tile:b,coords:F})}},_removeTile:function(m){var b=this._tiles[m];if(b)return b.el.setAttribute("src",O),mc.prototype._removeTile.call(this,m)},_tileReady:function(m,b,F){if(!(!this._map||F&&F.getAttribute("src")===O))return mc.prototype._tileReady.call(this,m,b,F)}});function Hu(m,b){return new Mo(m,b)}var m0=Mo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(m,b){this._url=m;var F=a({},this.defaultWmsParams);for(var V in b)V in this.options||(F[V]=b[V]);b=v(this,b);var ne=b.detectRetina&&Nt.retina?2:1,ye=this.getTileSize();F.width=ye.x*ne,F.height=ye.y*ne,this.wmsParams=F},onAdd:function(m){this._crs=this.options.crs||m.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code,Mo.prototype.onAdd.call(this,m)},getTileUrl:function(m){var b=this._tileCoordsToNwSe(m),F=this._crs,V=B(F.project(b[0]),F.project(b[1])),ne=V.min,ye=V.max,Ve=(this._wmsVersion>=1.3&&this._crs===u0?[ne.y,ne.x,ye.y,ye.x]:[ne.x,ne.y,ye.x,ye.y]).join(","),lt=Mo.prototype.getTileUrl.call(this,m);return lt+_(this.wmsParams,lt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ve},setParams:function(m,b){return a(this.wmsParams,m),b||this.redraw(),this}});function Jh(m,b){return new m0(m,b)}Mo.WMS=m0,Hu.wms=Jh;var fl=Ls.extend({options:{padding:.1},initialize:function(m){v(this,m),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Or(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var m={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(m.zoomanim=this._onAnimZoom),m},_onAnimZoom:function(m){this._updateTransform(m.center,m.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(m,b){var F=this._map.getZoomScale(b,this._zoom),V=this._map.getSize().multiplyBy(.5+this.options.padding),ne=this._map.project(this._center,b),ye=V.multiplyBy(-F).add(ne).subtract(this._map._getNewPixelOrigin(m,b));Nt.any3d?ro(this._container,ye,F):Us(this._container,ye)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var m in this._layers)this._layers[m]._reset()},_onZoomEnd:function(){for(var m in this._layers)this._layers[m]._project()},_updatePaths:function(){for(var m in this._layers)this._layers[m]._update()},_update:function(){var m=this.options.padding,b=this._map.getSize(),F=this._map.containerPointToLayerPoint(b.multiplyBy(-m)).round();this._bounds=new ee(F,F.add(b.multiplyBy(1+m*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Vu=fl.extend({options:{tolerance:0},getEvents:function(){var m=fl.prototype.getEvents.call(this);return m.viewprereset=this._onViewPreReset,m},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){fl.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var m=this._container=document.createElement("canvas");Ur(m,"mousemove",this._onMouseMove,this),Ur(m,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ur(m,"mouseout",this._handleMouseOut,this),m._leaflet_disable_events=!0,this._ctx=m.getContext("2d")},_destroyContainer:function(){I(this._redrawRequest),delete this._ctx,Zs(this._container),Xs(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var m;this._redrawBounds=null;for(var b in this._layers)m=this._layers[b],m._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fl.prototype._update.call(this);var m=this._bounds,b=this._container,F=m.getSize(),V=Nt.retina?2:1;Us(b,m.min),b.width=V*F.x,b.height=V*F.y,b.style.width=F.x+"px",b.style.height=F.y+"px",Nt.retina&&this._ctx.scale(2,2),this._ctx.translate(-m.min.x,-m.min.y),this.fire("update")}},_reset:function(){fl.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(m){this._updateDashArray(m),this._layers[c(m)]=m;var b=m._order={layer:m,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=b),this._drawLast=b,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(m){this._requestRedraw(m)},_removePath:function(m){var b=m._order,F=b.next,V=b.prev;F?F.prev=V:this._drawLast=V,V?V.next=F:this._drawFirst=F,delete m._order,delete this._layers[c(m)],this._requestRedraw(m)},_updatePath:function(m){this._extendRedrawBounds(m),m._project(),m._update(),this._requestRedraw(m)},_updateStyle:function(m){this._updateDashArray(m),this._requestRedraw(m)},_updateDashArray:function(m){if(typeof m.options.dashArray=="string"){var b=m.options.dashArray.split(/[, ]+/),F=[],V,ne;for(ne=0;ne<b.length;ne++){if(V=Number(b[ne]),isNaN(V))return;F.push(V)}m.options._dashArray=F}else m.options._dashArray=m.options.dashArray},_requestRedraw:function(m){this._map&&(this._extendRedrawBounds(m),this._redrawRequest=this._redrawRequest||P(this._redraw,this))},_extendRedrawBounds:function(m){if(m._pxBounds){var b=(m.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(m._pxBounds.min.subtract([b,b])),this._redrawBounds.extend(m._pxBounds.max.add([b,b]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var m=this._redrawBounds;if(m){var b=m.getSize();this._ctx.clearRect(m.min.x,m.min.y,b.x,b.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var m,b=this._redrawBounds;if(this._ctx.save(),b){var F=b.getSize();this._ctx.beginPath(),this._ctx.rect(b.min.x,b.min.y,F.x,F.y),this._ctx.clip()}this._drawing=!0;for(var V=this._drawFirst;V;V=V.next)m=V.layer,(!b||m._pxBounds&&m._pxBounds.intersects(b))&&m._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(m,b){if(this._drawing){var F,V,ne,ye,Ve=m._parts,lt=Ve.length,yt=this._ctx;if(lt){for(yt.beginPath(),F=0;F<lt;F++){for(V=0,ne=Ve[F].length;V<ne;V++)ye=Ve[F][V],yt[V?"lineTo":"moveTo"](ye.x,ye.y);b&&yt.closePath()}this._fillStroke(yt,m)}}},_updateCircle:function(m){if(!(!this._drawing||m._empty())){var b=m._point,F=this._ctx,V=Math.max(Math.round(m._radius),1),ne=(Math.max(Math.round(m._radiusY),1)||V)/V;ne!==1&&(F.save(),F.scale(1,ne)),F.beginPath(),F.arc(b.x,b.y/ne,V,0,Math.PI*2,!1),ne!==1&&F.restore(),this._fillStroke(F,m)}},_fillStroke:function(m,b){var F=b.options;F.fill&&(m.globalAlpha=F.fillOpacity,m.fillStyle=F.fillColor||F.color,m.fill(F.fillRule||"evenodd")),F.stroke&&F.weight!==0&&(m.setLineDash&&m.setLineDash(b.options&&b.options._dashArray||[]),m.globalAlpha=F.opacity,m.lineWidth=F.weight,m.strokeStyle=F.color,m.lineCap=F.lineCap,m.lineJoin=F.lineJoin,m.stroke())},_onClick:function(m){for(var b=this._map.mouseEventToLayerPoint(m),F,V,ne=this._drawFirst;ne;ne=ne.next)F=ne.layer,F.options.interactive&&F._containsPoint(b)&&(!(m.type==="click"||m.type==="preclick")||!this._map._draggableMoved(F))&&(V=F);this._fireEvent(V?[V]:!1,m)},_onMouseMove:function(m){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var b=this._map.mouseEventToLayerPoint(m);this._handleMouseHover(m,b)}},_handleMouseOut:function(m){var b=this._hoveredLayer;b&&(ws(this._container,"leaflet-interactive"),this._fireEvent([b],m,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(m,b){if(!this._mouseHoverThrottled){for(var F,V,ne=this._drawFirst;ne;ne=ne.next)F=ne.layer,F.options.interactive&&F._containsPoint(b)&&(V=F);V!==this._hoveredLayer&&(this._handleMouseOut(m),V&&(Or(this._container,"leaflet-interactive"),this._fireEvent([V],m,"mouseover"),this._hoveredLayer=V)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,m),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(m,b,F){this._map._fireDOMEvent(b,F||b.type,m)},_bringToFront:function(m){var b=m._order;if(b){var F=b.next,V=b.prev;if(F)F.prev=V;else return;V?V.next=F:F&&(this._drawFirst=F),b.prev=this._drawLast,this._drawLast.next=b,b.next=null,this._drawLast=b,this._requestRedraw(m)}},_bringToBack:function(m){var b=m._order;if(b){var F=b.next,V=b.prev;if(V)V.next=F;else return;F?F.prev=V:V&&(this._drawLast=V),b.prev=null,b.next=this._drawFirst,this._drawFirst.prev=b,this._drawFirst=b,this._requestRedraw(m)}}});function Gu(m){return Nt.canvas?new Vu(m):null}var kd=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(m){return document.createElement("<lvml:"+m+' class="lvml">')}}catch{}return function(m){return document.createElement("<"+m+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Qh={_initContainer:function(){this._container=vr("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(fl.prototype._update.call(this),this.fire("update"))},_initPath:function(m){var b=m._container=kd("shape");Or(b,"leaflet-vml-shape "+(this.options.className||"")),b.coordsize="1 1",m._path=kd("path"),b.appendChild(m._path),this._updateStyle(m),this._layers[c(m)]=m},_addPath:function(m){var b=m._container;this._container.appendChild(b),m.options.interactive&&m.addInteractiveTarget(b)},_removePath:function(m){var b=m._container;Zs(b),m.removeInteractiveTarget(b),delete this._layers[c(m)]},_updateStyle:function(m){var b=m._stroke,F=m._fill,V=m.options,ne=m._container;ne.stroked=!!V.stroke,ne.filled=!!V.fill,V.stroke?(b||(b=m._stroke=kd("stroke")),ne.appendChild(b),b.weight=V.weight+"px",b.color=V.color,b.opacity=V.opacity,V.dashArray?b.dashStyle=M(V.dashArray)?V.dashArray.join(" "):V.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=V.lineCap.replace("butt","flat"),b.joinstyle=V.lineJoin):b&&(ne.removeChild(b),m._stroke=null),V.fill?(F||(F=m._fill=kd("fill")),ne.appendChild(F),F.color=V.fillColor||V.color,F.opacity=V.fillOpacity):F&&(ne.removeChild(F),m._fill=null)},_updateCircle:function(m){var b=m._point.round(),F=Math.round(m._radius),V=Math.round(m._radiusY||F);this._setPath(m,m._empty()?"M0 0":"AL "+b.x+","+b.y+" "+F+","+V+" 0,"+65535*360)},_setPath:function(m,b){m._path.v=b},_bringToFront:function(m){rc(m._container)},_bringToBack:function(m){_o(m._container)}},uo=Nt.vml?kd:Ee,Ll=fl.extend({_initContainer:function(){this._container=uo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=uo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Zs(this._container),Xs(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fl.prototype._update.call(this);var m=this._bounds,b=m.getSize(),F=this._container;(!this._svgSize||!this._svgSize.equals(b))&&(this._svgSize=b,F.setAttribute("width",b.x),F.setAttribute("height",b.y)),Us(F,m.min),F.setAttribute("viewBox",[m.min.x,m.min.y,b.x,b.y].join(" ")),this.fire("update")}},_initPath:function(m){var b=m._path=uo("path");m.options.className&&Or(b,m.options.className),m.options.interactive&&Or(b,"leaflet-interactive"),this._updateStyle(m),this._layers[c(m)]=m},_addPath:function(m){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(m._path),m.addInteractiveTarget(m._path)},_removePath:function(m){Zs(m._path),m.removeInteractiveTarget(m._path),delete this._layers[c(m)]},_updatePath:function(m){m._project(),m._update()},_updateStyle:function(m){var b=m._path,F=m.options;b&&(F.stroke?(b.setAttribute("stroke",F.color),b.setAttribute("stroke-opacity",F.opacity),b.setAttribute("stroke-width",F.weight),b.setAttribute("stroke-linecap",F.lineCap),b.setAttribute("stroke-linejoin",F.lineJoin),F.dashArray?b.setAttribute("stroke-dasharray",F.dashArray):b.removeAttribute("stroke-dasharray"),F.dashOffset?b.setAttribute("stroke-dashoffset",F.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),F.fill?(b.setAttribute("fill",F.fillColor||F.color),b.setAttribute("fill-opacity",F.fillOpacity),b.setAttribute("fill-rule",F.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(m,b){this._setPath(m,Ue(m._parts,b))},_updateCircle:function(m){var b=m._point,F=Math.max(Math.round(m._radius),1),V=Math.max(Math.round(m._radiusY),1)||F,ne="a"+F+","+V+" 0 1,0 ",ye=m._empty()?"M0 0":"M"+(b.x-F)+","+b.y+ne+F*2+",0 "+ne+-F*2+",0 ";this._setPath(m,ye)},_setPath:function(m,b){m._path.setAttribute("d",b)},_bringToFront:function(m){rc(m._path)},_bringToBack:function(m){_o(m._path)}});Nt.vml&&Ll.include(Qh);function li(m){return Nt.svg||Nt.vml?new Ll(m):null}as.include({getRenderer:function(m){var b=m.options.renderer||this._getPaneRenderer(m.options.pane)||this.options.renderer||this._renderer;return b||(b=this._renderer=this._createRenderer()),this.hasLayer(b)||this.addLayer(b),b},_getPaneRenderer:function(m){if(m==="overlayPane"||m===void 0)return!1;var b=this._paneRenderers[m];return b===void 0&&(b=this._createRenderer({pane:m}),this._paneRenderers[m]=b),b},_createRenderer:function(m){return this.options.preferCanvas&&Gu(m)||li(m)}});var ho=To.extend({initialize:function(m,b){To.prototype.initialize.call(this,this._boundsToLatLngs(m),b)},setBounds:function(m){return this.setLatLngs(this._boundsToLatLngs(m))},_boundsToLatLngs:function(m){return m=Q(m),[m.getSouthWest(),m.getNorthWest(),m.getNorthEast(),m.getSouthEast()]}});function qu(m,b){return new ho(m,b)}Ll.create=uo,Ll.pointsToPath=Ue,hn.geometryToLayer=Al,hn.coordsToLatLng=Uc,hn.coordsToLatLngs=uc,hn.latLngToCoords=dl,hn.latLngsToCoords=ul,hn.getFeature=co,hn.asFeature=Tl,as.mergeOptions({boxZoom:!0});var pc=Pe.extend({initialize:function(m){this._map=m,this._container=m._container,this._pane=m._panes.overlayPane,this._resetStateTimeout=0,m.on("unload",this._destroy,this)},addHooks:function(){Ur(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Xs(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Zs(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(m){if(!m.shiftKey||m.which!==1&&m.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),vs(),n0(),this._startPoint=this._map.mouseEventToContainerPoint(m),Ur(document,{contextmenu:ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(m){this._moved||(this._moved=!0,this._box=vr("div","leaflet-zoom-box",this._container),Or(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(m);var b=new ee(this._point,this._startPoint),F=b.getSize();Us(this._box,b.min),this._box.style.width=F.x+"px",this._box.style.height=F.y+"px"},_finish:function(){this._moved&&(Zs(this._box),ws(this._container,"leaflet-crosshair")),so(),i0(),Xs(document,{contextmenu:ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(m){if(!(m.which!==1&&m.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var b=new q(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(b).fire("boxzoomend",{boxZoomBounds:b})}},_onKeyDown:function(m){m.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});as.addInitHook("addHandler","boxZoom",pc),as.mergeOptions({doubleClickZoom:!0});var ef=Pe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(m){var b=this._map,F=b.getZoom(),V=b.options.zoomDelta,ne=m.originalEvent.shiftKey?F-V:F+V;b.options.doubleClickZoom==="center"?b.setZoom(ne):b.setZoomAround(m.containerPoint,ne)}});as.addInitHook("addHandler","doubleClickZoom",ef),as.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var p0=Pe.extend({addHooks:function(){if(!this._draggable){var m=this._map;this._draggable=new jt(m._mapPane,m._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),m.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),m.on("zoomend",this._onZoomEnd,this),m.whenReady(this._onZoomEnd,this))}Or(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ws(this._map._container,"leaflet-grab"),ws(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var m=this._map;if(m._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var b=Q(this._map.options.maxBounds);this._offsetLimit=B(this._map.latLngToContainerPoint(b.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(b.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;m.fire("movestart").fire("dragstart"),m.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(m){if(this._map.options.inertia){var b=this._lastTime=+new Date,F=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(F),this._times.push(b),this._prunePositions(b)}this._map.fire("move",m).fire("drag",m)},_prunePositions:function(m){for(;this._positions.length>1&&m-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var m=this._map.getSize().divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(m).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(m,b){return m-(m-b)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var m=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit;m.x<b.min.x&&(m.x=this._viscousLimit(m.x,b.min.x)),m.y<b.min.y&&(m.y=this._viscousLimit(m.y,b.min.y)),m.x>b.max.x&&(m.x=this._viscousLimit(m.x,b.max.x)),m.y>b.max.y&&(m.y=this._viscousLimit(m.y,b.max.y)),this._draggable._newPos=this._draggable._startPos.add(m)}},_onPreDragWrap:function(){var m=this._worldWidth,b=Math.round(m/2),F=this._initialWorldOffset,V=this._draggable._newPos.x,ne=(V-b+F)%m+b-F,ye=(V+b+F)%m-b-F,Ve=Math.abs(ne+F)<Math.abs(ye+F)?ne:ye;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ve},_onDragEnd:function(m){var b=this._map,F=b.options,V=!F.inertia||m.noInertia||this._times.length<2;if(b.fire("dragend",m),V)b.fire("moveend");else{this._prunePositions(+new Date);var ne=this._lastPos.subtract(this._positions[0]),ye=(this._lastTime-this._times[0])/1e3,Ve=F.easeLinearity,lt=ne.multiplyBy(Ve/ye),yt=lt.distanceTo([0,0]),Ot=Math.min(F.inertiaMaxSpeed,yt),lr=lt.multiplyBy(Ot/yt),Tr=Ot/(F.inertiaDeceleration*Ve),ns=lr.multiplyBy(-Tr/2).round();!ns.x&&!ns.y?b.fire("moveend"):(ns=b._limitOffset(ns,b.options.maxBounds),P(function(){b.panBy(ns,{duration:Tr,easeLinearity:Ve,noMoveStart:!0,animate:!0})}))}}});as.addInitHook("addHandler","dragging",p0),as.mergeOptions({keyboard:!0,keyboardPanDelta:80});var x0=Pe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(m){this._map=m,this._setPanDelta(m.options.keyboardPanDelta),this._setZoomDelta(m.options.zoomDelta)},addHooks:function(){var m=this._map._container;m.tabIndex<=0&&(m.tabIndex="0"),Ur(m,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Xs(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var m=document.body,b=document.documentElement,F=m.scrollTop||b.scrollTop,V=m.scrollLeft||b.scrollLeft;this._map._container.focus(),window.scrollTo(V,F)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(m){var b=this._panKeys={},F=this.keyCodes,V,ne;for(V=0,ne=F.left.length;V<ne;V++)b[F.left[V]]=[-1*m,0];for(V=0,ne=F.right.length;V<ne;V++)b[F.right[V]]=[m,0];for(V=0,ne=F.down.length;V<ne;V++)b[F.down[V]]=[0,m];for(V=0,ne=F.up.length;V<ne;V++)b[F.up[V]]=[0,-1*m]},_setZoomDelta:function(m){var b=this._zoomKeys={},F=this.keyCodes,V,ne;for(V=0,ne=F.zoomIn.length;V<ne;V++)b[F.zoomIn[V]]=m;for(V=0,ne=F.zoomOut.length;V<ne;V++)b[F.zoomOut[V]]=-m},_addHooks:function(){Ur(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Xs(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(m){if(!(m.altKey||m.ctrlKey||m.metaKey)){var b=m.keyCode,F=this._map,V;if(b in this._panKeys){if(!F._panAnim||!F._panAnim._inProgress)if(V=this._panKeys[b],m.shiftKey&&(V=oe(V).multiplyBy(3)),F.options.maxBounds&&(V=F._limitOffset(oe(V),F.options.maxBounds)),F.options.worldCopyJump){var ne=F.wrapLatLng(F.unproject(F.project(F.getCenter()).add(V)));F.panTo(ne)}else F.panBy(V)}else if(b in this._zoomKeys)F.setZoom(F.getZoom()+(m.shiftKey?3:1)*this._zoomKeys[b]);else if(b===27&&F._popup&&F._popup.options.closeOnEscapeKey)F.closePopup();else return;ii(m)}}});as.addInitHook("addHandler","keyboard",x0),as.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Qs=Pe.extend({addHooks:function(){Ur(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Xs(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(m){var b=l0(m),F=this._map.options.wheelDebounceTime;this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(m),this._startTime||(this._startTime=+new Date);var V=Math.max(F-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),V),ii(m)},_performZoom:function(){var m=this._map,b=m.getZoom(),F=this._map.options.zoomSnap||0;m._stop();var V=this._delta/(this._map.options.wheelPxPerZoomLevel*4),ne=4*Math.log(2/(1+Math.exp(-Math.abs(V))))/Math.LN2,ye=F?Math.ceil(ne/F)*F:ne,Ve=m._limitZoom(b+(this._delta>0?ye:-ye))-b;this._delta=0,this._startTime=null,Ve&&(m.options.scrollWheelZoom==="center"?m.setZoom(b+Ve):m.setZoomAround(this._lastMousePos,b+Ve))}});as.addInitHook("addHandler","scrollWheelZoom",Qs);var Ku=600;as.mergeOptions({tapHold:Nt.touchNative&&Nt.safari&&Nt.mobile,tapTolerance:15});var jd=Pe.extend({addHooks:function(){Ur(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Xs(this._map._container,"touchstart",this._onDown,this)},_onDown:function(m){if(clearTimeout(this._holdTimeout),m.touches.length===1){var b=m.touches[0];this._startPos=this._newPos=new le(b.clientX,b.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Ur(document,"touchend",na),Ur(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",b))},this),Ku),Ur(document,"touchend touchcancel contextmenu",this._cancel,this),Ur(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function m(){Xs(document,"touchend",na),Xs(document,"touchend touchcancel",m)},_cancel:function(){clearTimeout(this._holdTimeout),Xs(document,"touchend touchcancel contextmenu",this._cancel,this),Xs(document,"touchmove",this._onMove,this)},_onMove:function(m){var b=m.touches[0];this._newPos=new le(b.clientX,b.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(m,b){var F=new MouseEvent(m,{bubbles:!0,cancelable:!0,view:window,screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY});F._simulated=!0,b.target.dispatchEvent(F)}});as.addInitHook("addHandler","tapHold",jd),as.mergeOptions({touchZoom:Nt.touch,bounceAtZoomLimits:!0});var Wc=Pe.extend({addHooks:function(){Or(this._map._container,"leaflet-touch-zoom"),Ur(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ws(this._map._container,"leaflet-touch-zoom"),Xs(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(m){var b=this._map;if(!(!m.touches||m.touches.length!==2||b._animatingZoom||this._zooming)){var F=b.mouseEventToContainerPoint(m.touches[0]),V=b.mouseEventToContainerPoint(m.touches[1]);this._centerPoint=b.getSize()._divideBy(2),this._startLatLng=b.containerPointToLatLng(this._centerPoint),b.options.touchZoom!=="center"&&(this._pinchStartLatLng=b.containerPointToLatLng(F.add(V)._divideBy(2))),this._startDist=F.distanceTo(V),this._startZoom=b.getZoom(),this._moved=!1,this._zooming=!0,b._stop(),Ur(document,"touchmove",this._onTouchMove,this),Ur(document,"touchend touchcancel",this._onTouchEnd,this),na(m)}},_onTouchMove:function(m){if(!(!m.touches||m.touches.length!==2||!this._zooming)){var b=this._map,F=b.mouseEventToContainerPoint(m.touches[0]),V=b.mouseEventToContainerPoint(m.touches[1]),ne=F.distanceTo(V)/this._startDist;if(this._zoom=b.getScaleZoom(ne,this._startZoom),!b.options.bounceAtZoomLimits&&(this._zoom<b.getMinZoom()&&ne<1||this._zoom>b.getMaxZoom()&&ne>1)&&(this._zoom=b._limitZoom(this._zoom)),b.options.touchZoom==="center"){if(this._center=this._startLatLng,ne===1)return}else{var ye=F._add(V)._divideBy(2)._subtract(this._centerPoint);if(ne===1&&ye.x===0&&ye.y===0)return;this._center=b.unproject(b.project(this._pinchStartLatLng,this._zoom).subtract(ye),this._zoom)}this._moved||(b._moveStart(!0,!1),this._moved=!0),I(this._animRequest);var Ve=o(b._move,b,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=P(Ve,this,!0),na(m)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,I(this._animRequest),Xs(document,"touchmove",this._onTouchMove,this),Xs(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});as.addInitHook("addHandler","touchZoom",Wc),as.BoxZoom=pc,as.DoubleClickZoom=ef,as.Drag=p0,as.Keyboard=x0,as.ScrollWheelZoom=Qs,as.TapHold=jd,as.TouchZoom=Wc,r.Bounds=ee,r.Browser=Nt,r.CRS=ge,r.Canvas=Vu,r.Circle=cl,r.CircleMarker=ll,r.Class=Z,r.Control=dn,r.DivIcon=su,r.DivOverlay=$i,r.DomEvent=Nl,r.DomUtil=Br,r.Draggable=jt,r.Evented=ie,r.FeatureGroup=Ao,r.GeoJSON=hn,r.GridLayer=mc,r.Handler=Pe,r.Icon=oo,r.ImageOverlay=Un,r.LatLng=K,r.LatLngBounds=q,r.Layer=Ls,r.LayerGroup=oi,r.LineUtil=Bc,r.Map=as,r.Marker=Si,r.Mixin=Ge,r.Path=tn,r.Point=le,r.PolyUtil=qr,r.Polygon=To,r.Polyline=En,r.Popup=hc,r.PosAnimation=Rc,r.Projection=bd,r.Rectangle=ho,r.Renderer=fl,r.SVG=Ll,r.SVGOverlay=Wa,r.TileLayer=Mo,r.Tooltip=wd,r.Transformation=We,r.Util=W,r.VideoOverlay=$s,r.bind=o,r.bounds=B,r.canvas=Gu,r.circle=dc,r.circleMarker=Sl,r.control=ol,r.divIcon=Xh,r.extend=a,r.featureGroup=io,r.geoJSON=$c,r.geoJson=Da,r.gridLayer=Nd,r.icon=h0,r.imageOverlay=Is,r.latLng=ae,r.latLngBounds=Q,r.layerGroup=kl,r.map=jo,r.marker=lo,r.point=oe,r.polygon=El,r.polyline=$a,r.popup=fc,r.rectangle=qu,r.setOptions=v,r.stamp=c,r.svg=li,r.svgOverlay=hl,r.tileLayer=Hu,r.tooltip=f0,r.transformation=fe,r.version=s,r.videoOverlay=Ia;var au=window.L;r.noConflict=function(){return window.L=au,this},window.L=r}))})(I1,I1.exports)),I1.exports}var Ele=Sle();const F0=Qx(Ele);function Ale(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var t=1;t<=60;++t)e("EPSG:"+(32600+t),"+proj=utm +zone="+t+" +datum=WGS84 +units=m"),e("EPSG:"+(32700+t),"+proj=utm +zone="+t+" +south +datum=WGS84 +units=m");e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var Yf=1,Zf=2,dp=3,Tle=4,w4=5,n8=6378137,Mle=6356752314e-3,i8=.0066943799901413165,cx=484813681109536e-20,qt=Math.PI/2,Lle=.16666666666666666,Ple=.04722222222222222,Fle=.022156084656084655,dr=1e-10,go=.017453292519943295,z0=57.29577951308232,ua=Math.PI/4,Gx=Math.PI*2,Kn=3.14159265359,tc={};tc.greenwich=0;tc.lisbon=-9.131906111111;tc.paris=2.337229166667;tc.bogota=-74.080916666667;tc.madrid=-3.687938888889;tc.rome=12.452333333333;tc.bern=7.439583333333;tc.jakarta=106.807719444444;tc.ferro=-17.666666666667;tc.brussels=4.367975;tc.stockholm=18.058277777778;tc.athens=23.7163375;tc.oslo=10.722916666667;const Dle={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.1},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var o8=/[\s_\-\/\(\)]/g;function zh(e,t){if(e[t])return e[t];for(var r=Object.keys(e),s=t.toLowerCase().replace(o8,""),a=-1,i,o;++a<r.length;)if(i=r[a],o=i.toLowerCase().replace(o8,""),o===s)return e[i]}function N4(e){var t={},r=e.split("+").map(function(l){return l.trim()}).filter(function(l){return l}).reduce(function(l,c){var d=c.split("=");return d.push(!0),l[d[0].toLowerCase()]=d[1],l},{}),s,a,i,o={proj:"projName",datum:"datumCode",rf:function(l){t.rf=parseFloat(l)},lat_0:function(l){t.lat0=l*go},lat_1:function(l){t.lat1=l*go},lat_2:function(l){t.lat2=l*go},lat_ts:function(l){t.lat_ts=l*go},lon_0:function(l){t.long0=l*go},lon_1:function(l){t.long1=l*go},lon_2:function(l){t.long2=l*go},alpha:function(l){t.alpha=parseFloat(l)*go},gamma:function(l){t.rectified_grid_angle=parseFloat(l)*go},lonc:function(l){t.longc=l*go},x_0:function(l){t.x0=parseFloat(l)},y_0:function(l){t.y0=parseFloat(l)},k_0:function(l){t.k0=parseFloat(l)},k:function(l){t.k0=parseFloat(l)},a:function(l){t.a=parseFloat(l)},b:function(l){t.b=parseFloat(l)},r:function(l){t.a=t.b=parseFloat(l)},r_a:function(){t.R_A=!0},zone:function(l){t.zone=parseInt(l,10)},south:function(){t.utmSouth=!0},towgs84:function(l){t.datum_params=l.split(",").map(function(c){return parseFloat(c)})},to_meter:function(l){t.to_meter=parseFloat(l)},units:function(l){t.units=l;var c=zh(Dle,l);c&&(t.to_meter=c.to_meter)},from_greenwich:function(l){t.from_greenwich=l*go},pm:function(l){var c=zh(tc,l);t.from_greenwich=(c||parseFloat(l))*go},nadgrids:function(l){l==="@null"?t.datumCode="none":t.nadgrids=l},axis:function(l){var c="ewnsud";l.length===3&&c.indexOf(l.substr(0,1))!==-1&&c.indexOf(l.substr(1,1))!==-1&&c.indexOf(l.substr(2,1))!==-1&&(t.axis=l)},approx:function(){t.approx=!0}};for(s in r)a=r[s],s in o?(i=o[s],typeof i=="function"?i(a):t[i]=a):t[s]=a;return typeof t.datumCode=="string"&&t.datumCode!=="WGS84"&&(t.datumCode=t.datumCode.toLowerCase()),t}class eL{static getId(t){const r=t.find(s=>Array.isArray(s)&&s[0]==="ID");return r&&r.length>=3?{authority:r[1],code:parseInt(r[2],10)}:null}static convertUnit(t,r="unit"){if(!t||t.length<3)return{type:r,name:"unknown",conversion_factor:null};const s=t[1],a=parseFloat(t[2])||null,i=t.find(l=>Array.isArray(l)&&l[0]==="ID"),o=i?{authority:i[1],code:parseInt(i[2],10)}:null;return{type:r,name:s,conversion_factor:a,id:o}}static convertAxis(t){const r=t[1]||"Unknown";let s;const a=r.match(/^\((.)\)$/);if(a){const d=a[1].toUpperCase();if(d==="E")s="east";else if(d==="N")s="north";else if(d==="U")s="up";else throw new Error(`Unknown axis abbreviation: ${d}`)}else s=t[2]?t[2].toLowerCase():"unknown";const i=t.find(d=>Array.isArray(d)&&d[0]==="ORDER"),o=i?parseInt(i[1],10):null,l=t.find(d=>Array.isArray(d)&&(d[0]==="LENGTHUNIT"||d[0]==="ANGLEUNIT"||d[0]==="SCALEUNIT")),c=this.convertUnit(l);return{name:r,direction:s,unit:c,order:o}}static extractAxes(t){return t.filter(r=>Array.isArray(r)&&r[0]==="AXIS").map(r=>this.convertAxis(r)).sort((r,s)=>(r.order||0)-(s.order||0))}static convert(t,r={}){switch(t[0]){case"PROJCRS":r.type="ProjectedCRS",r.name=t[1],r.base_crs=t.find(x=>Array.isArray(x)&&x[0]==="BASEGEOGCRS")?this.convert(t.find(x=>Array.isArray(x)&&x[0]==="BASEGEOGCRS")):null,r.conversion=t.find(x=>Array.isArray(x)&&x[0]==="CONVERSION")?this.convert(t.find(x=>Array.isArray(x)&&x[0]==="CONVERSION")):null;const s=t.find(x=>Array.isArray(x)&&x[0]==="CS");s&&(r.coordinate_system={type:s[1],axis:this.extractAxes(t)});const a=t.find(x=>Array.isArray(x)&&x[0]==="LENGTHUNIT");if(a){const x=this.convertUnit(a);r.coordinate_system.unit=x}r.id=this.getId(t);break;case"BASEGEOGCRS":case"GEOGCRS":r.type="GeographicCRS",r.name=t[1];const i=t.find(x=>Array.isArray(x)&&(x[0]==="DATUM"||x[0]==="ENSEMBLE"));if(i){const x=this.convert(i);i[0]==="ENSEMBLE"?r.datum_ensemble=x:r.datum=x;const f=t.find(y=>Array.isArray(y)&&y[0]==="PRIMEM");f&&f[1]!=="Greenwich"&&(x.prime_meridian={name:f[1],longitude:parseFloat(f[2])})}r.coordinate_system={type:"ellipsoidal",axis:this.extractAxes(t)},r.id=this.getId(t);break;case"DATUM":r.type="GeodeticReferenceFrame",r.name=t[1],r.ellipsoid=t.find(x=>Array.isArray(x)&&x[0]==="ELLIPSOID")?this.convert(t.find(x=>Array.isArray(x)&&x[0]==="ELLIPSOID")):null;break;case"ENSEMBLE":r.type="DatumEnsemble",r.name=t[1],r.members=t.filter(x=>Array.isArray(x)&&x[0]==="MEMBER").map(x=>({type:"DatumEnsembleMember",name:x[1],id:this.getId(x)}));const o=t.find(x=>Array.isArray(x)&&x[0]==="ENSEMBLEACCURACY");o&&(r.accuracy=parseFloat(o[1]));const l=t.find(x=>Array.isArray(x)&&x[0]==="ELLIPSOID");l&&(r.ellipsoid=this.convert(l)),r.id=this.getId(t);break;case"ELLIPSOID":r.type="Ellipsoid",r.name=t[1],r.semi_major_axis=parseFloat(t[2]),r.inverse_flattening=parseFloat(t[3]),t.find(x=>Array.isArray(x)&&x[0]==="LENGTHUNIT")&&this.convert(t.find(x=>Array.isArray(x)&&x[0]==="LENGTHUNIT"),r);break;case"CONVERSION":r.type="Conversion",r.name=t[1],r.method=t.find(x=>Array.isArray(x)&&x[0]==="METHOD")?this.convert(t.find(x=>Array.isArray(x)&&x[0]==="METHOD")):null,r.parameters=t.filter(x=>Array.isArray(x)&&x[0]==="PARAMETER").map(x=>this.convert(x));break;case"METHOD":r.type="Method",r.name=t[1],r.id=this.getId(t);break;case"PARAMETER":r.type="Parameter",r.name=t[1],r.value=parseFloat(t[2]),r.unit=this.convertUnit(t.find(x=>Array.isArray(x)&&(x[0]==="LENGTHUNIT"||x[0]==="ANGLEUNIT"||x[0]==="SCALEUNIT"))),r.id=this.getId(t);break;case"BOUNDCRS":r.type="BoundCRS";const c=t.find(x=>Array.isArray(x)&&x[0]==="SOURCECRS");if(c){const x=c.find(f=>Array.isArray(f));r.source_crs=x?this.convert(x):null}const d=t.find(x=>Array.isArray(x)&&x[0]==="TARGETCRS");if(d){const x=d.find(f=>Array.isArray(f));r.target_crs=x?this.convert(x):null}const u=t.find(x=>Array.isArray(x)&&x[0]==="ABRIDGEDTRANSFORMATION");u?r.transformation=this.convert(u):r.transformation=null;break;case"ABRIDGEDTRANSFORMATION":if(r.type="Transformation",r.name=t[1],r.method=t.find(x=>Array.isArray(x)&&x[0]==="METHOD")?this.convert(t.find(x=>Array.isArray(x)&&x[0]==="METHOD")):null,r.parameters=t.filter(x=>Array.isArray(x)&&(x[0]==="PARAMETER"||x[0]==="PARAMETERFILE")).map(x=>{if(x[0]==="PARAMETER")return this.convert(x);if(x[0]==="PARAMETERFILE")return{name:x[1],value:x[2],id:{authority:"EPSG",code:8656}}}),r.parameters.length===7){const x=r.parameters[6];x.name==="Scale difference"&&(x.value=Math.round((x.value-1)*1e12)/1e6)}r.id=this.getId(t);break;case"AXIS":r.coordinate_system||(r.coordinate_system={type:"unspecified",axis:[]}),r.coordinate_system.axis.push(this.convertAxis(t));break;case"LENGTHUNIT":const p=this.convertUnit(t,"LinearUnit");r.coordinate_system&&r.coordinate_system.axis&&r.coordinate_system.axis.forEach(x=>{x.unit||(x.unit=p)}),p.conversion_factor&&p.conversion_factor!==1&&r.semi_major_axis&&(r.semi_major_axis={value:r.semi_major_axis,unit:p});break;default:r.keyword=t[0];break}return r}}class Ile extends eL{static convert(t,r={}){return super.convert(t,r),r.coordinate_system&&r.coordinate_system.subtype==="Cartesian"&&delete r.coordinate_system,r.usage&&delete r.usage,r}}class Rle extends eL{static convert(t,r={}){super.convert(t,r);const s=t.find(i=>Array.isArray(i)&&i[0]==="CS");s&&(r.coordinate_system={subtype:s[1],axis:this.extractAxes(t)});const a=t.find(i=>Array.isArray(i)&&i[0]==="USAGE");if(a){const i=a.find(c=>Array.isArray(c)&&c[0]==="SCOPE"),o=a.find(c=>Array.isArray(c)&&c[0]==="AREA"),l=a.find(c=>Array.isArray(c)&&c[0]==="BBOX");r.usage={},i&&(r.usage.scope=i[1]),o&&(r.usage.area=o[1]),l&&(r.usage.bbox=l.slice(1))}return r}}function Ole(e){return e.find(t=>Array.isArray(t)&&t[0]==="USAGE")?"2019":(e.find(t=>Array.isArray(t)&&t[0]==="CS")||e[0]==="BOUNDCRS"||e[0]==="PROJCRS"||e[0]==="GEOGCRS","2015")}function Ble(e){return(Ole(e)==="2019"?Rle:Ile).convert(e)}function zle(e){const t=e.toUpperCase();return t.includes("PROJCRS")||t.includes("GEOGCRS")||t.includes("BOUNDCRS")||t.includes("VERTCRS")||t.includes("LENGTHUNIT")||t.includes("ANGLEUNIT")||t.includes("SCALEUNIT")?"WKT2":(t.includes("PROJCS")||t.includes("GEOGCS")||t.includes("LOCAL_CS")||t.includes("VERT_CS")||t.includes("UNIT"),"WKT1")}var qx=1,tL=2,rL=3,xy=4,sL=5,u3=-1,Ule=/\s/,$le=/[A-Za-z]/,Wle=/[A-Za-z84_]/,cb=/[,\]]/,aL=/[\d\.E\-\+]/;function Uu(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=qx}Uu.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==xy)for(;Ule.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case qx:return this.neutral(e);case tL:return this.keyword(e);case xy:return this.quoted(e);case sL:return this.afterquote(e);case rL:return this.number(e);case u3:return}};Uu.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=xy;return}if(cb.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in afterquote yet, index '+this.place)};Uu.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=qx;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=qx,this.currentObject=this.stack.pop(),this.currentObject||(this.state=u3);return}};Uu.prototype.number=function(e){if(aL.test(e)){this.word+=e;return}if(cb.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in number yet, index '+this.place)};Uu.prototype.quoted=function(e){if(e==='"'){this.state=sL;return}this.word+=e};Uu.prototype.keyword=function(e){if(Wle.test(e)){this.word+=e;return}if(e==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=qx;return}if(cb.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in keyword yet, index '+this.place)};Uu.prototype.neutral=function(e){if($le.test(e)){this.word=e,this.state=tL;return}if(e==='"'){this.word="",this.state=xy;return}if(aL.test(e)){this.word=e,this.state=rL;return}if(cb.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in neutral yet, index '+this.place)};Uu.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===u3)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function Hle(e){var t=new Uu(e);return t.output()}function mw(e,t,r){Array.isArray(t)&&(r.unshift(t),t=null);var s=t?{}:e,a=r.reduce(function(i,o){return Gm(o,i),i},s);t&&(e[t]=a)}function Gm(e,t){if(!Array.isArray(e)){t[e]=!0;return}var r=e.shift();if(r==="PARAMETER"&&(r=e.shift()),e.length===1){if(Array.isArray(e[0])){t[r]={},Gm(e[0],t[r]);return}t[r]=e[0];return}if(!e.length){t[r]=!0;return}if(r==="TOWGS84"){t[r]=e;return}if(r==="AXIS"){r in t||(t[r]=[]),t[r].push(e);return}Array.isArray(r)||(t[r]={});var s;switch(r){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[r]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&Gm(e[2],t[r]);return;case"SPHEROID":case"ELLIPSOID":t[r]={name:e[0],a:e[1],rf:e[2]},e.length===4&&Gm(e[3],t[r]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":e[0]=["name",e[0]],mw(t,r,e);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":e[0]=["name",e[0]],mw(t,r,e),t[r].type=r;return;default:for(s=-1;++s<e.length;)if(!Array.isArray(e[s]))return Gm(e,t[r]);return mw(t,r,e)}}var Vle=.017453292519943295;function Bd(e){return e*Vle}function nL(e){const t=(e.projName||"").toLowerCase().replace(/_/g," ");!e.long0&&e.longc&&(t==="albers conic equal area"||t==="lambert azimuthal equal area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(t==="stereographic south pole"||t==="polar stereographic (variant b)")?(e.lat0=Bd(e.lat1>0?90:-90),e.lat_ts=e.lat1,delete e.lat1):!e.lat_ts&&e.lat0&&(t==="polar stereographic"||t==="polar stereographic (variant a)")&&(e.lat_ts=e.lat0,e.lat0=Bd(e.lat0>0?90:-90),delete e.lat1)}function l8(e){let t={units:null,to_meter:void 0};return typeof e=="string"?(t.units=e.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.units==="meter"&&(t.to_meter=1)):e&&e.name&&(t.units=e.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.to_meter=e.conversion_factor),t}function c8(e){return typeof e=="object"?e.value*e.unit.conversion_factor:e}function d8(e,t){e.ellipsoid.radius?(t.a=e.ellipsoid.radius,t.rf=0):(t.a=c8(e.ellipsoid.semi_major_axis),e.ellipsoid.inverse_flattening!==void 0?t.rf=e.ellipsoid.inverse_flattening:e.ellipsoid.semi_major_axis!==void 0&&e.ellipsoid.semi_minor_axis!==void 0&&(t.rf=t.a/(t.a-c8(e.ellipsoid.semi_minor_axis))))}function gy(e,t={}){return!e||typeof e!="object"?e:e.type==="BoundCRS"?(gy(e.source_crs,t),e.transformation&&(e.transformation.method&&e.transformation.method.name==="NTv2"?t.nadgrids=e.transformation.parameters[0].value:t.datum_params=e.transformation.parameters.map(r=>r.value)),t):(Object.keys(e).forEach(r=>{const s=e[r];if(s!==null)switch(r){case"name":if(t.srsCode)break;t.name=s,t.srsCode=s;break;case"type":s==="GeographicCRS"?t.projName="longlat":s==="ProjectedCRS"&&e.conversion&&e.conversion.method&&(t.projName=e.conversion.method.name);break;case"datum":case"datum_ensemble":s.ellipsoid&&(t.ellps=s.ellipsoid.name,d8(s,t)),s.prime_meridian&&(t.from_greenwich=s.prime_meridian.longitude*Math.PI/180);break;case"ellipsoid":t.ellps=s.name,d8(s,t);break;case"prime_meridian":t.long0=(s.longitude||0)*Math.PI/180;break;case"coordinate_system":if(s.axis){if(t.axis=s.axis.map(a=>{const i=a.direction;if(i==="east")return"e";if(i==="north")return"n";if(i==="west")return"w";if(i==="south")return"s";throw new Error(`Unknown axis direction: ${i}`)}).join("")+"u",s.unit){const{units:a,to_meter:i}=l8(s.unit);t.units=a,t.to_meter=i}else if(s.axis[0]&&s.axis[0].unit){const{units:a,to_meter:i}=l8(s.axis[0].unit);t.units=a,t.to_meter=i}}break;case"id":s.authority&&s.code&&(t.title=s.authority+":"+s.code);break;case"conversion":s.method&&s.method.name&&(t.projName=s.method.name),s.parameters&&s.parameters.forEach(a=>{const i=a.name.toLowerCase().replace(/\s+/g,"_"),o=a.value;a.unit&&a.unit.conversion_factor?t[i]=o*a.unit.conversion_factor:a.unit==="degree"?t[i]=o*Math.PI/180:t[i]=o});break;case"unit":s.name&&(t.units=s.name.toLowerCase(),t.units==="metre"&&(t.units="meter")),s.conversion_factor&&(t.to_meter=s.conversion_factor);break;case"base_crs":gy(s,t),t.datumCode=s.id?s.id.authority+"_"+s.id.code:s.name;break}}),t.latitude_of_false_origin!==void 0&&(t.lat0=t.latitude_of_false_origin),t.longitude_of_false_origin!==void 0&&(t.long0=t.longitude_of_false_origin),t.latitude_of_standard_parallel!==void 0&&(t.lat0=t.latitude_of_standard_parallel,t.lat1=t.latitude_of_standard_parallel),t.latitude_of_1st_standard_parallel!==void 0&&(t.lat1=t.latitude_of_1st_standard_parallel),t.latitude_of_2nd_standard_parallel!==void 0&&(t.lat2=t.latitude_of_2nd_standard_parallel),t.latitude_of_projection_centre!==void 0&&(t.lat0=t.latitude_of_projection_centre),t.longitude_of_projection_centre!==void 0&&(t.longc=t.longitude_of_projection_centre),t.easting_at_false_origin!==void 0&&(t.x0=t.easting_at_false_origin),t.northing_at_false_origin!==void 0&&(t.y0=t.northing_at_false_origin),t.latitude_of_natural_origin!==void 0&&(t.lat0=t.latitude_of_natural_origin),t.longitude_of_natural_origin!==void 0&&(t.long0=t.longitude_of_natural_origin),t.longitude_of_origin!==void 0&&(t.long0=t.longitude_of_origin),t.false_easting!==void 0&&(t.x0=t.false_easting),t.easting_at_projection_centre&&(t.x0=t.easting_at_projection_centre),t.false_northing!==void 0&&(t.y0=t.false_northing),t.northing_at_projection_centre&&(t.y0=t.northing_at_projection_centre),t.standard_parallel_1!==void 0&&(t.lat1=t.standard_parallel_1),t.standard_parallel_2!==void 0&&(t.lat2=t.standard_parallel_2),t.scale_factor_at_natural_origin!==void 0&&(t.k0=t.scale_factor_at_natural_origin),t.scale_factor_at_projection_centre!==void 0&&(t.k0=t.scale_factor_at_projection_centre),t.scale_factor_on_pseudo_standard_parallel!==void 0&&(t.k0=t.scale_factor_on_pseudo_standard_parallel),t.azimuth!==void 0&&(t.alpha=t.azimuth),t.azimuth_at_projection_centre!==void 0&&(t.alpha=t.azimuth_at_projection_centre),t.angle_from_rectified_to_skew_grid&&(t.rectified_grid_angle=t.angle_from_rectified_to_skew_grid),nL(t),t)}var Gle=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function qle(e,t){var r=t[0],s=t[1];!(r in e)&&s in e&&(e[r]=e[s],t.length===3&&(e[r]=t[2](e[r])))}function iL(e){for(var t=Object.keys(e),r=0,s=t.length;r<s;++r){var a=t[r];Gle.indexOf(a)!==-1&&Kle(e[a]),typeof e[a]=="object"&&iL(e[a])}}function Kle(e){if(e.AUTHORITY){var t=Object.keys(e.AUTHORITY)[0];t&&t in e.AUTHORITY&&(e.title=t+":"+e.AUTHORITY[t])}if(e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var r="",s=0,a=e.AXIS.length;s<a;++s){var i=[e.AXIS[s][0].toLowerCase(),e.AXIS[s][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?r+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?r+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?r+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(r+="w")}r.length===2&&(r+="u"),r.length===3&&(e.axis=r)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var o=e.GEOGCS;e.type==="GEOGCS"&&(o=e),o&&(o.DATUM?e.datumCode=o.DATUM.name.toLowerCase():e.datumCode=o.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2)),e.datumCode==="new_zealand_1949"&&(e.datumCode="nzgd49"),(e.datumCode==="wgs_1984"||e.datumCode==="world_geodetic_system_1984")&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode==="belge_1972"&&(e.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(e.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=o.DATUM.SPHEROID.a,e.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(e.datum_params=o.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),e.datumCode==="ch1903+"&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a),e.rectified_grid_angle&&(e.rectified_grid_angle=Bd(e.rectified_grid_angle));function l(u){var p=e.to_meter||1;return u*p}var c=function(u){return qle(e,u)},d=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Bd],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Bd],["x0","false_easting",l],["y0","false_northing",l],["long0","central_meridian",Bd],["lat0","latitude_of_origin",Bd],["lat0","standard_parallel_1",Bd],["lat1","standard_parallel_1",Bd],["lat2","standard_parallel_2",Bd],["azimuth","Azimuth"],["alpha","azimuth",Bd],["srsCode","name"]];d.forEach(c),nL(e)}function k4(e){if(typeof e=="object")return gy(e);const t=zle(e);var r=Hle(e);if(t==="WKT2"){const i=Ble(r);return gy(i)}var s=r[0],a={};return Gm(r,a),iL(a),a[s]}function vl(e){var t=this;if(arguments.length===2){var r=arguments[1];typeof r=="string"?r.charAt(0)==="+"?vl[e]=N4(arguments[1]):vl[e]=k4(arguments[1]):vl[e]=r}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(s){return Array.isArray(s)?vl.apply(t,s):vl(s)});if(typeof e=="string"){if(e in vl)return vl[e]}else"EPSG"in e?vl["EPSG:"+e.EPSG]=e:"ESRI"in e?vl["ESRI:"+e.ESRI]=e:"IAU2000"in e?vl["IAU2000:"+e.IAU2000]=e:console.log(e);return}}Ale(vl);function Yle(e){return typeof e=="string"}function Zle(e){return e in vl}function Xle(e){return e.indexOf("+")!==0&&e.indexOf("[")!==-1||typeof e=="object"&&!("srsCode"in e)}var Jle=["3857","900913","3785","102113"];function Qle(e){var t=zh(e,"authority");if(t){var r=zh(t,"epsg");return r&&Jle.indexOf(r)>-1}}function ece(e){var t=zh(e,"extension");if(t)return zh(t,"proj4")}function tce(e){return e[0]==="+"}function rce(e){if(Yle(e)){if(Zle(e))return vl[e];if(Xle(e)){var t=k4(e);if(Qle(t))return vl["EPSG:3857"];var r=ece(t);return r?N4(r):t}if(tce(e))return N4(e)}else return"projName"in e?e:k4(e)}function u8(e,t){e=e||{};var r,s;if(!t)return e;for(s in t)r=t[s],r!==void 0&&(e[s]=r);return e}function K0(e,t,r){var s=e*t;return r/Math.sqrt(1-s*s)}function kg(e){return e<0?-1:1}function ur(e){return Math.abs(e)<=Kn?e:e-kg(e)*Gx}function Yd(e,t,r){var s=e*r,a=.5*e;return s=Math.pow((1-s)/(1+s),a),Math.tan(.5*(qt-t))/s}function Kx(e,t){for(var r=.5*e,s,a,i=qt-2*Math.atan(t),o=0;o<=15;o++)if(s=e*Math.sin(i),a=qt-2*Math.atan(t*Math.pow((1-s)/(1+s),r))-i,i+=a,Math.abs(a)<=1e-10)return i;return-9999}function sce(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=K0(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function ace(e){var t=e.x,r=e.y;if(r*z0>90&&r*z0<-90&&t*z0>180&&t*z0<-180)return null;var s,a;if(Math.abs(Math.abs(r)-qt)<=dr)return null;if(this.sphere)s=this.x0+this.a*this.k0*ur(t-this.long0),a=this.y0+this.a*this.k0*Math.log(Math.tan(ua+.5*r));else{var i=Math.sin(r),o=Yd(this.e,r,i);s=this.x0+this.a*this.k0*ur(t-this.long0),a=this.y0-this.a*this.k0*Math.log(o)}return e.x=s,e.y=a,e}function nce(e){var t=e.x-this.x0,r=e.y-this.y0,s,a;if(this.sphere)a=qt-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var i=Math.exp(-r/(this.a*this.k0));if(a=Kx(this.e,i),a===-9999)return null}return s=ur(this.long0+t/(this.a*this.k0)),e.x=s,e.y=a,e}var ice=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","Mercator_Variant_A","merc"];const oce={init:sce,forward:ace,inverse:nce,names:ice};function lce(){}function h8(e){return e}var cce=["longlat","identity"];const dce={init:lce,forward:h8,inverse:h8,names:cce};var uce=[oce,dce],bf={},qm=[];function oL(e,t){var r=qm.length;return e.names?(qm[r]=e,e.names.forEach(function(s){bf[s.toLowerCase()]=r}),this):(console.log(t),!0)}function lL(e){return e.replace(/[-\(\)\s]+/g," ").trim().replace(/ /g,"_")}function hce(e){if(!e)return!1;var t=e.toLowerCase();if(typeof bf[t]<"u"&&qm[bf[t]]||(t=lL(t),t in bf&&qm[bf[t]]))return qm[bf[t]]}function fce(){uce.forEach(oL)}const mce={start:fce,add:oL,get:hce};var cL={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},andrae:{a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},clrk80:{a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}};const pce=cL.WGS84;function xce(e,t,r,s){var a=e*e,i=t*t,o=(a-i)/a,l=0;s?(e*=1-o*(Lle+o*(Ple+o*Fle)),a=e*e,o=0):l=Math.sqrt(o);var c=(a-i)/i;return{es:o,e:l,ep2:c}}function gce(e,t,r,s,a){if(!e){var i=zh(cL,s);i||(i=pce),e=i.a,t=i.b,r=i.rf}return r&&!t&&(t=(1-1/r)*e),(r===0||Math.abs(e-t)<dr)&&(a=!0,t=e),{a:e,b:t,rf:r,sphere:a}}var Cv={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},EPSG_5451:{towgs84:"6.41,-49.05,-11.28,1.5657,0.5242,6.9718,-5.7649"},IGNF_LURESG:{towgs84:"-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43"},EPSG_4614:{towgs84:"-119.4248,-303.65872,-11.00061,1.164298,0.174458,1.096259,3.657065"},EPSG_4615:{towgs84:"-494.088,-312.129,279.877,-1.423,-1.013,1.59,-0.748"},ESRI_37241:{towgs84:"-76.822,257.457,-12.817,2.136,-0.033,-2.392,-0.031"},ESRI_37249:{towgs84:"-440.296,58.548,296.265,1.128,10.202,4.559,-0.438"},ESRI_37245:{towgs84:"-511.151,-181.269,139.609,1.05,2.703,1.798,3.071"},EPSG_4178:{towgs84:"24.9,-126.4,-93.2,-0.063,-0.247,-0.041,1.01"},EPSG_4622:{towgs84:"-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984"},EPSG_4625:{towgs84:"126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227"},EPSG_5252:{towgs84:"0.023,0.036,-0.068,0.00176,0.00912,-0.01136,0.00439"},EPSG_4314:{towgs84:"597.1,71.4,412.1,0.894,0.068,-1.563,7.58"},EPSG_4282:{towgs84:"-178.3,-316.7,-131.5,5.278,6.077,10.979,19.166"},EPSG_4231:{towgs84:"-83.11,-97.38,-117.22,0.0276,-0.2167,0.2147,0.1218"},EPSG_4274:{towgs84:"-230.994,102.591,25.199,0.633,-0.239,0.9,1.95"},EPSG_4134:{towgs84:"-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.71006"},EPSG_4254:{towgs84:"18.38,192.45,96.82,0.056,-0.142,-0.2,-0.0013"},EPSG_4159:{towgs84:"-194.513,-63.978,-25.759,-3.4027,3.756,-3.352,-0.9175"},EPSG_4687:{towgs84:"0.072,-0.507,-0.245,0.0183,-0.0003,0.007,-0.0093"},EPSG_4227:{towgs84:"-83.58,-397.54,458.78,-17.595,-2.847,4.256,3.225"},EPSG_4746:{towgs84:"599.4,72.4,419.2,-0.062,-0.022,-2.723,6.46"},EPSG_4745:{towgs84:"612.4,77,440.2,-0.054,0.057,-2.797,2.55"},EPSG_6311:{towgs84:"8.846,-4.394,-1.122,-0.00237,-0.146528,0.130428,0.783926"},EPSG_4289:{towgs84:"565.7381,50.4018,465.2904,-1.91514,1.60363,-9.09546,4.07244"},EPSG_4230:{towgs84:"-68.863,-134.888,-111.49,-0.53,-0.14,0.57,-3.4"},EPSG_4154:{towgs84:"-123.02,-158.95,-168.47"},EPSG_4156:{towgs84:"570.8,85.7,462.8,4.998,1.587,5.261,3.56"},EPSG_4299:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4179:{towgs84:"33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84"},EPSG_4313:{towgs84:"-106.8686,52.2978,-103.7239,0.3366,-0.457,1.8422,-1.2747"},EPSG_4194:{towgs84:"163.511,127.533,-159.789"},EPSG_4195:{towgs84:"105,326,-102.5"},EPSG_4196:{towgs84:"-45,417,-3.5"},EPSG_4611:{towgs84:"-162.619,-276.959,-161.764,0.067753,-2.243649,-1.158827,-1.094246"},EPSG_4633:{towgs84:"137.092,131.66,91.475,-1.9436,-11.5993,-4.3321,-7.4824"},EPSG_4641:{towgs84:"-408.809,366.856,-412.987,1.8842,-0.5308,2.1655,-121.0993"},EPSG_4643:{towgs84:"-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7002"},EPSG_4300:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4188:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4660:{towgs84:"982.6087,552.753,-540.873,32.39344,-153.25684,-96.2266,16.805"},EPSG_4662:{towgs84:"97.295,-263.247,310.882,-1.5999,0.8386,3.1409,13.3259"},EPSG_3906:{towgs84:"577.88891,165.22205,391.18289,4.9145,-0.94729,-13.05098,7.78664"},EPSG_4307:{towgs84:"-209.3622,-87.8162,404.6198,0.0046,3.4784,0.5805,-1.4547"},EPSG_6892:{towgs84:"-76.269,-16.683,68.562,-6.275,10.536,-4.286,-13.686"},EPSG_4690:{towgs84:"221.597,152.441,176.523,2.403,1.3893,0.884,11.4648"},EPSG_4691:{towgs84:"218.769,150.75,176.75,3.5231,2.0037,1.288,10.9817"},EPSG_4629:{towgs84:"72.51,345.411,79.241,-1.5862,-0.8826,-0.5495,1.3653"},EPSG_4630:{towgs84:"165.804,216.213,180.26,-0.6251,-0.4515,-0.0721,7.4111"},EPSG_4692:{towgs84:"217.109,86.452,23.711,0.0183,-0.0003,0.007,-0.0093"},EPSG_9333:{towgs84:"0,0,0,-8.393,0.749,-10.276,0"},EPSG_9059:{towgs84:"0,0,0"},EPSG_4312:{towgs84:"601.705,84.263,485.227,4.7354,1.3145,5.393,-2.3887"},EPSG_4123:{towgs84:"-96.062,-82.428,-121.753,4.801,0.345,-1.376,1.496"},EPSG_4309:{towgs84:"-124.45,183.74,44.64,-0.4384,0.5446,-0.9706,-2.1365"},ESRI_104106:{towgs84:"-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058"},EPSG_4281:{towgs84:"-219.247,-73.802,269.529"},EPSG_4322:{towgs84:"0,0,4.5"},EPSG_4324:{towgs84:"0,0,1.9"},EPSG_4284:{towgs84:"43.822,-108.842,-119.585,1.455,-0.761,0.737,0.549"},EPSG_4277:{towgs84:"446.448,-125.157,542.06,0.15,0.247,0.842,-20.489"},EPSG_4207:{towgs84:"-282.1,-72.2,120,-1.529,0.145,-0.89,-4.46"},EPSG_4688:{towgs84:"347.175,1077.618,2623.677,33.9058,-70.6776,9.4013,186.0647"},EPSG_4689:{towgs84:"410.793,54.542,80.501,-2.5596,-2.3517,-0.6594,17.3218"},EPSG_4720:{towgs84:"0,0,4.5"},EPSG_4273:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},EPSG_4240:{towgs84:"204.64,834.74,293.8"},EPSG_4817:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},ESRI_104131:{towgs84:"426.62,142.62,460.09,4.98,4.49,-12.42,-17.1"},EPSG_4265:{towgs84:"-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68"},EPSG_4263:{towgs84:"-111.92,-87.85,114.5,1.875,0.202,0.219,0.032"},EPSG_4298:{towgs84:"-689.5937,623.84046,-65.93566,-0.02331,1.17094,-0.80054,5.88536"},EPSG_4270:{towgs84:"-253.4392,-148.452,386.5267,0.15605,0.43,-0.1013,-0.0424"},EPSG_4229:{towgs84:"-121.8,98.1,-10.7"},EPSG_4220:{towgs84:"-55.5,-348,-229.2"},EPSG_4214:{towgs84:"12.646,-155.176,-80.863"},EPSG_4232:{towgs84:"-345,3,223"},EPSG_4238:{towgs84:"-1.977,-13.06,-9.993,0.364,0.254,0.689,-1.037"},EPSG_4168:{towgs84:"-170,33,326"},EPSG_4131:{towgs84:"199,931,318.9"},EPSG_4152:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_5228:{towgs84:"572.213,85.334,461.94,4.9732,1.529,5.2484,3.5378"},EPSG_8351:{towgs84:"485.021,169.465,483.839,7.786342,4.397554,4.102655,0"},EPSG_4683:{towgs84:"-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06"},EPSG_4133:{towgs84:"0,0,0"},EPSG_7373:{towgs84:"0.819,-0.5762,-1.6446,-0.00378,-0.03317,0.00318,0.0693"},EPSG_9075:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9072:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9294:{towgs84:"1.16835,-1.42001,-2.24431,-0.00822,-0.05508,0.01818,0.23388"},EPSG_4212:{towgs84:"-267.434,173.496,181.814,-13.4704,8.7154,7.3926,14.7492"},EPSG_4191:{towgs84:"-44.183,-0.58,-38.489,2.3867,2.7072,-3.5196,-8.2703"},EPSG_4237:{towgs84:"52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191"},EPSG_4740:{towgs84:"-1.08,-0.27,-0.9"},EPSG_4124:{towgs84:"419.3836,99.3335,591.3451,0.850389,1.817277,-7.862238,-0.99496"},EPSG_5681:{towgs84:"584.9636,107.7175,413.8067,1.1155,0.2824,-3.1384,7.9922"},EPSG_4141:{towgs84:"23.772,17.49,17.859,-0.3132,-1.85274,1.67299,-5.4262"},EPSG_4204:{towgs84:"-85.645,-273.077,-79.708,2.289,-1.421,2.532,3.194"},EPSG_4319:{towgs84:"226.702,-193.337,-35.371,-2.229,-4.391,9.238,0.9798"},EPSG_4200:{towgs84:"24.82,-131.21,-82.66"},EPSG_4130:{towgs84:"0,0,0"},EPSG_4127:{towgs84:"-82.875,-57.097,-156.768,-2.158,1.524,-0.982,-0.359"},EPSG_4149:{towgs84:"674.374,15.056,405.346"},EPSG_4617:{towgs84:"-0.991,1.9072,0.5129,1.25033e-7,4.6785e-8,5.6529e-8,0"},EPSG_4663:{towgs84:"-210.502,-66.902,-48.476,2.094,-15.067,-5.817,0.485"},EPSG_4664:{towgs84:"-211.939,137.626,58.3,-0.089,0.251,0.079,0.384"},EPSG_4665:{towgs84:"-105.854,165.589,-38.312,-0.003,-0.026,0.024,-0.048"},EPSG_4666:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},EPSG_4756:{towgs84:"-192.873,-39.382,-111.202,-0.00205,-0.0005,0.00335,0.0188"},EPSG_4723:{towgs84:"-179.483,-69.379,-27.584,-7.862,8.163,6.042,-13.925"},EPSG_4726:{towgs84:"8.853,-52.644,180.304,-0.393,-2.323,2.96,-24.081"},EPSG_4267:{towgs84:"-8.0,160.0,176.0"},EPSG_5365:{towgs84:"-0.16959,0.35312,0.51846,0.03385,-0.16325,0.03446,0.03693"},EPSG_4218:{towgs84:"304.5,306.5,-318.1"},EPSG_4242:{towgs84:"-33.722,153.789,94.959,-8.581,-4.478,4.54,8.95"},EPSG_4216:{towgs84:"-292.295,248.758,429.447,4.9971,2.99,6.6906,1.0289"},ESRI_104105:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},ESRI_104129:{towgs84:"0,0,0"},EPSG_4673:{towgs84:"174.05,-25.49,112.57"},EPSG_4202:{towgs84:"-124,-60,154"},EPSG_4203:{towgs84:"-117.763,-51.51,139.061,0.292,0.443,0.277,-0.191"},EPSG_3819:{towgs84:"595.48,121.69,515.35,4.115,-2.9383,0.853,-3.408"},EPSG_8694:{towgs84:"-93.799,-132.737,-219.073,-1.844,0.648,-6.37,-0.169"},EPSG_4145:{towgs84:"275.57,676.78,229.6"},EPSG_4283:{towgs84:"61.55,-10.87,-40.19,39.4924,32.7221,32.8979,-9.994"},EPSG_4317:{towgs84:"2.3287,-147.0425,-92.0802,-0.3092483,0.32482185,0.49729934,5.68906266"},EPSG_4272:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993"},EPSG_4248:{towgs84:"-307.7,265.3,-363.5"},EPSG_5561:{towgs84:"24,-121,-76"},EPSG_5233:{towgs84:"-0.293,766.95,87.713,0.195704,1.695068,3.473016,-0.039338"},ESRI_104130:{towgs84:"-86,-98,-119"},ESRI_104102:{towgs84:"682,-203,480"},ESRI_37207:{towgs84:"7,-10,-26"},EPSG_4675:{towgs84:"59.935,118.4,-10.871"},ESRI_104109:{towgs84:"-89.121,-348.182,260.871"},ESRI_104112:{towgs84:"-185.583,-230.096,281.361"},ESRI_104113:{towgs84:"25.1,-275.6,222.6"},IGNF_WGS72G:{towgs84:"0,12,6"},IGNF_NTFG:{towgs84:"-168,-60,320"},IGNF_EFATE57G:{towgs84:"-127,-769,472"},IGNF_PGP50G:{towgs84:"324.8,153.6,172.1"},IGNF_REUN47G:{towgs84:"94,-948,-1262"},IGNF_CSG67G:{towgs84:"-186,230,110"},IGNF_GUAD48G:{towgs84:"-467,-16,-300"},IGNF_TAHI51G:{towgs84:"162,117,154"},IGNF_TAHAAG:{towgs84:"65,342,77"},IGNF_NUKU72G:{towgs84:"84,274,65"},IGNF_PETRELS72G:{towgs84:"365,194,166"},IGNF_WALL78G:{towgs84:"253,-133,-127"},IGNF_MAYO50G:{towgs84:"-382,-59,-262"},IGNF_TANNAG:{towgs84:"-139,-967,436"},IGNF_IGN72G:{towgs84:"-13,-348,292"},IGNF_ATIGG:{towgs84:"1118,23,66"},IGNF_FANGA84G:{towgs84:"150.57,158.33,118.32"},IGNF_RUSAT84G:{towgs84:"202.13,174.6,-15.74"},IGNF_KAUE70G:{towgs84:"126.74,300.1,-75.49"},IGNF_MOP90G:{towgs84:"-10.8,-1.8,12.77"},IGNF_MHPF67G:{towgs84:"338.08,212.58,-296.17"},IGNF_TAHI79G:{towgs84:"160.61,116.05,153.69"},IGNF_ANAA92G:{towgs84:"1.5,3.84,4.81"},IGNF_MARQUI72G:{towgs84:"330.91,-13.92,58.56"},IGNF_APAT86G:{towgs84:"143.6,197.82,74.05"},IGNF_TUBU69G:{towgs84:"237.17,171.61,-77.84"},IGNF_STPM50G:{towgs84:"11.363,424.148,373.13"},EPSG_4150:{towgs84:"674.374,15.056,405.346"},EPSG_4754:{towgs84:"-208.4058,-109.8777,-2.5764"},ESRI_104101:{towgs84:"374,150,588"},EPSG_4693:{towgs84:"0,-0.15,0.68"},EPSG_6207:{towgs84:"293.17,726.18,245.36"},EPSG_4153:{towgs84:"-133.63,-157.5,-158.62"},EPSG_4132:{towgs84:"-241.54,-163.64,396.06"},EPSG_4221:{towgs84:"-154.5,150.7,100.4"},EPSG_4266:{towgs84:"-80.7,-132.5,41.1"},EPSG_4193:{towgs84:"-70.9,-151.8,-41.4"},EPSG_5340:{towgs84:"-0.41,0.46,-0.35"},EPSG_4246:{towgs84:"-294.7,-200.1,525.5"},EPSG_4318:{towgs84:"-3.2,-5.7,2.8"},EPSG_4121:{towgs84:"-199.87,74.79,246.62"},EPSG_4223:{towgs84:"-260.1,5.5,432.2"},EPSG_4158:{towgs84:"-0.465,372.095,171.736"},EPSG_4285:{towgs84:"-128.16,-282.42,21.93"},EPSG_4613:{towgs84:"-404.78,685.68,45.47"},EPSG_4607:{towgs84:"195.671,332.517,274.607"},EPSG_4475:{towgs84:"-381.788,-57.501,-256.673"},EPSG_4208:{towgs84:"-157.84,308.54,-146.6"},EPSG_4743:{towgs84:"70.995,-335.916,262.898"},EPSG_4710:{towgs84:"-323.65,551.39,-491.22"},EPSG_7881:{towgs84:"-0.077,0.079,0.086"},EPSG_4682:{towgs84:"283.729,735.942,261.143"},EPSG_4739:{towgs84:"-156,-271,-189"},EPSG_4679:{towgs84:"-80.01,253.26,291.19"},EPSG_4750:{towgs84:"-56.263,16.136,-22.856"},EPSG_4644:{towgs84:"-10.18,-350.43,291.37"},EPSG_4695:{towgs84:"-103.746,-9.614,-255.95"},EPSG_4292:{towgs84:"-355,21,72"},EPSG_4302:{towgs84:"-61.702,284.488,472.052"},EPSG_4143:{towgs84:"-124.76,53,466.79"},EPSG_4606:{towgs84:"-153,153,307"},EPSG_4699:{towgs84:"-770.1,158.4,-498.2"},EPSG_4247:{towgs84:"-273.5,110.6,-357.9"},EPSG_4160:{towgs84:"8.88,184.86,106.69"},EPSG_4161:{towgs84:"-233.43,6.65,173.64"},EPSG_9251:{towgs84:"-9.5,122.9,138.2"},EPSG_9253:{towgs84:"-78.1,101.6,133.3"},EPSG_4297:{towgs84:"-198.383,-240.517,-107.909"},EPSG_4269:{towgs84:"0,0,0"},EPSG_4301:{towgs84:"-147,506,687"},EPSG_4618:{towgs84:"-59,-11,-52"},EPSG_4612:{towgs84:"0,0,0"},EPSG_4678:{towgs84:"44.585,-131.212,-39.544"},EPSG_4250:{towgs84:"-130,29,364"},EPSG_4144:{towgs84:"214,804,268"},EPSG_4147:{towgs84:"-17.51,-108.32,-62.39"},EPSG_4259:{towgs84:"-254.1,-5.36,-100.29"},EPSG_4164:{towgs84:"-76,-138,67"},EPSG_4211:{towgs84:"-378.873,676.002,-46.255"},EPSG_4182:{towgs84:"-422.651,-172.995,84.02"},EPSG_4224:{towgs84:"-143.87,243.37,-33.52"},EPSG_4225:{towgs84:"-205.57,168.77,-4.12"},EPSG_5527:{towgs84:"-67.35,3.88,-38.22"},EPSG_4752:{towgs84:"98,390,-22"},EPSG_4310:{towgs84:"-30,190,89"},EPSG_9248:{towgs84:"-192.26,65.72,132.08"},EPSG_4680:{towgs84:"124.5,-63.5,-281"},EPSG_4701:{towgs84:"-79.9,-158,-168.9"},EPSG_4706:{towgs84:"-146.21,112.63,4.05"},EPSG_4805:{towgs84:"682,-203,480"},EPSG_4201:{towgs84:"-165,-11,206"},EPSG_4210:{towgs84:"-157,-2,-299"},EPSG_4183:{towgs84:"-104,167,-38"},EPSG_4139:{towgs84:"11,72,-101"},EPSG_4668:{towgs84:"-86,-98,-119"},EPSG_4717:{towgs84:"-2,151,181"},EPSG_4732:{towgs84:"102,52,-38"},EPSG_4280:{towgs84:"-377,681,-50"},EPSG_4209:{towgs84:"-138,-105,-289"},EPSG_4261:{towgs84:"31,146,47"},EPSG_4658:{towgs84:"-73,46,-86"},EPSG_4721:{towgs84:"265.025,384.929,-194.046"},EPSG_4222:{towgs84:"-136,-108,-292"},EPSG_4601:{towgs84:"-255,-15,71"},EPSG_4602:{towgs84:"725,685,536"},EPSG_4603:{towgs84:"72,213.7,93"},EPSG_4605:{towgs84:"9,183,236"},EPSG_4621:{towgs84:"137,248,-430"},EPSG_4657:{towgs84:"-28,199,5"},EPSG_4316:{towgs84:"103.25,-100.4,-307.19"},EPSG_4642:{towgs84:"-13,-348,292"},EPSG_4698:{towgs84:"145,-187,103"},EPSG_4192:{towgs84:"-206.1,-174.7,-87.7"},EPSG_4311:{towgs84:"-265,120,-358"},EPSG_4135:{towgs84:"58,-283,-182"},ESRI_104138:{towgs84:"198,-226,-347"},EPSG_4245:{towgs84:"-11,851,5"},EPSG_4142:{towgs84:"-125,53,467"},EPSG_4213:{towgs84:"-106,-87,188"},EPSG_4253:{towgs84:"-133,-77,-51"},EPSG_4129:{towgs84:"-132,-110,-335"},EPSG_4713:{towgs84:"-77,-128,142"},EPSG_4239:{towgs84:"217,823,299"},EPSG_4146:{towgs84:"295,736,257"},EPSG_4155:{towgs84:"-83,37,124"},EPSG_4165:{towgs84:"-173,253,27"},EPSG_4672:{towgs84:"175,-38,113"},EPSG_4236:{towgs84:"-637,-549,-203"},EPSG_4251:{towgs84:"-90,40,88"},EPSG_4271:{towgs84:"-2,374,172"},EPSG_4175:{towgs84:"-88,4,101"},EPSG_4716:{towgs84:"298,-304,-375"},EPSG_4315:{towgs84:"-23,259,-9"},EPSG_4744:{towgs84:"-242.2,-144.9,370.3"},EPSG_4244:{towgs84:"-97,787,86"},EPSG_4293:{towgs84:"616,97,-251"},EPSG_4714:{towgs84:"-127,-769,472"},EPSG_4736:{towgs84:"260,12,-147"},EPSG_6883:{towgs84:"-235,-110,393"},EPSG_6894:{towgs84:"-63,176,185"},EPSG_4205:{towgs84:"-43,-163,45"},EPSG_4256:{towgs84:"41,-220,-134"},EPSG_4262:{towgs84:"639,405,60"},EPSG_4604:{towgs84:"174,359,365"},EPSG_4169:{towgs84:"-115,118,426"},EPSG_4620:{towgs84:"-106,-129,165"},EPSG_4184:{towgs84:"-203,141,53"},EPSG_4616:{towgs84:"-289,-124,60"},EPSG_9403:{towgs84:"-307,-92,127"},EPSG_4684:{towgs84:"-133,-321,50"},EPSG_4708:{towgs84:"-491,-22,435"},EPSG_4707:{towgs84:"114,-116,-333"},EPSG_4709:{towgs84:"145,75,-272"},EPSG_4712:{towgs84:"-205,107,53"},EPSG_4711:{towgs84:"124,-234,-25"},EPSG_4718:{towgs84:"230,-199,-752"},EPSG_4719:{towgs84:"211,147,111"},EPSG_4724:{towgs84:"208,-435,-229"},EPSG_4725:{towgs84:"189,-79,-202"},EPSG_4735:{towgs84:"647,1777,-1124"},EPSG_4722:{towgs84:"-794,119,-298"},EPSG_4728:{towgs84:"-307,-92,127"},EPSG_4734:{towgs84:"-632,438,-609"},EPSG_4727:{towgs84:"912,-58,1227"},EPSG_4729:{towgs84:"185,165,42"},EPSG_4730:{towgs84:"170,42,84"},EPSG_4733:{towgs84:"276,-57,149"},ESRI_37218:{towgs84:"230,-199,-752"},ESRI_37240:{towgs84:"-7,215,225"},ESRI_37221:{towgs84:"252,-209,-751"},ESRI_4305:{towgs84:"-123,-206,219"},ESRI_104139:{towgs84:"-73,-247,227"},EPSG_4748:{towgs84:"51,391,-36"},EPSG_4219:{towgs84:"-384,664,-48"},EPSG_4255:{towgs84:"-333,-222,114"},EPSG_4257:{towgs84:"-587.8,519.75,145.76"},EPSG_4646:{towgs84:"-963,510,-359"},EPSG_6881:{towgs84:"-24,-203,268"},EPSG_6882:{towgs84:"-183,-15,273"},EPSG_4715:{towgs84:"-104,-129,239"},IGNF_RGF93GDD:{towgs84:"0,0,0"},IGNF_RGM04GDD:{towgs84:"0,0,0"},IGNF_RGSPM06GDD:{towgs84:"0,0,0"},IGNF_RGTAAF07GDD:{towgs84:"0,0,0"},IGNF_RGFG95GDD:{towgs84:"0,0,0"},IGNF_RGNCG:{towgs84:"0,0,0"},IGNF_RGPFGDD:{towgs84:"0,0,0"},IGNF_ETRS89G:{towgs84:"0,0,0"},IGNF_RGR92GDD:{towgs84:"0,0,0"},EPSG_4173:{towgs84:"0,0,0"},EPSG_4180:{towgs84:"0,0,0"},EPSG_4619:{towgs84:"0,0,0"},EPSG_4667:{towgs84:"0,0,0"},EPSG_4075:{towgs84:"0,0,0"},EPSG_6706:{towgs84:"0,0,0"},EPSG_7798:{towgs84:"0,0,0"},EPSG_4661:{towgs84:"0,0,0"},EPSG_4669:{towgs84:"0,0,0"},EPSG_8685:{towgs84:"0,0,0"},EPSG_4151:{towgs84:"0,0,0"},EPSG_9702:{towgs84:"0,0,0"},EPSG_4758:{towgs84:"0,0,0"},EPSG_4761:{towgs84:"0,0,0"},EPSG_4765:{towgs84:"0,0,0"},EPSG_8997:{towgs84:"0,0,0"},EPSG_4023:{towgs84:"0,0,0"},EPSG_4670:{towgs84:"0,0,0"},EPSG_4694:{towgs84:"0,0,0"},EPSG_4148:{towgs84:"0,0,0"},EPSG_4163:{towgs84:"0,0,0"},EPSG_4167:{towgs84:"0,0,0"},EPSG_4189:{towgs84:"0,0,0"},EPSG_4190:{towgs84:"0,0,0"},EPSG_4176:{towgs84:"0,0,0"},EPSG_4659:{towgs84:"0,0,0"},EPSG_3824:{towgs84:"0,0,0"},EPSG_3889:{towgs84:"0,0,0"},EPSG_4046:{towgs84:"0,0,0"},EPSG_4081:{towgs84:"0,0,0"},EPSG_4558:{towgs84:"0,0,0"},EPSG_4483:{towgs84:"0,0,0"},EPSG_5013:{towgs84:"0,0,0"},EPSG_5264:{towgs84:"0,0,0"},EPSG_5324:{towgs84:"0,0,0"},EPSG_5354:{towgs84:"0,0,0"},EPSG_5371:{towgs84:"0,0,0"},EPSG_5373:{towgs84:"0,0,0"},EPSG_5381:{towgs84:"0,0,0"},EPSG_5393:{towgs84:"0,0,0"},EPSG_5489:{towgs84:"0,0,0"},EPSG_5593:{towgs84:"0,0,0"},EPSG_6135:{towgs84:"0,0,0"},EPSG_6365:{towgs84:"0,0,0"},EPSG_5246:{towgs84:"0,0,0"},EPSG_7886:{towgs84:"0,0,0"},EPSG_8431:{towgs84:"0,0,0"},EPSG_8427:{towgs84:"0,0,0"},EPSG_8699:{towgs84:"0,0,0"},EPSG_8818:{towgs84:"0,0,0"},EPSG_4757:{towgs84:"0,0,0"},EPSG_9140:{towgs84:"0,0,0"},EPSG_8086:{towgs84:"0,0,0"},EPSG_4686:{towgs84:"0,0,0"},EPSG_4737:{towgs84:"0,0,0"},EPSG_4702:{towgs84:"0,0,0"},EPSG_4747:{towgs84:"0,0,0"},EPSG_4749:{towgs84:"0,0,0"},EPSG_4674:{towgs84:"0,0,0"},EPSG_4755:{towgs84:"0,0,0"},EPSG_4759:{towgs84:"0,0,0"},EPSG_4762:{towgs84:"0,0,0"},EPSG_4763:{towgs84:"0,0,0"},EPSG_4764:{towgs84:"0,0,0"},EPSG_4166:{towgs84:"0,0,0"},EPSG_4170:{towgs84:"0,0,0"},EPSG_5546:{towgs84:"0,0,0"},EPSG_7844:{towgs84:"0,0,0"},EPSG_4818:{towgs84:"589,76,480"}};for(var vce in Cv){var pw=Cv[vce];pw.datumName&&(Cv[pw.datumName]=pw)}function yce(e,t,r,s,a,i,o){var l={};return e===void 0||e==="none"?l.datum_type=w4:l.datum_type=Tle,t&&(l.datum_params=t.map(parseFloat),(l.datum_params[0]!==0||l.datum_params[1]!==0||l.datum_params[2]!==0)&&(l.datum_type=Yf),l.datum_params.length>3&&(l.datum_params[3]!==0||l.datum_params[4]!==0||l.datum_params[5]!==0||l.datum_params[6]!==0)&&(l.datum_type=Zf,l.datum_params[3]*=cx,l.datum_params[4]*=cx,l.datum_params[5]*=cx,l.datum_params[6]=l.datum_params[6]/1e6+1)),o&&(l.datum_type=dp,l.grids=o),l.a=r,l.b=s,l.es=a,l.ep2=i,l}var h3={};function bce(e,t,r){return t instanceof ArrayBuffer?_ce(e,t,r):{ready:wce(e,t)}}function _ce(e,t,r){var s=!0;r!==void 0&&r.includeErrorFields===!1&&(s=!1);var a=new DataView(t),i=jce(a),o=Cce(a,i),l=Sce(a,o,i,s),c={header:o,subgrids:l};return h3[e]=c,c}async function wce(e,t){for(var r=[],s=await t.getImageCount(),a=s-1;a>=0;a--){var i=await t.getImage(a),o=await i.readRasters(),l=o,c=[i.getWidth(),i.getHeight()],d=i.getBoundingBox().map(f8),u=[i.fileDirectory.ModelPixelScale[0],i.fileDirectory.ModelPixelScale[1]].map(f8),p=d[0]+(c[0]-1)*u[0],x=d[3]-(c[1]-1)*u[1],f=l[0],y=l[1],v=[];for(let S=c[1]-1;S>=0;S--)for(let M=c[0]-1;M>=0;M--){var _=S*c[0]+M;v.push([-Nh(y[_]),Nh(f[_])])}r.push({del:u,lim:c,ll:[-p,x],cvs:v})}var k={header:{nSubgrids:s},subgrids:r};return h3[e]=k,k}function Nce(e){if(e===void 0)return null;var t=e.split(",");return t.map(kce)}function kce(e){if(e.length===0)return null;var t=e[0]==="@";return t&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:h3[e]||null,isNull:!1}}function f8(e){return e*Math.PI/180}function Nh(e){return e/3600*Math.PI/180}function jce(e){var t=e.getInt32(8,!1);return t===11?!1:(t=e.getInt32(8,!0),t!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Cce(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:j4(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function j4(e,t,r){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,r)))}function Sce(e,t,r,s){for(var a=176,i=[],o=0;o<t.nSubgrids;o++){var l=Ace(e,a,r),c=Tce(e,a,l,r,s),d=Math.round(1+(l.upperLongitude-l.lowerLongitude)/l.longitudeInterval),u=Math.round(1+(l.upperLatitude-l.lowerLatitude)/l.latitudeInterval);i.push({ll:[Nh(l.lowerLongitude),Nh(l.lowerLatitude)],del:[Nh(l.longitudeInterval),Nh(l.latitudeInterval)],lim:[d,u],count:l.gridNodeCount,cvs:Ece(c)});var p=16;s===!1&&(p=8),a+=176+l.gridNodeCount*p}return i}function Ece(e){return e.map(function(t){return[Nh(t.longitudeShift),Nh(t.latitudeShift)]})}function Ace(e,t,r){return{name:j4(e,t+8,t+16).trim(),parent:j4(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,r),upperLatitude:e.getFloat64(t+88,r),lowerLongitude:e.getFloat64(t+104,r),upperLongitude:e.getFloat64(t+120,r),latitudeInterval:e.getFloat64(t+136,r),longitudeInterval:e.getFloat64(t+152,r),gridNodeCount:e.getInt32(t+168,r)}}function Tce(e,t,r,s,a){var i=t+176,o=16;a===!1&&(o=8);for(var l=[],c=0;c<r.gridNodeCount;c++){var d={latitudeShift:e.getFloat32(i+c*o,s),longitudeShift:e.getFloat32(i+c*o+4,s)};a!==!1&&(d.latitudeAccuracy=e.getFloat32(i+c*o+8,s),d.longitudeAccuracy=e.getFloat32(i+c*o+12,s)),l.push(d)}return l}function Zd(e,t){if(!(this instanceof Zd))return new Zd(e);this.forward=null,this.inverse=null,this.init=null,this.name,this.names=null,this.title,t=t||function(d){if(d)throw d};var r=rce(e);if(typeof r!="object"){t("Could not parse to valid json: "+e);return}var s=Zd.projections.get(r.projName);if(!s){t("Could not get projection name from: "+e);return}if(r.datumCode&&r.datumCode!=="none"){var a=zh(Cv,r.datumCode);a&&(r.datum_params=r.datum_params||(a.towgs84?a.towgs84.split(","):null),r.ellps=a.ellipse,r.datumName=a.datumName?a.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var i=gce(r.a,r.b,r.rf,r.ellps,r.sphere),o=xce(i.a,i.b,i.rf,r.R_A),l=Nce(r.nadgrids),c=r.datum||yce(r.datumCode,r.datum_params,i.a,i.b,o.es,o.ep2,l);u8(this,r),u8(this,s),this.a=i.a,this.b=i.b,this.rf=i.rf,this.sphere=i.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=c,"init"in this&&typeof this.init=="function"&&this.init(),t(null,this)}Zd.projections=mce;Zd.projections.start();function Mce(e,t){return e.datum_type!==t.datum_type||e.a!==t.a||Math.abs(e.es-t.es)>5e-11?!1:e.datum_type===Yf?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type===Zf?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]:!0}function dL(e,t,r){var s=e.x,a=e.y,i=e.z?e.z:0,o,l,c,d;if(a<-qt&&a>-1.001*qt)a=-qt;else if(a>qt&&a<1.001*qt)a=qt;else{if(a<-qt)return{x:-1/0,y:-1/0,z:e.z};if(a>qt)return{x:1/0,y:1/0,z:e.z}}return s>Math.PI&&(s-=2*Math.PI),l=Math.sin(a),d=Math.cos(a),c=l*l,o=r/Math.sqrt(1-t*c),{x:(o+i)*d*Math.cos(s),y:(o+i)*d*Math.sin(s),z:(o*(1-t)+i)*l}}function uL(e,t,r,s){var a=1e-12,i=a*a,o=30,l,c,d,u,p,x,f,y,v,_,k,S,M,T=e.x,O=e.y,A=e.z?e.z:0,C,N,E;if(l=Math.sqrt(T*T+O*O),c=Math.sqrt(T*T+O*O+A*A),l/r<a){if(C=0,c/r<a)return N=qt,E=-s,{x:e.x,y:e.y,z:e.z}}else C=Math.atan2(O,T);d=A/c,u=l/c,p=1/Math.sqrt(1-t*(2-t)*u*u),y=u*(1-t)*p,v=d*p,M=0;do M++,f=r/Math.sqrt(1-t*v*v),E=l*y+A*v-f*(1-t*v*v),x=t*f/(f+E),p=1/Math.sqrt(1-x*(2-x)*u*u),_=u*(1-x)*p,k=d*p,S=k*y-_*v,y=_,v=k;while(S*S>i&&M<o);return N=Math.atan(k/Math.abs(_)),{x:C,y:N,z:E}}function Lce(e,t,r){if(t===Yf)return{x:e.x+r[0],y:e.y+r[1],z:e.z+r[2]};if(t===Zf){var s=r[0],a=r[1],i=r[2],o=r[3],l=r[4],c=r[5],d=r[6];return{x:d*(e.x-c*e.y+l*e.z)+s,y:d*(c*e.x+e.y-o*e.z)+a,z:d*(-l*e.x+o*e.y+e.z)+i}}}function Pce(e,t,r){if(t===Yf)return{x:e.x-r[0],y:e.y-r[1],z:e.z-r[2]};if(t===Zf){var s=r[0],a=r[1],i=r[2],o=r[3],l=r[4],c=r[5],d=r[6],u=(e.x-s)/d,p=(e.y-a)/d,x=(e.z-i)/d;return{x:u+c*p-l*x,y:-c*u+p+o*x,z:l*u-o*p+x}}}function Y2(e){return e===Yf||e===Zf}function Fce(e,t,r){if(Mce(e,t)||e.datum_type===w4||t.datum_type===w4)return r;var s=e.a,a=e.es;if(e.datum_type===dp){var i=m8(e,!1,r);if(i!==0)return;s=n8,a=i8}var o=t.a,l=t.b,c=t.es;if(t.datum_type===dp&&(o=n8,l=Mle,c=i8),a===c&&s===o&&!Y2(e.datum_type)&&!Y2(t.datum_type))return r;if(r=dL(r,a,s),Y2(e.datum_type)&&(r=Lce(r,e.datum_type,e.datum_params)),Y2(t.datum_type)&&(r=Pce(r,t.datum_type,t.datum_params)),r=uL(r,c,o,l),t.datum_type===dp){var d=m8(t,!0,r);if(d!==0)return}return r}function m8(e,t,r){if(e.grids===null||e.grids.length===0)return console.log("Grid shift grids not found"),-1;var s={x:-r.x,y:r.y},a={x:Number.NaN,y:Number.NaN},i=[];e:for(var o=0;o<e.grids.length;o++){var l=e.grids[o];if(i.push(l.name),l.isNull){a=s;break}if(l.grid===null){if(l.mandatory)return console.log("Unable to find mandatory grid '"+l.name+"'"),-1;continue}for(var c=l.grid.subgrids,d=0,u=c.length;d<u;d++){var p=c[d],x=(Math.abs(p.del[1])+Math.abs(p.del[0]))/1e4,f=p.ll[0]-x,y=p.ll[1]-x,v=p.ll[0]+(p.lim[0]-1)*p.del[0]+x,_=p.ll[1]+(p.lim[1]-1)*p.del[1]+x;if(!(y>s.y||f>s.x||_<s.y||v<s.x)&&(a=Dce(s,t,p),!isNaN(a.x)))break e}}return isNaN(a.x)?(console.log("Failed to find a grid shift table for location '"+-s.x*z0+" "+s.y*z0+" tried: '"+i+"'"),-1):(r.x=-a.x,r.y=a.y,0)}function Dce(e,t,r){var s={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return s;var a={x:e.x,y:e.y};a.x-=r.ll[0],a.y-=r.ll[1],a.x=ur(a.x-Math.PI)+Math.PI;var i=p8(a,r);if(t){if(isNaN(i.x))return s;i.x=a.x-i.x,i.y=a.y-i.y;var o=9,l=1e-12,c,d;do{if(d=p8(i,r),isNaN(d.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}c={x:a.x-(d.x+i.x),y:a.y-(d.y+i.y)},i.x+=c.x,i.y+=c.y}while(o--&&Math.abs(c.x)>l&&Math.abs(c.y)>l);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),s;s.x=ur(i.x+r.ll[0]),s.y=i.y+r.ll[1]}else isNaN(i.x)||(s.x=e.x+i.x,s.y=e.y+i.y);return s}function p8(e,t){var r={x:e.x/t.del[0],y:e.y/t.del[1]},s={x:Math.floor(r.x),y:Math.floor(r.y)},a={x:r.x-1*s.x,y:r.y-1*s.y},i={x:Number.NaN,y:Number.NaN},o;if(s.x<0||s.x>=t.lim[0]||s.y<0||s.y>=t.lim[1])return i;o=s.y*t.lim[0]+s.x;var l={x:t.cvs[o][0],y:t.cvs[o][1]};o++;var c={x:t.cvs[o][0],y:t.cvs[o][1]};o+=t.lim[0];var d={x:t.cvs[o][0],y:t.cvs[o][1]};o--;var u={x:t.cvs[o][0],y:t.cvs[o][1]},p=a.x*a.y,x=a.x*(1-a.y),f=(1-a.x)*(1-a.y),y=(1-a.x)*a.y;return i.x=f*l.x+x*c.x+y*u.x+p*d.x,i.y=f*l.y+x*c.y+y*u.y+p*d.y,i}function x8(e,t,r){var s=r.x,a=r.y,i=r.z||0,o,l,c,d={};for(c=0;c<3;c++)if(!(t&&c===2&&r.z===void 0))switch(c===0?(o=s,"ew".indexOf(e.axis[c])!==-1?l="x":l="y"):c===1?(o=a,"ns".indexOf(e.axis[c])!==-1?l="y":l="x"):(o=i,l="z"),e.axis[c]){case"e":d[l]=o;break;case"w":d[l]=-o;break;case"n":d[l]=o;break;case"s":d[l]=-o;break;case"u":r[l]!==void 0&&(d.z=o);break;case"d":r[l]!==void 0&&(d.z=-o);break;default:return null}return d}function hL(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function Ice(e){g8(e.x),g8(e.y)}function g8(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function Rce(e,t){return(e.datum.datum_type===Yf||e.datum.datum_type===Zf||e.datum.datum_type===dp)&&t.datumCode!=="WGS84"||(t.datum.datum_type===Yf||t.datum.datum_type===Zf||t.datum.datum_type===dp)&&e.datumCode!=="WGS84"}function vy(e,t,r,s){var a;Array.isArray(r)?r=hL(r):r={x:r.x,y:r.y,z:r.z,m:r.m};var i=r.z!==void 0;if(Ice(r),e.datum&&t.datum&&Rce(e,t)&&(a=new Zd("WGS84"),r=vy(e,a,r,s),e=a),s&&e.axis!=="enu"&&(r=x8(e,!1,r)),e.projName==="longlat")r={x:r.x*go,y:r.y*go,z:r.z||0};else if(e.to_meter&&(r={x:r.x*e.to_meter,y:r.y*e.to_meter,z:r.z||0}),r=e.inverse(r),!r)return;if(e.from_greenwich&&(r.x+=e.from_greenwich),r=Fce(e.datum,t.datum,r),!!r)return r=r,t.from_greenwich&&(r={x:r.x-t.from_greenwich,y:r.y,z:r.z||0}),t.projName==="longlat"?r={x:r.x*z0,y:r.y*z0,z:r.z||0}:(r=t.forward(r),t.to_meter&&(r={x:r.x/t.to_meter,y:r.y/t.to_meter,z:r.z||0})),s&&t.axis!=="enu"?x8(t,!0,r):(r&&!i&&delete r.z,r)}var v8=Zd("WGS84");function xw(e,t,r,s){var a,i,o;return Array.isArray(r)?(a=vy(e,t,r,s)||{x:NaN,y:NaN},r.length>2?typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"?typeof a.z=="number"?[a.x,a.y,a.z].concat(r.slice(3)):[a.x,a.y,r[2]].concat(r.slice(3)):[a.x,a.y].concat(r.slice(2)):[a.x,a.y]):(i=vy(e,t,r,s),o=Object.keys(r),o.length===2||o.forEach(function(l){if(typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"){if(l==="x"||l==="y"||l==="z")return}else if(l==="x"||l==="y")return;i[l]=r[l]}),i)}function Z2(e){return e instanceof Zd?e:typeof e=="object"&&"oProj"in e?e.oProj:Zd(e)}function Oce(e,t,r){var s,a,i=!1,o;return typeof t>"u"?(a=Z2(e),s=v8,i=!0):(typeof t.x<"u"||Array.isArray(t))&&(r=t,a=Z2(e),s=v8,i=!0),s||(s=Z2(e)),a||(a=Z2(t)),r?xw(s,a,r):(o={forward:function(l,c){return xw(s,a,l,c)},inverse:function(l,c){return xw(a,s,l,c)}},i&&(o.oProj=a),o)}var y8=6,fL="AJSAJS",mL="AFAFAF",Km=65,zl=73,ad=79,R1=86,O1=90;const Bce={forward:pL,inverse:zce,toPoint:xL};function pL(e,t){return t=t||5,Wce(Uce({lat:e[1],lon:e[0]}),t)}function zce(e){var t=f3(vL(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function xL(e){var t=f3(vL(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function gw(e){return e*(Math.PI/180)}function b8(e){return 180*(e/Math.PI)}function Uce(e){var t=e.lat,r=e.lon,s=6378137,a=.00669438,i=.9996,o,l,c,d,u,p,x,f=gw(t),y=gw(r),v,_;_=Math.floor((r+180)/6)+1,r===180&&(_=60),t>=56&&t<64&&r>=3&&r<12&&(_=32),t>=72&&t<84&&(r>=0&&r<9?_=31:r>=9&&r<21?_=33:r>=21&&r<33?_=35:r>=33&&r<42&&(_=37)),o=(_-1)*6-180+3,v=gw(o),l=a/(1-a),c=s/Math.sqrt(1-a*Math.sin(f)*Math.sin(f)),d=Math.tan(f)*Math.tan(f),u=l*Math.cos(f)*Math.cos(f),p=Math.cos(f)*(y-v),x=s*((1-a/4-3*a*a/64-5*a*a*a/256)*f-(3*a/8+3*a*a/32+45*a*a*a/1024)*Math.sin(2*f)+(15*a*a/256+45*a*a*a/1024)*Math.sin(4*f)-35*a*a*a/3072*Math.sin(6*f));var k=i*c*(p+(1-d+u)*p*p*p/6+(5-18*d+d*d+72*u-58*l)*p*p*p*p*p/120)+5e5,S=i*(x+c*Math.tan(f)*(p*p/2+(5-d+9*u+4*u*u)*p*p*p*p/24+(61-58*d+d*d+600*u-330*l)*p*p*p*p*p*p/720));return t<0&&(S+=1e7),{northing:Math.round(S),easting:Math.round(k),zoneNumber:_,zoneLetter:$ce(t)}}function f3(e){var t=e.northing,r=e.easting,s=e.zoneLetter,a=e.zoneNumber;if(a<0||a>60)return null;var i=.9996,o=6378137,l=.00669438,c,d=(1-Math.sqrt(1-l))/(1+Math.sqrt(1-l)),u,p,x,f,y,v,_,k,S,M=r-5e5,T=t;s<"N"&&(T-=1e7),_=(a-1)*6-180+3,c=l/(1-l),v=T/i,k=v/(o*(1-l/4-3*l*l/64-5*l*l*l/256)),S=k+(3*d/2-27*d*d*d/32)*Math.sin(2*k)+(21*d*d/16-55*d*d*d*d/32)*Math.sin(4*k)+151*d*d*d/96*Math.sin(6*k),u=o/Math.sqrt(1-l*Math.sin(S)*Math.sin(S)),p=Math.tan(S)*Math.tan(S),x=c*Math.cos(S)*Math.cos(S),f=o*(1-l)/Math.pow(1-l*Math.sin(S)*Math.sin(S),1.5),y=M/(u*i);var O=S-u*Math.tan(S)/f*(y*y/2-(5+3*p+10*x-4*x*x-9*c)*y*y*y*y/24+(61+90*p+298*x+45*p*p-252*c-3*x*x)*y*y*y*y*y*y/720);O=b8(O);var A=(y-(1+2*p+x)*y*y*y/6+(5-2*x+28*p-3*x*x+8*c+24*p*p)*y*y*y*y*y/120)/Math.cos(S);A=_+b8(A);var C;if(e.accuracy){var N=f3({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});C={top:N.lat,right:N.lon,bottom:O,left:A}}else C={lat:O,lon:A};return C}function $ce(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function Wce(e,t){var r="00000"+e.easting,s="00000"+e.northing;return e.zoneNumber+e.zoneLetter+Hce(e.easting,e.northing,e.zoneNumber)+r.substr(r.length-5,t)+s.substr(s.length-5,t)}function Hce(e,t,r){var s=gL(r),a=Math.floor(e/1e5),i=Math.floor(t/1e5)%20;return Vce(a,i,s)}function gL(e){var t=e%y8;return t===0&&(t=y8),t}function Vce(e,t,r){var s=r-1,a=fL.charCodeAt(s),i=mL.charCodeAt(s),o=a+e-1,l=i+t,c=!1;o>O1&&(o=o-O1+Km-1,c=!0),(o===zl||a<zl&&o>zl||(o>zl||a<zl)&&c)&&o++,(o===ad||a<ad&&o>ad||(o>ad||a<ad)&&c)&&(o++,o===zl&&o++),o>O1&&(o=o-O1+Km-1),l>R1?(l=l-R1+Km-1,c=!0):c=!1,(l===zl||i<zl&&l>zl||(l>zl||i<zl)&&c)&&l++,(l===ad||i<ad&&l>ad||(l>ad||i<ad)&&c)&&(l++,l===zl&&l++),l>R1&&(l=l-R1+Km-1);var d=String.fromCharCode(o)+String.fromCharCode(l);return d}function vL(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";for(var t=e.length,r=null,s="",a,i=0;!/[A-Z]/.test(a=e.charAt(i));){if(i>=2)throw"MGRSPoint bad conversion from: "+e;s+=a,i++}var o=parseInt(s,10);if(i===0||i+3>t)throw"MGRSPoint bad conversion from: "+e;var l=e.charAt(i++);if(l<="A"||l==="B"||l==="Y"||l>="Z"||l==="I"||l==="O")throw"MGRSPoint zone letter "+l+" not handled: "+e;r=e.substring(i,i+=2);for(var c=gL(o),d=Gce(r.charAt(0),c),u=qce(r.charAt(1),c);u<Kce(l);)u+=2e6;var p=t-i;if(p%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+e;var x=p/2,f=0,y=0,v,_,k,S,M;return x>0&&(v=1e5/Math.pow(10,x),_=e.substring(i,i+x),f=parseFloat(_)*v,k=e.substring(i+x),y=parseFloat(k)*v),S=f+d,M=y+u,{easting:S,northing:M,zoneLetter:l,zoneNumber:o,accuracy:v}}function Gce(e,t){for(var r=fL.charCodeAt(t-1),s=1e5,a=!1;r!==e.charCodeAt(0);){if(r++,r===zl&&r++,r===ad&&r++,r>O1){if(a)throw"Bad character: "+e;r=Km,a=!0}s+=1e5}return s}function qce(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var r=mL.charCodeAt(t-1),s=0,a=!1;r!==e.charCodeAt(0);){if(r++,r===zl&&r++,r===ad&&r++,r>R1){if(a)throw"Bad character: "+e;r=Km,a=!0}s+=1e5}return s}function Kce(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function kp(e,t,r){if(!(this instanceof kp))return new kp(e,t,r);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof t>"u"){var s=e.split(",");this.x=parseFloat(s[0]),this.y=parseFloat(s[1]),this.z=parseFloat(s[2])||0}else this.x=e,this.y=t,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}kp.fromMGRS=function(e){return new kp(xL(e))};kp.prototype.toMGRS=function(e){return pL([this.x,this.y],e)};var Yce=1,Zce=.25,_8=.046875,w8=.01953125,N8=.01068115234375,Xce=.75,Jce=.46875,Qce=.013020833333333334,ede=.007120768229166667,tde=.3645833333333333,rde=.005696614583333333,sde=.3076171875;function m3(e){var t=[];t[0]=Yce-e*(Zce+e*(_8+e*(w8+e*N8))),t[1]=e*(Xce-e*(_8+e*(w8+e*N8)));var r=e*e;return t[2]=r*(Jce-e*(Qce+e*ede)),r*=e,t[3]=r*(tde-e*rde),t[4]=r*e*sde,t}function Vp(e,t,r,s){return r*=t,t*=t,s[0]*e-r*(s[1]+t*(s[2]+t*(s[3]+t*s[4])))}var ade=20;function p3(e,t,r){for(var s=1/(1-t),a=e,i=ade;i;--i){var o=Math.sin(a),l=1-t*o*o;if(l=(Vp(a,o,Math.cos(a),r)-e)*(l*Math.sqrt(l))*s,a-=l,Math.abs(l)<dr)return a}return a}function nde(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=m3(this.es),this.ml0=Vp(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function ide(e){var t=e.x,r=e.y,s=ur(t-this.long0),a,i,o,l=Math.sin(r),c=Math.cos(r);if(this.es){var u=c*s,p=Math.pow(u,2),x=this.ep2*Math.pow(c,2),f=Math.pow(x,2),y=Math.abs(c)>dr?Math.tan(r):0,v=Math.pow(y,2),_=Math.pow(v,2);a=1-this.es*Math.pow(l,2),u=u/Math.sqrt(a);var k=Vp(r,l,c,this.en);i=this.a*(this.k0*u*(1+p/6*(1-v+x+p/20*(5-18*v+_+14*x-58*v*x+p/42*(61+179*_-_*v-479*v)))))+this.x0,o=this.a*(this.k0*(k-this.ml0+l*s*u/2*(1+p/12*(5-v+9*x+4*f+p/30*(61+_-58*v+270*x-330*v*x+p/56*(1385+543*_-_*v-3111*v))))))+this.y0}else{var d=c*Math.sin(s);if(Math.abs(Math.abs(d)-1)<dr)return 93;if(i=.5*this.a*this.k0*Math.log((1+d)/(1-d))+this.x0,o=c*Math.cos(s)/Math.sqrt(1-Math.pow(d,2)),d=Math.abs(o),d>=1){if(d-1>dr)return 93;o=0}else o=Math.acos(o);r<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return e.x=i,e.y=o,e}function ode(e){var t,r,s,a,i=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+o/this.k0,r=p3(t,this.es,this.en),Math.abs(r)<qt){var p=Math.sin(r),x=Math.cos(r),f=Math.abs(x)>dr?Math.tan(r):0,y=this.ep2*Math.pow(x,2),v=Math.pow(y,2),_=Math.pow(f,2),k=Math.pow(_,2);t=1-this.es*Math.pow(p,2);var S=i*Math.sqrt(t)/this.k0,M=Math.pow(S,2);t=t*f,s=r-t*M/(1-this.es)*.5*(1-M/12*(5+3*_-9*y*_+y-4*v-M/30*(61+90*_-252*y*_+45*k+46*y-M/56*(1385+3633*_+4095*k+1574*k*_)))),a=ur(this.long0+S*(1-M/6*(1+2*_+y-M/20*(5+28*_+24*k+8*y*_+6*y-M/42*(61+662*_+1320*k+720*k*_))))/x)}else s=qt*kg(o),a=0;else{var l=Math.exp(i/this.k0),c=.5*(l-1/l),d=this.lat0+o/this.k0,u=Math.cos(d);t=Math.sqrt((1-Math.pow(u,2))/(1+Math.pow(c,2))),s=Math.asin(t),o<0&&(s=-s),c===0&&u===0?a=0:a=ur(Math.atan2(c,u)+this.long0)}return e.x=a,e.y=s,e}var lde=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Sv={init:nde,forward:ide,inverse:ode,names:lde};function yL(e){var t=Math.exp(e);return t=(t-1/t)/2,t}function ql(e,t){e=Math.abs(e),t=Math.abs(t);var r=Math.max(e,t),s=Math.min(e,t)/(r||1);return r*Math.sqrt(1+Math.pow(s,2))}function cde(e){var t=1+e,r=t-1;return r===0?e:e*Math.log(t)/r}function dde(e){var t=Math.abs(e);return t=cde(t*(1+t/(ql(1,t)+1))),e<0?-t:t}function x3(e,t){for(var r=2*Math.cos(2*t),s=e.length-1,a=e[s],i=0,o;--s>=0;)o=-i+r*a+e[s],i=a,a=o;return t+o*Math.sin(2*t)}function ude(e,t){for(var r=2*Math.cos(t),s=e.length-1,a=e[s],i=0,o;--s>=0;)o=-i+r*a+e[s],i=a,a=o;return Math.sin(t)*o}function hde(e){var t=Math.exp(e);return t=(t+1/t)/2,t}function bL(e,t,r){for(var s=Math.sin(t),a=Math.cos(t),i=yL(r),o=hde(r),l=2*a*o,c=-2*s*i,d=e.length-1,u=e[d],p=0,x=0,f=0,y,v;--d>=0;)y=x,v=p,x=u,p=f,u=-y+l*x-c*p+e[d],f=-v+c*x+l*p;return l=s*o,c=a*i,[l*u-c*f,l*f+c*u]}function fde(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Sv.init.apply(this),this.forward=Sv.forward,this.inverse=Sv.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),r=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),r=r*t,this.cgb[1]=r*(7/3+t*(-8/5+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=r*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),r=r*t,this.cgb[2]=r*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=r*(-26/15+t*(34/21+t*(8/5+t*(-12686/2835)))),r=r*t,this.cgb[3]=r*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=r*(1237/630+t*(-12/5+t*(-24832/14175))),r=r*t,this.cgb[4]=r*(4174/315+t*(-144838/6237)),this.cbg[4]=r*(-734/315+t*(109598/31185)),r=r*t,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=r*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=r*(13/48+t*(-3/5+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),r=r*t,this.utg[2]=r*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=r*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),r=r*t,this.utg[3]=r*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=r*(49561/161280+t*(-179/168+t*(6601661/7257600))),r=r*t,this.utg[4]=r*(-4583/161280+t*(108847/3991680)),this.gtu[4]=r*(34729/80640+t*(-3418889/1995840)),r=r*t,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=r*(212378941/319334400);var s=x3(this.cbg,this.lat0);this.Zb=-this.Qn*(s+ude(this.gtu,2*s))}function mde(e){var t=ur(e.x-this.long0),r=e.y;r=x3(this.cbg,r);var s=Math.sin(r),a=Math.cos(r),i=Math.sin(t),o=Math.cos(t);r=Math.atan2(s,o*a),t=Math.atan2(i*a,ql(s,a*o)),t=dde(Math.tan(t));var l=bL(this.gtu,2*r,2*t);r=r+l[0],t=t+l[1];var c,d;return Math.abs(t)<=2.623395162778?(c=this.a*(this.Qn*t)+this.x0,d=this.a*(this.Qn*r+this.Zb)+this.y0):(c=1/0,d=1/0),e.x=c,e.y=d,e}function pde(e){var t=(e.x-this.x0)*(1/this.a),r=(e.y-this.y0)*(1/this.a);r=(r-this.Zb)/this.Qn,t=t/this.Qn;var s,a;if(Math.abs(t)<=2.623395162778){var i=bL(this.utg,2*r,2*t);r=r+i[0],t=t+i[1],t=Math.atan(yL(t));var o=Math.sin(r),l=Math.cos(r),c=Math.sin(t),d=Math.cos(t);r=Math.atan2(o*d,ql(c,d*l)),t=Math.atan2(c,d*l),s=ur(t+this.long0),a=x3(this.cgb,r)}else s=1/0,a=1/0;return e.x=s,e.y=a,e}var xde=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const Ev={init:fde,forward:mde,inverse:pde,names:xde};function gde(e,t){if(e===void 0){if(e=Math.floor((ur(t)+Math.PI)*30/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var vde="etmerc";function yde(){var e=gde(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*go,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ev.init.apply(this),this.forward=Ev.forward,this.inverse=Ev.inverse}var bde=["Universal Transverse Mercator System","utm"];const _de={init:yde,names:bde,dependsOn:vde};function g3(e,t){return Math.pow((1-e)/(1+e),t)}var wde=20;function Nde(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+ua)/(Math.pow(Math.tan(.5*this.lat0+ua),this.C)*g3(this.e*e,this.ratexp))}function kde(e){var t=e.x,r=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+ua),this.C)*g3(this.e*Math.sin(r),this.ratexp))-qt,e.x=this.C*t,e}function jde(e){for(var t=1e-14,r=e.x/this.C,s=e.y,a=Math.pow(Math.tan(.5*s+ua)/this.K,1/this.C),i=wde;i>0&&(s=2*Math.atan(a*g3(this.e*Math.sin(e.y),-.5*this.e))-qt,!(Math.abs(s-e.y)<t));--i)e.y=s;return i?(e.x=r,e.y=s,e):null}const v3={init:Nde,forward:kde,inverse:jde};function Cde(){v3.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function Sde(e){var t,r,s,a;return e.x=ur(e.x-this.long0),v3.forward.apply(this,[e]),t=Math.sin(e.y),r=Math.cos(e.y),s=Math.cos(e.x),a=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*r*s),e.x=a*r*Math.sin(e.x),e.y=a*(this.cosc0*t-this.sinc0*r*s),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function Ede(e){var t,r,s,a,i;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,i=ql(e.x,e.y)){var o=2*Math.atan2(i,this.R2);t=Math.sin(o),r=Math.cos(o),a=Math.asin(r*this.sinc0+e.y*t*this.cosc0/i),s=Math.atan2(e.x*t,i*this.cosc0*r-e.y*this.sinc0*t)}else a=this.phic0,s=0;return e.x=s,e.y=a,v3.inverse.apply(this,[e]),e.x=ur(e.x+this.long0),e}var Ade=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const Tde={init:Cde,forward:Sde,inverse:Ede,names:Ade};function y3(e,t,r){return t*=r,Math.tan(.5*(qt+e))*Math.pow((1-t)/(1+t),.5*r)}function Mde(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=dr&&(this.k0=.5*(1+kg(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=dr&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=dr&&Math.abs(Math.cos(this.lat_ts))>dr&&(this.k0=.5*this.cons*K0(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Yd(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=K0(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(y3(this.lat0,this.sinlat0,this.e))-qt,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Lde(e){var t=e.x,r=e.y,s=Math.sin(r),a=Math.cos(r),i,o,l,c,d,u,p=ur(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=dr&&Math.abs(r+this.lat0)<=dr?(e.x=NaN,e.y=NaN,e):this.sphere?(i=2*this.k0/(1+this.sinlat0*s+this.coslat0*a*Math.cos(p)),e.x=this.a*i*a*Math.sin(p)+this.x0,e.y=this.a*i*(this.coslat0*s-this.sinlat0*a*Math.cos(p))+this.y0,e):(o=2*Math.atan(y3(r,s,this.e))-qt,c=Math.cos(o),l=Math.sin(o),Math.abs(this.coslat0)<=dr?(d=Yd(this.e,r*this.con,this.con*s),u=2*this.a*this.k0*d/this.cons,e.x=this.x0+u*Math.sin(t-this.long0),e.y=this.y0-this.con*u*Math.cos(t-this.long0),e):(Math.abs(this.sinlat0)<dr?(i=2*this.a*this.k0/(1+c*Math.cos(p)),e.y=i*l):(i=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*l+this.cosX0*c*Math.cos(p))),e.y=i*(this.cosX0*l-this.sinX0*c*Math.cos(p))+this.y0),e.x=i*c*Math.sin(p)+this.x0,e))}function Pde(e){e.x-=this.x0,e.y-=this.y0;var t,r,s,a,i,o=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var l=2*Math.atan(o/(2*this.a*this.k0));return t=this.long0,r=this.lat0,o<=dr?(e.x=t,e.y=r,e):(r=Math.asin(Math.cos(l)*this.sinlat0+e.y*Math.sin(l)*this.coslat0/o),Math.abs(this.coslat0)<dr?this.lat0>0?t=ur(this.long0+Math.atan2(e.x,-1*e.y)):t=ur(this.long0+Math.atan2(e.x,e.y)):t=ur(this.long0+Math.atan2(e.x*Math.sin(l),o*this.coslat0*Math.cos(l)-e.y*this.sinlat0*Math.sin(l))),e.x=t,e.y=r,e)}else if(Math.abs(this.coslat0)<=dr){if(o<=dr)return r=this.lat0,t=this.long0,e.x=t,e.y=r,e;e.x*=this.con,e.y*=this.con,s=o*this.cons/(2*this.a*this.k0),r=this.con*Kx(this.e,s),t=this.con*ur(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else a=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=dr?i=this.X0:(i=Math.asin(Math.cos(a)*this.sinX0+e.y*Math.sin(a)*this.cosX0/o),t=ur(this.long0+Math.atan2(e.x*Math.sin(a),o*this.cosX0*Math.cos(a)-e.y*this.sinX0*Math.sin(a)))),r=-1*Kx(this.e,Math.tan(.5*(qt+i)));return e.x=t,e.y=r,e}var Fde=["stere","Stereographic_South_Pole","Polar_Stereographic_variant_A","Polar_Stereographic_variant_B","Polar_Stereographic"];const Dde={init:Mde,forward:Lde,inverse:Pde,names:Fde,ssfn_:y3};function Ide(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),r=this.a,s=this.rf,a=1/s,i=2*a-Math.pow(a,2),o=this.e=Math.sqrt(i);this.R=this.k0*r*Math.sqrt(1-i)/(1-i*Math.pow(t,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var l=Math.log(Math.tan(Math.PI/4+this.b0/2)),c=Math.log(Math.tan(Math.PI/4+e/2)),d=Math.log((1+o*t)/(1-o*t));this.K=l-this.alpha*c+this.alpha*o/2*d}function Rde(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),s=-this.alpha*(t+r)+this.K,a=2*(Math.atan(Math.exp(s))-Math.PI/4),i=this.alpha*(e.x-this.lambda0),o=Math.atan(Math.sin(i)/(Math.sin(this.b0)*Math.tan(a)+Math.cos(this.b0)*Math.cos(i))),l=Math.asin(Math.cos(this.b0)*Math.sin(a)-Math.sin(this.b0)*Math.cos(a)*Math.cos(i));return e.y=this.R/2*Math.log((1+Math.sin(l))/(1-Math.sin(l)))+this.y0,e.x=this.R*o+this.x0,e}function Ode(e){for(var t=e.x-this.x0,r=e.y-this.y0,s=t/this.R,a=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),i=Math.asin(Math.cos(this.b0)*Math.sin(a)+Math.sin(this.b0)*Math.cos(a)*Math.cos(s)),o=Math.atan(Math.sin(s)/(Math.cos(this.b0)*Math.cos(s)-Math.sin(this.b0)*Math.tan(a))),l=this.lambda0+o/this.alpha,c=0,d=i,u=-1e3,p=0;Math.abs(d-u)>1e-7;){if(++p>20)return;c=1/this.alpha*(Math.log(Math.tan(Math.PI/4+i/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(d))/2)),u=d,d=2*Math.atan(Math.exp(c))-Math.PI/2}return e.x=l,e.y=d,e}var Bde=["somerc"];const zde={init:Ide,forward:Rde,inverse:Ode,names:Bde};var Bm=1e-7;function Ude(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],r=typeof e.projName=="object"?Object.keys(e.projName)[0]:e.projName;return"no_uoff"in e||"no_off"in e||t.indexOf(r)!==-1||t.indexOf(lL(r))!==-1}function $de(){var e,t,r,s,a,i,o,l,c,d,u=0,p,x=0,f=0,y=0,v=0,_=0,k=0;this.no_off=Ude(this),this.no_rot="no_rot"in this;var S=!1;"alpha"in this&&(S=!0);var M=!1;if("rectified_grid_angle"in this&&(M=!0),S&&(k=this.alpha),M&&(u=this.rectified_grid_angle),S||M)x=this.longc;else if(f=this.long1,v=this.lat1,y=this.long2,_=this.lat2,Math.abs(v-_)<=Bm||(e=Math.abs(v))<=Bm||Math.abs(e-qt)<=Bm||Math.abs(Math.abs(this.lat0)-qt)<=Bm||Math.abs(Math.abs(_)-qt)<=Bm)throw new Error;var T=1-this.es;t=Math.sqrt(T),Math.abs(this.lat0)>dr?(l=Math.sin(this.lat0),r=Math.cos(this.lat0),e=1-this.es*l*l,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/T),this.A=this.B*this.k0*t/e,s=this.B*t/(r*Math.sqrt(e)),a=s*s-1,a<=0?a=0:(a=Math.sqrt(a),this.lat0<0&&(a=-a)),this.E=a+=s,this.E*=Math.pow(Yd(this.e,this.lat0,l),this.B)):(this.B=1/t,this.A=this.k0,this.E=s=a=1),S||M?(S?(p=Math.asin(Math.sin(k)/s),M||(u=k)):(p=u,k=Math.asin(s*Math.sin(p))),this.lam0=x-Math.asin(.5*(a-1/a)*Math.tan(p))/this.B):(i=Math.pow(Yd(this.e,v,Math.sin(v)),this.B),o=Math.pow(Yd(this.e,_,Math.sin(_)),this.B),a=this.E/i,c=(o-i)/(o+i),d=this.E*this.E,d=(d-o*i)/(d+o*i),e=f-y,e<-Math.PI?y-=Gx:e>Math.PI&&(y+=Gx),this.lam0=ur(.5*(f+y)-Math.atan(d*Math.tan(.5*this.B*(f-y))/c)/this.B),p=Math.atan(2*Math.sin(this.B*ur(f-this.lam0))/(a-1/a)),u=k=Math.asin(s*Math.sin(p))),this.singam=Math.sin(p),this.cosgam=Math.cos(p),this.sinrot=Math.sin(u),this.cosrot=Math.cos(u),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(s*s-1)/Math.cos(k))),this.lat0<0&&(this.u_0=-this.u_0)),a=.5*p,this.v_pole_n=this.ArB*Math.log(Math.tan(ua-a)),this.v_pole_s=this.ArB*Math.log(Math.tan(ua+a))}function Wde(e){var t={},r,s,a,i,o,l,c,d;if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-qt)>dr){if(o=this.E/Math.pow(Yd(this.e,e.y,Math.sin(e.y)),this.B),l=1/o,r=.5*(o-l),s=.5*(o+l),i=Math.sin(this.B*e.x),a=(r*this.singam-i*this.cosgam)/s,Math.abs(Math.abs(a)-1)<dr)throw new Error;d=.5*this.ArB*Math.log((1-a)/(1+a)),l=Math.cos(this.B*e.x),Math.abs(l)<Bm?c=this.A*e.x:c=this.ArB*Math.atan2(r*this.cosgam+i*this.singam,l)}else d=e.y>0?this.v_pole_n:this.v_pole_s,c=this.ArB*e.y;return this.no_rot?(t.x=c,t.y=d):(c-=this.u_0,t.x=d*this.cosrot+c*this.sinrot,t.y=c*this.cosrot-d*this.sinrot),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function Hde(e){var t,r,s,a,i,o,l,c={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(r=e.y,t=e.x):(r=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),s=Math.exp(-this.BrA*r),a=.5*(s-1/s),i=.5*(s+1/s),o=Math.sin(this.BrA*t),l=(o*this.cosgam+a*this.singam)/i,Math.abs(Math.abs(l)-1)<dr)c.x=0,c.y=l<0?-qt:qt;else{if(c.y=this.E/Math.sqrt((1+l)/(1-l)),c.y=Kx(this.e,Math.pow(c.y,1/this.B)),c.y===1/0)throw new Error;c.x=-this.rB*Math.atan2(a*this.cosgam-o*this.singam,Math.cos(this.BrA*t))}return c.x+=this.lam0,c}var Vde=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Variant_B","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const Gde={init:$de,forward:Wde,inverse:Hde,names:Vde};function qde(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<dr)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),r=Math.cos(this.lat1),s=K0(this.e,t,r),a=Yd(this.e,this.lat1,t),i=Math.sin(this.lat2),o=Math.cos(this.lat2),l=K0(this.e,i,o),c=Yd(this.e,this.lat2,i),d=Math.abs(Math.abs(this.lat0)-qt)<dr?0:Yd(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>dr?this.ns=Math.log(s/l)/Math.log(a/c):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=s/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(d,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Kde(e){var t=e.x,r=e.y;Math.abs(2*Math.abs(r)-Math.PI)<=dr&&(r=kg(r)*(qt-2*dr));var s=Math.abs(Math.abs(r)-qt),a,i;if(s>dr)a=Yd(this.e,r,Math.sin(r)),i=this.a*this.f0*Math.pow(a,this.ns);else{if(s=r*this.ns,s<=0)return null;i=0}var o=this.ns*ur(t-this.long0);return e.x=this.k0*(i*Math.sin(o))+this.x0,e.y=this.k0*(this.rh-i*Math.cos(o))+this.y0,e}function Yde(e){var t,r,s,a,i,o=(e.x-this.x0)/this.k0,l=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(o*o+l*l),r=1):(t=-Math.sqrt(o*o+l*l),r=-1);var c=0;if(t!==0&&(c=Math.atan2(r*o,r*l)),t!==0||this.ns>0){if(r=1/this.ns,s=Math.pow(t/(this.a*this.f0),r),a=Kx(this.e,s),a===-9999)return null}else a=-qt;return i=ur(c/this.ns+this.long0),e.x=i,e.y=a,e}var Zde=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const Xde={init:qde,forward:Kde,inverse:Yde,names:Zde};function Jde(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function Qde(e){var t,r,s,a,i,o,l,c=e.x,d=e.y,u=ur(c-this.long0);return t=Math.pow((1+this.e*Math.sin(d))/(1-this.e*Math.sin(d)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(d/2+this.s45),this.alfa)/t)-this.s45),s=-u*this.alfa,a=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(s)),i=Math.asin(Math.cos(r)*Math.sin(s)/Math.cos(a)),o=this.n*i,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(a/2+this.s45),this.n),e.y=l*Math.cos(o)/1,e.x=l*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e}function e0e(e){var t,r,s,a,i,o,l,c,d=e.x;e.x=e.y,e.y=d,this.czech||(e.y*=-1,e.x*=-1),o=Math.sqrt(e.x*e.x+e.y*e.y),i=Math.atan2(e.y,e.x),a=i/Math.sin(this.s0),s=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(s)-Math.sin(this.ad)*Math.cos(s)*Math.cos(a)),r=Math.asin(Math.cos(s)*Math.sin(a)/Math.cos(t)),e.x=this.long0-r/this.alfa,l=t,c=0;var u=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.e/2))-this.s45),Math.abs(l-e.y)<1e-10&&(c=1),l=e.y,u+=1;while(c===0&&u<15);return u>=15?null:e}var t0e=["Krovak","krovak"];const r0e={init:Jde,forward:Qde,inverse:e0e,names:t0e};function _l(e,t,r,s,a){return e*a-t*Math.sin(2*a)+r*Math.sin(4*a)-s*Math.sin(6*a)}function jg(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function Cg(e){return .375*e*(1+.25*e*(1+.46875*e))}function Sg(e){return .05859375*e*e*(1+.75*e)}function Eg(e){return e*e*e*(35/3072)}function b3(e,t,r){var s=t*r;return e/Math.sqrt(1-s*s)}function Zh(e){return Math.abs(e)<qt?e:e-kg(e)*Math.PI}function yy(e,t,r,s,a){var i,o;i=e/t;for(var l=0;l<15;l++)if(o=(e-(t*i-r*Math.sin(2*i)+s*Math.sin(4*i)-a*Math.sin(6*i)))/(t-2*r*Math.cos(2*i)+4*s*Math.cos(4*i)-6*a*Math.cos(6*i)),i+=o,Math.abs(o)<=1e-10)return i;return NaN}function s0e(){this.sphere||(this.e0=jg(this.es),this.e1=Cg(this.es),this.e2=Sg(this.es),this.e3=Eg(this.es),this.ml0=this.a*_l(this.e0,this.e1,this.e2,this.e3,this.lat0))}function a0e(e){var t,r,s=e.x,a=e.y;if(s=ur(s-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(a)*Math.sin(s)),r=this.a*(Math.atan2(Math.tan(a),Math.cos(s))-this.lat0);else{var i=Math.sin(a),o=Math.cos(a),l=b3(this.a,this.e,i),c=Math.tan(a)*Math.tan(a),d=s*Math.cos(a),u=d*d,p=this.es*o*o/(1-this.es),x=this.a*_l(this.e0,this.e1,this.e2,this.e3,a);t=l*d*(1-u*c*(1/6-(8-c+8*p)*u/120)),r=x-this.ml0+l*i/o*u*(.5+(5-c+6*p)*u/24)}return e.x=t+this.x0,e.y=r+this.y0,e}function n0e(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,r=e.y/this.a,s,a;if(this.sphere){var i=r+this.lat0;s=Math.asin(Math.sin(i)*Math.cos(t)),a=Math.atan2(Math.tan(t),Math.cos(i))}else{var o=this.ml0/this.a+r,l=yy(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(l)-qt)<=dr)return e.x=this.long0,e.y=qt,r<0&&(e.y*=-1),e;var c=b3(this.a,this.e,Math.sin(l)),d=c*c*c/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(l),2),p=t*this.a/c,x=p*p;s=l-c*Math.tan(l)/d*p*p*(.5-(1+3*u)*p*p/24),a=p*(1-x*(u/3+(1+3*u)*u*x/15))/Math.cos(l)}return e.x=ur(a+this.long0),e.y=Zh(s),e}var i0e=["Cassini","Cassini_Soldner","cass"];const o0e={init:s0e,forward:a0e,inverse:n0e,names:i0e};function Eh(e,t){var r;return e>1e-7?(r=e*t,(1-e*e)*(t/(1-r*r)-.5/e*Math.log((1-r)/(1+r)))):2*t}var C4=1,S4=2,E4=3,Av=4;function l0e(){var e=Math.abs(this.lat0);if(Math.abs(e-qt)<dr?this.mode=this.lat0<0?C4:S4:Math.abs(e)<dr?this.mode=E4:this.mode=Av,this.es>0){var t;switch(this.qp=Eh(this.e,1),this.mmf=.5/(1-this.es),this.apa=g0e(this.es),this.mode){case S4:this.dd=1;break;case C4:this.dd=1;break;case E4:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case Av:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Eh(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===Av&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function c0e(e){var t,r,s,a,i,o,l,c,d,u,p=e.x,x=e.y;if(p=ur(p-this.long0),this.sphere){if(i=Math.sin(x),u=Math.cos(x),s=Math.cos(p),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r=this.mode===this.EQUIT?1+u*s:1+this.sinph0*i+this.cosph0*u*s,r<=dr)return null;r=Math.sqrt(2/r),t=r*u*Math.sin(p),r*=this.mode===this.EQUIT?i:this.cosph0*i-this.sinph0*u*s}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(s=-s),Math.abs(x+this.lat0)<dr)return null;r=ua-x*.5,r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)),t=r*Math.sin(p),r*=s}}else{switch(l=0,c=0,d=0,s=Math.cos(p),a=Math.sin(p),i=Math.sin(x),o=Eh(this.e,i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(l=o/this.qp,c=Math.sqrt(1-l*l)),this.mode){case this.OBLIQ:d=1+this.sinb1*l+this.cosb1*c*s;break;case this.EQUIT:d=1+c*s;break;case this.N_POLE:d=qt+x,o=this.qp-o;break;case this.S_POLE:d=x-qt,o=this.qp+o;break}if(Math.abs(d)<dr)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:d=Math.sqrt(2/d),this.mode===this.OBLIQ?r=this.ymf*d*(this.cosb1*l-this.sinb1*c*s):r=(d=Math.sqrt(2/(1+c*s)))*l*this.ymf,t=this.xmf*d*c*a;break;case this.N_POLE:case this.S_POLE:o>=0?(t=(d=Math.sqrt(o))*a,r=s*(this.mode===this.S_POLE?d:-d)):t=r=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*r+this.y0,e}function d0e(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,r=e.y/this.a,s,a,i,o,l,c,d;if(this.sphere){var u=0,p,x=0;if(p=Math.sqrt(t*t+r*r),a=p*.5,a>1)return null;switch(a=2*Math.asin(a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(x=Math.sin(a),u=Math.cos(a)),this.mode){case this.EQUIT:a=Math.abs(p)<=dr?0:Math.asin(r*x/p),t*=x,r=u*p;break;case this.OBLIQ:a=Math.abs(p)<=dr?this.lat0:Math.asin(u*this.sinph0+r*x*this.cosph0/p),t*=x*this.cosph0,r=(u-Math.sin(a)*this.sinph0)*p;break;case this.N_POLE:r=-r,a=qt-a;break;case this.S_POLE:a-=qt;break}s=r===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(t,r)}else{if(d=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t/=this.dd,r*=this.dd,c=Math.sqrt(t*t+r*r),c<dr)return e.x=this.long0,e.y=this.lat0,e;o=2*Math.asin(.5*c/this.rq),i=Math.cos(o),t*=o=Math.sin(o),this.mode===this.OBLIQ?(d=i*this.sinb1+r*o*this.cosb1/c,l=this.qp*d,r=c*this.cosb1*i-r*this.sinb1*o):(d=r*o/c,l=this.qp*d,r=c*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),l=t*t+r*r,!l)return e.x=this.long0,e.y=this.lat0,e;d=1-l/this.qp,this.mode===this.S_POLE&&(d=-d)}s=Math.atan2(t,r),a=v0e(Math.asin(d),this.apa)}return e.x=ur(this.long0+s),e.y=a,e}var u0e=.3333333333333333,h0e=.17222222222222222,f0e=.10257936507936508,m0e=.06388888888888888,p0e=.0664021164021164,x0e=.016415012942191543;function g0e(e){var t,r=[];return r[0]=e*u0e,t=e*e,r[0]+=t*h0e,r[1]=t*m0e,t*=e,r[0]+=t*f0e,r[1]+=t*p0e,r[2]=t*x0e,r}function v0e(e,t){var r=e+e;return e+t[0]*Math.sin(r)+t[1]*Math.sin(r+r)+t[2]*Math.sin(r+r+r)}var y0e=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const b0e={init:l0e,forward:c0e,inverse:d0e,names:y0e,S_POLE:C4,N_POLE:S4,EQUIT:E4,OBLIQ:Av};function Uh(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function _0e(){Math.abs(this.lat1+this.lat2)<dr||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=K0(this.e3,this.sin_po,this.cos_po),this.qs1=Eh(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=K0(this.e3,this.sin_po,this.cos_po),this.qs2=Eh(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Eh(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>dr?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function w0e(e){var t=e.x,r=e.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var s=Eh(this.e3,this.sin_phi),a=this.a*Math.sqrt(this.c-this.ns0*s)/this.ns0,i=this.ns0*ur(t-this.long0),o=a*Math.sin(i)+this.x0,l=this.rh-a*Math.cos(i)+this.y0;return e.x=o,e.y=l,e}function N0e(e){var t,r,s,a,i,o;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),s=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),s=-1),a=0,t!==0&&(a=Math.atan2(s*e.x,s*e.y)),s=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-s*s)/(2*this.ns0)):(r=(this.c-s*s)/this.ns0,o=this.phi1z(this.e3,r)),i=ur(a/this.ns0+this.long0),e.x=i,e.y=o,e}function k0e(e,t){var r,s,a,i,o,l=Uh(.5*t);if(e<dr)return l;for(var c=e*e,d=1;d<=25;d++)if(r=Math.sin(l),s=Math.cos(l),a=e*r,i=1-a*a,o=.5*i*i/s*(t/(1-c)-r/i+.5/e*Math.log((1-a)/(1+a))),l=l+o,Math.abs(o)<=1e-7)return l;return null}var j0e=["Albers_Conic_Equal_Area","Albers_Equal_Area","Albers","aea"];const C0e={init:_0e,forward:w0e,inverse:N0e,names:j0e,phi1z:k0e};function S0e(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function E0e(e){var t,r,s,a,i,o,l,c,d=e.x,u=e.y;return s=ur(d-this.long0),t=Math.sin(u),r=Math.cos(u),a=Math.cos(s),o=this.sin_p14*t+this.cos_p14*r*a,i=1,o>0||Math.abs(o)<=dr?(l=this.x0+this.a*i*r*Math.sin(s)/o,c=this.y0+this.a*i*(this.cos_p14*t-this.sin_p14*r*a)/o):(l=this.x0+this.infinity_dist*r*Math.sin(s),c=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*r*a)),e.x=l,e.y=c,e}function A0e(e){var t,r,s,a,i,o;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(a=Math.atan2(t,this.rc),r=Math.sin(a),s=Math.cos(a),o=Uh(s*this.sin_p14+e.y*r*this.cos_p14/t),i=Math.atan2(e.x*r,t*this.cos_p14*s-e.y*this.sin_p14*r),i=ur(this.long0+i)):(o=this.phic0,i=0),e.x=i,e.y=o,e}var T0e=["gnom"];const M0e={init:S0e,forward:E0e,inverse:A0e,names:T0e};function L0e(e,t){var r=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-r)<1e-6)return t<0?-1*qt:qt;for(var s=Math.asin(.5*t),a,i,o,l,c=0;c<30;c++)if(i=Math.sin(s),o=Math.cos(s),l=e*i,a=Math.pow(1-l*l,2)/(2*o)*(t/(1-e*e)-i/(1-l*l)+.5/e*Math.log((1-l)/(1+l))),s+=a,Math.abs(a)<=1e-10)return s;return NaN}function P0e(){this.sphere||(this.k0=K0(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function F0e(e){var t=e.x,r=e.y,s,a,i=ur(t-this.long0);if(this.sphere)s=this.x0+this.a*i*Math.cos(this.lat_ts),a=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var o=Eh(this.e,Math.sin(r));s=this.x0+this.a*this.k0*i,a=this.y0+this.a*o*.5/this.k0}return e.x=s,e.y=a,e}function D0e(e){e.x-=this.x0,e.y-=this.y0;var t,r;return this.sphere?(t=ur(this.long0+e.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(r=L0e(this.e,2*e.y*this.k0/this.a),t=ur(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=r,e}var I0e=["cea"];const R0e={init:P0e,forward:F0e,inverse:D0e,names:I0e};function O0e(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function B0e(e){var t=e.x,r=e.y,s=ur(t-this.long0),a=Zh(r-this.lat0);return e.x=this.x0+this.a*s*this.rc,e.y=this.y0+this.a*a,e}function z0e(e){var t=e.x,r=e.y;return e.x=ur(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Zh(this.lat0+(r-this.y0)/this.a),e}var U0e=["Equirectangular","Equidistant_Cylindrical","Equidistant_Cylindrical_Spherical","eqc"];const $0e={init:O0e,forward:B0e,inverse:z0e,names:U0e};var k8=20;function W0e(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=jg(this.es),this.e1=Cg(this.es),this.e2=Sg(this.es),this.e3=Eg(this.es),this.ml0=this.a*_l(this.e0,this.e1,this.e2,this.e3,this.lat0)}function H0e(e){var t=e.x,r=e.y,s,a,i,o=ur(t-this.long0);if(i=o*Math.sin(r),this.sphere)Math.abs(r)<=dr?(s=this.a*o,a=-1*this.a*this.lat0):(s=this.a*Math.sin(i)/Math.tan(r),a=this.a*(Zh(r-this.lat0)+(1-Math.cos(i))/Math.tan(r)));else if(Math.abs(r)<=dr)s=this.a*o,a=-1*this.ml0;else{var l=b3(this.a,this.e,Math.sin(r))/Math.tan(r);s=l*Math.sin(i),a=this.a*_l(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+l*(1-Math.cos(i))}return e.x=s+this.x0,e.y=a+this.y0,e}function V0e(e){var t,r,s,a,i,o,l,c,d;if(s=e.x-this.x0,a=e.y-this.y0,this.sphere)if(Math.abs(a+this.a*this.lat0)<=dr)t=ur(s/this.a+this.long0),r=0;else{o=this.lat0+a/this.a,l=s*s/this.a/this.a+o*o,c=o;var u;for(i=k8;i;--i)if(u=Math.tan(c),d=-1*(o*(c*u+1)-c-.5*(c*c+l)*u)/((c-o)/u-1),c+=d,Math.abs(d)<=dr){r=c;break}t=ur(this.long0+Math.asin(s*Math.tan(c)/this.a)/Math.sin(r))}else if(Math.abs(a+this.ml0)<=dr)r=0,t=ur(this.long0+s/this.a);else{o=(this.ml0+a)/this.a,l=s*s/this.a/this.a+o*o,c=o;var p,x,f,y,v;for(i=k8;i;--i)if(v=this.e*Math.sin(c),p=Math.sqrt(1-v*v)*Math.tan(c),x=this.a*_l(this.e0,this.e1,this.e2,this.e3,c),f=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),y=x/this.a,d=(o*(p*y+1)-y-.5*p*(y*y+l))/(this.es*Math.sin(2*c)*(y*y+l-2*o*y)/(4*p)+(o-y)*(p*f-2/Math.sin(2*c))-f),c-=d,Math.abs(d)<=dr){r=c;break}p=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),t=ur(this.long0+Math.asin(s*p/this.a)/Math.sin(r))}return e.x=t,e.y=r,e}var G0e=["Polyconic","American_Polyconic","poly"];const q0e={init:W0e,forward:H0e,inverse:V0e,names:G0e};function K0e(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function Y0e(e){var t,r=e.x,s=e.y,a=s-this.lat0,i=r-this.long0,o=a/cx*1e-5,l=i,c=1,d=0;for(t=1;t<=10;t++)c=c*o,d=d+this.A[t]*c;var u=d,p=l,x=1,f=0,y,v,_=0,k=0;for(t=1;t<=6;t++)y=x*u-f*p,v=f*u+x*p,x=y,f=v,_=_+this.B_re[t]*x-this.B_im[t]*f,k=k+this.B_im[t]*x+this.B_re[t]*f;return e.x=k*this.a+this.x0,e.y=_*this.a+this.y0,e}function Z0e(e){var t,r=e.x,s=e.y,a=r-this.x0,i=s-this.y0,o=i/this.a,l=a/this.a,c=1,d=0,u,p,x=0,f=0;for(t=1;t<=6;t++)u=c*o-d*l,p=d*o+c*l,c=u,d=p,x=x+this.C_re[t]*c-this.C_im[t]*d,f=f+this.C_im[t]*c+this.C_re[t]*d;for(var y=0;y<this.iterations;y++){var v=x,_=f,k,S,M=o,T=l;for(t=2;t<=6;t++)k=v*x-_*f,S=_*x+v*f,v=k,_=S,M=M+(t-1)*(this.B_re[t]*v-this.B_im[t]*_),T=T+(t-1)*(this.B_im[t]*v+this.B_re[t]*_);v=1,_=0;var O=this.B_re[1],A=this.B_im[1];for(t=2;t<=6;t++)k=v*x-_*f,S=_*x+v*f,v=k,_=S,O=O+t*(this.B_re[t]*v-this.B_im[t]*_),A=A+t*(this.B_im[t]*v+this.B_re[t]*_);var C=O*O+A*A;x=(M*O+T*A)/C,f=(T*O-M*A)/C}var N=x,E=f,z=1,P=0;for(t=1;t<=9;t++)z=z*N,P=P+this.D[t]*z;var I=this.lat0+P*cx*1e5,W=this.long0+E;return e.x=W,e.y=I,e}var X0e=["New_Zealand_Map_Grid","nzmg"];const J0e={init:K0e,forward:Y0e,inverse:Z0e,names:X0e};function Q0e(){}function eue(e){var t=e.x,r=e.y,s=ur(t-this.long0),a=this.x0+this.a*s,i=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return e.x=a,e.y=i,e}function tue(e){e.x-=this.x0,e.y-=this.y0;var t=ur(this.long0+e.x/this.a),r=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=r,e}var rue=["Miller_Cylindrical","mill"];const sue={init:Q0e,forward:eue,inverse:tue,names:rue};var aue=20;function nue(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=m3(this.es)}function iue(e){var t,r,s=e.x,a=e.y;if(s=ur(s-this.long0),this.sphere){if(!this.m)a=this.n!==1?Math.asin(this.n*Math.sin(a)):a;else for(var i=this.n*Math.sin(a),o=aue;o;--o){var l=(this.m*a+Math.sin(a)-i)/(this.m+Math.cos(a));if(a-=l,Math.abs(l)<dr)break}t=this.a*this.C_x*s*(this.m+Math.cos(a)),r=this.a*this.C_y*a}else{var c=Math.sin(a),d=Math.cos(a);r=this.a*Vp(a,c,d,this.en),t=this.a*s*d/Math.sqrt(1-this.es*c*c)}return e.x=t,e.y=r,e}function oue(e){var t,r,s,a;return e.x-=this.x0,s=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,s=s/(this.C_x*(this.m+Math.cos(t))),this.m?t=Uh((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=Uh(Math.sin(t)/this.n)),s=ur(s+this.long0),t=Zh(t)):(t=p3(e.y/this.a,this.es,this.en),a=Math.abs(t),a<qt?(a=Math.sin(t),r=this.long0+e.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(t)),s=ur(r)):a-dr<qt&&(s=this.long0)),e.x=s,e.y=t,e}var lue=["Sinusoidal","sinu"];const cue={init:nue,forward:iue,inverse:oue,names:lue};function due(){}function uue(e){for(var t=e.x,r=e.y,s=ur(t-this.long0),a=r,i=Math.PI*Math.sin(r);;){var o=-(a+Math.sin(a)-i)/(1+Math.cos(a));if(a+=o,Math.abs(o)<dr)break}a/=2,Math.PI/2-Math.abs(r)<dr&&(s=0);var l=.900316316158*this.a*s*Math.cos(a)+this.x0,c=1.4142135623731*this.a*Math.sin(a)+this.y0;return e.x=l,e.y=c,e}function hue(e){var t,r;e.x-=this.x0,e.y-=this.y0,r=e.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),t=Math.asin(r);var s=ur(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));s<-Math.PI&&(s=-Math.PI),s>Math.PI&&(s=Math.PI),r=(2*t+Math.sin(2*t))/Math.PI,Math.abs(r)>1&&(r=1);var a=Math.asin(r);return e.x=s,e.y=a,e}var fue=["Mollweide","moll"];const mue={init:due,forward:uue,inverse:hue,names:fue};function pue(){Math.abs(this.lat1+this.lat2)<dr||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=jg(this.es),this.e1=Cg(this.es),this.e2=Sg(this.es),this.e3=Eg(this.es),this.sin_phi=Math.sin(this.lat1),this.cos_phi=Math.cos(this.lat1),this.ms1=K0(this.e,this.sin_phi,this.cos_phi),this.ml1=_l(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<dr?this.ns=this.sin_phi:(this.sin_phi=Math.sin(this.lat2),this.cos_phi=Math.cos(this.lat2),this.ms2=K0(this.e,this.sin_phi,this.cos_phi),this.ml2=_l(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=_l(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function xue(e){var t=e.x,r=e.y,s;if(this.sphere)s=this.a*(this.g-r);else{var a=_l(this.e0,this.e1,this.e2,this.e3,r);s=this.a*(this.g-a)}var i=this.ns*ur(t-this.long0),o=this.x0+s*Math.sin(i),l=this.y0+this.rh-s*Math.cos(i);return e.x=o,e.y=l,e}function gue(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,r,s,a;this.ns>=0?(r=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(r=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var i=0;if(r!==0&&(i=Math.atan2(t*e.x,t*e.y)),this.sphere)return a=ur(this.long0+i/this.ns),s=Zh(this.g-r/this.a),e.x=a,e.y=s,e;var o=this.g-r/this.a;return s=yy(o,this.e0,this.e1,this.e2,this.e3),a=ur(this.long0+i/this.ns),e.x=a,e.y=s,e}var vue=["Equidistant_Conic","eqdc"];const yue={init:pue,forward:xue,inverse:gue,names:vue};function bue(){this.R=this.a}function _ue(e){var t=e.x,r=e.y,s=ur(t-this.long0),a,i;Math.abs(r)<=dr&&(a=this.x0+this.R*s,i=this.y0);var o=Uh(2*Math.abs(r/Math.PI));(Math.abs(s)<=dr||Math.abs(Math.abs(r)-qt)<=dr)&&(a=this.x0,r>=0?i=this.y0+Math.PI*this.R*Math.tan(.5*o):i=this.y0+Math.PI*this.R*-Math.tan(.5*o));var l=.5*Math.abs(Math.PI/s-s/Math.PI),c=l*l,d=Math.sin(o),u=Math.cos(o),p=u/(d+u-1),x=p*p,f=p*(2/d-1),y=f*f,v=Math.PI*this.R*(l*(p-y)+Math.sqrt(c*(p-y)*(p-y)-(y+c)*(x-y)))/(y+c);s<0&&(v=-v),a=this.x0+v;var _=c+p;return v=Math.PI*this.R*(f*_-l*Math.sqrt((y+c)*(c+1)-_*_))/(y+c),r>=0?i=this.y0+v:i=this.y0-v,e.x=a,e.y=i,e}function wue(e){var t,r,s,a,i,o,l,c,d,u,p,x,f;return e.x-=this.x0,e.y-=this.y0,p=Math.PI*this.R,s=e.x/p,a=e.y/p,i=s*s+a*a,o=-Math.abs(a)*(1+i),l=o-2*a*a+s*s,c=-2*o+1+2*a*a+i*i,f=a*a/c+(2*l*l*l/c/c/c-9*o*l/c/c)/27,d=(o-l*l/3/c)/c,u=2*Math.sqrt(-d/3),p=3*f/d/u,Math.abs(p)>1&&(p>=0?p=1:p=-1),x=Math.acos(p)/3,e.y>=0?r=(-u*Math.cos(x+Math.PI/3)-l/3/c)*Math.PI:r=-(-u*Math.cos(x+Math.PI/3)-l/3/c)*Math.PI,Math.abs(s)<dr?t=this.long0:t=ur(this.long0+Math.PI*(i-1+Math.sqrt(1+2*(s*s-a*a)+i*i))/2/s),e.x=t,e.y=r,e}var Nue=["Van_der_Grinten_I","VanDerGrinten","Van_der_Grinten","vandg"];const kue={init:bue,forward:_ue,inverse:wue,names:Nue};function jue(e,t,r,s,a,i){const o=s-t,l=Math.atan((1-i)*Math.tan(e)),c=Math.atan((1-i)*Math.tan(r)),d=Math.sin(l),u=Math.cos(l),p=Math.sin(c),x=Math.cos(c);let f=o,y,v=100,_,k,S,M,T,O,A,C,N,E,z,P,I,W;do{if(_=Math.sin(f),k=Math.cos(f),S=Math.sqrt(x*_*(x*_)+(u*p-d*x*k)*(u*p-d*x*k)),S===0)return{azi1:0,s12:0};M=d*p+u*x*k,T=Math.atan2(S,M),O=u*x*_/S,A=1-O*O,C=A!==0?M-2*d*p/A:0,N=i/16*A*(4+i*(4-3*A)),y=f,f=o+(1-N)*i*O*(T+N*S*(C+N*M*(-1+2*C*C)))}while(Math.abs(f-y)>1e-12&&--v>0);return v===0?{azi1:NaN,s12:NaN}:(E=A*(a*a-a*(1-i)*(a*(1-i)))/(a*(1-i)*(a*(1-i))),z=1+E/16384*(4096+E*(-768+E*(320-175*E))),P=E/1024*(256+E*(-128+E*(74-47*E))),I=P*S*(C+P/4*(M*(-1+2*C*C)-P/6*C*(-3+4*S*S)*(-3+4*C*C))),W=a*(1-i)*z*(T-I),{azi1:Math.atan2(x*_,u*p-d*x*k),s12:W})}function Cue(e,t,r,s,a,i){const o=Math.atan((1-i)*Math.tan(e)),l=Math.sin(o),c=Math.cos(o),d=Math.sin(r),u=Math.cos(r),p=Math.atan2(l,c*u),x=c*d,f=1-x*x,y=f*(a*a-a*(1-i)*(a*(1-i)))/(a*(1-i)*(a*(1-i))),v=1+y/16384*(4096+y*(-768+y*(320-175*y))),_=y/1024*(256+y*(-128+y*(74-47*y)));let k=s/(a*(1-i)*v),S,M=100,T,O,A,C;do T=Math.cos(2*p+k),O=Math.sin(k),A=Math.cos(k),C=_*O*(T+_/4*(A*(-1+2*T*T)-_/6*T*(-3+4*O*O)*(-3+4*T*T))),S=k,k=s/(a*(1-i)*v)+C;while(Math.abs(k-S)>1e-12&&--M>0);if(M===0)return{lat2:NaN,lon2:NaN};const N=l*O-c*A*u,E=Math.atan2(l*A+c*O*u,(1-i)*Math.sqrt(x*x+N*N)),z=Math.atan2(O*d,c*A-l*O*u),P=i/16*f*(4+i*(4-3*f)),I=z-(1-P)*i*x*(k+P*O*(T+P*A*(-1+2*T*T))),W=t+I;return{lat2:E,lon2:W}}function Sue(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0),this.f=this.es/(1+Math.sqrt(1-this.es))}function Eue(e){var t=e.x,r=e.y,s=Math.sin(e.y),a=Math.cos(e.y),i=ur(t-this.long0),o,l,c,d,u,p,x,f,y,v,_;return this.sphere?Math.abs(this.sin_p12-1)<=dr?(e.x=this.x0+this.a*(qt-r)*Math.sin(i),e.y=this.y0-this.a*(qt-r)*Math.cos(i),e):Math.abs(this.sin_p12+1)<=dr?(e.x=this.x0+this.a*(qt+r)*Math.sin(i),e.y=this.y0+this.a*(qt+r)*Math.cos(i),e):(y=this.sin_p12*s+this.cos_p12*a*Math.cos(i),x=Math.acos(y),f=x?x/Math.sin(x):1,e.x=this.x0+this.a*f*a*Math.sin(i),e.y=this.y0+this.a*f*(this.cos_p12*s-this.sin_p12*a*Math.cos(i)),e):(o=jg(this.es),l=Cg(this.es),c=Sg(this.es),d=Eg(this.es),Math.abs(this.sin_p12-1)<=dr?(u=this.a*_l(o,l,c,d,qt),p=this.a*_l(o,l,c,d,r),e.x=this.x0+(u-p)*Math.sin(i),e.y=this.y0-(u-p)*Math.cos(i),e):Math.abs(this.sin_p12+1)<=dr?(u=this.a*_l(o,l,c,d,qt),p=this.a*_l(o,l,c,d,r),e.x=this.x0+(u+p)*Math.sin(i),e.y=this.y0+(u+p)*Math.cos(i),e):Math.abs(t)<dr&&Math.abs(r-this.lat0)<dr?(e.x=e.y=0,e):(v=jue(this.lat0,this.long0,r,t,this.a,this.f),_=v.azi1,e.x=v.s12*Math.sin(_),e.y=v.s12*Math.cos(_),e))}function Aue(e){e.x-=this.x0,e.y-=this.y0;var t,r,s,a,i,o,l,c,d,u,p,x,f,y,v,_;return this.sphere?(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*qt*this.a?void 0:(r=t/this.a,s=Math.sin(r),a=Math.cos(r),i=this.long0,Math.abs(t)<=dr?o=this.lat0:(o=Uh(a*this.sin_p12+e.y*s*this.cos_p12/t),l=Math.abs(this.lat0)-qt,Math.abs(l)<=dr?this.lat0>=0?i=ur(this.long0+Math.atan2(e.x,-e.y)):i=ur(this.long0-Math.atan2(-e.x,e.y)):i=ur(this.long0+Math.atan2(e.x*s,t*this.cos_p12*a-e.y*this.sin_p12*s))),e.x=i,e.y=o,e)):(c=jg(this.es),d=Cg(this.es),u=Sg(this.es),p=Eg(this.es),Math.abs(this.sin_p12-1)<=dr?(x=this.a*_l(c,d,u,p,qt),t=Math.sqrt(e.x*e.x+e.y*e.y),f=x-t,o=yy(f/this.a,c,d,u,p),i=ur(this.long0+Math.atan2(e.x,-1*e.y)),e.x=i,e.y=o,e):Math.abs(this.sin_p12+1)<=dr?(x=this.a*_l(c,d,u,p,qt),t=Math.sqrt(e.x*e.x+e.y*e.y),f=t-x,o=yy(f/this.a,c,d,u,p),i=ur(this.long0+Math.atan2(e.x,e.y)),e.x=i,e.y=o,e):(y=Math.atan2(e.x,e.y),v=Math.sqrt(e.x*e.x+e.y*e.y),_=Cue(this.lat0,this.long0,y,v,this.a,this.f),e.x=_.lon2,e.y=_.lat2,e))}var Tue=["Azimuthal_Equidistant","aeqd"];const Mue={init:Sue,forward:Eue,inverse:Aue,names:Tue};function Lue(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Pue(e){var t,r,s,a,i,o,l,c,d=e.x,u=e.y;return s=ur(d-this.long0),t=Math.sin(u),r=Math.cos(u),a=Math.cos(s),o=this.sin_p14*t+this.cos_p14*r*a,i=1,(o>0||Math.abs(o)<=dr)&&(l=this.a*i*r*Math.sin(s),c=this.y0+this.a*i*(this.cos_p14*t-this.sin_p14*r*a)),e.x=l,e.y=c,e}function Fue(e){var t,r,s,a,i,o,l;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),r=Uh(t/this.a),s=Math.sin(r),a=Math.cos(r),o=this.long0,Math.abs(t)<=dr?(l=this.lat0,e.x=o,e.y=l,e):(l=Uh(a*this.sin_p14+e.y*s*this.cos_p14/t),i=Math.abs(this.lat0)-qt,Math.abs(i)<=dr?(this.lat0>=0?o=ur(this.long0+Math.atan2(e.x,-e.y)):o=ur(this.long0-Math.atan2(-e.x,e.y)),e.x=o,e.y=l,e):(o=ur(this.long0+Math.atan2(e.x*s,t*this.cos_p14*a-e.y*this.sin_p14*s)),e.x=o,e.y=l,e))}var Due=["ortho"];const Iue={init:Lue,forward:Pue,inverse:Fue,names:Due};var yn={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},ha={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Rue(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=qt-ua/2?this.face=yn.TOP:this.lat0<=-(qt-ua/2)?this.face=yn.BOTTOM:Math.abs(this.long0)<=ua?this.face=yn.FRONT:Math.abs(this.long0)<=qt+ua?this.face=this.long0>0?yn.RIGHT:yn.LEFT:this.face=yn.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Oue(e){var t={x:0,y:0},r,s,a,i,o,l,c={value:0};if(e.x-=this.long0,this.es!==0?r=Math.atan(this.one_minus_f_squared*Math.tan(e.y)):r=e.y,s=e.x,this.face===yn.TOP)i=qt-r,s>=ua&&s<=qt+ua?(c.value=ha.AREA_0,a=s-qt):s>qt+ua||s<=-(qt+ua)?(c.value=ha.AREA_1,a=s>0?s-Kn:s+Kn):s>-(qt+ua)&&s<=-ua?(c.value=ha.AREA_2,a=s+qt):(c.value=ha.AREA_3,a=s);else if(this.face===yn.BOTTOM)i=qt+r,s>=ua&&s<=qt+ua?(c.value=ha.AREA_0,a=-s+qt):s<ua&&s>=-ua?(c.value=ha.AREA_1,a=-s):s<-ua&&s>=-(qt+ua)?(c.value=ha.AREA_2,a=-s-qt):(c.value=ha.AREA_3,a=s>0?-s+Kn:-s-Kn);else{var d,u,p,x,f,y,v;this.face===yn.RIGHT?s=up(s,+qt):this.face===yn.BACK?s=up(s,+Kn):this.face===yn.LEFT&&(s=up(s,-qt)),x=Math.sin(r),f=Math.cos(r),y=Math.sin(s),v=Math.cos(s),d=f*v,u=f*y,p=x,this.face===yn.FRONT?(i=Math.acos(d),a=X2(i,p,u,c)):this.face===yn.RIGHT?(i=Math.acos(u),a=X2(i,p,-d,c)):this.face===yn.BACK?(i=Math.acos(-d),a=X2(i,p,-u,c)):this.face===yn.LEFT?(i=Math.acos(-u),a=X2(i,p,d,c)):(i=a=0,c.value=ha.AREA_0)}return l=Math.atan(12/Kn*(a+Math.acos(Math.sin(a)*Math.cos(ua))-qt)),o=Math.sqrt((1-Math.cos(i))/(Math.cos(l)*Math.cos(l))/(1-Math.cos(Math.atan(1/Math.cos(a))))),c.value===ha.AREA_1?l+=qt:c.value===ha.AREA_2?l+=Kn:c.value===ha.AREA_3&&(l+=1.5*Kn),t.x=o*Math.cos(l),t.y=o*Math.sin(l),t.x=t.x*this.a+this.x0,t.y=t.y*this.a+this.y0,e.x=t.x,e.y=t.y,e}function Bue(e){var t={lam:0,phi:0},r,s,a,i,o,l,c,d,u,p={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,s=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),r=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?p.value=ha.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(p.value=ha.AREA_1,r-=qt):e.x<0&&-e.x>=Math.abs(e.y)?(p.value=ha.AREA_2,r=r<0?r+Kn:r-Kn):(p.value=ha.AREA_3,r+=qt),u=Kn/12*Math.tan(r),o=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),l=Math.atan(o),a=Math.cos(r),i=Math.tan(s),c=1-a*a*i*i*(1-Math.cos(Math.atan(1/Math.cos(l)))),c<-1?c=-1:c>1&&(c=1),this.face===yn.TOP)d=Math.acos(c),t.phi=qt-d,p.value===ha.AREA_0?t.lam=l+qt:p.value===ha.AREA_1?t.lam=l<0?l+Kn:l-Kn:p.value===ha.AREA_2?t.lam=l-qt:t.lam=l;else if(this.face===yn.BOTTOM)d=Math.acos(c),t.phi=d-qt,p.value===ha.AREA_0?t.lam=-l+qt:p.value===ha.AREA_1?t.lam=-l:p.value===ha.AREA_2?t.lam=-l-qt:t.lam=l<0?-l-Kn:-l+Kn;else{var x,f,y;x=c,u=x*x,u>=1?y=0:y=Math.sqrt(1-u)*Math.sin(l),u+=y*y,u>=1?f=0:f=Math.sqrt(1-u),p.value===ha.AREA_1?(u=f,f=-y,y=u):p.value===ha.AREA_2?(f=-f,y=-y):p.value===ha.AREA_3&&(u=f,f=y,y=-u),this.face===yn.RIGHT?(u=x,x=-f,f=u):this.face===yn.BACK?(x=-x,f=-f):this.face===yn.LEFT&&(u=x,x=f,f=-u),t.phi=Math.acos(-y)-qt,t.lam=Math.atan2(f,x),this.face===yn.RIGHT?t.lam=up(t.lam,-qt):this.face===yn.BACK?t.lam=up(t.lam,-Kn):this.face===yn.LEFT&&(t.lam=up(t.lam,+qt))}if(this.es!==0){var v,_,k;v=t.phi<0?1:0,_=Math.tan(t.phi),k=this.b/Math.sqrt(_*_+this.one_minus_f_squared),t.phi=Math.atan(Math.sqrt(this.a*this.a-k*k)/(this.one_minus_f*k)),v&&(t.phi=-t.phi)}return t.lam+=this.long0,e.x=t.lam,e.y=t.phi,e}function X2(e,t,r,s){var a;return e<dr?(s.value=ha.AREA_0,a=0):(a=Math.atan2(t,r),Math.abs(a)<=ua?s.value=ha.AREA_0:a>ua&&a<=qt+ua?(s.value=ha.AREA_1,a-=qt):a>qt+ua||a<=-(qt+ua)?(s.value=ha.AREA_2,a=a>=0?a-Kn:a+Kn):(s.value=ha.AREA_3,a+=qt)),a}function up(e,t){var r=e+t;return r<-Kn?r+=Gx:r>+Kn&&(r-=Gx),r}var zue=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const Uue={init:Rue,forward:Oue,inverse:Bue,names:zue};var A4=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],B1=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],_L=.8487,wL=1.3523,NL=z0/5,$ue=1/NL,Ym=18,by=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},Wue=function(e,t){return e[1]+t*(2*e[2]+t*3*e[3])};function Hue(e,t,r,s){for(var a=t;s;--s){var i=e(a);if(a-=i,Math.abs(i)<r)break}return a}function Vue(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Gue(e){var t=ur(e.x-this.long0),r=Math.abs(e.y),s=Math.floor(r*NL);s<0?s=0:s>=Ym&&(s=Ym-1),r=z0*(r-$ue*s);var a={x:by(A4[s],r)*t,y:by(B1[s],r)};return e.y<0&&(a.y=-a.y),a.x=a.x*this.a*_L+this.x0,a.y=a.y*this.a*wL+this.y0,a}function que(e){var t={x:(e.x-this.x0)/(this.a*_L),y:Math.abs(e.y-this.y0)/(this.a*wL)};if(t.y>=1)t.x/=A4[Ym][0],t.y=e.y<0?-qt:qt;else{var r=Math.floor(t.y*Ym);for(r<0?r=0:r>=Ym&&(r=Ym-1);;)if(B1[r][0]>t.y)--r;else if(B1[r+1][0]<=t.y)++r;else break;var s=B1[r],a=5*(t.y-s[0])/(B1[r+1][0]-s[0]);a=Hue(function(i){return(by(s,i)-t.y)/Wue(s,i)},a,dr,100),t.x/=by(A4[r],a),t.y=(5*r+a)*go,e.y<0&&(t.y=-t.y)}return t.x=ur(t.x+this.long0),t}var Kue=["Robinson","robin"];const Yue={init:Vue,forward:Gue,inverse:que,names:Kue};function Zue(){this.name="geocent"}function Xue(e){var t=dL(e,this.es,this.a);return t}function Jue(e){var t=uL(e,this.es,this.a,this.b);return t}var Que=["Geocentric","geocentric","geocent","Geocent"];const ehe={init:Zue,forward:Xue,inverse:Jue,names:Que};var Vo={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},j1={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function the(){if(Object.keys(j1).forEach((function(r){if(typeof this[r]>"u")this[r]=j1[r].def;else{if(j1[r].num&&isNaN(this[r]))throw new Error("Invalid parameter value, must be numeric "+r+" = "+this[r]);j1[r].num&&(this[r]=parseFloat(this[r]))}j1[r].degrees&&(this[r]=this[r]*go)}).bind(this)),Math.abs(Math.abs(this.lat0)-qt)<dr?this.mode=this.lat0<0?Vo.S_POLE:Vo.N_POLE:Math.abs(this.lat0)<dr?this.mode=Vo.EQUIT:(this.mode=Vo.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function rhe(e){e.x-=this.long0;var t=Math.sin(e.y),r=Math.cos(e.y),s=Math.cos(e.x),a,i;switch(this.mode){case Vo.OBLIQ:i=this.sinph0*t+this.cosph0*r*s;break;case Vo.EQUIT:i=r*s;break;case Vo.S_POLE:i=-t;break;case Vo.N_POLE:i=t;break}switch(i=this.pn1/(this.p-i),a=i*r*Math.sin(e.x),this.mode){case Vo.OBLIQ:i*=this.cosph0*t-this.sinph0*r*s;break;case Vo.EQUIT:i*=t;break;case Vo.N_POLE:i*=-(r*s);break;case Vo.S_POLE:i*=r*s;break}var o,l;return o=i*this.cg+a*this.sg,l=1/(o*this.sw*this.h1+this.cw),a=(a*this.cg-i*this.sg)*this.cw*l,i=o*l,e.x=a*this.a,e.y=i*this.a,e}function she(e){e.x/=this.a,e.y/=this.a;var t={x:e.x,y:e.y},r,s,a;a=1/(this.pn1-e.y*this.sw),r=this.pn1*e.x*a,s=this.pn1*e.y*this.cw*a,e.x=r*this.cg+s*this.sg,e.y=s*this.cg-r*this.sg;var i=ql(e.x,e.y);if(Math.abs(i)<dr)t.x=0,t.y=e.y;else{var o,l;switch(l=1-i*i*this.pfact,l=(this.p-Math.sqrt(l))/(this.pn1/i+i/this.pn1),o=Math.sqrt(1-l*l),this.mode){case Vo.OBLIQ:t.y=Math.asin(o*this.sinph0+e.y*l*this.cosph0/i),e.y=(o-this.sinph0*Math.sin(t.y))*i,e.x*=l*this.cosph0;break;case Vo.EQUIT:t.y=Math.asin(e.y*l/i),e.y=o*i,e.x*=l;break;case Vo.N_POLE:t.y=Math.asin(o),e.y=-e.y;break;case Vo.S_POLE:t.y=-Math.asin(o);break}t.x=Math.atan2(e.x,e.y)}return e.x=t.x+this.long0,e.y=t.y,e}var ahe=["Tilted_Perspective","tpers"];const nhe={init:the,forward:rhe,inverse:she,names:ahe};function ihe(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function ohe(e){var t=e.x,r=e.y,s,a,i,o;if(t=t-this.long0,this.shape==="ellipse"){r=Math.atan(this.radius_p2*Math.tan(r));var l=this.radius_p/ql(this.radius_p*Math.cos(r),Math.sin(r));if(a=l*Math.cos(t)*Math.cos(r),i=l*Math.sin(t)*Math.cos(r),o=l*Math.sin(r),(this.radius_g-a)*a-i*i-o*o*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;s=this.radius_g-a,this.flip_axis?(e.x=this.radius_g_1*Math.atan(i/ql(o,s)),e.y=this.radius_g_1*Math.atan(o/s)):(e.x=this.radius_g_1*Math.atan(i/s),e.y=this.radius_g_1*Math.atan(o/ql(i,s)))}else this.shape==="sphere"&&(s=Math.cos(r),a=Math.cos(t)*s,i=Math.sin(t)*s,o=Math.sin(r),s=this.radius_g-a,this.flip_axis?(e.x=this.radius_g_1*Math.atan(i/ql(o,s)),e.y=this.radius_g_1*Math.atan(o/s)):(e.x=this.radius_g_1*Math.atan(i/s),e.y=this.radius_g_1*Math.atan(o/ql(i,s))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function lhe(e){var t=-1,r=0,s=0,a,i,o,l;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(s=Math.tan(e.y/this.radius_g_1),r=Math.tan(e.x/this.radius_g_1)*ql(1,s)):(r=Math.tan(e.x/this.radius_g_1),s=Math.tan(e.y/this.radius_g_1)*ql(1,r));var c=s/this.radius_p;if(a=r*r+c*c+t*t,i=2*this.radius_g*t,o=i*i-4*a*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;l=(-i-Math.sqrt(o))/(2*a),t=this.radius_g+l*t,r*=l,s*=l,e.x=Math.atan2(r,t),e.y=Math.atan(s*Math.cos(e.x)/t),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(s=Math.tan(e.y/this.radius_g_1),r=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+s*s)):(r=Math.tan(e.x/this.radius_g_1),s=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+r*r)),a=r*r+s*s+t*t,i=2*this.radius_g*t,o=i*i-4*a*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;l=(-i-Math.sqrt(o))/(2*a),t=this.radius_g+l*t,r*=l,s*=l,e.x=Math.atan2(r,t),e.y=Math.atan(s*Math.cos(e.x)/t)}return e.x=e.x+this.long0,e}var che=["Geostationary Satellite View","Geostationary_Satellite","geos"];const dhe={init:ihe,forward:ohe,inverse:lhe,names:che};var dx=1.340264,ux=-.081106,hx=893e-6,fx=.003796,_y=Math.sqrt(3)/2;function uhe(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function hhe(e){var t=ur(e.x-this.long0),r=e.y,s=Math.asin(_y*Math.sin(r)),a=s*s,i=a*a*a;return e.x=t*Math.cos(s)/(_y*(dx+3*ux*a+i*(7*hx+9*fx*a))),e.y=s*(dx+ux*a+i*(hx+fx*a)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function fhe(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t=1e-9,r=12,s=e.y,a,i,o,l,c,d;for(d=0;d<r&&(a=s*s,i=a*a*a,o=s*(dx+ux*a+i*(hx+fx*a))-e.y,l=dx+3*ux*a+i*(7*hx+9*fx*a),s-=c=o/l,!(Math.abs(c)<t));++d);return a=s*s,i=a*a*a,e.x=_y*e.x*(dx+3*ux*a+i*(7*hx+9*fx*a))/Math.cos(s),e.y=Math.asin(Math.sin(s)/_y),e.x=ur(e.x+this.long0),e}var mhe=["eqearth","Equal Earth","Equal_Earth"];const phe={init:uhe,forward:hhe,inverse:fhe,names:mhe};var Yx=1e-10;function xhe(){var e;if(this.phi1=this.lat1,Math.abs(this.phi1)<Yx)throw new Error;this.es?(this.en=m3(this.es),this.m1=Vp(this.phi1,this.am1=Math.sin(this.phi1),e=Math.cos(this.phi1),this.en),this.am1=e/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=vhe,this.forward=ghe):(Math.abs(this.phi1)+Yx>=qt?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=bhe,this.forward=yhe)}function ghe(e){var t=ur(e.x-(this.long0||0)),r=e.y,s,a,i;return s=this.am1+this.m1-Vp(r,a=Math.sin(r),i=Math.cos(r),this.en),a=i*t/(s*Math.sqrt(1-this.es*a*a)),e.x=s*Math.sin(a),e.y=this.am1-s*Math.cos(a),e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function vhe(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,r,s,a;if(r=ql(e.x,e.y=this.am1-e.y),a=p3(this.am1+this.m1-r,this.es,this.en),(t=Math.abs(a))<qt)t=Math.sin(a),s=r*Math.atan2(e.x,e.y)*Math.sqrt(1-this.es*t*t)/Math.cos(a);else if(Math.abs(t-qt)<=Yx)s=0;else throw new Error;return e.x=ur(s+(this.long0||0)),e.y=Zh(a),e}function yhe(e){var t=ur(e.x-(this.long0||0)),r=e.y,s,a;return a=this.cphi1+this.phi1-r,Math.abs(a)>Yx?(e.x=a*Math.sin(s=t*Math.cos(r)/a),e.y=this.cphi1-a*Math.cos(s)):e.x=e.y=0,e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function bhe(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,r,s=ql(e.x,e.y=this.cphi1-e.y);if(r=this.cphi1+this.phi1-s,Math.abs(r)>qt)throw new Error;return Math.abs(Math.abs(r)-qt)<=Yx?t=0:t=s*Math.atan2(e.x,e.y)/Math.cos(r),e.x=ur(t+(this.long0||0)),e.y=Zh(r),e}var _he=["bonne","Bonne (Werner lat_1=90)"];const whe={init:xhe,names:_he};function Nhe(e){e.Proj.projections.add(Sv),e.Proj.projections.add(Ev),e.Proj.projections.add(_de),e.Proj.projections.add(Tde),e.Proj.projections.add(Dde),e.Proj.projections.add(zde),e.Proj.projections.add(Gde),e.Proj.projections.add(Xde),e.Proj.projections.add(r0e),e.Proj.projections.add(o0e),e.Proj.projections.add(b0e),e.Proj.projections.add(C0e),e.Proj.projections.add(M0e),e.Proj.projections.add(R0e),e.Proj.projections.add($0e),e.Proj.projections.add(q0e),e.Proj.projections.add(J0e),e.Proj.projections.add(sue),e.Proj.projections.add(cue),e.Proj.projections.add(mue),e.Proj.projections.add(yue),e.Proj.projections.add(kue),e.Proj.projections.add(Mue),e.Proj.projections.add(Iue),e.Proj.projections.add(Uue),e.Proj.projections.add(Yue),e.Proj.projections.add(ehe),e.Proj.projections.add(nhe),e.Proj.projections.add(dhe),e.Proj.projections.add(phe),e.Proj.projections.add(whe)}const kL=Object.assign(Oce,{defaultDatum:"WGS84",Proj:Zd,WGS84:new Zd("WGS84"),Point:kp,toPoint:hL,defs:vl,nadgrid:bce,transform:vy,mgrs:Bce,version:"__VERSION__"});Nhe(kL);delete F0.Icon.Default.prototype._getIconUrl;F0.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const khe=({gpsCoordinates:e,surveyPoints:t,landDescription:r="Land Parcel",utmZone:s,utmHemisphere:a})=>{const i=U.useRef(null),o=U.useRef(null);return U.useEffect(()=>{if(!i.current||!e||!t)return;const l=T=>{const O=T.includes(",")?T.split(","):T.trim().split(/\s+/);if(O.length!==2)return null;const A=Number.parseFloat(O[0].trim()),C=Number.parseFloat(O[1].trim());return Number.isNaN(A)||Number.isNaN(C)?null:[A,C]},c=(T,O)=>Math.abs(T)<=90&&Math.abs(O)<=180,d=(T,O)=>`+proj=utm +zone=${T} ${O==="S"?"+south":""} +datum=WGS84 +units=m +no_defs`,u=T=>Math.floor((T+180)/6)+1,x=(T=>{const O=l(T);if(!O)return null;const[A,C]=O;return c(A,C)?{type:"latlng",coords:[A,C]}:c(C,A)?{type:"latlng",coords:[C,A]}:{type:"utm",coords:[A,C]}})(e);let f=s,y=a;if(!f||!y)if(x&&x.type==="latlng"){const[T,O]=x.coords;f=f??u(O),y=y??(T<0?"S":"N"),console.log(`[v0] Derived UTM zone=${f} hemisphere=${y} from center lat/lng`)}else console.warn("[v0] No lat/lng center available to derive UTM zone. If survey coordinates are ambiguous, pass utmZone & utmHemisphere props for 100% accuracy.");const v=T=>{const[O,A]=T;if(c(O,A))return[O,A];if(c(A,O))return[A,O];let C=f,N=y;if(!C||!N){const E=O;C=(E<5e5,37),N="S",console.warn(`[v0] Falling back to guessed UTM zone=${C} hemisphere=${N} for easting=${E}. Provide utmZone/utmHemisphere or a lat/lng center to avoid ambiguity.`)}try{const E=d(C,N),[z,P]=kL(E,"EPSG:4326",[O,A]);return[P,z]}catch(E){return console.error("[v0] UTM->WGS84 conversion failed",E),null}},_=[];Object.entries(t).forEach(([T,O])=>{const A=l(O);if(!A){console.warn(`[v0] Could not parse survey point ${T}: ${O}`);return}const C=v(A);if(!C){console.warn(`[v0] Could not convert survey point ${T} to lat/lng`);return}_.push({label:T,latlng:C})});let k=null;if(x)if(x.type==="latlng")k=x.coords;else{const T=v(x.coords);T&&(k=T)}!k&&_.length>0&&(k=_[0].latlng,console.warn("[v0] No explicit center could be computed  using first survey point as center")),k||(k=[-1.286389,36.817223],console.warn("[v0] Falling back to Nairobi default center")),o.current&&o.current.remove();const S=F0.map(i.current).setView(k,16);o.current=S,F0.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors",maxZoom:19}).addTo(S);const M=F0.divIcon({html:'<div class="flex justify-center items-center w-6 h-6 text-xs font-bold text-white bg-red-600 rounded-full border-2 border-white shadow-lg">GPS</div>',className:"custom-gps-marker",iconSize:[24,24],iconAnchor:[12,12]});if(F0.marker(k,{icon:M}).addTo(S).bindPopup(`<div class="p-2"><b>Center</b><br/>${k[0].toFixed(6)}, ${k[1].toFixed(6)}</div>`),_.length>=3){const T=_.map(C=>C.latlng);F0.polygon(T,{color:"#059669",fillColor:"#10b981",fillOpacity:.25,weight:2}).addTo(S).bindPopup(`<div class="p-2"><b>${r}</b><br/>Parcel boundary</div>`);const A=F0.latLngBounds([k,...T]);S.fitBounds(A,{padding:[20,20]})}return _.forEach((T,O)=>{const A=F0.divIcon({html:`<div class="flex justify-center items-center w-8 h-8 text-sm font-bold text-white bg-blue-600 rounded-full border-2 border-white shadow-lg">${T.label}</div>`,className:"custom-survey-marker",iconSize:[32,32],iconAnchor:[16,16]});F0.marker(T.latlng,{icon:A}).addTo(S).bindPopup(`<div class="p-2"><b>Point ${T.label}</b><br/>${T.latlng[0].toFixed(6)}, ${T.latlng[1].toFixed(6)}<br/>#${O+1} of ${_.length}</div>`)}),()=>{o.current&&(o.current.remove(),o.current=null)}},[e,t,r,s,a]),n.jsx("div",{ref:i,className:"w-full h-full min-h-[400px]"})},Ag=({size:e=24,...t})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:26,height:e,viewBox:"0 0 26 24",fill:"currentColor",...t,children:n.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"central",fontSize:e*1.25,fontFamily:"sans-serif",fontWeight:"900",children:"KSh"})});Ag.displayName="KshIcon";const jhe=e=>{const t={};return t.description_of_land=e.description_of_land,t.lr_certificate_no=e.lr_certificate_no,t.category=e.category,t.mode_of_acquisition=e.mode_of_acquisition,t.size_ha=e.size_ha?`${e.size_ha} ha`:null,t.county=e.county,t.sub_county=e.sub_county,t.location=e.location,t.nearest_town_location=e.nearest_town_location,t.division=e.division,t.sub_location=e.sub_location,t.document_of_ownership=e.document_of_ownership,t.land_tenure=e.land_tenure,t.proprietorship_details=e.proprietorship_details,t.acquisition_amount=e.acquisition_amount?`Ksh. ${e.acquisition_amount.toLocaleString()}`:null,t.fair_value=e.fair_value?`Ksh. ${e.fair_value.toLocaleString()}`:null,t.annual_rental_income=e.annual_rental_income?`Ksh. ${e.annual_rental_income.toLocaleString()}`:null,t.disposal_value=e.disposal_value?`Ksh. ${e.disposal_value.toLocaleString()}`:null,t.gps_coordinates=e.gps_coordinates,t.surveyed=e.surveyed,e.polygon&&Object.entries(e.polygon).forEach(([r,s])=>{t[`polygon_point_${r}`]=`${r}: ${s}`}),t.acquisition_date=e.acquisition_date?new Date(e.acquisition_date).toLocaleDateString():null,t.registration_date=e.registration_date?new Date(e.registration_date).toLocaleDateString():null,t.disposal_date=e.disposal_date?new Date(e.disposal_date).toLocaleDateString():null,t.disputed=e.disputed,t.planned_unplanned=e.planned_unplanned,t.purpose_use_of_land=e.purpose_use_of_land,t.encumbrances=e.encumbrances,t.remarks=e.remarks,t.section_basic_information="Basic Information",t.section_location_details="Location Details",t.section_legal_documentation="Legal Documentation",t.section_financial_information="Financial Information",t.section_geographic_information="Geographic Information",t.section_important_dates="Important Dates",t.section_status_conditions="Status & Conditions",t.section_additional_information="Additional Information",t.section_land_parcel_map="Land Parcel Map",t.label_description_of_land="Description of Land",t.label_lr_certificate_no="LR Certificate No.",t.label_category="Category",t.label_mode_of_acquisition="Mode of Acquisition",t.label_size_ha="Size (ha)",t.label_county="County",t.label_sub_county="Sub County",t.label_location="Location",t.label_nearest_town="Nearest Town",t.label_division="Division",t.label_sub_location="Sub Location",t.label_document_of_ownership="Document of Ownership",t.label_land_tenure="Land Tenure",t.label_ownership_details="Ownership Details",t.label_acquisition_amount="Acquisition Amount",t.label_fair_value="Fair Value",t.label_annual_rental_income="Annual Rental Income",t.label_disposal_value="Disposal Value",t.label_gps_coordinates="GPS Coordinates",t.label_survey_points="Survey Points",t.label_survey_status="Survey Status",t.label_acquisition_date="Acquisition Date",t.label_registration_date="Registration Date",t.label_disposal_date="Disposal Date",t.label_disputed_status="Disputed Status",t.label_planning_status="Planning Status",t.label_purpose_of_land="Purpose of Land",t.label_encumbrances="Encumbrances",t.label_remarks="Remarks",t},Che=(e,t)=>{if(!t.trim())return!0;const r=t.toLowerCase().trim();return Object.values(e).some(s=>s?String(s).toLowerCase().includes(r):!1)},Kr=(e,t)=>{if(!e||!t.trim())return e||"N/A";const r=t.trim(),s=new RegExp(`(${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return e.split(s).map((i,o)=>s.test(i)?n.jsx("mark",{className:"bg-yellow-200 text-yellow-900 px-0.5 rounded font-medium search-highlight","data-search-match":"true",children:i},o):i)},She=()=>{const{id:e}=si(),t=Vr(),[r]=Du(),s=r.get("edit")==="true",{getLandRegisterById:a,updateLandRegister:i,selectedLandRegister:o,setSelectedLandRegister:l,isLoading:c}=fg(),[d,u]=U.useState(!1),[p,x]=U.useState({A:""}),[f,y]=U.useState(""),[v,_]=U.useState(!1),[k,S]=U.useState(0),[M,T]=U.useState([]),O=U.useRef(null),A=U.useMemo(()=>o?jhe(o):{},[o]);U.useMemo(()=>Che(A,f),[A,f]),U.useMemo(()=>{if(!f.trim()||!o)return 0;let Z=0;return Object.values(A).forEach(Y=>{if(!Y)return;const te=String(Y).toLowerCase().match(new RegExp(f.toLowerCase().trim(),"g"));te&&(Z+=te.length)}),Z},[A,f]);const C=U.useCallback(()=>{if(!f.trim()||!O.current){T([]),S(0);return}const Z=[],Y=f.toLowerCase().trim();O.current.querySelectorAll('[data-search-match="true"]').forEach((se,oe)=>{var q;const ee=se,B=((q=ee.closest("[data-section]"))==null?void 0:q.getAttribute("data-section"))||"Unknown";Z.push({id:`match-${oe}`,element:ee,text:ee.textContent||"",section:B})}),O.current.querySelectorAll("[data-section-header]").forEach((se,oe)=>{var B;const ee=((B=se.textContent)==null?void 0:B.toLowerCase())||"";if(ee.includes(Y)){const q=se;Z.push({id:`header-match-${oe}`,element:q,text:ee,section:"Section Header"})}}),O.current.querySelectorAll("label").forEach((se,oe)=>{var B,q;const ee=((B=se.textContent)==null?void 0:B.toLowerCase())||"";if(ee.includes(Y)){const Q=se,K=((q=Q.closest("[data-section]"))==null?void 0:q.getAttribute("data-section"))||"Field Label";Z.push({id:`label-match-${oe}`,element:Q,text:ee,section:K})}}),T(Z),S(0),Z.length>0&&N(Z[0])},[f]),N=U.useCallback(Z=>{Z.element.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),Z.element.classList.add("search-active-match"),setTimeout(()=>{Z.element.classList.remove("search-active-match")},2e3)},[]),E=U.useCallback(Z=>{if(M.length===0)return;let Y;Z==="next"?Y=k<M.length-1?k+1:0:Y=k>0?k-1:M.length-1,S(Y),N(M[Y])},[k,M,N]);U.useEffect(()=>{const Z=setTimeout(()=>{C()},300);return()=>clearTimeout(Z)},[C]),U.useEffect(()=>{const Z=Y=>{!v||M.length===0||(Y.key==="ArrowDown"||Y.key==="Enter"&&Y.shiftKey===!1?(Y.preventDefault(),E("next")):(Y.key==="ArrowUp"||Y.key==="Enter"&&Y.shiftKey===!0)&&(Y.preventDefault(),E("prev")))};return v&&document.addEventListener("keydown",Z),()=>{document.removeEventListener("keydown",Z)}},[v,M.length,E]),U.useEffect(()=>((async()=>{if(e&&e!=="new")try{const Y=await a(e);Y&&(l(Y),x(Y.polygon||{A:""}))}catch(Y){console.error("Error loading land register:",Y),Ke.error("Failed to load land register details"),t("/categories/land-register")}else Ke.error("Invalid land register ID"),t("/categories/land-register")})(),()=>l(null)),[e,a,l,t]);const z=(Z,Y)=>{if(o){let te=Z.target.value;(Y==="size_ha"||Y==="acquisition_amount"||Y==="fair_value"||Y==="disposal_value"||Y==="annual_rental_income")&&(te=te===""?void 0:Number.parseFloat(te)),l({...o,[Y]:te})}},P=async()=>{if(o){u(!0);try{const Z={...o,polygon:p};await i(o.id,Z),Ke.success("Land register updated successfully"),t(`/categories/land-register/${o.id}`)}catch(Z){console.error("Error updating land register:",Z),Ke.error("Failed to update land register")}finally{u(!1)}}},I=(Z,Y)=>{(Y===""||/^\d*\.?\d*$/.test(Y))&&x(te=>({...te,[Z]:Y}))},W=()=>{_(!1),y(""),T([]),S(0)};return c?n.jsx("div",{className:"flex justify-center items-center h-48",children:n.jsx("div",{className:"w-6 h-6 rounded-full border-b-2 border-emerald-600 animate-spin"})}):o?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("nav",{className:"px-3 py-2 bg-white border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600 overflow-x-auto",children:[n.jsxs(Lr,{to:"/",className:"flex items-center whitespace-nowrap hover:text-emerald-600 transition-colors",children:[n.jsx(ln,{size:12,className:"mr-1"}),"Home"]}),n.jsx(Dr,{size:12}),n.jsx(Lr,{to:"/asset-categories",className:"whitespace-nowrap hover:text-emerald-600 transition-colors",children:"Categories"}),n.jsx(Dr,{size:12}),n.jsx(Lr,{to:"/categories/land-register",className:"whitespace-nowrap hover:text-emerald-600 transition-colors",children:"Land Register"}),n.jsx(Dr,{size:12}),n.jsxs("span",{className:"flex items-center font-medium text-gray-900 whitespace-nowrap",children:[n.jsx(Ea,{size:12,className:"mr-1"}),s?"Edit":"View"]})]})}),n.jsxs("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 px-3 py-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1.5",onClick:()=>t("/categories/land-register"),children:n.jsx(Pa,{size:16})}),v?n.jsx("div",{className:"flex-1 max-w-md",children:n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:f,onChange:Z=>y(Z.target.value),placeholder:"Search everything on this page...",className:"w-full pl-8 pr-8 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",autoFocus:!0}),n.jsx(Lu,{size:14,className:"absolute left-2.5 top-2 text-gray-400"}),f&&n.jsx("button",{onClick:()=>y(""),className:"absolute right-2 top-1.5 text-gray-400 hover:text-gray-600",children:n.jsx(Bs,{size:14})})]})}):n.jsx("h1",{className:"text-lg font-bold text-gray-900 truncate",children:o.lr_certificate_no||"Land Record"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1.5",onClick:()=>{v?W():_(!0)},children:v?n.jsx(Bs,{size:16}):n.jsx(Lu,{size:16})}),s&&n.jsx(Be,{variant:"primary",size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 text-xs px-2 py-1.5",leftIcon:n.jsx(bi,{size:14}),onClick:P,isLoading:d,children:"Save"})]})]}),f&&n.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs bg-gray-50 p-2 rounded",children:[n.jsx("div",{className:"flex items-center space-x-2",children:M.length>0?n.jsxs("span",{className:"text-emerald-600 font-medium flex items-center space-x-2",children:[n.jsxs("span",{children:[M.length," ",M.length===1?"match":"matches"," found"]}),M.length>1&&n.jsxs("span",{className:"text-gray-500",children:["(",k+1," of ",M.length,")"]})]}):n.jsxs("span",{className:"text-red-600 font-medium",children:['No results found for "',f,'"']})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[M.length>1&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("button",{onClick:()=>E("prev"),className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded",title:"Previous match ()",children:""}),n.jsx("button",{onClick:()=>E("next"),className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded",title:"Next match ()",children:""})]}),f&&n.jsx("button",{onClick:()=>y(""),className:"text-gray-500 hover:text-gray-700 underline",children:"Clear"})]})]}),v&&!f&&n.jsx("div",{className:"mt-2 text-xs text-gray-500 bg-blue-50 p-2 rounded",children:" Search through all content including section headers, field labels, and values. Use / arrows to navigate between matches."})]}),n.jsxs("div",{ref:O,className:"px-3 py-4 space-y-4",children:[n.jsx(it,{children:n.jsxs("div",{className:"p-4","data-section":"basic-information",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Mu,{size:16,className:"text-blue-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide","data-section-header":"true",children:Kr("Basic Information",f)})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&"Description of Land".toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr("Description of Land",f)}),s?n.jsx("textarea",{value:o.description_of_land||"",onChange:Z=>z(Z,"description_of_land"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent min-h-[60px]"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Kr(o.description_of_land||"N/A",f)})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&"LR Certificate No.".toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr("LR Certificate No.",f)}),s?n.jsx("input",{value:o.lr_certificate_no||"",onChange:Z=>z(Z,"lr_certificate_no"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Kr(o.lr_certificate_no||"N/A",f)})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&"Category".toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr("Category",f)}),s?n.jsxs("select",{value:o.category||"",onChange:Z=>z(Z,"category"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select category"}),n.jsx("option",{value:"Land",children:"Land"}),n.jsx("option",{value:"Investment Property",children:"Investment Property"})]}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Kr(o.category||"N/A",f)})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&"Mode of Acquisition".toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr("Mode of Acquisition",f)}),s?n.jsxs("select",{value:o.mode_of_acquisition||"",onChange:Z=>z(Z,"mode_of_acquisition"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select mode"}),n.jsx("option",{value:"Purchase",children:"Purchase"}),n.jsx("option",{value:"Transfer",children:"Transfer"}),n.jsx("option",{value:"Donation",children:"Donation"}),n.jsx("option",{value:"Inheritance",children:"Inheritance"}),n.jsx("option",{value:"Government Allocation",children:"Government Allocation"})]}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Kr(o.mode_of_acquisition||"N/A",f)})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&"Size (ha)".toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr("Size (ha)",f)}),s?n.jsx("input",{type:"number",step:"0.0001",value:o.size_ha||"",onChange:Z=>z(Z,"size_ha"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Kr(o.size_ha?`${o.size_ha} ha`:"N/A",f)})]})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-4","data-section":"location-details",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Ea,{size:16,className:"text-red-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide","data-section-header":"true",children:Kr("Location Details",f)})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[{label:"County",field:"county"},{label:"Sub County",field:"sub_county"},{label:"Location",field:"location"},{label:"Nearest Town",field:"nearest_town_location"},{label:"Division",field:"division"},{label:"Sub Location",field:"sub_location"}].map(({label:Z,field:Y})=>n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&Z.toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr(Z,f)}),s?n.jsx("input",{value:o[Y]||"",onChange:te=>z(te,Y),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Kr(o[Y]||"N/A",f)})]},Y))})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-4","data-section":"legal-documentation",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Ya,{size:16,className:"text-purple-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide","data-section-header":"true",children:Kr("Legal Documentation",f)})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&"Document of Ownership".toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr("Document of Ownership",f)}),s?n.jsxs("select",{value:o.document_of_ownership||"",onChange:Z=>z(Z,"document_of_ownership"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select document type"}),n.jsx("option",{value:"Title Deed",children:"Title Deed"}),n.jsx("option",{value:"Certificate",children:"Certificate"}),n.jsx("option",{value:"Allotment Letter",children:"Allotment Letter"}),n.jsx("option",{value:"Other",children:"Other"})]}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Kr(o.document_of_ownership||"N/A",f)})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&"Land Tenure".toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr("Land Tenure",f)}),s?n.jsxs("select",{value:o.land_tenure||"",onChange:Z=>z(Z,"land_tenure"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select tenure"}),n.jsx("option",{value:"Freehold",children:"Freehold"}),n.jsx("option",{value:"Leasehold",children:"Leasehold"})]}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Kr(o.land_tenure||"N/A",f)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&"Ownership Details".toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr("Ownership Details",f)}),s?n.jsx("textarea",{value:o.proprietorship_details||"",onChange:Z=>z(Z,"proprietorship_details"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent min-h-[60px]"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Kr(o.proprietorship_details||"N/A",f)})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-4","data-section":"financial-information",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Ag,{size:16,className:"text-green-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide","data-section-header":"true",children:Kr("Financial Information",f)})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[{label:"Acquisition Amount",field:"acquisition_amount"},{label:"Fair Value",field:"fair_value"},{label:"Annual Rental Income",field:"annual_rental_income"},{label:"Disposal Value",field:"disposal_value"}].map(({label:Z,field:Y})=>n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&Z.toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr(Z,f)}),s?n.jsx("input",{type:"number",step:"0.01",value:o[Y]||"",onChange:te=>z(te,Y),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Kr(o[Y]?`Ksh. ${o[Y].toLocaleString()}`:"N/A",f)})]},Y))})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-4","data-section":"geographic-information",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Dk,{size:16,className:"text-indigo-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide","data-section-header":"true",children:Kr("Geographic Information",f)})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&"GPS Coordinates".toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr("GPS Coordinates",f)}),s?n.jsx("input",{value:o.gps_coordinates||"",onChange:Z=>z(Z,"gps_coordinates"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Kr(o.gps_coordinates||"N/A",f)})]}),n.jsxs("div",{"data-field-id":"survey_points",children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&"Survey Points".toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr("Survey Points",f)}),s?n.jsx("div",{className:"space-y-2",children:Object.entries(p).map(([Z,Y])=>n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsxs("span",{className:"w-8 text-xs font-medium text-gray-700",children:[Kr(Z,f),":"]}),n.jsx("input",{value:Y,onChange:te=>I(Z,te.target.value),placeholder:"0.22455,0.12547",className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]},Z))}):n.jsx("div",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Object.entries(o.polygon||{}).length>0?n.jsx("div",{className:"space-y-1",children:Object.entries(o.polygon||{}).map(([Z,Y])=>n.jsxs("div",{className:"text-xs",children:[n.jsxs("span",{className:"font-medium",children:[Kr(Z,f),":"]})," ",Kr(Y||"N/A",f)]},Z))}):"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&"Survey Status".toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr("Survey Status",f)}),s?n.jsxs("select",{value:o.surveyed||"",onChange:Z=>z(Z,"surveyed"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select status"}),n.jsx("option",{value:"Surveyed",children:"Surveyed"}),n.jsx("option",{value:"Not Surveyed",children:"Not Surveyed"})]}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Kr(o.surveyed||"N/A",f)})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-4","data-section":"important-dates",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Tu,{size:16,className:"text-orange-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide","data-section-header":"true",children:Kr("Important Dates",f)})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[{label:"Acquisition Date",field:"acquisition_date"},{label:"Registration Date",field:"registration_date"},{label:"Disposal Date",field:"disposal_date"}].map(({label:Z,field:Y})=>n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&Z.toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr(Z,f)}),s?n.jsx("input",{type:"date",value:o[Y]?new Date(o[Y]).toISOString().split("T")[0]:"",onChange:te=>z(te,Y),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Kr(o[Y]?new Date(o[Y]).toLocaleDateString():"N/A",f)})]},Y))})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-4","data-section":"status-conditions",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(La,{size:16,className:"text-yellow-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide","data-section-header":"true",children:Kr("Status & Conditions",f)})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&"Disputed Status".toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr("Disputed Status",f)}),s?n.jsxs("select",{value:o.disputed||"",onChange:Z=>z(Z,"disputed"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select status"}),n.jsx("option",{value:"Undisputed",children:"Undisputed"}),n.jsx("option",{value:"Disputed",children:"Disputed"})]}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Kr(o.disputed||"N/A",f)})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&"Planning Status".toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr("Planning Status",f)}),s?n.jsxs("select",{value:o.planned_unplanned||"",onChange:Z=>z(Z,"planned_unplanned"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select status"}),n.jsx("option",{value:"Planned",children:"Planned"}),n.jsx("option",{value:"Unplanned",children:"Unplanned"})]}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Kr(o.planned_unplanned||"N/A",f)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&"Purpose of Land".toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr("Purpose of Land",f)}),s?n.jsx("textarea",{value:o.purpose_use_of_land||"",onChange:Z=>z(Z,"purpose_use_of_land"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent min-h-[60px]"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Kr(o.purpose_use_of_land||"N/A",f)})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&"Encumbrances".toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr("Encumbrances",f)}),s?n.jsx("textarea",{value:o.encumbrances||"",onChange:Z=>z(Z,"encumbrances"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent min-h-[60px]"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Kr(o.encumbrances||"N/A",f)})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-4","data-section":"additional-information",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(eo,{size:16,className:"text-gray-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide","data-section-header":"true",children:Kr("Additional Information",f)})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-medium mb-1 ${f&&"Remarks".toLowerCase().includes(f.toLowerCase())?"bg-yellow-100 text-yellow-900 px-1 rounded":"text-gray-500"}`,children:Kr("Remarks",f)}),s?n.jsx("textarea",{value:o.remarks||"",onChange:Z=>z(Z,"remarks"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-emerald-500 focus:border-transparent min-h-[80px]"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:Kr(o.remarks||"N/A",f)})]})]})}),(o.gps_coordinates||o.polygon&&Object.keys(o.polygon).length>0)&&n.jsx(it,{children:n.jsxs("div",{className:"p-4","data-section":"land-parcel-map",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Dk,{size:16,className:"text-emerald-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide","data-section-header":"true",children:Kr("Land Parcel Map",f)})]}),n.jsxs("div",{className:"mb-3 text-xs text-gray-600 bg-gray-50 p-2 rounded",children:[o.gps_coordinates&&Kr(`GPS: ${o.gps_coordinates}`,f),o.gps_coordinates&&o.polygon&&Object.keys(o.polygon).length>0&&" | ",o.polygon&&Object.keys(o.polygon).length>0&&`Survey Points: ${Object.keys(o.polygon).length}`]}),n.jsx("div",{className:"overflow-hidden h-64 sm:h-80 rounded-lg border border-gray-200",children:n.jsx(khe,{gpsCoordinates:o.gps_coordinates||"0,0",surveyPoints:o.polygon||{},landDescription:o.description_of_land})})]})})]})]}):n.jsxs("div",{className:"p-4 text-center",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Land register not found"}),n.jsx(Be,{variant:"secondary",size:"sm",leftIcon:n.jsx(Pa,{size:14}),onClick:()=>t("/categories/land-register"),children:"Back to Land Register"})]})},Ehe=()=>{const{id:e}=si(),t=Vr(),[r]=Du(),s=r.get("edit")==="true",{getPlantMachineryById:a,updatePlantMachinery:i,selectedPlantMachinery:o,setSelectedPlantMachinery:l,isLoading:c}=Rp(),[d,u]=U.useState(!1);U.useEffect(()=>((async()=>{if(e&&e!=="new")try{const y=await a(e);y&&l(y)}catch(y){console.error("Error loading plant machinery:",y),Ke.error("Failed to load plant machinery details"),t("/categories/plant-machinery")}else Ke.error("Invalid plant machinery ID"),t("/categories/plant-machinery")})(),()=>l(null)),[e,a,l,t]);const p=async()=>{if(o){u(!0);try{await i(o.id,o),Ke.success("Plant machinery updated successfully"),t("/categories/plant-machinery")}catch(f){console.error("Error updating plant machinery:",f),Ke.error("Failed to update plant machinery")}finally{u(!1)}}},x=(f,y)=>{if(o){let v=f.target.value;(y==="purchase_amount"||y==="depreciation_rate"||y==="annual_depreciation"||y==="accumulated_depreciation"||y==="net_book_value"||y==="disposal_value")&&(v=v===""?void 0:parseFloat(v)),l({...o,[y]:v})}};return c?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"w-8 h-8 rounded-full border-b-2 border-blue-600 animate-spin"})}):o?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("nav",{className:"flex items-center mb-6 space-x-2 text-sm text-gray-600",children:[n.jsxs(Lr,{to:"/",className:"flex items-center transition-colors hover:text-blue-600",children:[n.jsx(ln,{size:16,className:"mr-1"}),"Home"]}),n.jsx(Dr,{size:16}),n.jsx(Lr,{to:"/asset-categories",className:"transition-colors hover:text-blue-600",children:"Asset Categories"}),n.jsx(Dr,{size:16}),n.jsx(Lr,{to:"/categories/plant-machinery",className:"transition-colors hover:text-blue-600",children:"Plant & Machinery"}),n.jsx(Dr,{size:16}),n.jsxs("span",{className:"flex items-center font-medium text-gray-900",children:[n.jsx(eo,{size:16,className:"mr-1"}),s?"Edit":"View"," Machinery"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Be,{variant:"ghost",className:"p-2",onClick:()=>t("/categories/plant-machinery"),children:n.jsx(Pa,{size:20})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:o.serial_number})]}),s&&n.jsx(Be,{variant:"primary",className:"bg-blue-600 hover:bg-blue-700",leftIcon:n.jsx(bi,{size:16}),onClick:p,isLoading:d,children:"Save Changes"})]}),n.jsx(it,{children:n.jsxs("div",{className:"grid grid-cols-1 gap-6 p-6 sm:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{className:"asset-info-wrapper md-22",children:[n.jsx("h1",{className:"mb-4 text-2xl font-semibold text-gray-800 title",children:"Asset Information"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Asset Description"}),s?n.jsx("textarea",{name:"asset_description",value:o.asset_description||"",onChange:f=>x(f,"asset_description"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300 min-h-[80px]"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.asset_description})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Make/Model"}),s?n.jsx("input",{name:"make_model",type:"text",value:o.make_model||"",onChange:f=>x(f,"make_model"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.make_model||"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Serial Number"}),s?n.jsx("input",{name:"serial_number",type:"text",value:o.serial_number||"",onChange:f=>x(f,"serial_number"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.serial_number||"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Tag Number"}),s?n.jsx("input",{name:"tag_number",type:"text",value:o.tag_number||"",onChange:f=>x(f,"tag_number"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.tag_number||"N/A"})]})]}),n.jsxs("div",{className:"financial-wrapper md-22",children:[n.jsx("h1",{className:"mb-4 text-2xl font-semibold text-gray-800 title",children:"Financial Information"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Purchase Amount"}),s?n.jsx("input",{name:"purchase_amount",type:"number",step:"0.01",value:o.purchase_amount||"",onChange:f=>x(f,"purchase_amount"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.purchase_amount?`Ksh.${o.purchase_amount.toLocaleString()}`:"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Depreciation Rate (%)"}),s?n.jsx("input",{name:"depreciation_rate",type:"number",step:"0.01",value:o.depreciation_rate||"",onChange:f=>x(f,"depreciation_rate"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.depreciation_rate?`${o.depreciation_rate}%`:"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Annual Depreciation"}),s?n.jsx("input",{name:"annual_depreciation",type:"number",step:"0.01",value:o.annual_depreciation||"",onChange:f=>x(f,"annual_depreciation"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.annual_depreciation?`Ksh.${o.annual_depreciation.toLocaleString()}`:"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Accumulated Depreciation"}),s?n.jsx("input",{name:"accumulated_depreciation",type:"number",step:"0.01",value:o.accumulated_depreciation||"",onChange:f=>x(f,"accumulated_depreciation"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.accumulated_depreciation?`Ksh.${o.accumulated_depreciation.toLocaleString()}`:"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Net Book Value"}),s?n.jsx("input",{name:"net_book_value",type:"number",step:"0.01",value:o.net_book_value||"",onChange:f=>x(f,"net_book_value"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.net_book_value?`Ksh.${o.net_book_value.toLocaleString()}`:"N/A"})]})]}),n.jsxs("div",{className:"location-status-wrapper md-22",children:[n.jsx("h1",{className:"mb-4 text-2xl font-semibold text-gray-800 title",children:"Location & Status"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Original Location"}),s?n.jsx("input",{name:"original_location",type:"text",value:o.original_location||"",onChange:f=>x(f,"original_location"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.original_location||"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Current Location"}),s?n.jsx("input",{name:"current_location",type:"text",value:o.current_location||"",onChange:f=>x(f,"current_location"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.current_location||"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Asset Condition"}),s?n.jsxs("select",{name:"asset_condition",value:o.asset_condition||"",onChange:f=>x(f,"asset_condition"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300",children:[n.jsx("option",{value:"",children:"Select condition"}),n.jsx("option",{value:"New",children:"New"}),n.jsx("option",{value:"Good",children:"Good"}),n.jsx("option",{value:"Worn",children:"Worn"}),n.jsx("option",{value:"Needs Replacement",children:"Needs Replacement"})]}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.asset_condition||"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Responsible Officer"}),s?n.jsx("input",{name:"responsible_officer",type:"text",value:o.responsible_officer||"",onChange:f=>x(f,"responsible_officer"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.responsible_officer||"N/A"})]})]}),n.jsxs("div",{className:"additional-wrapper md-22",children:[n.jsx("h1",{className:"mb-4 text-2xl font-semibold text-gray-800 title",children:"Additional Details"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Financed By"}),s?n.jsx("input",{name:"financed_by",type:"text",value:o.financed_by||"",onChange:f=>x(f,"financed_by"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.financed_by||"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"PV Number"}),s?n.jsx("input",{name:"pv_number",type:"text",value:o.pv_number||"",onChange:f=>x(f,"pv_number"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.pv_number||"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Notes"}),s?n.jsx("textarea",{name:"notes",value:o.notes||"",onChange:f=>x(f,"notes"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300 min-h-[60px]"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.notes||"N/A"})]})]}),n.jsxs("div",{className:"dates-wrapper md-22",children:[n.jsx("h1",{className:"mb-4 text-2xl font-semibold text-gray-800 title",children:"Important Dates"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Delivery/Installation Date"}),s?n.jsx("input",{name:"delivery_installation_date",type:"date",value:o.delivery_installation_date?new Date(o.delivery_installation_date).toISOString().split("T")[0]:"",onChange:f=>x(f,"delivery_installation_date"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.delivery_installation_date?new Date(o.delivery_installation_date).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Replacement Date"}),s?n.jsx("input",{name:"replacement_date",type:"date",value:o.replacement_date?new Date(o.replacement_date).toISOString().split("T")[0]:"",onChange:f=>x(f,"replacement_date"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.replacement_date?new Date(o.replacement_date).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Disposal Date"}),s?n.jsx("input",{name:"disposal_date",type:"date",value:o.disposal_date?new Date(o.disposal_date).toISOString().split("T")[0]:"",onChange:f=>x(f,"disposal_date"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.disposal_date?new Date(o.disposal_date).toLocaleDateString():"N/A"})]}),(o.disposal_value||s)&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Disposal Value"}),s?n.jsx("input",{name:"disposal_value",type:"number",step:"0.01",value:o.disposal_value||"",onChange:f=>x(f,"disposal_value"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.disposal_value?`Ksh.${o.disposal_value.toLocaleString()}`:"N/A"})]})]})]})})]}):n.jsxs("div",{className:"py-8 text-center",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Plant machinery not found"}),n.jsx(Be,{variant:"secondary",className:"mt-4",leftIcon:n.jsx(Pa,{size:16}),onClick:()=>t("/categories/plant-machinery"),children:"Back to Plant Machinery"})]})},j8=()=>{const e=Vr(),{id:t}=si(),r=!!(t&&t!=="new"),{createPlantMachinery:s,updatePlantMachinery:a,getPlantMachineryById:i,isLoading:o}=Rp(),[l,c]=U.useState({}),[d,u]=U.useState(!1),[p,x]=U.useState(!1),[f,y]=U.useState(!0),[v,_]=U.useState({asset_description:"",financed_by:"",serial_number:"",tag_number:"",make_model:"",delivery_installation_date:"",pv_number:"",original_location:"",current_location:"",replacement_date:"",purchase_amount:void 0,depreciation_rate:void 0,annual_depreciation:void 0,accumulated_depreciation:void 0,net_book_value:void 0,disposal_date:"",disposal_value:void 0,responsible_officer:"",asset_condition:"New",notes:""});U.useEffect(()=>{r&&t&&k()},[t,r]),U.useEffect(()=>{f&&v.purchase_amount&&v.depreciation_rate&&T()},[v.purchase_amount,v.depreciation_rate,v.delivery_installation_date,f]),U.useEffect(()=>{if(f&&v.delivery_installation_date){T();const N=setInterval(()=>{T()},1440*60*1e3);return()=>clearInterval(N)}},[v.purchase_amount,v.depreciation_rate,v.delivery_installation_date,v.disposal_date,v.replacement_date,f]);const k=async()=>{if(t)try{const N=await i(t);N&&(_(N),y(!1))}catch{Ke.error("Failed to load plant machinery"),e("/categories/plant-machinery")}},S=async()=>{var N,E,z;u(!0),c(P=>({...P,tag_number:""}));try{const I=(await Pt.post("https://assets-system-sigma.vercel.app/api/plant-machinery/generate-tag")).data;O("tag_number",I.tag_number),Ke.success(I.message||"Tag number generated successfully")}catch(P){console.error("Tag generation error:",P);const I=((E=(N=P.response)==null?void 0:N.data)==null?void 0:E.detail)||P.message||"Failed to generate tag number";Ke.error(I),((z=P.response)==null?void 0:z.status)===401&&e("/login")}finally{u(!1)}},M=async N=>{var E,z,P;if(!N.trim()){c(I=>({...I,tag_number:""}));return}x(!0);try{const W=(await Pt.post(`https://assets-system-sigma.vercel.app/api/plant-machinery/validate-tag${r?`?asset_id=${t}`:""}`,{tag_number:N})).data;W.valid?c(Z=>({...Z,tag_number:""})):c(Z=>({...Z,tag_number:W.message}))}catch(I){console.error("Tag validation error:",I);const W=((z=(E=I.response)==null?void 0:E.data)==null?void 0:z.detail)||I.message||"Failed to validate tag number";c(Z=>({...Z,tag_number:W})),((P=I.response)==null?void 0:P.status)===401&&e("/login")}finally{x(!1)}},T=()=>{const N=v.purchase_amount||0,E=v.depreciation_rate||0,z=v.delivery_installation_date;if(!N||!E||!z)return;const P=new Date(z),I=v.disposal_date?new Date(v.disposal_date):null,W=v.replacement_date?new Date(v.replacement_date):null,Y=[I,W,new Date].filter(Boolean).reduce((ee,B)=>B&&ee?B<ee?B:ee:B||ee),te=Math.max(0,Math.floor((Y.getTime()-P.getTime())/(1e3*60*60*24))),ie=N*(E/100),le=ie/365,se=Math.min(le*te,N),oe=Math.max(0,N-se);_(ee=>({...ee,annual_depreciation:Number(ie.toFixed(2)),accumulated_depreciation:Number(se.toFixed(2)),net_book_value:Number(oe.toFixed(2))}))},O=(N,E)=>{if(_(z=>({...z,[N]:E})),l[N]&&c(z=>({...z,[N]:""})),N==="tag_number"&&typeof E=="string"){const z=setTimeout(()=>{M(E)},500);return()=>clearTimeout(z)}["annual_depreciation","accumulated_depreciation","net_book_value"].includes(N)&&E!==v[N]&&y(!1)},A=()=>{if(!v.purchase_amount||!v.depreciation_rate){Ke.error("Please enter purchase amount and depreciation rate first");return}y(!0),T(),Ke.success("Financial values recalculated")},C=async N=>{var z,P,I;N.preventDefault();const E={};if((z=v.asset_description)!=null&&z.trim()||(E.asset_description="Asset description is required"),(P=v.serial_number)!=null&&P.trim()||(E.serial_number="Serial number is required"),(I=v.tag_number)!=null&&I.trim()||(E.tag_number="Tag number is required"),Object.keys(E).length>0){c(E),Ke.error("Please fix the validation errors before submitting");return}if(Object.values(l).some(W=>W!=="")){Ke.error("Please fix the validation errors before submitting");return}try{r&&t?(await a(t,v),Ke.success("Plant machinery updated successfully")):(await s(v),Ke.success("Plant machinery created successfully")),e("/categories/plant-machinery")}catch{Ke.error(r?"Failed to update plant machinery":"Failed to create plant machinery")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("nav",{className:"flex items-center mb-6 space-x-2 text-sm text-gray-600",children:[n.jsxs(Lr,{to:"/",className:"flex items-center transition-colors hover:text-blue-600",children:[n.jsx(ln,{size:16,className:"mr-1"}),"Home"]}),n.jsx(Dr,{size:16}),n.jsxs(Lr,{to:"/asset-categories",className:"flex items-center transition-colors hover:text-blue-600",children:[n.jsx(Lc,{size:16,className:"mr-1"}),"Asset Categories"]}),n.jsx(Dr,{size:16}),n.jsx(Lr,{to:"/categories/plant-machinery",className:"transition-colors hover:text-blue-600",children:"Plant & Machinery"}),n.jsx(Dr,{size:16}),n.jsxs("span",{className:"flex items-center font-medium text-gray-900",children:[n.jsx(eo,{size:16,className:"mr-1"}),r?"Edit Machinery":"Add Machinery"]})]}),n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r?"Edit Machinery":"Add Machinery"}),n.jsx("p",{className:"mt-2 text-gray-600",children:r?"Update plant machinery information":"Create a new plant machinery entry"})]})}),n.jsxs("form",{onSubmit:C,className:"space-y-6",children:[n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Asset Description ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bo,{value:v.asset_description||"",onChange:N=>O("asset_description",N.target.value),placeholder:"Enter detailed description of the asset",className:l.asset_description?"border-red-500":""}),l.asset_description&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.asset_description})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Make/Model"}),n.jsx(wt,{value:v.make_model||"",onChange:N=>O("make_model",N.target.value),placeholder:"Enter make and model"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Financed By"}),n.jsx(wt,{value:v.financed_by||"",onChange:N=>O("financed_by",N.target.value),placeholder:"Enter financing source"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Identification"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Serial Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(wt,{value:v.serial_number||"",onChange:N=>O("serial_number",N.target.value),placeholder:"Enter serial number",className:l.serial_number?"border-red-500":""}),l.serial_number&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.serial_number})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Tag Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"flex-1",children:n.jsx(wt,{value:v.tag_number||"",onChange:N=>O("tag_number",N.target.value),placeholder:"Enter tag number or generate one",className:l.tag_number?"border-red-500":""})}),n.jsx(Be,{type:"button",variant:"secondary",onClick:S,disabled:d,className:"px-3 py-2 min-w-0 hover:bg-gray-100 border border-gray-300 rounded-md transition-colors disabled:opacity-50",title:"Generate tag number from backend",children:n.jsx(Za,{size:16,className:`text-gray-600 ${d?"animate-spin":""}`})})]}),n.jsxs("div",{className:"mt-1",children:[p&&n.jsx("p",{className:"text-xs text-blue-600",children:"Validating tag number..."}),!p&&!l.tag_number&&n.jsx("p",{className:"text-xs text-gray-500",children:"Click the refresh button to auto-generate a unique tag number (Format: P-4578A)"}),l.tag_number&&n.jsx("p",{className:"text-sm text-red-600",children:l.tag_number})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"PV Number"}),n.jsx(wt,{value:v.pv_number||"",onChange:N=>O("pv_number",N.target.value),placeholder:"Enter PV number"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Location Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Original Location"}),n.jsx(wt,{value:v.original_location||"",onChange:N=>O("original_location",N.target.value),placeholder:"Enter original location"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Current Location"}),n.jsx(wt,{value:v.current_location||"",onChange:N=>O("current_location",N.target.value),placeholder:"Enter current location"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Financial Information"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[!f&&n.jsx(Be,{type:"button",variant:"secondary",size:"sm",onClick:A,leftIcon:n.jsx(Of,{size:14}),className:"text-xs",children:"Recalculate"}),n.jsx("div",{className:"flex items-center",children:n.jsxs("span",{className:`text-xs ${f?"text-green-600":"text-orange-600"}`,children:[""," ",f?"Auto-calculating":"Manual override"]})})]})]}),f&&n.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx(Of,{size:14,className:"inline mr-1"}),"Financial values will be automatically calculated when you enter Purchase Amount and Depreciation Rate. You can still edit any field manually, which will disable auto-calculation."]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Purchase Amount ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(wt,{type:"number",step:"0.01",value:v.purchase_amount||"",onChange:N=>O("purchase_amount",Number.parseFloat(N.target.value)||void 0),placeholder:"Enter purchase amount",className:"ring-2 ring-blue-200 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Depreciation Rate (%) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(wt,{type:"number",step:"0.01",min:"0",max:"100",value:v.depreciation_rate||"",onChange:N=>O("depreciation_rate",Number.parseFloat(N.target.value)||void 0),placeholder:"Enter depreciation rate",className:"ring-2 ring-blue-200 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Annual Depreciation",f&&n.jsx("span",{className:"text-green-600 text-xs ml-1",children:"(auto)"})]}),n.jsx(wt,{type:"number",step:"0.01",value:v.annual_depreciation||"",onChange:N=>O("annual_depreciation",Number.parseFloat(N.target.value)||void 0),placeholder:"Enter annual depreciation",className:f?"bg-green-50 border-green-200":""})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Accumulated Depreciation",f&&n.jsx("span",{className:"text-green-600 text-xs ml-1",children:"(auto)"})]}),n.jsx(wt,{type:"number",step:"0.01",value:v.accumulated_depreciation||"",onChange:N=>O("accumulated_depreciation",Number.parseFloat(N.target.value)||void 0),placeholder:"Enter accumulated depreciation",className:f?"bg-green-50 border-green-200":""})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Net Book Value",f&&n.jsx("span",{className:"text-green-600 text-xs ml-1",children:"(auto)"})]}),n.jsx(wt,{type:"number",step:"0.01",value:v.net_book_value||"",onChange:N=>O("net_book_value",Number.parseFloat(N.target.value)||void 0),placeholder:"Enter net book value",className:f?"bg-green-50 border-green-200":""})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Disposal Value"}),n.jsx(wt,{type:"number",step:"0.01",value:v.disposal_value||"",onChange:N=>O("disposal_value",Number.parseFloat(N.target.value)||void 0),placeholder:"Enter disposal value"})]})]}),f&&v.delivery_installation_date&&n.jsx("div",{className:"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:n.jsxs("p",{className:"text-sm text-amber-800",children:["Accumulated depreciation is calculated based on days since delivery date: ",v.delivery_installation_date]})})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Important Dates"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Delivery/Installation Date",f&&n.jsx("span",{className:"text-blue-600 text-xs ml-1",children:"(affects depreciation)"})]}),n.jsx(wt,{type:"date",value:v.delivery_installation_date||"",onChange:N=>O("delivery_installation_date",N.target.value),className:f?"ring-1 ring-blue-200":""})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Replacement Date"}),n.jsx(wt,{type:"date",value:v.replacement_date||"",onChange:N=>O("replacement_date",N.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Disposal Date"}),n.jsx(wt,{type:"date",value:v.disposal_date||"",onChange:N=>O("disposal_date",N.target.value)})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Status and Management"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Asset Condition"}),n.jsxs(Pi,{value:v.asset_condition||"",onChange:N=>O("asset_condition",N.target.value),children:[n.jsx("option",{value:"",children:"Select condition"}),n.jsx("option",{value:"New",children:"New"}),n.jsx("option",{value:"Good",children:"Good"}),n.jsx("option",{value:"Worn",children:"Worn"}),n.jsx("option",{value:"Needs Replacement",children:"Needs Replacement"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Responsible Officer"}),n.jsx(wt,{value:v.responsible_officer||"",onChange:N=>O("responsible_officer",N.target.value),placeholder:"Enter responsible officer"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Notes"}),n.jsx(bo,{value:v.notes||"",onChange:N=>O("notes",N.target.value),placeholder:"Enter any additional notes",rows:4})]})]})]})}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx(Be,{type:"button",variant:"secondary",onClick:()=>e("/categories/plant-machinery"),leftIcon:n.jsx(Bs,{size:16}),children:"Cancel"}),n.jsx(Be,{type:"submit",variant:"primary",className:"bg-blue-600 hover:bg-blue-700",leftIcon:n.jsx(bi,{size:16}),isLoading:o,children:r?"Update Machinery":"Create Machinery"})]})]})]})},Ahe=()=>{const e=Vr(),{plantMachineries:t,fetchPlantMachineries:r,isLoading:s}=Rp(),[a,i]=U.useState(1),[o]=U.useState(10),[l,c]=U.useState(!1),[d,u]=U.useState({});U.useEffect(()=>{r()},[r]);const p=U.useMemo(()=>{if(!t||t.length===0)return[];const N=Array.from(new Set(t.map(I=>I.asset_condition).filter(Boolean))).sort(),E=Array.from(new Set(t.map(I=>I.current_location).filter(Boolean))).sort(),z=Array.from(new Set(t.map(I=>I.make_model).filter(Boolean))).sort(),P=Array.from(new Set(t.map(I=>I.delivery_installation_date).filter(Boolean).map(I=>new Date(I).getFullYear().toString()))).sort((I,W)=>Number.parseInt(W)-Number.parseInt(I));return[{key:"condition",label:"Condition",options:N},{key:"location",label:"Location",options:E},{key:"makeModel",label:"Make/Model",options:z},{key:"year",label:"Installation Year",options:P}]},[t]),x=U.useMemo(()=>t?t.filter(N=>{if(d.condition&&N.asset_condition!==d.condition||d.location&&N.current_location!==d.location||d.makeModel&&N.make_model!==d.makeModel)return!1;if(d.year&&N.delivery_installation_date){if(new Date(N.delivery_installation_date).getFullYear().toString()!==d.year)return!1}else if(d.year&&!N.delivery_installation_date)return!1;return!0}):[],[t,d]),f=Object.values(d).some(N=>N),y=(N,E)=>{u(z=>({...z,[N]:E})),i(1)},v=()=>{u({}),i(1)},_=N=>{e(`/categories/plant-machinery/${N.id}`)},k=N=>{e(`/categories/plant-machinery/${N.id}?edit=true`)},S=N=>{e(`/categories/plant-machinery/${N.id}/transfer`)},M=()=>{Ke.info("Export functionality coming soon")},T=[{header:"#",accessor:(N,E)=>E!==void 0?(a-1)*o+E+1:x.indexOf(N)+1,sortable:!1},{header:"Asset Description",accessor:"asset_description",sortable:!0,cell:N=>n.jsx("div",{className:"max-w-xs truncate",title:N,children:N})},{header:"Tag Number",accessor:"tag_number",sortable:!0},{header:"Serial Number",accessor:"serial_number",sortable:!0},{header:"Make/Model",accessor:"make_model",sortable:!0,cell:N=>N||"N/A"},{header:"Current Location",accessor:"current_location",sortable:!0,cell:N=>N||"N/A"},{header:"Condition",accessor:"asset_condition",sortable:!0,cell:N=>{const E=z=>{switch(z==null?void 0:z.toLowerCase()){case"new":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"worn":return"bg-yellow-100 text-yellow-800";case"needs replacement":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return N?n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E(N)}`,children:N}):"N/A"}},{header:"Purchase Amount",accessor:"purchase_amount",sortable:!0,cell:N=>N?`Ksh.${N.toLocaleString()}`:"N/A"},{header:"Net Book Value",accessor:"net_book_value",sortable:!0,cell:N=>N?`Ksh.${N.toLocaleString()}`:"N/A"},{header:"Installation Date",accessor:"delivery_installation_date",sortable:!0,cell:N=>N?yi(new Date(N),"MMM dd, yyyy"):"N/A"}],O=N=>n.jsxs("div",{className:"flex space-x-1 sm:space-x-2",children:[n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-blue-600 rounded transition-colors hover:text-blue-800 hover:bg-blue-100",title:"View Equipment Details",onClick:E=>{E.stopPropagation(),_(N)},children:n.jsx(Xl,{size:16,className:"sm:w-4 sm:h-4"})}),n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-green-600 rounded transition-colors hover:text-green-800 hover:bg-green-100",title:"Edit Equipment",onClick:E=>{E.stopPropagation(),k(N)},children:n.jsx(Iu,{size:16,className:"sm:w-4 sm:h-4"})}),n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-purple-600 rounded transition-colors hover:text-purple-800 hover:bg-purple-100",title:"Transfer Equipment",onClick:E=>{E.stopPropagation(),S(N)},children:n.jsx(W0,{size:16,className:"sm:w-4 sm:h-4"})})]}),A=({data:N,color:E})=>{const z=Math.max(...N),P=Math.min(...N),I=z-P||1;return n.jsx("div",{className:"flex items-end h-8 gap-0.5",children:N.map((W,Z)=>{const Y=(W-P)/I*100;return n.jsx("div",{className:`flex-1 ${E} rounded-sm transition-all`,style:{height:`${Y}%`,minHeight:"2px"}},Z)})})},C=U.useMemo(()=>{const N=x.length,E=x.filter(ie=>ie.asset_condition==="New").length,z=x.filter(ie=>ie.asset_condition==="Good").length,P=x.filter(ie=>ie.asset_condition==="Needs Replacement").length,I=2.9,W=18.4,Z=-4.2,Y=11.3,te=(ie,le)=>Array.from({length:7},(se,oe)=>{const ee=(Math.random()-.5)*le;return Math.max(0,ie+ee)});return{total:{value:N,trend:I,subtitle:`${N>0?(E/N*100).toFixed(1):0}% are new equipment`,sparkline:te(N,N*.1)},new:{value:E,trend:W,subtitle:`${N>0?(E/N*100).toFixed(1):0}% of total equipment`,sparkline:te(E,E*.2)},good:{value:z,trend:Z,subtitle:`${N>0?(z/N*100).toFixed(1):0}% of total equipment`,sparkline:te(z,z*.15)},replacement:{value:P,trend:Y,subtitle:`${N>0?(P/N*100).toFixed(1):0}% of total equipment`,sparkline:te(P,P*.3)}}},[x]);return n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:justify-between sm:items-center px-2 py-2 sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(U1,{className:"w-6 h-6 text-emerald-600"}),n.jsx("h1",{className:"text-xl font-bold text-gray-900 sm:text-2xl",children:"Plant & Machinery"}),f&&n.jsxs("span",{className:"px-2 py-1 text-xs font-medium text-emerald-600 bg-emerald-100 rounded-full",children:[Object.values(d).filter(Boolean).length," filter",Object.values(d).filter(Boolean).length>1?"s":""," ","active"]})]}),n.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[n.jsx(Be,{variant:"secondary",leftIcon:n.jsx(Nn,{size:16}),onClick:()=>c(!0),className:`w-full sm:w-auto ${f?"bg-emerald-50 text-emerald-700 border-emerald-200 hover:bg-emerald-100":""}`,children:"Filter"}),n.jsx(Be,{variant:"secondary",leftIcon:n.jsx(Xd,{size:16}),onClick:M,className:"w-full sm:w-auto",children:"Export"}),n.jsx(Be,{variant:"primary",className:"w-full bg-emerald-600 hover:bg-emerald-700 sm:w-auto",leftIcon:n.jsx(ri,{size:16}),onClick:()=>e("/categories/plant-machinery/new"),children:"Add Equipment"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 px-2 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-emerald-500 to-emerald-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(U1,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:C.total.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${C.total.trend>=0?"text-green-200":"text-red-200"}`,children:[C.total.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(C.total.trend),"%"]})]}),n.jsxs("p",{className:"text-sm text-emerald-100 mb-3",children:[f?"Filtered":"Total"," Equipment"]}),n.jsx("p",{className:"text-xs text-emerald-200 mb-2",children:C.total.subtitle}),n.jsx(A,{data:C.total.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-green-500 to-green-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(la,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:C.new.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${C.new.trend>=0?"text-green-200":"text-red-200"}`,children:[C.new.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(C.new.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-green-100 mb-3",children:"New"}),n.jsx("p",{className:"text-xs text-green-200 mb-2",children:C.new.subtitle}),n.jsx(A,{data:C.new.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-500 to-blue-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(eo,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:C.good.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${C.good.trend>=0?"text-green-200":"text-red-200"}`,children:[C.good.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(C.good.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-blue-100 mb-3",children:"Good"}),n.jsx("p",{className:"text-xs text-blue-200 mb-2",children:C.good.subtitle}),n.jsx(A,{data:C.good.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-red-500 to-red-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(aa,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:C.replacement.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${C.replacement.trend>=0?"text-red-200":"text-green-200"}`,children:[C.replacement.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(C.replacement.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-red-100 mb-3",children:"Need Replacement"}),n.jsx("p",{className:"text-xs text-red-200 mb-2",children:C.replacement.subtitle}),n.jsx(A,{data:C.replacement.sparkline,color:"bg-white/30"})]})]})})]}),s?n.jsxs("div",{className:"flex justify-center items-center py-8 space-x-2 text-gray-500",children:[n.jsxs("svg",{className:"w-5 h-5 text-gray-500 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),n.jsx("span",{children:"Loading plant & machinery..."})]}):x.length===0&&t.length>0?n.jsxs(it,{className:"p-8 text-center",children:[n.jsx(Nn,{className:"mx-auto mb-4 w-12 h-12 text-gray-400"}),n.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"No equipment matches your filters"}),n.jsx("p",{className:"mb-4 text-gray-500",children:"Try adjusting your filter criteria to see more results."}),n.jsx(Be,{variant:"secondary",onClick:v,className:"mr-2",children:"Clear Filters"}),n.jsx(Be,{variant:"primary",className:"bg-emerald-600 hover:bg-emerald-700",onClick:()=>c(!0),children:"Adjust Filters"})]}):t.length===0?n.jsxs(it,{className:"p-8 text-center",children:[n.jsx(U1,{className:"mx-auto mb-4 w-12 h-12 text-gray-400"}),n.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"No plant & machinery found"}),n.jsx("p",{className:"mb-4 text-gray-500",children:"Get started by adding your first piece of plant & machinery."}),n.jsx(Be,{variant:"primary",className:"bg-emerald-600 hover:bg-emerald-700",leftIcon:n.jsx(ri,{size:16}),onClick:()=>e("/categories/plant-machinery/new"),children:"Add Equipment"})]}):n.jsx(it,{className:"overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx(r0,{data:x,columns:T,keyField:"id",onRowClick:_,actions:O,searchable:!0,pagination:!0,pageSize:o,currentPage:a,onPageChange:i,className:"min-w-full"})})}),n.jsx(Yh,{isOpen:l,onClose:()=>c(!1),filterOptions:p,activeFilters:d,onFilterChange:y,onClearAll:v,hasActiveFilters:f,filteredData:x,columns:T.map(N=>({header:N.header,accessor:(typeof N.accessor=="function",N.accessor),cell:N.cell})),exportTitle:"Plant & Machinery"})]})},Tg=({message:e="Operation completed successfully.",onClose:t,title:r="Success!",buttonLabel:s="Close"})=>n.jsx("div",{className:"flex fixed inset-0 z-50 justify-center items-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"p-6 w-full max-w-sm text-center bg-white rounded-lg shadow-lg",children:[n.jsx("h2",{className:"mb-4 text-xl font-semibold text-green-600",children:r}),n.jsx("p",{className:"mb-6",children:e}),n.jsx(Be,{variant:"primary",onClick:t,children:s})]})}),The=()=>{const{id:e}=si(),t=Vr(),{selectedPlantMachinery:r,getPlantMachineryById:s}=Rp(),[a,i]=U.useState(null),[o,l]=U.useState([]),[c,d]=U.useState(!1),[u,p]=U.useState(null),[x,f]=U.useState(!1),[y,v]=U.useState(!1),[_,k]=U.useState(""),[S,M]=U.useState("all"),[T,O]=U.useState("all"),[A,C]=U.useState(!1),[N,E]=U.useState(new Set),[z,P]=U.useState({previousOwner:"",transferDate:"",transferReason:"",transferDepartment:"",transferLocation:"",transferRoomOrFloor:"",assignedTo:""});U.useEffect(()=>{(async()=>{if(e){const ae=await s(e);ae&&(i(ae),P(ge=>({...ge,previousOwner:ae.responsible_officer||"",assignedTo:""})),await I(e))}})()},[e,s]);const I=async K=>{d(!0),p(null);try{const ae=await Pt.get(`${Bt}/plant-machinery/${K}/transfers/`);l(ae.data)}catch(ae){console.error("Failed to fetch transfer history:",ae),p("Failed to fetch transfer history")}finally{d(!1)}},W=U.useMemo(()=>{let K=[...o];if(_.trim()){const ae=_.toLowerCase().trim();K=K.filter(ge=>{var he,ke,Ae,We,fe,ht;return((he=ge.assigned_to)==null?void 0:he.toLowerCase().includes(ae))||((ke=ge.previous_owner)==null?void 0:ke.toLowerCase().includes(ae))||((Ae=ge.transfer_location)==null?void 0:Ae.toLowerCase().includes(ae))||((We=ge.transfer_department)==null?void 0:We.toLowerCase().includes(ae))||((fe=ge.transfer_reason)==null?void 0:fe.toLowerCase().includes(ae))||((ht=ge.approved_by)==null?void 0:ht.toLowerCase().includes(ae))})}if(S!=="all"&&(K=K.filter(ae=>(ae.status||"approved").toLowerCase()===S.toLowerCase())),T!=="all"){const ae=new Date;ae.setHours(23,59,59,999),K=K.filter(ge=>{const he=new Date(ge.transfer_date);switch(T){case"today":const ke=new Date;ke.setHours(0,0,0,0);const Ae=new Date;return Ae.setHours(23,59,59,999),he>=ke&&he<=Ae;case"week":const We=new Date(ae);return We.setDate(We.getDate()-7),We.setHours(0,0,0,0),he>=We;case"month":const fe=new Date(ae);return fe.setMonth(fe.getMonth()-1),fe.setHours(0,0,0,0),he>=fe;case"year":const ht=new Date(ae);return ht.setFullYear(ht.getFullYear()-1),ht.setHours(0,0,0,0),he>=ht;default:return!0}})}return K.sort((ae,ge)=>new Date(ge.transfer_date).getTime()-new Date(ae.transfer_date).getTime())},[o,_,S,T]),Z=()=>{v(!1),t("/categories/plant-machinery")},Y=(K,ae)=>{P(ge=>({...ge,[K]:ae}))},te=async()=>{if(!a)return;f(!0);const K={asset_id:a.id,previous_owner:z.previousOwner,assigned_to:z.assignedTo,transfer_date:z.transferDate,transfer_reason:z.transferReason,transfer_department:z.transferDepartment,transfer_location:z.transferLocation,transfer_room_or_floor:z.transferRoomOrFloor};try{const ae=await Pt.post(`${Bt}/plant-machinery/${a.id}/transfer`,K);console.log("Transfer successful:",ae.data),e&&await I(e),v(!0)}catch(ae){console.error("Error submitting transfer:",ae),alert("Error submitting transfer. Please try again.")}finally{f(!1)}},ie=K=>{switch(K==null?void 0:K.toLowerCase()){case"approved":return n.jsx(la,{size:12,className:"text-green-600"});case"pending approval":return n.jsx(ei,{size:12,className:"text-amber-600"});default:return n.jsx(la,{size:12,className:"text-green-600"})}},le=K=>{switch(K==null?void 0:K.toLowerCase()){case"approved":return"bg-green-100 text-green-800 border-green-200";case"pending approval":return"bg-amber-100 text-amber-800 border-amber-200";default:return"bg-green-100 text-green-800 border-green-200"}},se=()=>{k(""),M("all"),O("all"),C(!1)},oe=K=>{const ae=new Set(N);ae.has(K)?ae.delete(K):ae.add(K),E(ae)},ee=K=>N.has(K),B=K=>K&&K.length>50,q=()=>n.jsxs("svg",{className:"inline-block mr-2 w-5 h-5 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),Q=()=>{window.history.length>1?t(-1):t("/categories/plant-machinery")};return a?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 shadow-sm",children:n.jsx("div",{className:"px-2 py-2 mx-auto",children:n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Be,{variant:"secondary",onClick:Q,children:" Return"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Plant Machinery Transfer"})]})})})}),n.jsx("div",{className:"px-2 py-2 mx-auto",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(it,{className:"bg-white border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"p-2",children:[n.jsx("h2",{className:"pb-2 mb-4 text-lg font-semibold text-gray-900 border-b border-gray-100",children:"Current Plant Machinery Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Asset Description"}),n.jsx("p",{className:"text-base text-gray-900",children:a.asset_description})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Current Responsible Officer"}),n.jsx("p",{className:"text-base text-gray-900",children:a.responsible_officer||"Not assigned"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Current Location"}),n.jsx("p",{className:"text-base text-gray-900",children:a.current_location||"Not specified"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Serial Number"}),n.jsx("p",{className:"text-base text-gray-900",children:a.serial_number||"N/A"})]})]})]})}),n.jsx(it,{className:"bg-white border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"p-2",children:[n.jsx("h2",{className:"pb-2 mb-4 text-lg font-semibold text-gray-900 border-b border-gray-100",children:"Transfer Information"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["New Responsible Officer"," ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(wt,{value:z.assignedTo,onChange:K=>Y("assignedTo",K.target.value),placeholder:"Enter new responsible officer",className:"w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Transfer Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(wt,{type:"date",value:z.transferDate,onChange:K=>Y("transferDate",K.target.value),className:"w-full"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Transfer Reason"}),n.jsx(wt,{value:z.transferReason,onChange:K=>Y("transferReason",K.target.value),placeholder:"Reason for transfer",className:"w-full"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Transfer Department"}),n.jsx(wt,{value:z.transferDepartment,onChange:K=>Y("transferDepartment",K.target.value),placeholder:"Target department",className:"w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Transfer Location"}),n.jsx(wt,{value:z.transferLocation,onChange:K=>Y("transferLocation",K.target.value),placeholder:"Target location",className:"w-full"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Transfer Room/Floor"}),n.jsx(wt,{value:z.transferRoomOrFloor,onChange:K=>Y("transferRoomOrFloor",K.target.value),placeholder:"Room or floor in new location",className:"w-full"})]})]})]})}),n.jsx(it,{className:"bg-white border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"p-2",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Transfer History"}),o.length>0&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Hd,{size:16,className:"text-primary-500"}),n.jsxs("span",{className:"text-sm text-primary-600",children:[o.length," transfer",o.length!==1?"s":""," recorded"]})]})]}),o.length>0&&n.jsx("div",{className:"p-3 sm:p-4 border border-gray-200 bg-gray-50 rounded-md mb-4",children:n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Lu,{size:16,className:"absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search transfers...",value:_,onChange:K=>k(K.target.value),className:"w-full pl-10 pr-3 py-2.5 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs(Be,{variant:"secondary",size:"sm",onClick:()=>C(!A),className:"flex items-center justify-center space-x-2 px-4 py-2.5",children:[n.jsx(Nn,{size:14}),n.jsx("span",{className:"text-sm",children:"Filters"}),n.jsx(q0,{size:14,className:`transition-transform ${A?"rotate-180":""}`})]}),(_||S!=="all"||T!=="all")&&n.jsx(Be,{variant:"ghost",size:"sm",onClick:se,className:"text-sm py-2.5",children:"Clear All Filters"})]}),A&&n.jsx("div",{className:"p-3 border border-gray-200 rounded-md bg-white",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{value:S,onChange:K=>M(K.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"pending approval",children:"Pending Approval"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),n.jsxs("select",{value:T,onChange:K=>O(K.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"Last 7 Days"}),n.jsx("option",{value:"month",children:"Last 30 Days"}),n.jsx("option",{value:"year",children:"Last Year"})]})]})]})}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:["Showing ",W.length," of"," ",o.length," transfers"]})]})}),c?n.jsxs("div",{className:"flex justify-center items-center py-8",children:[n.jsx("div",{className:"w-6 h-6 rounded-full border-b-2 animate-spin border-primary-600"}),n.jsx("span",{className:"ml-2 text-primary-600",children:"Loading transfer history..."})]}):u?n.jsxs("div",{className:"py-8 text-center",children:[n.jsx("div",{className:"text-error-600 mb-2",children:"Failed to load transfer history"}),n.jsx("div",{className:"text-sm text-primary-500",children:u})]}):o.length===0?n.jsxs("div",{className:"py-8 text-center",children:[n.jsx("div",{className:"p-3 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:n.jsx(Hd,{className:"text-gray-400",size:32})}),n.jsx("div",{className:"text-primary-500 mb-2",children:"No transfer history found"}),n.jsx("div",{className:"text-sm text-primary-400",children:"This plant machinery has not been transferred yet."})]}):W.length===0?n.jsxs("div",{className:"py-8 text-center",children:[n.jsx("div",{className:"p-3 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:n.jsx(Lu,{className:"text-gray-400",size:32})}),n.jsx("div",{className:"text-gray-600 mb-2 font-medium text-base",children:"No transfers match your filters"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden",children:n.jsx("div",{className:"space-y-3",children:W.map((K,ae)=>n.jsxs("div",{className:`border rounded-lg p-4 ${ae===0?"border-indigo-200 bg-indigo-50":"border-gray-200 bg-white"}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-gray-900 text-sm",children:yi(new Date(K.transfer_date),"MMM dd, yyyy")}),n.jsx("div",{className:"text-xs text-gray-500",children:yi(new Date(K.transfer_date),"HH:mm")})]}),n.jsxs("div",{className:"flex flex-col items-end gap-2",children:[n.jsxs("div",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-md border text-xs font-medium ${le(K.status||"approved")}`,children:[ie(K.status||"approved"),n.jsx("span",{children:K.status||"Approved"})]}),ae===0&&n.jsx("span",{className:"inline-block px-2 py-0.5 text-xs font-medium bg-indigo-100 text-indigo-700 rounded-full",children:"Latest"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(_i,{size:14,className:"text-gray-400 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[K.previous_owner&&n.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[n.jsx("span",{className:"font-medium",children:"From:"})," ",K.previous_owner]}),n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsx("span",{className:"font-medium",children:"To:"})," ",K.assigned_to]})]})]}),K.transfer_location&&n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(Ea,{size:14,className:"text-gray-400 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"text-sm text-gray-900",children:K.transfer_location}),K.transfer_room_or_floor&&n.jsx("div",{className:"text-xs text-gray-600",children:K.transfer_room_or_floor})]})]}),K.transfer_department&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Qo,{size:14,className:"text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-gray-900",children:K.transfer_department})]}),K.transfer_reason&&n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(Ya,{size:14,className:"text-gray-400 mt-0.5 flex-shrink-0"}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsx("div",{className:"text-sm text-gray-900",children:B(K.transfer_reason)?n.jsxs(n.Fragment,{children:[ee(K.id)?K.transfer_reason:`${K.transfer_reason.substring(0,50)}...`,n.jsx("button",{onClick:()=>oe(K.id),className:"ml-2 text-indigo-600 hover:text-indigo-800 text-xs font-medium underline",children:ee(K.id)?"Read Less":"Read More"})]}):K.transfer_reason})})]})]})]},K.id))})}),n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-700 min-w-[120px]",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Tu,{size:12}),n.jsx("span",{children:"Date"})]})}),n.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-700 min-w-[100px]",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(la,{size:12}),n.jsx("span",{children:"Status"})]})}),n.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-700 min-w-[150px]",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(_i,{size:12}),n.jsx("span",{children:"From  To"})]})}),n.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-700 min-w-[120px]",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ea,{size:12}),n.jsx("span",{children:"Location"})]})}),n.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-700 min-w-[100px]",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Qo,{size:12}),n.jsx("span",{children:"Department"})]})}),n.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-700 min-w-[200px]",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ya,{size:12}),n.jsx("span",{children:"Reason"})]})})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:W.map((K,ae)=>n.jsxs("tr",{className:`hover:bg-gray-50 ${ae===0?"bg-indigo-50":""}`,children:[n.jsx("td",{className:"px-4 py-3 text-gray-900",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-medium",children:yi(new Date(K.transfer_date),"MMM dd, yyyy")}),n.jsx("div",{className:"text-xs text-gray-500",children:yi(new Date(K.transfer_date),"HH:mm")}),ae===0&&n.jsx("span",{className:"inline-block px-2 py-0.5 text-xs font-medium bg-indigo-100 text-indigo-700 rounded-full",children:"Latest"})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-md border text-xs font-medium ${le(K.status||"approved")}`,children:[ie(K.status||"approved"),n.jsx("span",{className:"truncate",children:K.status||"Approved"})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"space-y-1",children:[K.previous_owner&&n.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[n.jsx("span",{className:"text-xs",children:"From:"}),n.jsx("span",{className:"font-medium",children:K.previous_owner})]}),n.jsxs("div",{className:"flex items-center space-x-1 text-indigo-900",children:[n.jsx("span",{className:"text-xs",children:"To:"}),n.jsx("span",{className:"font-medium",children:K.assigned_to})]})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-medium text-gray-900",children:K.transfer_location||"Not specified"}),K.transfer_room_or_floor&&n.jsx("div",{className:"text-xs text-gray-600",children:K.transfer_room_or_floor})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"text-gray-900",children:K.transfer_department||"-"})}),n.jsx("td",{className:"px-4 py-3",children:K.transfer_reason?n.jsx("div",{className:"max-w-[200px]",children:n.jsx("div",{className:"text-gray-900",children:B(K.transfer_reason)?n.jsxs(n.Fragment,{children:[ee(K.id)?K.transfer_reason:`${K.transfer_reason.substring(0,50)}...`,n.jsx("button",{onClick:()=>oe(K.id),className:"ml-2 text-indigo-600 hover:text-indigo-800 text-xs font-medium underline inline-flex items-center",children:ee(K.id)?n.jsxs(n.Fragment,{children:[n.jsx(Oy,{size:10,className:"mr-1"}),"Less"]}):n.jsxs(n.Fragment,{children:[n.jsx(q0,{size:10,className:"mr-1"}),"More"]})})]}):K.transfer_reason})}):n.jsx("span",{className:"text-gray-400 text-xs",children:"-"})})]},K.id))})]})})]})]})}),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsxs(Be,{variant:"primary",onClick:te,disabled:x||!z.assignedTo.trim()||!z.transferDate.trim(),className:"px-8 py-2",children:[x&&n.jsx(q,{}),"Confirm Transfer"]})})]})}),y&&n.jsx(Tg,{message:"The plant machinery transfer was completed successfully.",onClose:Z})]}):n.jsx("div",{className:"text-center text-gray-500",children:"Plant Machinery not found"})},Mhe=()=>{const{id:e}=si(),t=Vr(),[r]=Du(),s=r.get("edit")==="true",{getFurnitureEquipmentById:a,updateFurnitureEquipment:i,selectedFurnitureEquipment:o,setSelectedFurnitureEquipment:l,isLoading:c}=Ip(),[d,u]=U.useState(!1);U.useEffect(()=>((async()=>{if(e&&e!=="new")try{console.log("[v0] Loading furniture equipment with ID:",e);const y=await a(e);y?(console.log("[v0] Successfully loaded furniture equipment:",y),l(y)):(console.log("[v0] No furniture equipment found for ID:",e),Ke.error("Furniture equipment not found"),t("/categories/furniture-equipment"))}catch(y){console.error("[v0] Error loading furniture equipment:",y),Ke.error("Failed to load furniture equipment details"),t("/categories/furniture-equipment")}else console.log("[v0] Invalid furniture equipment ID:",e),Ke.error("Invalid furniture equipment ID"),t("/categories/furniture-equipment")})(),()=>l(null)),[e,a,l,t]);const p=async()=>{if(o){u(!0);try{await i(o.id,o),Ke.success("Furniture equipment updated successfully"),t("/categories/furniture-equipment")}catch(f){console.error("Error updating furniture equipment:",f),Ke.error("Failed to update furniture equipment")}finally{u(!1)}}},x=(f,y)=>{if(o){let v=f.target.value;(y==="purchase_amount"||y==="depreciation_rate"||y==="annual_depreciation"||y==="accumulated_depreciation"||y==="net_book_value"||y==="disposal_value")&&(v=v===""?void 0:Number.parseFloat(v)),l({...o,[y]:v})}};return c?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"w-8 h-8 rounded-full border-b-2 border-amber-600 animate-spin"})}):o?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("nav",{className:"flex items-center mb-6 space-x-2 text-sm text-gray-600",children:[n.jsxs(Lr,{to:"/",className:"flex items-center transition-colors hover:text-blue-600",children:[n.jsx(ln,{size:16,className:"mr-1"}),"Home"]}),n.jsx(Dr,{size:16}),n.jsx(Lr,{to:"/asset-categories",className:"transition-colors hover:text-blue-600",children:"Asset Categories"}),n.jsx(Dr,{size:16}),n.jsx(Lr,{to:"/categories/furniture-equipment",className:"transition-colors hover:text-blue-600",children:"Furniture & Fittings Equipment"}),n.jsx(Dr,{size:16}),n.jsxs("span",{className:"flex items-center font-medium text-gray-900",children:[n.jsx(Vd,{size:16,className:"mr-1"}),s?"Edit":"View"," Equipment"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Be,{variant:"ghost",className:"p-2",onClick:()=>t("/categories/furniture-equipment"),children:n.jsx(Pa,{size:20})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:o.asset_description})]}),s&&n.jsx(Be,{variant:"primary",className:"bg-amber-600 hover:bg-amber-700",leftIcon:n.jsx(bi,{size:16}),onClick:p,isLoading:d,children:"Save Changes"})]}),n.jsx(it,{children:n.jsxs("div",{className:"grid grid-cols-1 gap-6 p-6 sm:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{className:"asset-info-wrapper md-22",children:[n.jsx("h1",{className:"mb-4 text-2xl font-semibold text-gray-800 title",children:"Asset Information"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Asset Description"}),s?n.jsx("textarea",{name:"asset_description",value:o.asset_description||"",onChange:f=>x(f,"asset_description"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300 min-h-[80px]"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.asset_description})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Make/Model"}),s?n.jsx("input",{name:"make_model",type:"text",value:o.make_model||"",onChange:f=>x(f,"make_model"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.make_model||"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Serial Number"}),s?n.jsx("input",{name:"serial_number",type:"text",value:o.serial_number||"",onChange:f=>x(f,"serial_number"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.serial_number||"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Tag Number"}),s?n.jsx("input",{name:"tag_number",type:"text",value:o.tag_number||"",onChange:f=>x(f,"tag_number"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.tag_number||"N/A"})]})]}),n.jsxs("div",{className:"financial-wrapper md-22",children:[n.jsx("h1",{className:"mb-4 text-2xl font-semibold text-gray-800 title",children:"Financial Information"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Purchase Amount"}),s?n.jsx("input",{name:"purchase_amount",type:"number",step:"0.01",value:o.purchase_amount||"",onChange:f=>x(f,"purchase_amount"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.purchase_amount?`Ksh.${o.purchase_amount.toLocaleString()}`:"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Depreciation Rate (%)"}),s?n.jsx("input",{name:"depreciation_rate",type:"number",step:"0.01",value:o.depreciation_rate||"",onChange:f=>x(f,"depreciation_rate"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.depreciation_rate?`${o.depreciation_rate}%`:"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Annual Depreciation"}),s?n.jsx("input",{name:"annual_depreciation",type:"number",step:"0.01",value:o.annual_depreciation||"",onChange:f=>x(f,"annual_depreciation"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.annual_depreciation?`Ksh.${o.annual_depreciation.toLocaleString()}`:"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Accumulated Depreciation"}),s?n.jsx("input",{name:"accumulated_depreciation",type:"number",step:"0.01",value:o.accumulated_depreciation||"",onChange:f=>x(f,"accumulated_depreciation"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.accumulated_depreciation?`Ksh.${o.accumulated_depreciation.toLocaleString()}`:"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Net Book Value"}),s?n.jsx("input",{name:"net_book_value",type:"number",step:"0.01",value:o.net_book_value||"",onChange:f=>x(f,"net_book_value"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.net_book_value?`Ksh.${o.net_book_value.toLocaleString()}`:"N/A"})]})]}),n.jsxs("div",{className:"location-status-wrapper md-22",children:[n.jsx("h1",{className:"mb-4 text-2xl font-semibold text-gray-800 title",children:"Location & Status"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Original Location"}),s?n.jsx("input",{name:"original_location",type:"text",value:o.original_location||"",onChange:f=>x(f,"original_location"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.original_location||"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Current Location"}),s?n.jsx("input",{name:"current_location",type:"text",value:o.current_location||"",onChange:f=>x(f,"current_location"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.current_location||"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Asset Condition"}),s?n.jsxs("select",{name:"asset_condition",value:o.asset_condition||"",onChange:f=>x(f,"asset_condition"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300",children:[n.jsx("option",{value:"",children:"Select condition"}),n.jsx("option",{value:"New",children:"New"}),n.jsx("option",{value:"Good",children:"Good"}),n.jsx("option",{value:"Worn",children:"Worn"}),n.jsx("option",{value:"Needs Replacement",children:"Needs Replacement"})]}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.asset_condition||"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Responsible Officer"}),s?n.jsx("input",{name:"responsible_officer",type:"text",value:o.responsible_officer||"",onChange:f=>x(f,"responsible_officer"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.responsible_officer||"N/A"})]})]}),n.jsxs("div",{className:"additional-wrapper md-22",children:[n.jsx("h1",{className:"mb-4 text-2xl font-semibold text-gray-800 title",children:"Additional Details"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Financed By"}),s?n.jsx("input",{name:"financed_by",type:"text",value:o.financed_by||"",onChange:f=>x(f,"financed_by"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.financed_by||"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"PV Number"}),s?n.jsx("input",{name:"pv_number",type:"text",value:o.pv_number||"",onChange:f=>x(f,"pv_number"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.pv_number||"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Notes"}),s?n.jsx("textarea",{name:"notes",value:o.notes||"",onChange:f=>x(f,"notes"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300 min-h-[60px]"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.notes||"N/A"})]})]}),n.jsxs("div",{className:"dates-wrapper md-22",children:[n.jsx("h1",{className:"mb-4 text-2xl font-semibold text-gray-800 title",children:"Important Dates"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Delivery/Installation Date"}),s?n.jsx("input",{name:"delivery_installation_date",type:"date",value:o.delivery_installation_date?new Date(o.delivery_installation_date).toISOString().split("T")[0]:"",onChange:f=>x(f,"delivery_installation_date"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.delivery_installation_date?new Date(o.delivery_installation_date).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Replacement Date"}),s?n.jsx("input",{name:"replacement_date",type:"date",value:o.replacement_date?new Date(o.replacement_date).toISOString().split("T")[0]:"",onChange:f=>x(f,"replacement_date"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.replacement_date?new Date(o.replacement_date).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Disposal Date"}),s?n.jsx("input",{name:"disposal_date",type:"date",value:o.disposal_date?new Date(o.disposal_date).toISOString().split("T")[0]:"",onChange:f=>x(f,"disposal_date"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.disposal_date?new Date(o.disposal_date).toLocaleDateString():"N/A"})]}),(o.disposal_value||s)&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Disposal Value"}),s?n.jsx("input",{name:"disposal_value",type:"number",step:"0.01",value:o.disposal_value||"",onChange:f=>x(f,"disposal_value"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.disposal_value?`Ksh.${o.disposal_value.toLocaleString()}`:"N/A"})]})]})]})})]}):n.jsxs("div",{className:"py-8 text-center",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Furniture equipment not found"}),n.jsx(Be,{variant:"secondary",className:"mt-4",leftIcon:n.jsx(Pa,{size:16}),onClick:()=>t("/categories/furniture-equipment"),children:"Back to Furniture Equipment"})]})},C8=()=>{const e=Vr(),{id:t}=si(),r=!!(t&&t!=="new"),{createFurnitureEquipment:s,updateFurnitureEquipment:a,getFurnitureEquipmentById:i,isLoading:o}=Ip(),[l,c]=U.useState({}),[d,u]=U.useState(!1),[p,x]=U.useState(!1),[f,y]=U.useState(!0),[v,_]=U.useState({asset_description:"",financed_by:"",serial_number:"",tag_number:"",make_model:"",delivery_installation_date:"",pv_number:"",original_location:"",current_location:"",replacement_date:"",purchase_amount:void 0,depreciation_rate:void 0,annual_depreciation:void 0,accumulated_depreciation:void 0,net_book_value:void 0,disposal_date:"",disposal_value:void 0,responsible_officer:"",asset_condition:"New",notes:""});U.useEffect(()=>{r&&t&&k()},[t,r]);const k=async()=>{if(t)try{const C=await i(t);C&&_(C)}catch{Ke.error("Failed to load furniture equipment"),e("/categories/furniture-equipment")}},S=async()=>{var C,N,E;u(!0),c(z=>({...z,tag_number:""}));try{const P=(await Pt.post("https://assets-system-sigma.vercel.app/api/furniture-equipment/generate-tag")).data;T("tag_number",P.tag_number),Ke.success(P.message||"Tag number generated successfully")}catch(z){console.error("Tag generation error:",z);const P=((N=(C=z.response)==null?void 0:C.data)==null?void 0:N.detail)||z.message||"Failed to generate tag number";Ke.error(P),((E=z.response)==null?void 0:E.status)===401&&e("/login")}finally{u(!1)}},M=async C=>{var N,E,z;if(!C.trim()){c(P=>({...P,tag_number:""}));return}x(!0);try{const I=(await Pt.post(`https://assets-system-sigma.vercel.app/api/furniture-equipment/validate-tag${r?`?asset_id=${t}`:""}`,{tag_number:C})).data;I.valid?c(W=>({...W,tag_number:""})):c(W=>({...W,tag_number:I.message}))}catch(P){console.error("Tag validation error:",P);const I=((E=(N=P.response)==null?void 0:N.data)==null?void 0:E.detail)||P.message||"Failed to validate tag number";c(W=>({...W,tag_number:I})),((z=P.response)==null?void 0:z.status)===401&&e("/login")}finally{x(!1)}},T=(C,N)=>{if(_(E=>({...E,[C]:N})),f&&["annual_depreciation","accumulated_depreciation","net_book_value"].includes(C)&&(y(!1),Ke.info("Auto-calculation disabled. Click 'Recalculate' to re-enable.")),l[C]&&c(E=>({...E,[C]:""})),C==="tag_number"&&typeof N=="string"){const E=setTimeout(()=>{M(N)},500);return()=>clearTimeout(E)}},O=()=>{y(!0),Ke.success("Auto-calculation re-enabled")};U.useEffect(()=>{if(f&&v.purchase_amount&&v.depreciation_rate){const C=v.purchase_amount*v.depreciation_rate/100;_(N=>({...N,annual_depreciation:Number(C.toFixed(2))}))}},[v.purchase_amount,v.depreciation_rate,f]),U.useEffect(()=>{if(f&&v.annual_depreciation&&v.delivery_installation_date){const C=new Date(v.delivery_installation_date),N=v.disposal_date?new Date(v.disposal_date):v.replacement_date?new Date(v.replacement_date):new Date,z=Math.max(0,Math.floor((N.getTime()-C.getTime())/(1e3*60*60*24)))/365,P=v.annual_depreciation*z;_(I=>({...I,accumulated_depreciation:Number(P.toFixed(2))}))}},[v.annual_depreciation,v.delivery_installation_date,v.disposal_date,v.replacement_date,f]),U.useEffect(()=>{if(f&&v.purchase_amount!==void 0&&v.accumulated_depreciation!==void 0){const C=Math.max(0,v.purchase_amount-v.accumulated_depreciation);_(N=>({...N,net_book_value:Number(C.toFixed(2))}))}},[v.purchase_amount,v.accumulated_depreciation,f]);const A=async C=>{var E,z,P;C.preventDefault();const N={};if((E=v.asset_description)!=null&&E.trim()||(N.asset_description="Asset description is required"),(z=v.serial_number)!=null&&z.trim()||(N.serial_number="Serial number is required"),(P=v.tag_number)!=null&&P.trim()||(N.tag_number="Tag number is required"),Object.keys(N).length>0){c(N),Ke.error("Please fix the validation errors before submitting");return}if(Object.values(l).some(I=>I!=="")){Ke.error("Please fix the validation errors before submitting");return}try{const I={...v,delivery_installation_date:v.delivery_installation_date||null,replacement_date:v.replacement_date||null,disposal_date:v.disposal_date||null};r&&t?(await a(t,I),Ke.success("Furniture equipment updated successfully")):(await s(I),Ke.success("Furniture equipment created successfully")),e("/categories/furniture-equipment")}catch{Ke.error(r?"Failed to update furniture equipment":"Failed to create furniture equipment")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("nav",{className:"flex items-center mb-6 space-x-2 text-sm text-gray-600",children:[n.jsxs(Lr,{to:"/",className:"flex items-center transition-colors hover:text-blue-600",children:[n.jsx(ln,{size:16,className:"mr-1"}),"Home"]}),n.jsx(Dr,{size:16}),n.jsxs(Lr,{to:"/asset-categories",className:"flex items-center transition-colors hover:text-blue-600",children:[n.jsx(Lc,{size:16,className:"mr-1"}),"Asset Categories"]}),n.jsx(Dr,{size:16}),n.jsx(Lr,{to:"/categories/furniture-equipment",className:"transition-colors hover:text-blue-600",children:"Furniture & Fittings Equipment"}),n.jsx(Dr,{size:16}),n.jsxs("span",{className:"flex items-center font-medium text-gray-900",children:[n.jsx(Vd,{size:16,className:"mr-1"}),r?"Edit Equipment":"Add Equipment"]})]}),n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r?"Edit Equipment":"Add Equipment"}),n.jsx("p",{className:"mt-2 text-gray-600",children:r?"Update furniture equipment information":"Create a new furniture equipment entry"})]})}),n.jsxs("form",{onSubmit:A,className:"space-y-6",children:[n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Asset Description ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bo,{value:v.asset_description||"",onChange:C=>T("asset_description",C.target.value),placeholder:"Enter detailed description of the asset",className:l.asset_description?"border-red-500":""}),l.asset_description&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.asset_description})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Make/Model"}),n.jsx(wt,{value:v.make_model||"",onChange:C=>T("make_model",C.target.value),placeholder:"Enter make and model"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Financed By"}),n.jsx(wt,{value:v.financed_by||"",onChange:C=>T("financed_by",C.target.value),placeholder:"Enter financing source"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Identification"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Serial Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(wt,{value:v.serial_number||"",onChange:C=>T("serial_number",C.target.value),placeholder:"Enter serial number",className:l.serial_number?"border-red-500":""}),l.serial_number&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.serial_number})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Tag Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"flex-1",children:n.jsx(wt,{value:v.tag_number||"",onChange:C=>T("tag_number",C.target.value),placeholder:"Enter tag number or generate one",className:l.tag_number?"border-red-500":""})}),n.jsx(Be,{type:"button",variant:"secondary",onClick:S,disabled:d,className:"px-3 py-2 min-w-0 hover:bg-gray-100 border border-gray-300 rounded-md transition-colors disabled:opacity-50",title:"Generate tag number from backend",children:n.jsx(Za,{size:16,className:`text-gray-600 ${d?"animate-spin":""}`})})]}),n.jsxs("div",{className:"mt-1",children:[p&&n.jsx("p",{className:"text-xs text-blue-600",children:"Validating tag number..."}),!p&&!l.tag_number&&n.jsx("p",{className:"text-xs text-gray-500",children:"Click the refresh button to auto-generate a unique tag number (Format: F-4578A)"}),l.tag_number&&n.jsx("p",{className:"text-sm text-red-600",children:l.tag_number})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"PV Number"}),n.jsx(wt,{value:v.pv_number||"",onChange:C=>T("pv_number",C.target.value),placeholder:"Enter PV number"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Location Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Original Location"}),n.jsx(wt,{value:v.original_location||"",onChange:C=>T("original_location",C.target.value),placeholder:"Enter original location"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Current Location"}),n.jsx(wt,{value:v.current_location||"",onChange:C=>T("current_location",C.target.value),placeholder:"Enter current location"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Financial Information"}),n.jsx("div",{className:"flex items-center gap-2",children:f?n.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-full",children:[n.jsx(Of,{size:14}),"Auto-calculating"]}):n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"flex items-center gap-1 px-3 py-1 text-xs font-medium text-amber-700 bg-amber-100 rounded-full",children:"Manual override"}),n.jsx(Be,{type:"button",variant:"secondary",onClick:O,className:"px-3 py-1 text-xs",children:"Recalculate"})]})})]}),f&&n.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Auto-calculation enabled:"})," Annual depreciation, accumulated depreciation, and net book value are calculated automatically based on purchase amount, depreciation rate, and delivery date. Edit any calculated field to override."]})}),!f&&n.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:n.jsxs("p",{className:"text-sm text-amber-800",children:[n.jsx("strong",{children:"Manual mode:"}),` You've edited a calculated field. Click "Recalculate" to restore automatic calculations.`]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Purchase Amount"}),n.jsx(wt,{type:"number",step:"0.01",value:v.purchase_amount||"",onChange:C=>T("purchase_amount",Number.parseFloat(C.target.value)||void 0),placeholder:"Enter purchase amount",className:f?"ring-2 ring-blue-200":""})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Depreciation Rate (%)"}),n.jsx(wt,{type:"number",step:"0.01",value:v.depreciation_rate||"",onChange:C=>T("depreciation_rate",Number.parseFloat(C.target.value)||void 0),placeholder:"Enter depreciation rate",className:f?"ring-2 ring-blue-200":""})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Annual Depreciation"," ",f&&n.jsx("span",{className:"text-xs text-green-600",children:"(auto)"})]}),n.jsx(wt,{type:"number",step:"0.01",value:v.annual_depreciation||"",onChange:C=>T("annual_depreciation",Number.parseFloat(C.target.value)||void 0),placeholder:"Enter annual depreciation",className:f?"bg-green-50":"",readOnly:f})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Accumulated Depreciation"," ",f&&n.jsx("span",{className:"text-xs text-green-600",children:"(auto)"})]}),n.jsx(wt,{type:"number",step:"0.01",value:v.accumulated_depreciation||"",onChange:C=>T("accumulated_depreciation",Number.parseFloat(C.target.value)||void 0),placeholder:"Enter accumulated depreciation",className:f?"bg-green-50":"",readOnly:f})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Net Book Value"," ",f&&n.jsx("span",{className:"text-xs text-green-600",children:"(auto)"})]}),n.jsx(wt,{type:"number",step:"0.01",value:v.net_book_value||"",onChange:C=>T("net_book_value",Number.parseFloat(C.target.value)||void 0),placeholder:"Enter net book value",className:f?"bg-green-50":"",readOnly:f})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Disposal Value"}),n.jsx(wt,{type:"number",step:"0.01",value:v.disposal_value||"",onChange:C=>T("disposal_value",Number.parseFloat(C.target.value)||void 0),placeholder:"Enter disposal value"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Important Dates"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Delivery/Installation Date"}),n.jsx(wt,{type:"date",value:v.delivery_installation_date||"",onChange:C=>T("delivery_installation_date",C.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Replacement Date"}),n.jsx(wt,{type:"date",value:v.replacement_date||"",onChange:C=>T("replacement_date",C.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Disposal Date"}),n.jsx(wt,{type:"date",value:v.disposal_date||"",onChange:C=>T("disposal_date",C.target.value)})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Status and Management"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Asset Condition"}),n.jsxs(Pi,{value:v.asset_condition||"",onChange:C=>T("asset_condition",C.target.value),children:[n.jsx("option",{value:"",children:"Select condition"}),n.jsx("option",{value:"New",children:"New"}),n.jsx("option",{value:"Good",children:"Good"}),n.jsx("option",{value:"Worn",children:"Worn"}),n.jsx("option",{value:"Needs Replacement",children:"Needs Replacement"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Responsible Officer"}),n.jsx(wt,{value:v.responsible_officer||"",onChange:C=>T("responsible_officer",C.target.value),placeholder:"Enter responsible officer"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Notes"}),n.jsx(bo,{value:v.notes||"",onChange:C=>T("notes",C.target.value),placeholder:"Enter any additional notes",rows:4})]})]})]})}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx(Be,{type:"button",variant:"secondary",onClick:()=>e("/categories/furniture-equipment"),leftIcon:n.jsx(Bs,{size:16}),children:"Cancel"}),n.jsx(Be,{type:"submit",variant:"primary",className:"bg-amber-600 hover:bg-amber-700",leftIcon:n.jsx(bi,{size:16}),isLoading:o,children:r?"Update Equipment":"Create Equipment"})]})]})]})},Lhe=()=>{const e=Vr(),{furnitureEquipments:t,fetchFurnitureEquipments:r,isLoading:s}=Ip(),[a,i]=U.useState(1),[o]=U.useState(10),[l,c]=U.useState(!1),[d,u]=U.useState({});U.useEffect(()=>{r()},[r]);const p=U.useMemo(()=>{if(!t||t.length===0)return[];const N=Array.from(new Set(t.map(I=>I.asset_condition).filter(Boolean))).sort(),E=Array.from(new Set(t.map(I=>I.current_location).filter(Boolean))).sort(),z=Array.from(new Set(t.map(I=>I.make_model).filter(Boolean))).sort(),P=Array.from(new Set(t.map(I=>I.delivery_installation_date).filter(Boolean).map(I=>new Date(I).getFullYear().toString()))).sort((I,W)=>Number.parseInt(W)-Number.parseInt(I));return[{key:"condition",label:"Condition",options:N},{key:"location",label:"Location",options:E},{key:"makeModel",label:"Make/Model",options:z},{key:"year",label:"Installation Year",options:P}]},[t]),x=U.useMemo(()=>t?t.filter(N=>{if(d.condition&&N.asset_condition!==d.condition||d.location&&N.current_location!==d.location||d.makeModel&&N.make_model!==d.makeModel)return!1;if(d.year&&N.delivery_installation_date){if(new Date(N.delivery_installation_date).getFullYear().toString()!==d.year)return!1}else if(d.year&&!N.delivery_installation_date)return!1;return!0}):[],[t,d]),f=Object.values(d).some(N=>N),y=(N,E)=>{u(z=>({...z,[N]:E})),i(1)},v=()=>{u({}),i(1)},_=N=>{console.log("[v0] Navigating to view equipment:",N.id),e(`/categories/furniture-equipment/${N.id}`)},k=N=>{console.log("[v0] Navigating to edit equipment:",N.id),e(`/categories/furniture-equipment/${N.id}?edit=true`)},S=N=>{console.log("[v0] Navigating to transfer equipment:",N.id),e(`/categories/furniture-equipment/${N.id}/transfer`)},M=()=>{Ke.info("Export functionality coming soon")},T=[{header:"#",accessor:(N,E)=>E!==void 0?(a-1)*o+E+1:x.indexOf(N)+1,sortable:!1},{header:"Asset Description",accessor:"asset_description",sortable:!0,cell:N=>n.jsx("div",{className:"max-w-xs truncate",title:N,children:N})},{header:"Tag Number",accessor:"tag_number",sortable:!0},{header:"Serial Number",accessor:"serial_number",sortable:!0},{header:"Make/Model",accessor:"make_model",sortable:!0,cell:N=>N||"N/A"},{header:"Current Location",accessor:"current_location",sortable:!0,cell:N=>N||"N/A"},{header:"Condition",accessor:"asset_condition",sortable:!0,cell:N=>{const E=z=>{switch(z==null?void 0:z.toLowerCase()){case"new":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"worn":return"bg-yellow-100 text-yellow-800";case"needs replacement":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return N?n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E(N)}`,children:N}):"N/A"}},{header:"Purchase Amount",accessor:"purchase_amount",sortable:!0,cell:N=>N?`Ksh.${N.toLocaleString()}`:"N/A"},{header:"Net Book Value",accessor:"net_book_value",sortable:!0,cell:N=>N?`Ksh.${N.toLocaleString()}`:"N/A"},{header:"Installation Date",accessor:"delivery_installation_date",sortable:!0,cell:N=>N?yi(new Date(N),"MMM dd, yyyy"):"N/A"}],O=N=>n.jsxs("div",{className:"flex space-x-1 sm:space-x-2",children:[n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-blue-600 rounded transition-colors hover:text-blue-800 hover:bg-blue-100",title:"View Equipment Details",onClick:E=>{E.preventDefault(),E.stopPropagation(),console.log("[v0] View button clicked for equipment:",N.id),_(N)},children:n.jsx(Xl,{size:16,className:"sm:w-4 sm:h-4"})}),n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-green-600 rounded transition-colors hover:text-green-800 hover:bg-green-100",title:"Edit Equipment",onClick:E=>{E.preventDefault(),E.stopPropagation(),console.log("[v0] Edit button clicked for equipment:",N.id),k(N)},children:n.jsx(Iu,{size:16,className:"sm:w-4 sm:h-4"})}),n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-purple-600 rounded transition-colors hover:text-purple-800 hover:bg-purple-100",title:"Transfer Equipment",onClick:E=>{E.preventDefault(),E.stopPropagation(),console.log("[v0] Transfer button clicked for equipment:",N.id),S(N)},children:n.jsx(W0,{size:16,className:"sm:w-4 sm:h-4"})})]}),A=({data:N,color:E})=>{const z=Math.max(...N),P=Math.min(...N),I=z-P||1;return n.jsx("div",{className:"flex items-end h-8 gap-0.5",children:N.map((W,Z)=>{const Y=(W-P)/I*100;return n.jsx("div",{className:`flex-1 ${E} rounded-sm transition-all`,style:{height:`${Y}%`,minHeight:"2px"}},Z)})})},C=U.useMemo(()=>{const N=x.length,E=x.filter(ie=>ie.asset_condition==="New").length,z=x.filter(ie=>ie.asset_condition==="Good").length,P=x.filter(ie=>ie.asset_condition==="Needs Replacement").length,I=3.8,W=15.2,Z=-1.5,Y=6.7,te=(ie,le)=>Array.from({length:7},(se,oe)=>{const ee=(Math.random()-.5)*le;return Math.max(0,ie+ee)});return{total:{value:N,trend:I,subtitle:`${N>0?(E/N*100).toFixed(1):0}% are new equipment`,sparkline:te(N,N*.1)},new:{value:E,trend:W,subtitle:`${N>0?(E/N*100).toFixed(1):0}% of total equipment`,sparkline:te(E,E*.2)},good:{value:z,trend:Z,subtitle:`${N>0?(z/N*100).toFixed(1):0}% of total equipment`,sparkline:te(z,z*.15)},replacement:{value:P,trend:Y,subtitle:`${N>0?(P/N*100).toFixed(1):0}% of total equipment`,sparkline:te(P,P*.3)}}},[x]);return n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:justify-between sm:items-center sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vd,{className:"w-6 h-6 text-amber-600"}),n.jsx("h1",{className:"text-xl font-bold text-gray-900 sm:text-2xl",children:"Furniture & Fittings Equipment"}),f&&n.jsxs("span",{className:"px-2 py-1 text-xs font-medium text-amber-600 bg-amber-100 rounded-full",children:[Object.values(d).filter(Boolean).length," filter",Object.values(d).filter(Boolean).length>1?"s":""," ","active"]})]}),n.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[n.jsx(Be,{variant:"secondary",leftIcon:n.jsx(Nn,{size:16}),onClick:()=>c(!0),className:`w-full sm:w-auto ${f?"bg-amber-50 text-amber-700 border-amber-200 hover:bg-amber-100":""}`,children:"Filter"}),n.jsx(Be,{variant:"secondary",leftIcon:n.jsx(Xd,{size:16}),onClick:M,className:"w-full sm:w-auto",children:"Export"}),n.jsx(Be,{variant:"primary",className:"w-full bg-amber-600 hover:bg-amber-700 sm:w-auto",leftIcon:n.jsx(ri,{size:16}),onClick:()=>e("/categories/furniture-equipment/new"),children:"Add Equipment"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-amber-500 to-amber-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(Vd,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:C.total.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${C.total.trend>=0?"text-green-200":"text-red-200"}`,children:[C.total.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(C.total.trend),"%"]})]}),n.jsxs("p",{className:"text-sm text-amber-100 mb-3",children:[f?"Filtered":"Total"," Equipment"]}),n.jsx("p",{className:"text-xs text-amber-200 mb-2",children:C.total.subtitle}),n.jsx(A,{data:C.total.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-green-500 to-green-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(la,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:C.new.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${C.new.trend>=0?"text-green-200":"text-red-200"}`,children:[C.new.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(C.new.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-green-100 mb-3",children:"New"}),n.jsx("p",{className:"text-xs text-green-200 mb-2",children:C.new.subtitle}),n.jsx(A,{data:C.new.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-500 to-blue-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(H0,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:C.good.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${C.good.trend>=0?"text-green-200":"text-red-200"}`,children:[C.good.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(C.good.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-blue-100 mb-3",children:"Good"}),n.jsx("p",{className:"text-xs text-blue-200 mb-2",children:C.good.subtitle}),n.jsx(A,{data:C.good.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-red-500 to-red-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(aa,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:C.replacement.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${C.replacement.trend>=0?"text-red-200":"text-green-200"}`,children:[C.replacement.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(C.replacement.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-red-100 mb-3",children:"Need Replacement"}),n.jsx("p",{className:"text-xs text-red-200 mb-2",children:C.replacement.subtitle}),n.jsx(A,{data:C.replacement.sparkline,color:"bg-white/30"})]})]})})]}),s?n.jsxs("div",{className:"flex justify-center items-center py-8 space-x-2 text-gray-500",children:[n.jsxs("svg",{className:"w-5 h-5 text-gray-500 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),n.jsx("span",{children:"Loading furniture equipment..."})]}):x.length===0&&t.length>0?n.jsxs(it,{className:"p-8 text-center",children:[n.jsx(Nn,{className:"mx-auto mb-4 w-12 h-12 text-gray-400"}),n.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"No equipment matches your filters"}),n.jsx("p",{className:"mb-4 text-gray-500",children:"Try adjusting your filter criteria to see more results."}),n.jsx(Be,{variant:"secondary",onClick:v,className:"mr-2",children:"Clear Filters"}),n.jsx(Be,{variant:"primary",className:"bg-amber-600 hover:bg-amber-700",onClick:()=>c(!0),children:"Adjust Filters"})]}):t.length===0?n.jsxs(it,{className:"p-8 text-center",children:[n.jsx(Vd,{className:"mx-auto mb-4 w-12 h-12 text-gray-400"}),n.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"No furniture equipment found"}),n.jsx("p",{className:"mb-4 text-gray-500",children:"Get started by adding your first piece of furniture equipment."}),n.jsx(Be,{variant:"primary",className:"bg-amber-600 hover:bg-amber-700",leftIcon:n.jsx(ri,{size:16}),onClick:()=>e("/categories/furniture-equipment/new"),children:"Add Equipment"})]}):n.jsx(it,{className:"overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx(r0,{data:x,columns:T,keyField:"id",onRowClick:_,actions:O,searchable:!0,pagination:!0,pageSize:o,currentPage:a,onPageChange:i,className:"min-w-full"})})}),n.jsx(Yh,{isOpen:l,onClose:()=>c(!1),filterOptions:p,activeFilters:d,onFilterChange:y,onClearAll:v,hasActiveFilters:f,filteredData:x,columns:T.map(N=>({header:N.header,accessor:(typeof N.accessor=="function",N.accessor),cell:N.cell})),exportTitle:"Furniture & Fittings Equipment"})]})},Phe=()=>{const{id:e}=si(),t=Vr(),{selectedFurnitureEquipment:r,getFurnitureEquipmentById:s}=Ip(),[a,i]=U.useState(null),[o,l]=U.useState([]),[c,d]=U.useState(!1),[u,p]=U.useState(null),[x,f]=U.useState(!1),[y,v]=U.useState(!1),[_,k]=U.useState(!1),[S,M]=U.useState({previousOwner:"",transferDate:"",transferReason:"",transferDepartment:"",transferLocation:"",transferRoomOrFloor:"",assignedTo:""});U.useEffect(()=>{(async()=>{if(e){const I=await s(e);I&&(i(I),M(W=>({...W,previousOwner:I.responsible_officer||"",assignedTo:""})),await T(e))}})()},[e,s]);const T=async P=>{d(!0),p(null);try{const I=await Pt.get(`${Bt}/furniture-equipment/${P}/transfers/`);l(I.data)}catch(I){console.error("Failed to fetch transfer history:",I),p("Failed to fetch transfer history")}finally{d(!1)}},O=()=>{v(!1),t("/categories/furniture-equipment")},A=(P,I)=>{M(W=>({...W,[P]:I}))},C=async()=>{if(!a)return;f(!0);const P={asset_id:a.id,previous_owner:S.previousOwner,assigned_to:S.assignedTo,transfer_date:S.transferDate,transfer_reason:S.transferReason,transfer_department:S.transferDepartment,transfer_location:S.transferLocation,transfer_room_or_floor:S.transferRoomOrFloor};try{const I=await Pt.post(`${Bt}/furniture-equipment/${a.id}/transfer`,P);console.log("Transfer successful:",I.data),e&&await T(e),v(!0)}catch(I){console.error("Error submitting transfer:",I),alert("Error submitting transfer. Please try again.")}finally{f(!1)}},N=()=>n.jsxs("svg",{className:"inline-block mr-2 w-5 h-5 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),E=()=>{window.history.length>1?t(-1):t("/categories/furniture-equipment")};if(!a)return n.jsx("div",{className:"text-center text-gray-500",children:"Furniture Equipment not found"});const z=_?o:o.slice(0,3);return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 shadow-sm",children:n.jsx("div",{className:"px-2 py-2 mx-auto",children:n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Be,{variant:"secondary",onClick:E,children:" Return"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Furniture Equipment Transfer"})]})})})}),n.jsx("div",{className:"px-0 py-2 mx-auto",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(it,{className:"bg-white border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"pb-2 mb-4 text-lg font-semibold text-gray-900 border-b border-gray-100",children:"Current Furniture Equipment Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Asset Description"}),n.jsx("p",{className:"text-base text-gray-900",children:a.asset_description})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Current Responsible Officer"}),n.jsx("p",{className:"text-base text-gray-900",children:a.responsible_officer||"Not assigned"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Current Location"}),n.jsx("p",{className:"text-base text-gray-900",children:a.current_location||"Not specified"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Serial Number"}),n.jsx("p",{className:"text-base text-gray-900",children:a.serial_number||"N/A"})]})]})]})}),n.jsx(it,{className:"bg-white border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Transfer History"}),o.length>0&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Hd,{size:16,className:"text-primary-500"}),n.jsxs("span",{className:"text-sm text-primary-600",children:[o.length," transfer",o.length!==1?"s":""," recorded"]})]})]}),c?n.jsxs("div",{className:"flex justify-center items-center py-8",children:[n.jsx("div",{className:"w-6 h-6 rounded-full border-b-2 animate-spin border-primary-600"}),n.jsx("span",{className:"ml-2 text-primary-600",children:"Loading transfer history..."})]}):u?n.jsxs("div",{className:"py-8 text-center",children:[n.jsx("div",{className:"text-error-600 mb-2",children:"Failed to load transfer history"}),n.jsx("div",{className:"text-sm text-primary-500",children:u})]}):o.length===0?n.jsxs("div",{className:"py-8 text-center",children:[n.jsx("div",{className:"text-primary-500 mb-2",children:"No transfer history found"}),n.jsx("div",{className:"text-sm text-primary-400",children:"This furniture equipment has not been transferred yet."})]}):n.jsxs("div",{className:"space-y-4",children:[z.map((P,I)=>n.jsxs("div",{className:`relative p-4 rounded-lg border transition-colors hover:bg-primary-25 ${I===0?"border-primary-200 bg-primary-50":"border-primary-100"}`,children:[n.jsx("div",{className:"absolute left-0 top-4 w-1 h-full bg-primary-200 rounded-full"}),n.jsx("div",{className:`absolute left-0 top-4 w-1 h-8 rounded-full ${I===0?"bg-primary-500":"bg-primary-300"}`}),n.jsxs("div",{className:"ml-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(to,{size:16,className:"text-primary-500"}),n.jsx("span",{className:"text-sm font-medium text-primary-900",children:yi(new Date(P.transfer_date),"MMM dd, yyyy HH:mm")}),I===0&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-primary-100 text-primary-700 rounded-full",children:"Latest"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(_i,{size:16,className:"text-primary-400 flex-shrink-0"}),n.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[P.previous_owner&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-sm text-primary-600 truncate",children:P.previous_owner}),n.jsx(Pp,{size:14,className:"text-primary-400 flex-shrink-0"})]}),n.jsx("span",{className:"text-sm font-medium text-primary-900 truncate",children:P.assigned_to})]})]}),P.transfer_location&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ea,{size:16,className:"text-primary-400 flex-shrink-0"}),n.jsx("span",{className:"text-sm font-medium text-primary-900 truncate",children:P.transfer_location})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[P.transfer_department&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Qo,{size:14,className:"text-primary-400"}),n.jsx("span",{className:"text-primary-600",children:"Department:"}),n.jsx("span",{className:"text-primary-900 font-medium",children:P.transfer_department})]}),P.transfer_room_or_floor&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ea,{size:14,className:"text-primary-400"}),n.jsx("span",{className:"text-primary-600",children:"Room/Floor:"}),n.jsx("span",{className:"text-primary-900 font-medium",children:P.transfer_room_or_floor})]})]}),P.transfer_reason&&n.jsx("div",{className:"mt-3 p-3 bg-primary-25 rounded-md border border-primary-100",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(Ya,{size:14,className:"text-primary-400 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-primary-600 font-medium",children:"Reason:"}),n.jsx("p",{className:"text-sm text-primary-900 mt-1",children:P.transfer_reason})]})]})})]})]},P.id)),o.length>3&&n.jsx("div",{className:"mt-6 pt-4 border-t border-primary-100 text-center",children:n.jsx(Be,{variant:"ghost",size:"sm",onClick:()=>k(!_),className:"text-primary-600 hover:text-primary-700",children:_?"Show Less":`View ${o.length-3} More Transfer${o.length-3!==1?"s":""}`})})]})]})}),n.jsx(it,{className:"bg-white border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"pb-2 mb-4 text-lg font-semibold text-gray-900 border-b border-gray-100",children:"Transfer Information"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["New Responsible Officer"," ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(wt,{value:S.assignedTo,onChange:P=>A("assignedTo",P.target.value),placeholder:"Enter new responsible officer",className:"w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Transfer Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(wt,{type:"date",value:S.transferDate,onChange:P=>A("transferDate",P.target.value),className:"w-full"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Transfer Reason"}),n.jsx(wt,{value:S.transferReason,onChange:P=>A("transferReason",P.target.value),placeholder:"Reason for transfer",className:"w-full"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Transfer Department"}),n.jsx(wt,{value:S.transferDepartment,onChange:P=>A("transferDepartment",P.target.value),placeholder:"Target department",className:"w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Transfer Location"}),n.jsx(wt,{value:S.transferLocation,onChange:P=>A("transferLocation",P.target.value),placeholder:"Target location",className:"w-full"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Transfer Room/Floor"}),n.jsx(wt,{value:S.transferRoomOrFloor,onChange:P=>A("transferRoomOrFloor",P.target.value),placeholder:"Room or floor in new location",className:"w-full"})]})]})]})}),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsxs(Be,{variant:"primary",onClick:C,disabled:x||!S.assignedTo.trim()||!S.transferDate.trim(),className:"px-8 py-2",children:[x&&n.jsx(N,{}),"Confirm Transfer"]})})]})}),y&&n.jsx(Tg,{message:"The furniture equipment transfer was completed successfully.",onClose:O})]})},Fhe=()=>{const e=Vr(),{portableItems:t,fetchPortableItems:r,isLoading:s}=Op(),[a,i]=U.useState(1),[o]=U.useState(10),[l,c]=U.useState(!1),[d,u]=U.useState({});U.useEffect(()=>{r()},[r]);const p=U.useMemo(()=>{if(!t||t.length===0)return[];const N=Array.from(new Set(t.map(I=>I.asset_condition).filter(Boolean))).sort(),E=Array.from(new Set(t.map(I=>I.current_location).filter(Boolean))).sort(),z=Array.from(new Set(t.map(I=>I.make_model).filter(Boolean))).sort(),P=Array.from(new Set(t.map(I=>I.delivery_installation_date).filter(Boolean).map(I=>new Date(I).getFullYear().toString()))).sort((I,W)=>Number.parseInt(W)-Number.parseInt(I));return[{key:"condition",label:"Condition",options:N},{key:"location",label:"Location",options:E},{key:"makeModel",label:"Make/Model",options:z},{key:"year",label:"Acquisition Year",options:P}]},[t]),x=U.useMemo(()=>t?t.filter(N=>{if(d.condition&&N.asset_condition!==d.condition||d.location&&N.current_location!==d.location||d.makeModel&&N.make_model!==d.makeModel)return!1;if(d.year&&N.delivery_installation_date){if(new Date(N.delivery_installation_date).getFullYear().toString()!==d.year)return!1}else if(d.year&&!N.delivery_installation_date)return!1;return!0}):[],[t,d]),f=U.useMemo(()=>{const N=x.length,E=x.filter(se=>{var oe;return((oe=se.asset_condition)==null?void 0:oe.toLowerCase())==="new"}).length,z=x.filter(se=>{var oe;return((oe=se.asset_condition)==null?void 0:oe.toLowerCase())==="good"}).length,P=x.filter(se=>{var oe;return((oe=se.asset_condition)==null?void 0:oe.toLowerCase())==="needs replacement"}).length,I=x.reduce((se,oe)=>se+(oe.net_book_value||0),0),W=new Date;W.setDate(W.getDate()-7),x.filter(se=>se.delivery_installation_date?new Date(se.delivery_installation_date)>=W:!1).length;const Z=8.2,Y=12.5,te=-3.2,ie=15.8,le=(se,oe)=>Array.from({length:7},(ee,B)=>{const q=(Math.random()-.5)*oe;return Math.max(0,se+q)});return{total:{value:N,trend:Z,subtitle:`Ksh ${I.toLocaleString()} total value`,sparkline:le(N,N*.1)},new:{value:E,trend:Y,subtitle:`${N>0?(E/N*100).toFixed(1):0}% of total items`,sparkline:le(E,E*.2)},good:{value:z,trend:te,subtitle:`${N>0?(z/N*100).toFixed(1):0}% of total items`,sparkline:le(z,z*.15)},needsReplacement:{value:P,trend:ie,subtitle:P>0?`${P} require immediate attention`:"All items in good condition",sparkline:le(P,P*.3)}}},[x]),y=Object.values(d).some(N=>N),v=(N,E)=>{u(z=>({...z,[N]:E})),i(1)},_=()=>{u({}),i(1)},k=N=>{e(`/categories/portable-items/${N.id}`)},S=N=>{e(`/categories/portable-items/${N.id}?edit=true`)},M=N=>{e(`/categories/portable-items/${N.id}/transfer`)},T=()=>{Ke.info("Export functionality coming soon")},O=[{header:"#",accessor:(N,E)=>E!==void 0?(a-1)*o+E+1:x.indexOf(N)+1,sortable:!1},{header:"Asset Description",accessor:"asset_description",sortable:!0,cell:N=>n.jsx("div",{className:"max-w-xs truncate",title:N,children:N||"N/A"})},{header:"Tag Number",accessor:"tag_number",sortable:!0,cell:N=>N||"N/A"},{header:"Serial Number",accessor:"serial_number",sortable:!0,cell:N=>N||"N/A"},{header:"Make/Model",accessor:"make_model",sortable:!0,cell:N=>N||"N/A"},{header:"Current Location",accessor:"current_location",sortable:!0,cell:N=>N||"N/A"},{header:"Condition",accessor:"asset_condition",sortable:!0,cell:N=>{const E=z=>{switch(z==null?void 0:z.toLowerCase()){case"new":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"worn":return"bg-yellow-100 text-yellow-800";case"needs replacement":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return N?n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E(N)}`,children:N}):"N/A"}},{header:"Purchase Amount",accessor:"purchase_amount",sortable:!0,cell:N=>N?`Ksh.${N.toLocaleString()}`:"N/A"},{header:"Net Book Value",accessor:"net_book_value",sortable:!0,cell:N=>N?`Ksh.${N.toLocaleString()}`:"N/A"},{header:"Acquisition Date",accessor:"delivery_installation_date",sortable:!0,cell:N=>N?yi(new Date(N),"MMM dd, yyyy"):"N/A"}],A=N=>n.jsxs("div",{className:"flex space-x-1 sm:space-x-2",children:[n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-blue-600 rounded transition-colors hover:text-blue-800 hover:bg-blue-100",title:"View Item Details",onClick:E=>{E.stopPropagation(),k(N)},children:n.jsx(Xl,{size:16,className:"sm:w-4 sm:h-4"})}),n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-green-600 rounded transition-colors hover:text-green-800 hover:bg-green-100",title:"Edit Item",onClick:E=>{E.stopPropagation(),S(N)},children:n.jsx(Iu,{size:16,className:"sm:w-4 sm:h-4"})}),n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-purple-600 rounded transition-colors hover:text-purple-800 hover:bg-purple-100",title:"Transfer Item",onClick:E=>{E.stopPropagation(),M(N)},children:n.jsx(oB,{className:"h-4 w-4"})})]}),C=({data:N,color:E})=>{const z=Math.max(...N),P=Math.min(...N),I=z-P||1;return n.jsx("div",{className:"flex items-end h-8 gap-0.5",children:N.map((W,Z)=>{const Y=(W-P)/I*100;return n.jsx("div",{className:`flex-1 ${E} rounded-sm transition-all`,style:{height:`${Y}%`,minHeight:"2px"}},Z)})})};return n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:justify-between sm:items-center px-2 py-2 sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(H0,{className:"w-6 h-6 text-purple-600"}),n.jsx("h1",{className:"text-xl font-bold text-gray-900 sm:text-2xl",children:"Portable & Attractive Items"}),y&&n.jsxs("span",{className:"px-2 py-1 text-xs font-medium text-purple-600 bg-purple-100 rounded-full",children:[Object.values(d).filter(Boolean).length," filter",Object.values(d).filter(Boolean).length>1?"s":""," ","active"]})]}),n.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[n.jsx(Be,{variant:"secondary",leftIcon:n.jsx(Nn,{size:16}),onClick:()=>c(!0),className:`w-full sm:w-auto ${y?"bg-purple-50 text-purple-700 border-purple-200 hover:bg-purple-100":""}`,children:"Filter"}),n.jsx(Be,{variant:"secondary",leftIcon:n.jsx(Xd,{size:16}),onClick:T,className:"w-full sm:w-auto",children:"Export"}),n.jsx(Be,{variant:"primary",className:"w-full bg-purple-600 hover:bg-purple-700 sm:w-auto",leftIcon:n.jsx(ri,{size:16}),onClick:()=>e("/categories/portable-items/new"),children:"Add Item"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 px-2 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-purple-500 to-purple-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-2 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(H0,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.total.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.total.trend>=0?"text-green-200":"text-red-200"}`,children:[f.total.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.total.trend),"%"]})]}),n.jsxs("p",{className:"text-sm text-purple-100 mb-3",children:[y?"Filtered":"Total"," Items"]}),n.jsx("p",{className:"text-xs text-purple-200 mb-2",children:f.total.subtitle}),n.jsx(C,{data:f.total.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-green-500 to-green-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(la,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.new.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.new.trend>=0?"text-green-200":"text-red-200"}`,children:[f.new.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.new.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-green-100 mb-3",children:"New Condition"}),n.jsx("p",{className:"text-xs text-green-200 mb-2",children:f.new.subtitle}),n.jsx(C,{data:f.new.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-500 to-blue-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(la,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.good.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.good.trend>=0?"text-green-200":"text-red-200"}`,children:[f.good.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.good.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-blue-100 mb-3",children:"Good Condition"}),n.jsx("p",{className:"text-xs text-blue-200 mb-2",children:f.good.subtitle}),n.jsx(C,{data:f.good.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-red-500 to-red-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(aa,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.needsReplacement.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.needsReplacement.trend>=0?"text-red-200":"text-green-200"}`,children:[f.needsReplacement.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.needsReplacement.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-red-100 mb-3",children:"Need Replacement"}),n.jsx("p",{className:"text-xs text-red-200 mb-2",children:f.needsReplacement.subtitle}),n.jsx(C,{data:f.needsReplacement.sparkline,color:"bg-white/30"})]})]})})]}),s?n.jsxs("div",{className:"flex justify-center items-center py-8 space-x-2 text-gray-500",children:[n.jsxs("svg",{className:"w-5 h-5 text-gray-500 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),n.jsx("span",{children:"Loading portable items..."})]}):x.length===0&&t.length>0?n.jsxs(it,{className:"p-8 text-center",children:[n.jsx(Nn,{className:"mx-auto mb-4 w-12 h-12 text-gray-400"}),n.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"No items match your filters"}),n.jsx("p",{className:"mb-4 text-gray-500",children:"Try adjusting your filter criteria to see more results."}),n.jsx(Be,{variant:"secondary",onClick:_,className:"mr-2",children:"Clear Filters"}),n.jsx(Be,{variant:"primary",className:"bg-purple-600 hover:bg-purple-700",onClick:()=>c(!0),children:"Adjust Filters"})]}):t.length===0?n.jsxs(it,{className:"p-8 text-center",children:[n.jsx(H0,{className:"mx-auto mb-4 w-12 h-12 text-gray-400"}),n.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"No portable items found"}),n.jsx("p",{className:"mb-4 text-gray-500",children:"Get started by adding your first portable item."}),n.jsx(Be,{variant:"primary",className:"bg-purple-600 hover:bg-purple-700",leftIcon:n.jsx(ri,{size:16}),onClick:()=>e("/categories/portable-items/new"),children:"Add Item"})]}):n.jsx(it,{className:"overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx(r0,{data:x,columns:O,keyField:"id",onRowClick:k,actions:A,searchable:!0,pagination:!0,pageSize:o,currentPage:a,onPageChange:i,className:"min-w-full"})})}),n.jsx(Yh,{isOpen:l,onClose:()=>c(!1),filterOptions:p,activeFilters:d,onFilterChange:v,onClearAll:_,hasActiveFilters:y,filteredData:x,columns:O.map(N=>({header:N.header,accessor:(typeof N.accessor=="function",N.accessor),cell:N.cell})),exportTitle:"Portable & Attractive Items"})]})},S8=()=>{const e=Vr(),{id:t}=si(),r=!!(t&&t!=="new"),{createPortableItem:s,updatePortableItem:a,getPortableItemById:i,isLoading:o}=Op(),[l,c]=U.useState({}),[d,u]=U.useState(!1),[p,x]=U.useState(!1),[f,y]=U.useState({asset_description:"",financed_by:"",serial_number:"",tag_number:"",make_model:"",delivery_installation_date:"",pv_number:"",original_location:"",current_location:"",replacement_date:"",purchase_amount:void 0,depreciation_rate:void 0,annual_depreciation:void 0,accumulated_depreciation:void 0,net_book_value:void 0,disposal_date:"",disposal_value:void 0,responsible_officer:"",asset_condition:"New",notes:""}),[v,_]=U.useState(!0);U.useEffect(()=>{r&&t&&S()},[t,r]),U.useEffect(()=>{v&&f.purchase_amount&&f.depreciation_rate&&k()},[f.purchase_amount,f.depreciation_rate,f.delivery_installation_date,v]),U.useEffect(()=>{if(v&&f.delivery_installation_date){k();const N=setInterval(()=>{k()},1440*60*1e3);return()=>clearInterval(N)}},[f.purchase_amount,f.depreciation_rate,f.delivery_installation_date,f.disposal_date,f.replacement_date,v]);const k=()=>{const N=f.purchase_amount||0,E=f.depreciation_rate||0,z=f.delivery_installation_date;if(!N||!E||!z)return;const P=new Date(z),I=f.disposal_date?new Date(f.disposal_date):null,W=f.replacement_date?new Date(f.replacement_date):null,Y=[I,W,new Date].filter(Boolean).reduce((ee,B)=>B&&ee?B<ee?B:ee:B||ee),te=Math.max(0,Math.floor((Y.getTime()-P.getTime())/(1e3*60*60*24))),ie=N*(E/100),le=ie/365,se=Math.min(le*te,N),oe=Math.max(0,N-se);y(ee=>({...ee,annual_depreciation:Number(ie.toFixed(2)),accumulated_depreciation:Number(se.toFixed(2)),net_book_value:Number(oe.toFixed(2))}))},S=async()=>{if(t)try{const N=await i(t);N&&(y(N),_(!1))}catch{Ke.error("Failed to load portable item"),e("/categories/portable-items")}},M=async()=>{var N,E,z;u(!0),c(P=>({...P,tag_number:""}));try{const I=(await Pt.post("https://assets-system-sigma.vercel.app/api/portable-items/generate-tag")).data;O("tag_number",I.tag_number),Ke.success(I.message||"Tag number generated successfully")}catch(P){console.error("Tag generation error:",P);const I=((E=(N=P.response)==null?void 0:N.data)==null?void 0:E.detail)||P.message||"Failed to generate tag number";Ke.error(I),((z=P.response)==null?void 0:z.status)===401&&e("/login")}finally{u(!1)}},T=async N=>{var E,z,P;if(!N.trim()){c(I=>({...I,tag_number:""}));return}x(!0);try{const W=(await Pt.post(`https://assets-system-sigma.vercel.app/api/portable-items/validate-tag${r?`?asset_id=${t}`:""}`,{tag_number:N})).data;W.valid?c(Z=>({...Z,tag_number:""})):c(Z=>({...Z,tag_number:W.message}))}catch(I){console.error("Tag validation error:",I);const W=((z=(E=I.response)==null?void 0:E.data)==null?void 0:z.detail)||I.message||"Failed to validate tag number";c(Z=>({...Z,tag_number:W})),((P=I.response)==null?void 0:P.status)===401&&e("/login")}finally{x(!1)}},O=(N,E)=>{if(y(P=>({...P,[N]:E})),l[N]&&c(P=>({...P,[N]:""})),N==="tag_number"&&typeof E=="string"){const P=setTimeout(()=>{T(E)},500);return()=>clearTimeout(P)}const z=f;["annual_depreciation","accumulated_depreciation","net_book_value"].includes(N)&&E!==z[N]&&_(!1)},A=()=>{if(!f.purchase_amount||!f.depreciation_rate){Ke.error("Please enter purchase amount and depreciation rate first");return}_(!0),k(),Ke.success("Financial values recalculated")},C=async N=>{var z,P,I;N.preventDefault();const E={};if((z=f.asset_description)!=null&&z.trim()||(E.asset_description="Asset description is required"),(P=f.serial_number)!=null&&P.trim()||(E.serial_number="Serial number is required"),(I=f.tag_number)!=null&&I.trim()||(E.tag_number="Tag number is required"),Object.keys(E).length>0){c(E),Ke.error("Please fix the validation errors before submitting");return}if(Object.values(l).some(W=>W!=="")){Ke.error("Please fix the validation errors before submitting");return}try{r&&t?(await a(t,f),Ke.success("Portable item updated successfully")):(await s(f),Ke.success("Portable item created successfully")),e("/categories/portable-items")}catch{Ke.error(r?"Failed to update portable item":"Failed to create portable item")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("nav",{className:"sticky top-0 z-50 bg-white border-b border-gray-200 flex items-center mb-6 space-x-2 text-sm text-gray-600",children:[n.jsxs(Lr,{to:"/",className:"flex items-center transition-colors hover:text-blue-600",children:[n.jsx(ln,{size:16,className:"mr-1"}),"Home"]}),n.jsx(Dr,{size:16}),n.jsxs(Lr,{to:"/asset-categories",className:"flex items-center transition-colors hover:text-blue-600",children:[n.jsx(Lc,{size:16,className:"mr-1"}),"Asset Categories"]}),n.jsx(Dr,{size:16}),n.jsx(Lr,{to:"/categories/portable-items",className:"transition-colors hover:text-blue-600",children:"Portable Items"}),n.jsx(Dr,{size:16}),n.jsxs("span",{className:"flex items-center font-medium text-gray-900",children:[n.jsx(eo,{size:16,className:"mr-1"}),r?"Edit Item":"Add Item"]})]}),n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r?"Edit Portable Item":"Add Portable Item"}),n.jsx("p",{className:"mt-2 text-gray-600",children:r?"Update portable item information":"Create a new portable item entry"})]})}),n.jsxs("form",{onSubmit:C,className:"space-y-6",children:[n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Asset Description ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bo,{value:f.asset_description||"",onChange:N=>O("asset_description",N.target.value),placeholder:"Enter detailed description of the asset",required:!0,className:l.asset_description?"border-red-500":""}),l.asset_description&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.asset_description})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Make/Model"}),n.jsx(wt,{value:f.make_model||"",onChange:N=>O("make_model",N.target.value),placeholder:"Enter make and model"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Financed By"}),n.jsx(wt,{value:f.financed_by||"",onChange:N=>O("financed_by",N.target.value),placeholder:"Enter financing source"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Identification"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Serial Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(wt,{value:f.serial_number||"",onChange:N=>O("serial_number",N.target.value),placeholder:"Enter serial number",required:!0,className:l.serial_number?"border-red-500":""}),l.serial_number&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.serial_number})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Tag Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"flex-1",children:n.jsx(wt,{value:f.tag_number||"",onChange:N=>O("tag_number",N.target.value),placeholder:"Enter tag number or generate one",className:l.tag_number?"border-red-500":""})}),n.jsx(Be,{type:"button",variant:"secondary",onClick:M,disabled:d,className:"px-3 py-2 min-w-0 hover:bg-gray-100 border border-gray-300 rounded-md transition-colors disabled:opacity-50",title:"Generate tag number from backend",children:n.jsx(Za,{size:16,className:`text-gray-600 ${d?"animate-spin":""}`})})]}),n.jsxs("div",{className:"mt-1",children:[p&&n.jsx("p",{className:"text-xs text-blue-600",children:"Validating tag number..."}),!p&&!l.tag_number&&n.jsx("p",{className:"text-xs text-gray-500",children:"Click the refresh button to auto-generate a unique tag number (Format: PI-4578A)"}),l.tag_number&&n.jsx("p",{className:"text-sm text-red-600",children:l.tag_number})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"PV Number"}),n.jsx(wt,{value:f.pv_number||"",onChange:N=>O("pv_number",N.target.value),placeholder:"Enter PV number"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Location Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Original Location"}),n.jsx(wt,{value:f.original_location||"",onChange:N=>O("original_location",N.target.value),placeholder:"Enter original location"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Current Location"}),n.jsx(wt,{value:f.current_location||"",onChange:N=>O("current_location",N.target.value),placeholder:"Enter current location"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Financial Information"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[!v&&n.jsx(Be,{type:"button",variant:"secondary",size:"sm",onClick:A,leftIcon:n.jsx(Of,{size:14}),className:"text-xs",children:"Recalculate"}),n.jsx("div",{className:"flex items-center",children:n.jsxs("span",{className:`text-xs ${v?"text-green-600":"text-orange-600"}`,children:[""," ",v?"Auto-calculating":"Manual override"]})})]})]}),v&&n.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx(Of,{size:14,className:"inline mr-1"}),"Financial values will be automatically calculated when you enter Purchase Amount and Depreciation Rate. You can still edit any field manually, which will disable auto-calculation."]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Purchase Amount ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(wt,{type:"number",step:"0.01",value:f.purchase_amount||"",onChange:N=>O("purchase_amount",Number.parseFloat(N.target.value)||void 0),placeholder:"Enter purchase amount",className:"ring-2 ring-blue-200 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Depreciation Rate (%) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(wt,{type:"number",step:"0.01",min:"0",max:"100",value:f.depreciation_rate||"",onChange:N=>O("depreciation_rate",Number.parseFloat(N.target.value)||void 0),placeholder:"Enter depreciation rate",className:"ring-2 ring-blue-200 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Annual Depreciation",v&&n.jsx("span",{className:"text-green-600 text-xs ml-1",children:"(auto)"})]}),n.jsx(wt,{type:"number",step:"0.01",value:f.annual_depreciation||"",onChange:N=>O("annual_depreciation",Number.parseFloat(N.target.value)||void 0),placeholder:"Enter annual depreciation",className:v?"bg-green-50 border-green-200":""})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Accumulated Depreciation",v&&n.jsx("span",{className:"text-green-600 text-xs ml-1",children:"(auto)"})]}),n.jsx(wt,{type:"number",step:"0.01",value:f.accumulated_depreciation||"",onChange:N=>O("accumulated_depreciation",Number.parseFloat(N.target.value)||void 0),placeholder:"Enter accumulated depreciation",className:v?"bg-green-50 border-green-200":""})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Net Book Value",v&&n.jsx("span",{className:"text-green-600 text-xs ml-1",children:"(auto)"})]}),n.jsx(wt,{type:"number",step:"0.01",value:f.net_book_value||"",onChange:N=>O("net_book_value",Number.parseFloat(N.target.value)||void 0),placeholder:"Enter net book value",className:v?"bg-green-50 border-green-200":""})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Disposal Value"}),n.jsx(wt,{type:"number",step:"0.01",value:f.disposal_value||"",onChange:N=>O("disposal_value",Number.parseFloat(N.target.value)||void 0),placeholder:"Enter disposal value"})]})]}),v&&f.delivery_installation_date&&n.jsx("div",{className:"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:n.jsxs("p",{className:"text-sm text-amber-800",children:["Accumulated depreciation is calculated based on years since delivery date: ",f.delivery_installation_date]})})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Important Dates"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Delivery/Installation Date",v&&n.jsx("span",{className:"text-blue-600 text-xs ml-1",children:"(affects depreciation)"})]}),n.jsx(wt,{type:"date",value:f.delivery_installation_date||"",onChange:N=>O("delivery_installation_date",N.target.value),className:v?"ring-1 ring-blue-200":""})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Replacement Date"}),n.jsx(wt,{type:"date",value:f.replacement_date||"",onChange:N=>O("replacement_date",N.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Disposal Date"}),n.jsx(wt,{type:"date",value:f.disposal_date||"",onChange:N=>O("disposal_date",N.target.value)})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Status and Management"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Asset Condition"}),n.jsxs(Pi,{value:f.asset_condition||"",onChange:N=>O("asset_condition",N.target.value),children:[n.jsx("option",{value:"",children:"Select condition"}),n.jsx("option",{value:"New",children:"New"}),n.jsx("option",{value:"Good",children:"Good"}),n.jsx("option",{value:"Worn",children:"Worn"}),n.jsx("option",{value:"Needs Replacement",children:"Needs Replacement"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Responsible Officer"}),n.jsx(wt,{value:f.responsible_officer||"",onChange:N=>O("responsible_officer",N.target.value),placeholder:"Enter responsible officer"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Notes"}),n.jsx(bo,{value:f.notes||"",onChange:N=>O("notes",N.target.value),placeholder:"Enter any additional notes",rows:4})]})]})]})}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx(Be,{type:"button",variant:"secondary",onClick:()=>e("/categories/portable-items"),leftIcon:n.jsx(Bs,{size:16}),children:"Cancel"}),n.jsx(Be,{type:"submit",variant:"primary",className:"bg-blue-600 hover:bg-blue-700",leftIcon:n.jsx(bi,{size:16}),isLoading:o,children:r?"Update Item":"Create Item"})]})]})]})},Dhe=()=>{const{id:e}=si(),t=Vr(),[r]=Du(),s=r.get("edit")==="true",{getPortableItemById:a,updatePortableItem:i,selectedPortableItem:o,setSelectedPortableItem:l,isLoading:c}=Op(),[d,u]=U.useState(!1),[p,x]=U.useState({});U.useEffect(()=>((async()=>{if(e&&e!=="new")try{const S=await a(e);S&&l(S)}catch(S){console.error("Error loading portable item:",S),Ke.error("Failed to load portable item details"),t("/categories/portable-items")}else Ke.error("Invalid portable item ID"),t("/categories/portable-items")})(),()=>l(null)),[e,a,l,t]),U.useEffect(()=>{if(o){f();const k=new Date,S=new Date(k);S.setHours(24,0,0,0);const M=S.getTime()-k.getTime();let T=null;const O=setTimeout(()=>{f(),T=setInterval(()=>{f()},1440*60*1e3)},M);return()=>{clearTimeout(O),T&&clearInterval(T)}}},[o]);const f=()=>{if(!o)return;const k=o.purchase_amount||0,S=o.depreciation_rate||0,M=o.delivery_installation_date;if(!k||!S||!M){x({});return}const T=new Date(M);T.setHours(0,0,0,0);const O=o.disposal_date?new Date(o.disposal_date):null,A=o.replacement_date?new Date(o.replacement_date):null,C=new Date;C.setHours(0,0,0,0);const N=[O,A,C].filter(Boolean).reduce((Z,Y)=>Y&&Z?Y<Z?Y:Z:Y||Z),E=Math.max(0,Math.floor((N.getTime()-T.getTime())/(1e3*60*60*24))),z=k*(S/100),P=z/365,I=Math.min(P*E,k),W=Math.max(0,k-I);console.log("[v0] Live Depreciation Calculation:",{deliveryDate:T.toISOString().split("T")[0],today:C.toISOString().split("T")[0],daysInUse:E,purchaseAmount:k,depreciationRate:S,annualDepreciation:z,dailyDepreciation:P,accumulatedDepreciation:I,netBookValue:W}),x({accumulated_depreciation:Number(I.toFixed(2)),net_book_value:Number(W.toFixed(2))})},y=async()=>{if(o){u(!0);try{await i(o.id,o),Ke.success("Portable item updated successfully"),t("/categories/portable-items")}catch(k){console.error("Error updating portable item:",k),Ke.error("Failed to update portable item")}finally{u(!1)}}},v=()=>{o&&t(`/categories/portable-items/${o.id}/transfer`)},_=(k,S)=>{if(o){let M=k.target.value;["purchase_amount","depreciation_rate","annual_depreciation","accumulated_depreciation","net_book_value","disposal_value"].includes(S)&&(M=M===""?void 0:Number.parseFloat(M)),l({...o,[S]:M})}};return c?n.jsx("div",{className:"flex justify-center items-center h-48",children:n.jsx("div",{className:"w-6 h-6 rounded-full border-b-2 border-blue-600 animate-spin"})}):o?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("nav",{className:"px-3 py-2 bg-white border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600 overflow-x-auto",children:[n.jsxs(Lr,{to:"/",className:"flex items-center whitespace-nowrap hover:text-blue-600 transition-colors",children:[n.jsx(ln,{size:12,className:"mr-1"}),"Home"]}),n.jsx(Dr,{size:12}),n.jsx(Lr,{to:"/asset-categories",className:"whitespace-nowrap hover:text-blue-600 transition-colors",children:"Categories"}),n.jsx(Dr,{size:12}),n.jsx(Lr,{to:"/categories/portable-items",className:"whitespace-nowrap hover:text-blue-600 transition-colors",children:"Portable Items"}),n.jsx(Dr,{size:12}),n.jsxs("span",{className:"flex items-center font-medium text-gray-900 whitespace-nowrap",children:[n.jsx(eo,{size:12,className:"mr-1"}),s?"Edit":"View"]})]})}),n.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 px-3 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1.5",onClick:()=>t("/categories/portable-items"),children:n.jsx(Pa,{size:16})}),n.jsx("h1",{className:"text-lg font-bold text-gray-900 truncate",children:o.serial_number})]}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx(Be,{variant:"secondary",size:"sm",leftIcon:n.jsx(W0,{size:14}),onClick:v,className:"bg-purple-600 text-white hover:bg-purple-700 text-xs px-2 py-1.5",children:"Transfer"}),s&&n.jsx(Be,{variant:"primary",size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-xs px-2 py-1.5",leftIcon:n.jsx(bi,{size:14}),onClick:y,isLoading:d,children:"Save"})]})]})}),n.jsxs("div",{className:"px-3 py-4 space-y-4",children:[n.jsx(it,{children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(H0,{size:16,className:"text-indigo-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide",children:"Asset Information"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Asset Description"}),s?n.jsx("textarea",{value:o.asset_description||"",onChange:k=>_(k,"asset_description"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[60px]"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:o.asset_description||"N/A"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[{label:"Make/Model",field:"make_model"},{label:"Serial Number",field:"serial_number"},{label:"Tag Number",field:"tag_number"}].map(({label:k,field:S})=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:k}),s?n.jsx("input",{value:o[S]||"",onChange:M=>_(M,S),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:o[S]||"N/A"})]},S))})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Ag,{size:16,className:"text-green-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide",children:"Financial Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[[{label:"Purchase Amount",field:"purchase_amount"},{label:"Depreciation Rate (%)",field:"depreciation_rate"},{label:"Annual Depreciation",field:"annual_depreciation"}].map(({label:k,field:S})=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:k}),s?n.jsx("input",{type:"number",step:"0.01",value:o[S]||"",onChange:M=>_(M,S),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:o[S]?`Ksh. ${o[S].toLocaleString()}`:"N/A"})]},S)),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:["Accumulated Depreciation",n.jsx("span",{className:"text-green-600 text-xs ml-1",children:"(live)"})]}),s?n.jsx("input",{type:"number",step:"0.01",value:o.accumulated_depreciation||"",onChange:k=>_(k,"accumulated_depreciation"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-green-50 p-2 rounded border border-green-200",children:p.accumulated_depreciation?`Ksh. ${p.accumulated_depreciation.toLocaleString()}`:"N/A"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:["Net Book Value",n.jsx("span",{className:"text-green-600 text-xs ml-1",children:"(live)"})]}),s?n.jsx("input",{type:"number",step:"0.01",value:o.net_book_value||"",onChange:k=>_(k,"net_book_value"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-green-50 p-2 rounded border border-green-200",children:p.net_book_value?`Ksh. ${p.net_book_value.toLocaleString()}`:"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Disposal Value"}),s?n.jsx("input",{type:"number",step:"0.01",value:o.disposal_value||"",onChange:k=>_(k,"disposal_value"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:o.disposal_value?`Ksh. ${o.disposal_value.toLocaleString()}`:"N/A"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Ea,{size:16,className:"text-blue-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide",children:"Location & Status"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[{label:"Original Location",field:"original_location"},{label:"Current Location",field:"current_location"},{label:"Asset Condition",field:"asset_condition",isSelect:!0},{label:"Responsible Officer",field:"responsible_officer"}].map(({label:k,field:S,isSelect:M})=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:k}),s?M?n.jsxs("select",{value:o[S]||"",onChange:T=>_(T,S),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select condition"}),n.jsx("option",{value:"New",children:"New"}),n.jsx("option",{value:"Good",children:"Good"}),n.jsx("option",{value:"Worn",children:"Worn"}),n.jsx("option",{value:"Needs Replacement",children:"Needs Replacement"})]}):n.jsx("input",{value:o[S]||"",onChange:T=>_(T,S),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:o[S]||"N/A"})]},S))})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Ya,{size:16,className:"text-orange-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide",children:"Additional Details"})]}),n.jsxs("div",{className:"space-y-3",children:[[{label:"Financed By",field:"financed_by"},{label:"PV Number",field:"pv_number"}].map(({label:k,field:S})=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:k}),s?n.jsx("input",{value:o[S]||"",onChange:M=>_(M,S),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:o[S]||"N/A"})]},S)),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Notes"}),s?n.jsx("textarea",{value:o.notes||"",onChange:k=>_(k,"notes"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[60px]"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:o.notes||"N/A"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Tu,{size:16,className:"text-red-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide",children:"Important Dates"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[{label:"Delivery/Installation",field:"delivery_installation_date"},{label:"Replacement Date",field:"replacement_date"},{label:"Disposal Date",field:"disposal_date"}].map(({label:k,field:S})=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:k}),s?n.jsx("input",{type:"date",value:o[S]?new Date(o[S]).toISOString().split("T")[0]:"",onChange:M=>_(M,S),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:o[S]?new Date(o[S]).toLocaleDateString():"N/A"})]},S))})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Hd,{size:16,className:"text-purple-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide",children:"Transfer Information"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(W0,{size:12,className:"text-purple-500"}),n.jsx("span",{className:"text-xs text-purple-500 uppercase tracking-wide",children:"Status"})]})]}),n.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(to,{size:14,className:"text-gray-400"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-600",children:"No Transfer History"}),n.jsx("div",{className:"text-xs text-gray-500",children:"Portable item has not been transferred"})]})]})}),n.jsx("div",{className:"mt-3",children:n.jsx(Be,{variant:"outline",size:"sm",onClick:v,leftIcon:n.jsx(W0,{size:14}),className:"w-full border-purple-200 text-purple-700 hover:bg-purple-50 text-xs py-2",children:"Initiate Transfer"})})]})})]})]}):n.jsxs("div",{className:"p-4 text-center",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Portable item not found"}),n.jsx(Be,{variant:"secondary",size:"sm",leftIcon:n.jsx(Pa,{size:14}),onClick:()=>t("/categories/portable-items"),children:"Back to Portable Items"})]})},Ihe=()=>{const{id:e}=si(),t=Vr(),{selectedPortableItem:r,getPortableItemById:s}=Op(),{csrfToken:a,isAuthenticated:i,checkAuthStatus:o,getCsrfToken:l}=ra(),[c,d]=U.useState(null),[u,p]=U.useState([]),[x,f]=U.useState(!1),[y,v]=U.useState(null),[_,k]=U.useState(!1),[S,M]=U.useState(!1),[T,O]=U.useState(!1),[A,C]=U.useState({previousOwner:"",transferDate:"",transferReason:"",transferDepartment:"",transferLocation:"",transferRoomOrFloor:"",assignedTo:""});U.useEffect(()=>{(async()=>{if(!i&&!await o()){t("/login");return}})()},[i,o,t]),U.useEffect(()=>{(async()=>{if(e){const te=await s(e);te&&(d(te),C(ie=>({...ie,previousOwner:te.responsible_officer||"",assignedTo:""})),await N(e))}})()},[e,s]);const N=async Y=>{f(!0),v(null);try{const te=l(),ie=await Pt.get(`${Bt}/portable-items/${Y}/transfers/`,{withCredentials:!0,headers:te?{"X-CSRF-Token":te}:{}});p(ie.data)}catch(te){console.error("Failed to fetch transfer history:",te),v("Failed to fetch transfer history")}finally{f(!1)}},E=()=>{M(!1),t("/categories/portable-items")},z=(Y,te)=>{C(ie=>({...ie,[Y]:te}))},P=async()=>{if(!c)return;k(!0);const Y={asset_id:c.id,previous_owner:A.previousOwner,assigned_to:A.assignedTo,transfer_date:A.transferDate,transfer_reason:A.transferReason,transfer_department:A.transferDepartment,transfer_location:A.transferLocation,transfer_room_or_floor:A.transferRoomOrFloor};try{const te=l(),ie=await Pt.post(`${Bt}/portable-items/${c.id}/transfer`,Y,{withCredentials:!0,headers:{"Content-Type":"application/json",...te?{"X-CSRF-Token":te}:{}}});e&&await N(e),M(!0)}catch(te){console.error("Error submitting transfer:",te),alert("Error submitting transfer. Please try again.")}finally{k(!1)}},I=()=>n.jsxs("svg",{className:"inline-block mr-2 w-4 h-4 sm:w-5 sm:h-5 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),W=()=>{window.history.length>1?t(-1):t("/categories/portable-items")};if(!c)return n.jsx("div",{className:"text-center text-gray-500 text-sm sm:text-base",children:"Portable Item not found"});const Z=T?u:u.slice(0,3);return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 shadow-sm",children:n.jsx("div",{className:"px-3 py-3 sm:px-4 sm:py-4 mx-auto",children:n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[n.jsx(Be,{variant:"secondary",onClick:W,className:"text-xs sm:text-sm px-2 py-1 sm:px-3 sm:py-2",children:" Return"}),n.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900",children:"Portable Item Transfer"})]})})})}),n.jsx("div",{className:"px-3 py-3 sm:px-4 sm:py-4 mx-auto",children:n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsx(it,{className:"bg-white border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"p-2 sm:p-2",children:[n.jsx("h2",{className:"pb-2 mb-3 sm:mb-4 text-base sm:text-lg font-semibold text-gray-900 border-b border-gray-100",children:"Current Portable Item Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Asset Description"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-900",children:c.asset_description})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Current Responsible Officer"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-900",children:c.responsible_officer||"Not assigned"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Current Location"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-900",children:c.current_location||"Not specified"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Serial Number"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-900",children:c.serial_number||"N/A"})]})]})]})}),n.jsx(it,{className:"bg-white border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"p-2 sm:p-2",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[n.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Transfer History"}),u.length>0&&n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[n.jsx(Hd,{size:14,className:"sm:w-4 sm:h-4 text-primary-500"}),n.jsxs("span",{className:"text-xs sm:text-sm text-primary-600",children:[u.length," transfer",u.length!==1?"s":""," recorded"]})]})]}),x?n.jsxs("div",{className:"flex justify-center items-center py-6 sm:py-8",children:[n.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full border-b-2 animate-spin border-primary-600"}),n.jsx("span",{className:"ml-2 text-xs sm:text-sm text-primary-600",children:"Loading transfer history..."})]}):y?n.jsxs("div",{className:"py-6 sm:py-8 text-center",children:[n.jsx("div",{className:"text-error-600 mb-2 text-sm sm:text-base",children:"Failed to load transfer history"}),n.jsx("div",{className:"text-xs sm:text-sm text-primary-500",children:y})]}):u.length===0?n.jsxs("div",{className:"py-6 sm:py-8 text-center",children:[n.jsx("div",{className:"text-primary-500 mb-2 text-sm sm:text-base",children:"No transfer history found"}),n.jsx("div",{className:"text-xs sm:text-sm text-primary-400",children:"This portable item has not been transferred yet."})]}):n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[Z.map((Y,te)=>n.jsxs("div",{className:`relative p-3 sm:p-4 rounded-lg border transition-colors hover:bg-primary-25 ${te===0?"border-primary-200 bg-primary-50":"border-primary-100"}`,children:[n.jsx("div",{className:"absolute left-0 top-3 sm:top-4 w-1 h-full bg-primary-200 rounded-full"}),n.jsx("div",{className:`absolute left-0 top-3 sm:top-4 w-1 h-6 sm:h-8 rounded-full ${te===0?"bg-primary-500":"bg-primary-300"}`}),n.jsxs("div",{className:"ml-4 sm:ml-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[n.jsx(to,{size:14,className:"sm:w-4 sm:h-4 text-primary-500"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium text-primary-900",children:yi(new Date(Y.transfer_date),"MMM dd, yyyy HH:mm")}),te===0&&n.jsx("span",{className:"px-1.5 py-0.5 sm:px-2 sm:py-1 text-xs font-medium bg-primary-100 text-primary-700 rounded-full",children:"Latest"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 mb-2 sm:mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx(_i,{size:14,className:"sm:w-4 sm:h-4 text-primary-400 flex-shrink-0"}),n.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 min-w-0",children:[Y.previous_owner&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-xs sm:text-sm text-primary-600 truncate",children:Y.previous_owner}),n.jsx(Pp,{size:12,className:"sm:w-3.5 sm:h-3.5 text-primary-400 flex-shrink-0"})]}),n.jsx("span",{className:"text-xs sm:text-sm font-medium text-primary-900 truncate",children:Y.assigned_to})]})]}),Y.transfer_location&&n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx(Ea,{size:14,className:"sm:w-4 sm:h-4 text-primary-400 flex-shrink-0"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium text-primary-900 truncate",children:Y.transfer_location})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 text-xs sm:text-sm",children:[Y.transfer_department&&n.jsxs("div",{className:"flex items-center space-x-1.5 sm:space-x-2",children:[n.jsx(Qo,{size:12,className:"sm:w-3.5 sm:h-3.5 text-primary-400"}),n.jsx("span",{className:"text-primary-600",children:"Department:"}),n.jsx("span",{className:"text-primary-900 font-medium",children:Y.transfer_department})]}),Y.transfer_room_or_floor&&n.jsxs("div",{className:"flex items-center space-x-1.5 sm:space-x-2",children:[n.jsx(Ea,{size:12,className:"sm:w-3.5 sm:h-3.5 text-primary-400"}),n.jsx("span",{className:"text-primary-600",children:"Room/Floor:"}),n.jsx("span",{className:"text-primary-900 font-medium",children:Y.transfer_room_or_floor})]})]}),Y.transfer_reason&&n.jsx("div",{className:"mt-2 sm:mt-3 p-2 sm:p-3 bg-primary-25 rounded-md border border-primary-100",children:n.jsxs("div",{className:"flex items-start space-x-1.5 sm:space-x-2",children:[n.jsx(Ya,{size:12,className:"sm:w-3.5 sm:h-3.5 text-primary-400 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs sm:text-sm text-primary-600 font-medium",children:"Reason:"}),n.jsx("p",{className:"text-xs sm:text-sm text-primary-900 mt-1",children:Y.transfer_reason})]})]})})]})]},Y.id)),u.length>3&&n.jsx("div",{className:"mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-primary-100 text-center",children:n.jsx(Be,{variant:"ghost",size:"sm",onClick:()=>O(!T),className:"text-xs sm:text-sm text-primary-600 hover:text-primary-700 px-2 py-1 sm:px-3 sm:py-2",children:T?"Show Less":`View ${u.length-3} More Transfer${u.length-3!==1?"s":""}`})})]})]})}),n.jsx(it,{className:"bg-white border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"p-2 sm:p-2",children:[n.jsx("h2",{className:"pb-2 mb-3 sm:mb-4 text-base sm:text-lg font-semibold text-gray-900 border-b border-gray-100",children:"Transfer Information"}),n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[n.jsxs("label",{className:"text-xs sm:text-sm font-medium text-gray-700",children:["New Responsible Officer"," ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(wt,{value:A.assignedTo,onChange:Y=>z("assignedTo",Y.target.value),placeholder:"Enter new responsible officer",className:"w-full text-sm"})]}),n.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[n.jsxs("label",{className:"text-xs sm:text-sm font-medium text-gray-700",children:["Transfer Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(wt,{type:"date",value:A.transferDate,onChange:Y=>z("transferDate",Y.target.value),className:"w-full text-sm"})]})]}),n.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Transfer Reason"}),n.jsx(wt,{value:A.transferReason,onChange:Y=>z("transferReason",Y.target.value),placeholder:"Reason for transfer",className:"w-full text-sm"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Transfer Department"}),n.jsx(wt,{value:A.transferDepartment,onChange:Y=>z("transferDepartment",Y.target.value),placeholder:"Target department",className:"w-full text-sm"})]}),n.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Transfer Location"}),n.jsx(wt,{value:A.transferLocation,onChange:Y=>z("transferLocation",Y.target.value),placeholder:"Target location",className:"w-full text-sm"})]})]}),n.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Transfer Room/Floor"}),n.jsx(wt,{value:A.transferRoomOrFloor,onChange:Y=>z("transferRoomOrFloor",Y.target.value),placeholder:"Room or floor in new location",className:"w-full text-sm"})]})]})]})}),n.jsx("div",{className:"flex justify-end pt-3 sm:pt-4",children:n.jsxs(Be,{variant:"primary",onClick:P,disabled:_||!A.assignedTo.trim()||!A.transferDate.trim(),className:"px-4 py-2 sm:px-8 sm:py-2 text-sm sm:text-base",children:[_&&n.jsx(I,{}),"Confirm Transfer"]})})]})}),S&&n.jsx(Tg,{message:"The portable item transfer was completed successfully.",onClose:E})]})},Rhe=()=>{const e=Vr(),{vehicles:t,fetchVehicles:r,isLoading:s}=hg(),[a,i]=U.useState(1),[o]=U.useState(10),[l,c]=U.useState(!1),[d,u]=U.useState({});U.useEffect(()=>{Ng("MOTOR_VEHICLES_REGISTER","Motor Vehicles",{vehicleCount:(t==null?void 0:t.length)||0}),r()},[]);const p=U.useMemo(()=>{if(!t||t.length===0)return[];const C=Array.from(new Set(t.map(W=>W.asset_condition).filter(Boolean))).sort(),N=Array.from(new Set(t.map(W=>W.current_location).filter(Boolean))).sort(),E=Array.from(new Set(t.map(W=>W.year_of_purchase).filter(Boolean))).sort((W,Z)=>Z-W).map(W=>W.toString()),z=Array.from(new Set(t.map(W=>W.make_model).filter(Boolean))).sort(),P=Array.from(new Set(t.map(W=>W.responsible_officer).filter(Boolean))).sort();return[{key:"condition",label:"Condition",options:C},{key:"location",label:"Location",options:N},{key:"year",label:"Year of Purchase",options:E},{key:"makeModel",label:"Make & Model",options:z},{key:"responsibleOfficer",label:"Responsible Officer",options:P},{key:"amountRange",label:"Amount Range",options:["Under Ksh 500K","Ksh 500K - 1M","Ksh 1M - 2M","Ksh 2M - 5M","Over Ksh 5M"]}]},[t]),x=U.useMemo(()=>t?t.filter(C=>{if(d.condition&&C.asset_condition!==d.condition||d.location&&C.current_location!==d.location)return!1;if(d.year&&C.year_of_purchase){if(C.year_of_purchase.toString()!==d.year)return!1}else if(d.year&&!C.year_of_purchase)return!1;if(d.makeModel&&C.make_model!==d.makeModel||d.responsibleOfficer&&C.responsible_officer!==d.responsibleOfficer)return!1;if(d.amountRange){const N=C.amount||0;switch(d.amountRange){case"Under Ksh 500K":if(N>=5e5)return!1;break;case"Ksh 500K - 1M":if(N<5e5||N>=1e6)return!1;break;case"Ksh 1M - 2M":if(N<1e6||N>=2e6)return!1;break;case"Ksh 2M - 5M":if(N<2e6||N>=5e6)return!1;break;case"Over Ksh 5M":if(N<5e6)return!1;break}}return!0}):[],[t,d]),f=Object.values(d).some(C=>C),y=(C,N)=>{u(E=>({...E,[C]:N})),i(1)},v=()=>{u({}),i(1)},_=C=>{e(`/categories/vehicles/${C.id}`)},k=C=>{e(`/categories/vehicles/${C.id}/edit`)},S=()=>{Ke.info("Export functionality coming soon")},M=[{header:"#",accessor:(C,N)=>N!==void 0?(a-1)*o+N+1:x.indexOf(C)+1,sortable:!1},{header:"Vehicle Reg No.",accessor:"registration_number",sortable:!0},{header:"Make & Model",accessor:"make_model",sortable:!0},{header:"Year of Purchase",accessor:"year_of_purchase",sortable:!0},{header:"Amount",accessor:"amount",sortable:!0,cell:C=>C?`Ksh.${C.toLocaleString()}`:"N/A"},{header:"Current Location",accessor:"current_location",sortable:!0},{header:"Asset Condition",accessor:"asset_condition",sortable:!0,cell:C=>{const N=E=>{switch(E==null?void 0:E.toLowerCase()){case"new":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"worn":return"bg-yellow-100 text-yellow-800";case"needs replacement":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return C?n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N(C)}`,children:C}):"N/A"}},{header:"Responsible Officer",accessor:"responsible_officer",sortable:!0}],T=C=>n.jsxs("div",{className:"flex space-x-1 sm:space-x-2",children:[n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-blue-600 rounded hover:text-blue-800 hover:bg-blue-100",title:"View Vehicle",onClick:N=>{N.stopPropagation(),_(C)},children:n.jsx(Xl,{size:16})}),n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-green-600 rounded hover:text-green-800 hover:bg-green-100",title:"Edit Vehicle",onClick:N=>{N.stopPropagation(),k(C)},children:n.jsx(Iu,{size:16})})]}),O=({data:C,color:N})=>{const E=Math.max(...C),z=Math.min(...C),P=E-z||1;return n.jsx("div",{className:"flex items-end h-8 gap-0.5",children:C.map((I,W)=>{const Z=(I-z)/P*100;return n.jsx("div",{className:`flex-1 ${N} rounded-sm transition-all`,style:{height:`${Z}%`,minHeight:"2px"}},W)})})},A=U.useMemo(()=>{const C=x.length,N=x.filter(te=>{var ie;return((ie=te.asset_condition)==null?void 0:ie.toLowerCase())==="new"}).length,E=x.filter(te=>{var ie;return((ie=te.asset_condition)==null?void 0:ie.toLowerCase())==="good"}).length,z=x.filter(te=>{var ie;return((ie=te.asset_condition)==null?void 0:ie.toLowerCase())==="needs replacement"}).length,P=4.2,I=12.5,W=-3.1,Z=8.9,Y=(te,ie)=>Array.from({length:7},(le,se)=>{const oe=(Math.random()-.5)*ie;return Math.max(0,te+oe)});return{total:{value:C,trend:P,subtitle:`${C>0?(N/C*100).toFixed(1):0}% are new vehicles`,sparkline:Y(C,C*.1)},new:{value:N,trend:I,subtitle:`${C>0?(N/C*100).toFixed(1):0}% of total vehicles`,sparkline:Y(N,N*.2)},good:{value:E,trend:W,subtitle:`${C>0?(E/C*100).toFixed(1):0}% of total vehicles`,sparkline:Y(E,E*.15)},replacement:{value:z,trend:Z,subtitle:`${C>0?(z/C*100).toFixed(1):0}% of total vehicles`,sparkline:Y(z,z*.3)}}},[x]);return n.jsxs("div",{className:"space-y-3 sm:space-y-6",children:[n.jsxs("div",{className:"px-2 py-2 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(u_,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600"}),n.jsx("h1",{className:"text-lg font-bold text-gray-900 sm:text-2xl",children:"Vehicles"}),f&&n.jsxs("span",{className:"px-2 py-1 text-xs font-medium text-purple-600 bg-purple-100 rounded-full",children:[Object.values(d).filter(Boolean).length," filter",Object.values(d).filter(Boolean).length>1?"s":""," ","active"]})]}),n.jsxs("div",{className:"flex space-x-1 sm:space-x-2",children:[n.jsxs(Be,{variant:"secondary",onClick:()=>c(!0),className:`px-2 py-1.5 sm:px-4 sm:py-2 ${f?"bg-purple-50 text-purple-700 border-purple-200 hover:bg-purple-100":""}`,title:"Filter",children:[n.jsx(Nn,{size:16}),n.jsx("span",{className:"hidden sm:inline ml-2",children:"Filter"})]}),n.jsxs(Be,{variant:"secondary",onClick:S,className:"px-2 py-1.5 sm:px-4 sm:py-2",title:"Export",children:[n.jsx(Xd,{size:16}),n.jsx("span",{className:"hidden sm:inline ml-2",children:"Export"})]}),n.jsxs(Be,{variant:"primary",className:"px-2 py-1.5 sm:px-4 sm:py-2 bg-purple-600 hover:bg-purple-700",onClick:()=>e("/categories/vehicles/new"),title:"Add Vehicle",children:[n.jsx(ri,{size:16}),n.jsx("span",{className:"hidden sm:inline ml-2",children:"Add Vehicle"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 px-2 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-purple-500 to-purple-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(u_,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:A.total.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${A.total.trend>=0?"text-green-200":"text-red-200"}`,children:[A.total.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(A.total.trend),"%"]})]}),n.jsxs("p",{className:"text-sm text-purple-100 mb-3",children:[f?"Filtered":"Total"," Vehicles"]}),n.jsx("p",{className:"text-xs text-purple-200 mb-2",children:A.total.subtitle}),n.jsx(O,{data:A.total.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-green-500 to-green-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(la,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:A.new.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${A.new.trend>=0?"text-green-200":"text-red-200"}`,children:[A.new.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(A.new.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-green-100 mb-3",children:"New"}),n.jsx("p",{className:"text-xs text-green-200 mb-2",children:A.new.subtitle}),n.jsx(O,{data:A.new.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-500 to-blue-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(Mh,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:A.good.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${A.good.trend>=0?"text-green-200":"text-red-200"}`,children:[A.good.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(A.good.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-blue-100 mb-3",children:"Good"}),n.jsx("p",{className:"text-xs text-blue-200 mb-2",children:A.good.subtitle}),n.jsx(O,{data:A.good.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-red-500 to-red-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(aa,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:A.replacement.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${A.replacement.trend>=0?"text-red-200":"text-green-200"}`,children:[A.replacement.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(A.replacement.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-red-100 mb-3",children:"Need Replacement"}),n.jsx("p",{className:"text-xs text-red-200 mb-2",children:A.replacement.subtitle}),n.jsx(O,{data:A.replacement.sparkline,color:"bg-white/30"})]})]})})]}),s?n.jsxs("div",{className:"flex justify-center items-center py-8 space-x-2 text-gray-500",children:[n.jsxs("svg",{className:"w-5 h-5 text-gray-500 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),n.jsx("span",{className:"text-sm sm:text-base",children:"Loading vehicles..."})]}):x.length===0&&t.length>0?n.jsxs(it,{className:"p-2 sm:p-8 text-center",children:[n.jsx(Nn,{className:"mx-auto mb-4 w-10 h-10 sm:w-12 sm:h-12 text-gray-400"}),n.jsx("h3",{className:"mb-2 text-base sm:text-lg font-medium text-gray-900",children:"No vehicles match your filters"}),n.jsx("p",{className:"mb-4 text-sm sm:text-base text-gray-500",children:"Try adjusting your filter criteria to see more results."}),n.jsx(Be,{variant:"secondary",onClick:v,className:"mr-2",children:"Clear Filters"}),n.jsx(Be,{variant:"primary",className:"bg-purple-600 hover:bg-purple-700",onClick:()=>c(!0),children:"Adjust Filters"})]}):t.length===0?n.jsxs(it,{className:"p-2 sm:p-8 text-center",children:[n.jsx(u_,{className:"mx-auto mb-4 w-10 h-10 sm:w-12 sm:h-12 text-gray-400"}),n.jsx("h3",{className:"mb-2 text-base sm:text-lg font-medium text-gray-900",children:"No vehicles found"}),n.jsx("p",{className:"mb-4 text-sm sm:text-base text-gray-500",children:"Get started by adding your first vehicle."}),n.jsxs(Be,{variant:"primary",className:"bg-purple-600 hover:bg-purple-700 px-4 py-2",onClick:()=>e("/categories/vehicles/new"),children:[n.jsx(ri,{size:16,className:"mr-2"}),"Add Vehicle"]})]}):n.jsx(it,{className:"overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx(r0,{data:x,columns:M,keyField:"id",onRowClick:_,actions:T,searchable:!0,pagination:!0,pageSize:o,currentPage:a,onPageChange:i,className:"min-w-full"})})}),n.jsx(Yh,{isOpen:l,onClose:()=>c(!1),filterOptions:p,activeFilters:d,onFilterChange:y,onClearAll:v,hasActiveFilters:f,filteredData:x,columns:M.map(C=>({header:C.header,accessor:(typeof C.accessor=="function",C.accessor),cell:C.cell})),exportTitle:"Vehicles"})]})},Ohe=({show:e,data:t,onConfirm:r,onCancel:s,isLoading:a=!1})=>{const[i,o]=U.useState([]),[l,c]=U.useState([]),[d,u]=U.useState(null),[p,x]=U.useState(null),[f,y]=U.useState("");U.useMemo(()=>{const A=t.map(E=>E.registration_number),C=[],N=new Set;A.forEach((E,z)=>{N.has(E)?C.push(z):N.add(E)}),c(C),o(t)},[t]);const v=(A,C,N)=>{u(A),x(C),y((N==null?void 0:N.toString())||"")},_=()=>{if(d!==null&&p!==null){const A=[...i];if(A[d]={...A[d],[p]:f},o(A),u(null),x(null),y(""),p==="registration_number"){const C=A.map(z=>z.registration_number),N=[],E=new Set;C.forEach((z,P)=>{E.has(z)?N.push(P):E.add(z)}),c(N)}}},k=A=>{const C=i.filter((P,I)=>I!==A);o(C);const N=C.map(P=>P.registration_number),E=[],z=new Set;N.forEach((P,I)=>{z.has(P)?E.push(I):z.add(P)}),c(E)},S=()=>{const A=[...i],C=new Set;A.forEach((N,E)=>{if(l.includes(E)){let z=N.registration_number,P=1;for(;C.has(z);)z=`${N.registration_number}-${P}`,P++;A[E]={...N,registration_number:z},C.add(z)}else C.add(N.registration_number)}),o(A),c([])},M=()=>{r(i)};if(!e)return null;const T=l.length>0,O=({value:A,index:C,field:N,isDuplicate:E=!1})=>d===C&&p===N?n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("input",{type:"text",value:f,onChange:P=>y(P.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm w-full",autoFocus:!0,onKeyDown:P=>{P.key==="Enter"&&_(),P.key==="Escape"&&(u(null),x(null))}}),n.jsx("button",{onClick:_,className:"text-green-600 hover:text-green-800 p-1 rounded hover:bg-green-50",title:"Save",children:n.jsx(Lh,{size:14})})]}):n.jsxs("div",{className:"flex items-center space-x-2 group",children:[n.jsx("span",{className:`${E?"text-red-600 font-medium":"text-gray-900"}`,children:A||"N/A"}),E&&n.jsx(ei,{className:"text-red-500",size:14}),n.jsx("button",{onClick:()=>v(C,N,A),className:"opacity-0 group-hover:opacity-100 text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Edit",children:n.jsx(ZO,{size:12})})]});return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-[95vw] w-full max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(h7,{className:"text-blue-600",size:24})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Confirm Vehicle Data Upload"}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Review ",i.length," vehicle(s) before uploading"]})]})]}),n.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100",disabled:a,children:n.jsx(Bs,{size:24})})]}),n.jsx("div",{className:"mx-6 mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Mu,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:20}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-blue-900",children:"Intelligent Column Mapping Active"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Column headers have been automatically matched to the correct fields. Review the data below to ensure accuracy."})]})]})}),T&&n.jsx("div",{className:"mx-6 mt-4 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(aa,{className:"text-amber-600 flex-shrink-0 mt-0.5",size:20}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-amber-900",children:"Duplicate Registration Numbers Detected"}),n.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:[l.length," vehicle(s) have duplicate registration numbers. Please fix them before uploading."]}),n.jsx(Be,{onClick:S,variant:"secondary",className:"mt-2 text-sm bg-amber-100 hover:bg-amber-200 text-amber-900",leftIcon:n.jsx(Lh,{size:16}),children:"Auto-fix Duplicates"})]})]})}),n.jsx("div",{className:"flex-1 overflow-auto p-6",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sticky left-0 bg-gray-50",children:"#"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registration No. *"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tag Number *"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Financed By"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Make/Model"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Year of Purchase"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Engine No."}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chassis No."}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PV Number"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Color"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Original Location"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Location"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Depreciation Rate (%)"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Annual Depreciation"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Accumulated Depreciation"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Book Value"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Disposal Value"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Replacement Date"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date of Disposal"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Responsible Officer"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Asset Condition"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Has Logbook"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"}),n.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sticky right-0 bg-gray-50",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map((A,C)=>{const N=l.includes(C);return n.jsxs("tr",{className:`${N?"bg-red-50":"hover:bg-gray-50"} transition-colors`,children:[n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-900 font-medium sticky left-0 bg-inherit",children:C+1}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[180px]",children:n.jsx(O,{value:A.registration_number,index:C,field:"registration_number",isDuplicate:N})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[150px]",children:n.jsx(O,{value:A.tag_number,index:C,field:"tag_number"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[150px]",children:n.jsx(O,{value:A.financed_by,index:C,field:"financed_by"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[150px]",children:n.jsx(O,{value:A.make_model,index:C,field:"make_model"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[120px]",children:n.jsx(O,{value:A.year_of_purchase,index:C,field:"year_of_purchase"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[150px]",children:n.jsx(O,{value:A.engine_number,index:C,field:"engine_number"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[150px]",children:n.jsx(O,{value:A.chassis_number,index:C,field:"chassis_number"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[120px]",children:n.jsx(O,{value:A.pv_number,index:C,field:"pv_number"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[120px]",children:n.jsx(O,{value:A.color,index:C,field:"color"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[150px]",children:n.jsx(O,{value:A.original_location,index:C,field:"original_location"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[150px]",children:n.jsx(O,{value:A.current_location,index:C,field:"current_location"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[120px]",children:n.jsx(O,{value:A.amount?`$${Number(A.amount).toLocaleString()}`:"",index:C,field:"amount"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[140px]",children:n.jsx(O,{value:A.depreciation_rate,index:C,field:"depreciation_rate"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[150px]",children:n.jsx(O,{value:A.annual_depreciation,index:C,field:"annual_depreciation"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[180px]",children:n.jsx(O,{value:A.accumulated_depreciation,index:C,field:"accumulated_depreciation"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[140px]",children:n.jsx(O,{value:A.net_book_value,index:C,field:"net_book_value"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[130px]",children:n.jsx(O,{value:A.disposal_value,index:C,field:"disposal_value"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[140px]",children:n.jsx(O,{value:A.replacement_date,index:C,field:"replacement_date"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[140px]",children:n.jsx(O,{value:A.date_of_disposal,index:C,field:"date_of_disposal"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[160px]",children:n.jsx(O,{value:A.responsible_officer,index:C,field:"responsible_officer"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[140px]",children:n.jsx(O,{value:A.asset_condition,index:C,field:"asset_condition"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm min-w-[120px]",children:n.jsx(O,{value:A.has_logbook,index:C,field:"has_logbook"})}),n.jsx("td",{className:"px-3 py-3 text-sm min-w-[200px]",children:n.jsx(O,{value:A.notes,index:C,field:"notes"})}),n.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm sticky right-0 bg-inherit",children:n.jsx("button",{onClick:()=>k(C),className:"text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-50",title:"Remove",children:n.jsx(ud,{size:16})})})]},C)})})]})})}),n.jsxs("div",{className:"flex justify-between items-center p-6 border-t border-gray-200 bg-gray-50",children:[n.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:T?n.jsxs(n.Fragment,{children:[n.jsx(aa,{className:"text-amber-500",size:16}),n.jsxs("span",{children:[l.length," duplicate(s) found - please fix before uploading"]})]}):n.jsxs(n.Fragment,{children:[n.jsx(la,{className:"text-green-500",size:16}),n.jsx("span",{children:"All data validated - ready to upload"})]})}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx(Be,{onClick:s,variant:"secondary",disabled:a,leftIcon:n.jsx(Bs,{size:16}),children:"Cancel"}),n.jsx(Be,{onClick:M,variant:"primary",disabled:T||a,isLoading:a,className:"bg-blue-600 hover:bg-blue-700",leftIcon:n.jsx(By,{size:16}),children:a?"Uploading...":`Upload ${i.length} Vehicle(s)`})]})]})]})})};var Bhe={};const E8=()=>{const e=Vr(),{id:t}=si(),r=!!(t&&t!=="new"),s=U.useRef(null),a=U.useRef(null),i=U.useRef(null),{createVehicle:o,updateVehicle:l,getVehicleById:c,isLoading:d}=hg(),[u,p]=U.useState({}),[x,f]=U.useState(!1),[y,v]=U.useState(!1),[_,k]=U.useState(!0),[S,M]=U.useState([]),[T,O]=U.useState(!1),[A,C]=U.useState(!1),[N,E]=U.useState(0),[z,P]=U.useState(!1),I=U.useRef(null),[W,Z]=U.useState({registration_number:"",financed_by:"",engine_number:"",chassis_number:"",tag_number:"",make_model:"",year_of_purchase:"",pv_number:"",color:"",original_location:"",current_location:"",replacement_date:"",amount:void 0,depreciation_rate:void 0,annual_depreciation:void 0,accumulated_depreciation:void 0,net_book_value:void 0,date_of_disposal:"",disposal_value:void 0,responsible_officer:"",asset_condition:"New",has_logbook:"N",notes:""}),[Y,te]=U.useState([]),[ie,le]=U.useState(!1),[se,oe]=U.useState(!1),[ee,B]=U.useState(null),[q,Q]=U.useState(null);U.useEffect(()=>{r&&t&&K()},[t,r]),U.useEffect(()=>()=>{Y.forEach(Ne=>{!Ne.isExisting&&Ne.url.startsWith("blob:")&&URL.revokeObjectURL(Ne.url)}),ee&&ee.getTracks().forEach(Ne=>Ne.stop())},[]),U.useEffect(()=>{if(_&&W.amount&&W.depreciation_rate!==void 0){const Ne=W.amount*W.depreciation_rate/100;Z(ze=>({...ze,annual_depreciation:Number.parseFloat(Ne.toFixed(2))}))}},[W.amount,W.depreciation_rate,_]),U.useEffect(()=>{if(_&&W.amount&&W.annual_depreciation!==void 0&&W.year_of_purchase){const Ne=Number.parseInt(W.year_of_purchase),ze=new Date().getFullYear(),qe=Math.max(0,ze-Ne),pt=Math.min(W.annual_depreciation*qe,W.amount),xt=Math.max(0,W.amount-pt);Z(Ft=>({...Ft,accumulated_depreciation:Number.parseFloat(pt.toFixed(2)),net_book_value:Number.parseFloat(xt.toFixed(2))}))}},[W.amount,W.annual_depreciation,W.year_of_purchase,_]);const K=async()=>{if(t)try{const Ne=await c(t);if(Ne){const ze={...Ne,replacement_date:Ne.replacement_date?Ne.replacement_date.split("T")[0]:"",date_of_disposal:Ne.date_of_disposal?Ne.date_of_disposal.split("T")[0]:""};if(Z(ze),Ne.image_urls&&Ne.image_urls.length>0){const qe=Ne.image_urls.map((pt,xt)=>({url:pt.startsWith("http")?pt:`${Bhe.VITE_PROD_API_URL||"https://assetsmanagementsystem-1.onrender.com"}${pt}`,id:`existing-${xt}`,isExisting:!0}));te(qe)}}}catch{Ke.error("Failed to load vehicle"),e("/categories/vehicles")}},ae=async()=>{var Ne,ze,qe;f(!0),p(pt=>({...pt,tag_number:""}));try{const xt=(await Pt.post("https://assets-system-sigma.vercel.app/api/vehicles/generate-tag")).data;he("tag_number",xt.tag_number),Ke.success(xt.message||"Tag number generated successfully")}catch(pt){console.error("Tag generation error:",pt);const xt=((ze=(Ne=pt.response)==null?void 0:Ne.data)==null?void 0:ze.detail)||pt.message||"Failed to generate tag number";Ke.error(xt),((qe=pt.response)==null?void 0:qe.status)===401&&e("/login")}finally{f(!1)}},ge=async Ne=>{var ze,qe,pt;if(!Ne.trim()){p(xt=>({...xt,tag_number:""}));return}v(!0);try{const Ft=(await Pt.post(`https://assets-system-sigma.vercel.app/api/vehicles/validate-tag${r?`?asset_id=${t}`:""}`,{tag_number:Ne})).data;Ft.valid?p(Et=>({...Et,tag_number:""})):p(Et=>({...Et,tag_number:Ft.message}))}catch(xt){console.error("Tag validation error:",xt);const Ft=((qe=(ze=xt.response)==null?void 0:ze.data)==null?void 0:qe.detail)||xt.message||"Failed to validate tag number";p(Et=>({...Et,tag_number:Ft})),((pt=xt.response)==null?void 0:pt.status)===401&&e("/login")}finally{v(!1)}},he=(Ne,ze)=>{if(Z(qe=>({...qe,[Ne]:ze})),["annual_depreciation","accumulated_depreciation","net_book_value"].includes(Ne)&&k(!1),u[Ne]&&p(qe=>({...qe,[Ne]:""})),Ne==="tag_number"&&typeof ze=="string"){const qe=setTimeout(()=>{ge(ze)},500);return()=>clearTimeout(qe)}},ke=()=>{k(!0),Ke.success("Auto-calculation re-enabled")},Ae=Ne=>{const qe=Array.from(Ne).filter(pt=>pt.type.startsWith("image/")?pt.size>10485760?(Ke.error(`${pt.name} is too large (max 10MB)`),!1):!0:(Ke.error(`${pt.name} is not an image file`),!1)).map(pt=>({file:pt,url:URL.createObjectURL(pt),id:Math.random().toString(36).substring(2,15),isExisting:!1}));te(pt=>[...pt,...qe])},We=Ne=>{Ne.target.files&&Ne.target.files.length>0&&Ae(Ne.target.files)},fe=Ne=>{Ne.preventDefault(),le(!0)},ht=Ne=>{Ne.preventDefault(),le(!1)},De=Ne=>{Ne.preventDefault(),le(!1),Ne.dataTransfer.files&&Ne.dataTransfer.files.length>0&&Ae(Ne.dataTransfer.files)},Ee=Ne=>{te(ze=>{const qe=ze.find(pt=>pt.id===Ne);return qe&&!qe.isExisting&&qe.url.startsWith("blob:")&&URL.revokeObjectURL(qe.url),ze.filter(pt=>pt.id!==Ne)})},Ue=async()=>{try{const Ne=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});B(Ne),oe(!0),Q(null),setTimeout(()=>{a.current&&(a.current.srcObject=Ne,a.current.play().catch(console.error))},100)}catch(Ne){console.error("Error accessing camera:",Ne),Ke.error("Unable to access camera. Please check permissions.")}},rt=()=>{ee&&(ee.getTracks().forEach(Ne=>Ne.stop()),B(null)),oe(!1),Q(null)},ft=()=>{if(!a.current||!i.current)return;const Ne=a.current,ze=i.current,qe=ze.getContext("2d");if(!qe||Ne.videoWidth===0||Ne.videoHeight===0){Ke.error("Camera not ready. Please wait a moment and try again.");return}ze.width=Ne.videoWidth,ze.height=Ne.videoHeight,qe.drawImage(Ne,0,0,ze.width,ze.height),ze.toBlob(pt=>{if(pt){const xt=URL.createObjectURL(pt);Q(xt)}},"image/jpeg",.8)},Re=()=>{q&&URL.revokeObjectURL(q),Q(null)},pe=()=>{!q||!i.current||i.current.toBlob(Ne=>{if(Ne){const ze=new Date().getTime(),pt={file:new File([Ne],`camera-photo-${ze}.jpg`,{type:"image/jpeg"}),url:q,id:Math.random().toString(36).substring(2,15),isExisting:!1};te(xt=>[...xt,pt]),rt(),Ke.success("Photo captured successfully!")}},"image/jpeg",.8)},Le=Ne=>{var pt;const ze=(pt=Ne.target.files)==null?void 0:pt[0];if(!ze)return;P(!0),E(0);const qe=new FileReader;qe.onload=xt=>{var Lt;const Ft=setInterval(()=>{E(rs=>rs>=90?(clearInterval(Ft),90):rs+10)},100),Et=new Uint8Array((Lt=xt.target)==null?void 0:Lt.result),At=Np(Et,{type:"array"}),ar=At.Sheets[At.SheetNames[0]],er=Df.sheet_to_json(ar,{defval:""});console.log("[v0] Excel columns found:",Object.keys(er[0]||{})),console.log("[v0] First row data:",er[0]);const Qt=xle(er);if(er.length>0){const rs=gle(er[0]);console.log("[v0] Column mapping report:",rs)}console.log("[v0] Mapped vehicle data:",Qt),E(100),setTimeout(()=>{P(!1),E(0),M(Qt),O(!0)},500)},qe.readAsArrayBuffer(ze)},He=async Ne=>{var qe,pt;if(A)return;C(!0),E(0);const ze=Ne||S;if(ze.length===0){Ke.error("No data found in the Excel file."),C(!1),E(0);return}try{const xt=ze.map(ar=>ar.registration_number);E(20);const Ft=await Pt.post("https://assets-system-sigma.vercel.app/api/vehicles/check-registration-numbers",{registration_numbers:xt},{withCredentials:!0});E(40);const Et=Ft.data.existing_registration_numbers||[],At=ze.filter(ar=>!Et.includes(ar.registration_number));if(At.length>0){E(60);const ar=Pt.create();ar.interceptors.request.use(er=>(er.onUploadProgress=Qt=>{if(Qt.total){const Lt=Math.round(Qt.loaded*100/Qt.total);E(60+Lt*.3)}},er)),await ar.post("https://assets-system-sigma.vercel.app/api/vehicles/upload-excel-data",{data:At},{withCredentials:!0}),E(100),Ke.success("Excel data uploaded successfully!"),setTimeout(()=>{O(!1),E(0),e("/categories/vehicles")},1500)}else E(100),Ke.error("All vehicles in the Excel file already exist."),setTimeout(()=>{E(0)},1e3)}catch(xt){const Ft=((pt=(qe=xt.response)==null?void 0:qe.data)==null?void 0:pt.message)||"Failed to upload excel data";Ke.error(Ft),E(0)}finally{C(!1)}},ve=async Ne=>{var qe,pt;Ne.preventDefault();const ze={};if((qe=W.registration_number)!=null&&qe.trim()||(ze.registration_number="Vehicle Registration Number is required"),(pt=W.tag_number)!=null&&pt.trim()||(ze.tag_number="Tag number is required"),Object.keys(ze).length>0){p(ze),Ke.error("Please fix the validation errors before submitting");return}if(Object.values(u).some(xt=>xt!=="")){Ke.error("Please fix the validation errors before submitting");return}try{const xt=Y.filter(At=>At.file&&At.file.size>0).map(At=>At.file),Ft=Y.some(At=>At.isExisting);console.log("[v0] Form submission data:",{formData:W,newImagesCount:xt.length,hasExistingImages:Ft});const Et={...W,replacement_date:W.replacement_date||void 0,date_of_disposal:W.date_of_disposal||void 0,images:xt,keep_existing_images:Ft};r&&t?(await l(t,Et),Ke.success("Vehicle updated successfully")):(await o(Et),Ke.success("Vehicle created successfully")),e("/categories/vehicles")}catch(xt){console.log("[v0] Form submission error:",xt),Ke.error(r?"Failed to update vehicle":"Failed to create vehicle")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("input",{ref:s,type:"file",multiple:!0,accept:"image/*",onChange:We,className:"hidden"}),se&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full max-h-[90vh] overflow-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Take Photo"}),n.jsx("button",{type:"button",onClick:rt,className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100",children:n.jsx(Bs,{size:24})})]}),n.jsx("div",{className:"relative flex flex-col items-center",children:q?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:q||"/placeholder.svg",alt:"Captured",className:"w-full max-w-2xl rounded-lg",style:{maxHeight:"60vh",minHeight:"300px"}}),n.jsxs("div",{className:"flex justify-center mt-4 space-x-4",children:[n.jsx(Be,{type:"button",onClick:Re,variant:"secondary",leftIcon:n.jsx(m7,{size:20}),children:"Retake"}),n.jsx(Be,{type:"button",onClick:pe,variant:"primary",className:"bg-green-600 hover:bg-green-700",leftIcon:n.jsx(Lh,{size:20}),children:"Use Photo"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full max-w-2xl rounded-lg bg-gray-900",style:{maxHeight:"60vh",minHeight:"300px"}}),n.jsxs("div",{className:"flex justify-center mt-4 space-x-4",children:[n.jsx(Be,{type:"button",onClick:ft,variant:"primary",className:"bg-blue-600 hover:bg-blue-700",leftIcon:n.jsx(fp,{size:20}),children:"Take Photo"}),n.jsx(Be,{type:"button",onClick:rt,variant:"secondary",leftIcon:n.jsx(Bs,{size:20}),children:"Cancel"})]})]})}),n.jsx("canvas",{ref:i,style:{display:"none"}})]})}),n.jsxs("nav",{className:"flex items-center mb-6 space-x-2 text-sm text-primary-600 dark:text-primary-400",children:[n.jsxs(Lr,{to:"/",className:"flex items-center transition-colors hover:text-primary-900 dark:hover:text-primary-100",children:[n.jsx(ln,{size:16,className:"mr-1"})," Home"]}),n.jsx(Dr,{size:16,className:"text-primary-400 dark:text-primary-600"}),n.jsxs(Lr,{to:"/asset-categories",className:"flex items-center transition-colors hover:text-primary-900 dark:hover:text-primary-100",children:[n.jsx(Lc,{size:16,className:"mr-1"})," Asset Categories"]}),n.jsx(Dr,{size:16,className:"text-primary-400 dark:text-primary-600"}),n.jsx(Lr,{to:"/categories/vehicles",className:"transition-colors hover:text-primary-900 dark:hover:text-primary-100",children:"Vehicles"}),n.jsx(Dr,{size:16,className:"text-primary-400 dark:text-primary-600"}),n.jsxs("span",{className:"flex items-center font-medium text-primary-900 dark:text-primary-100",children:[n.jsx(eo,{size:16,className:"mr-1"}),r?"Edit Vehicle":"Add Vehicle"]})]}),n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-primary-900 dark:text-primary-50",children:r?"Edit Vehicle":"Add Vehicle"}),n.jsx("p",{className:"mt-2 text-primary-600 dark:text-primary-400",children:r?"Update vehicle information":"Create a new vehicle entry"})]})}),n.jsxs("form",{onSubmit:ve,className:"space-y-6",children:[n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-primary-900 dark:text-primary-50",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"Vehicle Registration No. *"}),n.jsx(wt,{value:W.registration_number||"",onChange:Ne=>he("registration_number",Ne.target.value),placeholder:"Enter registration number",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"Financed By / Source of Funds"}),n.jsx(wt,{value:W.financed_by||"",onChange:Ne=>he("financed_by",Ne.target.value),placeholder:"Enter financing source"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"Make & Model"}),n.jsx(wt,{value:W.make_model||"",onChange:Ne=>he("make_model",Ne.target.value),placeholder:"Enter make and model"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"Year of Purchase"}),n.jsx(wt,{value:W.year_of_purchase||"",onChange:Ne=>he("year_of_purchase",Ne.target.value),placeholder:"Enter year of purchase"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-primary-900 dark:text-primary-50",children:"Identification"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"Engine No."}),n.jsx(wt,{value:W.engine_number||"",onChange:Ne=>he("engine_number",Ne.target.value),placeholder:"Enter engine number"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"Chassis No."}),n.jsx(wt,{value:W.chassis_number||"",onChange:Ne=>he("chassis_number",Ne.target.value),placeholder:"Enter chassis number"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:["Tag Number"," ",n.jsx("span",{className:"text-error-600 dark:text-error-400",children:"*"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"flex-1",children:n.jsx(wt,{value:W.tag_number||"",onChange:Ne=>he("tag_number",Ne.target.value),placeholder:"Enter tag number or generate one",className:u.tag_number?"border-error-500 dark:border-error-400":""})}),n.jsx(Be,{type:"button",variant:"secondary",onClick:ae,disabled:x,className:"px-3 py-2 min-w-0 transition-colors disabled:opacity-50",title:"Generate tag number from backend",children:n.jsx(Za,{size:16,className:`text-primary-600 dark:text-primary-300 ${x?"animate-spin":""}`})})]}),n.jsxs("div",{className:"mt-1",children:[y&&n.jsx("p",{className:"text-xs text-accent-600 dark:text-accent-400",children:"Validating tag number..."}),!y&&!u.tag_number&&n.jsx("p",{className:"text-xs text-primary-500 dark:text-primary-500",children:"Click the refresh button to auto-generate a unique tag number (Format: V-4578A)"}),u.tag_number&&n.jsx("p",{className:"text-sm text-error-600 dark:text-error-400",children:u.tag_number})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"PV Number"}),n.jsx(wt,{value:W.pv_number||"",onChange:Ne=>he("pv_number",Ne.target.value),placeholder:"Enter PV number"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"Vehicle Color"}),n.jsx(wt,{value:W.color||"",onChange:Ne=>he("color",Ne.target.value),placeholder:"Enter vehicle color"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-primary-900 dark:text-primary-50",children:"Location Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"Original Location"}),n.jsx(wt,{value:W.original_location||"",onChange:Ne=>he("original_location",Ne.target.value),placeholder:"Enter original location"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"Current Location"}),n.jsx(wt,{value:W.current_location||"",onChange:Ne=>he("current_location",Ne.target.value),placeholder:"Enter current location"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-primary-900 dark:text-primary-50",children:"Financial Information"}),n.jsx("div",{className:"flex items-center gap-2",children:_?n.jsxs("span",{className:"flex items-center gap-1 text-sm text-success-600 dark:text-success-400 bg-success-50 dark:bg-success-950 px-3 py-1 rounded-full",children:[n.jsx(Of,{size:14}),"Auto-calculating"]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"flex items-center gap-1 text-sm text-warning-600 dark:text-warning-400 bg-warning-50 dark:bg-warning-950 px-3 py-1 rounded-full",children:"Manual override"}),n.jsx(Be,{type:"button",variant:"secondary",onClick:ke,className:"text-sm",leftIcon:n.jsx(Za,{size:14}),children:"Recalculate"})]})})]}),_&&n.jsx("div",{className:"mb-4 p-3 bg-accent-50 dark:bg-accent-950 border border-accent-300 dark:border-accent-700 rounded-lg",children:n.jsxs("p",{className:"text-sm text-accent-800 dark:text-accent-300",children:[n.jsx("strong",{children:"Auto-calculation enabled:"})," Annual depreciation, accumulated depreciation, and net book value are calculated automatically based on purchase amount, depreciation rate, and year of purchase. Edit any calculated field to override."]})}),!_&&n.jsx("div",{className:"mb-4 p-3 bg-warning-50 dark:bg-warning-950 border border-warning-300 dark:border-warning-700 rounded-lg",children:n.jsxs("p",{className:"text-sm text-warning-800 dark:text-warning-300",children:[n.jsx("strong",{children:"Manual mode:"}),` You've edited a calculated field. Click "Recalculate" to re-enable automatic calculations.`]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"Amount"}),n.jsx(wt,{type:"number",step:"0.01",value:W.amount||"",onChange:Ne=>he("amount",Number.parseFloat(Ne.target.value)||void 0),placeholder:"Enter amount",className:_?"ring-2 ring-success-200 dark:ring-success-800":""})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"Depreciation Rate (%)"}),n.jsx(wt,{type:"number",step:"0.01",value:W.depreciation_rate||"",onChange:Ne=>he("depreciation_rate",Number.parseFloat(Ne.target.value)||void 0),placeholder:"Enter depreciation rate",className:_?"ring-2 ring-success-200 dark:ring-success-800":""})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:["Annual Depreciation"," ",_&&n.jsx("span",{className:"text-xs text-success-600 dark:text-success-400",children:"(auto)"})]}),n.jsx(wt,{type:"number",step:"0.01",value:W.annual_depreciation||"",onChange:Ne=>he("annual_depreciation",Number.parseFloat(Ne.target.value)||void 0),placeholder:"Enter annual depreciation",className:_?"bg-success-50 dark:bg-success-950":"",readOnly:_})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:["Accumulated Depreciation"," ",_&&n.jsx("span",{className:"text-xs text-success-600 dark:text-success-400",children:"(auto)"})]}),n.jsx(wt,{type:"number",step:"0.01",value:W.accumulated_depreciation||"",onChange:Ne=>he("accumulated_depreciation",Number.parseFloat(Ne.target.value)||void 0),placeholder:"Enter accumulated depreciation",className:_?"bg-success-50 dark:bg-success-950":"",readOnly:_})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:["Net Book Value"," ",_&&n.jsx("span",{className:"text-xs text-success-600 dark:text-success-400",children:"(auto)"})]}),n.jsx(wt,{type:"number",step:"0.01",value:W.net_book_value||"",onChange:Ne=>he("net_book_value",Number.parseFloat(Ne.target.value)||void 0),placeholder:"Enter net book value",className:_?"bg-success-50 dark:bg-success-950":"",readOnly:_})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"Disposal Value"}),n.jsx(wt,{type:"number",step:"0.01",value:W.disposal_value||"",onChange:Ne=>he("disposal_value",Number.parseFloat(Ne.target.value)||void 0),placeholder:"Enter disposal value"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-primary-900 dark:text-primary-50",children:"Important Dates"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"Replacement Date"}),n.jsx(wt,{type:"date",value:W.replacement_date||"",onChange:Ne=>he("replacement_date",Ne.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"Date of Disposal"}),n.jsx(wt,{type:"date",value:W.date_of_disposal||"",onChange:Ne=>he("date_of_disposal",Ne.target.value)})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-primary-900 dark:text-primary-50",children:"Status and Management"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"Asset Condition"}),n.jsxs(Pi,{value:W.asset_condition||"",onChange:Ne=>he("asset_condition",Ne.target.value),children:[n.jsx("option",{value:"New",children:"New"}),n.jsx("option",{value:"Good",children:"Good"}),n.jsx("option",{value:"Worn",children:"Worn"}),n.jsx("option",{value:"Needs Replacement",children:"Needs Replacement"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"Responsible Officer"}),n.jsx(wt,{value:W.responsible_officer||"",onChange:Ne=>he("responsible_officer",Ne.target.value),placeholder:"Enter responsible officer"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"Does the MV have a log book (Y/N)"}),n.jsxs(Pi,{value:W.has_logbook||"N",onChange:Ne=>he("has_logbook",Ne.target.value),children:[n.jsx("option",{value:"Y",children:"Yes"}),n.jsx("option",{value:"N",children:"No"})]})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-700 dark:text-primary-300",children:"Notes"}),n.jsx(bo,{value:W.notes||"",onChange:Ne=>he("notes",Ne.target.value),placeholder:"Enter any additional notes",rows:4})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsxs("h2",{className:"mb-4 text-lg font-semibold text-primary-900 dark:text-primary-50",children:["Vehicle Images"," ",n.jsx("small",{className:"text-sm text-primary-600 dark:text-primary-400",children:"(optional)"})]}),n.jsx("p",{className:"mb-4 text-sm text-primary-600 dark:text-primary-400",children:"Upload images of the vehicle or take photos directly. Supported formats: JPG, PNG, GIF (Max 10MB each)"}),n.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${ie?"border-accent-500 dark:border-accent-400 bg-accent-50 dark:bg-accent-950":"border-primary-300 dark:border-primary-700 hover:border-primary-400 dark:hover:border-primary-600"}`,onDragOver:fe,onDragLeave:ht,onDrop:De,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:`p-3 rounded-full ${ie?"bg-accent-100 dark:bg-accent-900":"bg-primary-100 dark:bg-primary-800"}`,children:n.jsx(By,{size:24,className:ie?"text-accent-600 dark:text-accent-400":"text-primary-600 dark:text-primary-300"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-medium text-primary-900 dark:text-primary-100",children:ie?"Drop images here":"Upload or capture vehicle images"}),n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 mt-1",children:"Drag and drop images here, or use the buttons below"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[n.jsx(Be,{type:"button",variant:"secondary",onClick:()=>{var Ne;return(Ne=s.current)==null?void 0:Ne.click()},leftIcon:n.jsx(ri,{size:16}),className:"inline-flex",children:"Choose Files"}),n.jsx(Be,{type:"button",variant:"success",onClick:Ue,leftIcon:n.jsx(fp,{size:16}),className:"inline-flex",children:"Take Photo"})]})]})}),Y.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsxs("h3",{className:"mb-3 text-sm font-medium text-primary-900 dark:text-primary-100",children:["Vehicle Images (",Y.length,")",Y.some(Ne=>Ne.isExisting)&&n.jsx("span",{className:"ml-2 text-xs text-primary-500 dark:text-primary-500",children:"(includes existing images)"})]}),n.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6",children:Y.map(Ne=>{var ze;return n.jsxs("div",{className:"relative group bg-primary-100 dark:bg-primary-800 rounded-lg overflow-hidden aspect-square",children:[n.jsx("img",{src:Ne.url||"/placeholder.svg",alt:"Vehicle preview",className:"w-full h-full object-cover transition-transform group-hover:scale-105"}),Ne.isExisting&&n.jsx("div",{className:"absolute top-2 left-2 bg-success-600 dark:bg-success-500 text-white text-xs px-2 py-1 rounded",children:"Existing"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-200 flex items-center justify-center",children:n.jsx("button",{type:"button",onClick:()=>Ee(Ne.id),className:"opacity-0 group-hover:opacity-100 transition-opacity bg-error-600 hover:bg-error-700 dark:bg-error-500 dark:hover:bg-error-600 text-white p-2 rounded-full shadow-lg",title:"Remove image",children:n.jsx(ud,{size:16})})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-2",children:n.jsx("p",{className:"text-xs text-white truncate opacity-0 group-hover:opacity-100 transition-opacity",children:((ze=Ne.file)==null?void 0:ze.name)||"Existing image"})})]},Ne.id)})})]}),Y.length>0&&n.jsx("div",{className:"mt-4 p-3 bg-primary-50 dark:bg-primary-900 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between text-sm text-primary-600 dark:text-primary-400",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(og,{size:16,className:"mr-1"}),Y.length," image",Y.length!==1?"s":""," (",Y.filter(Ne=>Ne.isExisting).length," existing,"," ",Y.filter(Ne=>!Ne.isExisting).length," new)"]}),n.jsxs("span",{children:["New files size:"," ",(Y.filter(Ne=>Ne.file).reduce((Ne,ze)=>{var qe;return Ne+(((qe=ze.file)==null?void 0:qe.size)||0)},0)/(1024*1024)).toFixed(1)," ","MB"]})]})})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-primary-900 dark:text-primary-50",children:"Upload Excel File"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-accent-500 dark:bg-accent-400 rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm text-primary-600 dark:text-primary-400",children:"Ready to upload"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"relative",children:n.jsx("input",{ref:I,type:"file",accept:".xlsx, .xls",onChange:Le,className:"block w-full text-sm text-primary-600 dark:text-primary-400 cursor-pointer file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-accent-50 dark:file:bg-accent-950 file:text-accent-700 dark:file:text-accent-300 hover:file:bg-accent-100 dark:hover:file:bg-accent-900 file:cursor-pointer",disabled:z||A})}),(z||A)&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm text-primary-600 dark:text-primary-400",children:[n.jsx("span",{children:z?"Processing Excel file...":"Uploading to server..."}),n.jsxs("span",{children:[Math.round(N),"%"]})]}),n.jsx("div",{className:"w-full bg-primary-200 dark:bg-primary-800 rounded-full h-2.5",children:n.jsx("div",{className:"bg-accent-600 dark:bg-accent-500 h-2.5 rounded-full transition-all duration-300 ease-out",style:{width:`${N}%`}})})]}),S.length>0&&!z&&!A&&n.jsxs("div",{className:"flex justify-between items-center p-3 bg-success-50 dark:bg-success-950 rounded-md border border-success-300 dark:border-success-700",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-success-600 dark:bg-success-400 rounded-full"}),n.jsxs("span",{className:"text-sm text-success-800 dark:text-success-300",children:[S.length," vehicle(s) ready for review"]})]}),n.jsx("button",{type:"button",onClick:()=>O(!0),className:"text-sm font-medium text-success-800 dark:text-success-300 hover:text-success-900 dark:hover:text-success-200",children:"Review Data "})]}),n.jsx("div",{className:"p-3 bg-primary-50 dark:bg-primary-900 rounded-md border border-primary-300 dark:border-primary-700",children:n.jsxs("p",{className:"text-sm text-primary-700 dark:text-primary-300",children:[n.jsx("strong",{children:"Excel Format:"}),' Your Excel file should include columns matching the form fields: "Registration Number", "Tag Number", "Make/Model", "Year of Purchase", "Engine Number", "Chassis Number", "Amount", etc.']})})]})]})}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx(Be,{type:"button",variant:"secondary",onClick:()=>e("/categories/vehicles"),leftIcon:n.jsx(Bs,{size:16}),children:"Cancel"}),n.jsx(Be,{type:"submit",variant:"primary",leftIcon:n.jsx(bi,{size:16}),isLoading:d,children:r?"Update Vehicle":"Create Vehicle"})]})]}),n.jsx(Ohe,{show:T,data:S,onConfirm:He,onCancel:()=>{O(!1),I.current&&(I.current.value="")},isLoading:A})]})},zhe=({images:e,isOpen:t,onClose:r,initialIndex:s=0})=>{const[a,i]=U.useState(s),[o,l]=U.useState(null),[c,d]=U.useState(null),u=50;if(U.useEffect(()=>{i(s)},[s]),!t||e.length===0)return null;const p=()=>{i(k=>k===0?e.length-1:k-1)},x=()=>{i(k=>k===e.length-1?0:k+1)},f=k=>{k.key==="Escape"&&r(),k.key==="ArrowLeft"&&p(),k.key==="ArrowRight"&&x()},y=k=>{d(null),l(k.targetTouches[0].clientX)},v=k=>{d(k.targetTouches[0].clientX)},_=()=>{if(!o||!c)return;const k=o-c,S=k>u,M=k<-u;S&&e.length>1&&x(),M&&e.length>1&&p()};return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-95",onClick:r,onKeyDown:f,tabIndex:0,children:[n.jsxs("div",{className:"relative w-full h-full max-w-[95vw] max-h-[95vh] sm:max-w-5xl md:max-w-6xl lg:max-w-7xl xl:max-w-[90vw] p-2 sm:p-4 md:p-6",onClick:k=>k.stopPropagation(),onTouchStart:y,onTouchMove:v,onTouchEnd:_,children:[n.jsx("button",{onClick:r,className:"absolute top-2 right-2 sm:top-4 sm:right-4 z-10 p-1.5 sm:p-2 text-white bg-black bg-opacity-60 rounded-full hover:bg-opacity-80 transition-all backdrop-blur-sm",children:n.jsx(Bs,{size:20,className:"sm:w-6 sm:h-6"})}),e.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:p,className:"absolute left-2 sm:left-4 top-1/2 transform -translate-y-1/2 z-10 p-1.5 sm:p-2 text-white bg-black bg-opacity-60 rounded-full hover:bg-opacity-80 transition-all backdrop-blur-sm opacity-0 sm:opacity-100 sm:hover:opacity-100",children:n.jsx(tO,{size:20,className:"sm:w-6 sm:h-6"})}),n.jsx("button",{onClick:x,className:"absolute right-2 sm:right-4 top-1/2 transform -translate-y-1/2 z-10 p-1.5 sm:p-2 text-white bg-black bg-opacity-60 rounded-full hover:bg-opacity-80 transition-all backdrop-blur-sm opacity-0 sm:opacity-100 sm:hover:opacity-100",children:n.jsx(Dr,{size:20,className:"sm:w-6 sm:h-6"})})]}),n.jsx("div",{className:"flex items-center justify-center h-full pb-16 sm:pb-20",children:n.jsx("img",{src:e[a]||"/placeholder.svg",alt:`Vehicle image ${a+1}`,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl",style:{maxHeight:"calc(100vh - 120px)"},onError:k=>{const S=k.target;S.src="/placeholder.svg"}})}),e.length>1&&n.jsxs("div",{className:"absolute bottom-14 sm:bottom-16 left-1/2 transform -translate-x-1/2 px-3 py-1 text-white bg-black bg-opacity-60 rounded-full text-xs sm:text-sm backdrop-blur-sm",children:[a+1," / ",e.length]}),e.length>1&&n.jsx("div",{className:"absolute bottom-2 sm:bottom-4 left-1/2 transform -translate-x-1/2 w-full max-w-full px-2 sm:px-4",children:n.jsx("div",{className:"flex justify-center space-x-1 sm:space-x-2 overflow-x-auto scrollbar-hide",children:n.jsx("div",{className:"flex space-x-1 sm:space-x-2 px-2",children:e.map((k,S)=>n.jsx("button",{onClick:()=>i(S),className:`flex-shrink-0 w-12 h-12 sm:w-16 sm:h-16 rounded-lg overflow-hidden border-2 transition-all ${S===a?"border-white shadow-lg":"border-transparent opacity-70 hover:opacity-100 hover:border-white/50"}`,children:n.jsx("img",{src:k||"/placeholder.svg",alt:`Thumbnail ${S+1}`,className:"w-full h-full object-cover",onError:M=>{const T=M.target;T.src="/placeholder.svg"}})},S))})})}),n.jsx("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 text-white/60 text-xs sm:hidden",children:"Swipe to navigate"})]}),n.jsx("style",{children:`
          .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
          }
          .scrollbar-hide::-webkit-scrollbar {
            display: none;
          }
        `})]})};var Uhe={};const $he=()=>{const{id:e}=si(),t=Vr(),[r]=Du(),s=r.get("edit")==="true",{getVehicleById:a,updateVehicle:i,selectedVehicle:o,setSelectedVehicle:l,isLoading:c}=hg(),[d,u]=U.useState(!1),[p,x]=U.useState(!1);U.useEffect(()=>((async()=>{if(e&&e!=="new")try{const T=await a(e);T&&l(T)}catch(T){console.error("Error loading vehicle:",T),Ke.error("Failed to load vehicle details"),t("/categories/vehicles")}else Ke.error("Invalid vehicle ID"),t("/categories/vehicles")})(),()=>l(null)),[e,a,l,t]);const f=async()=>{if(o){x(!0);try{await i(o.id,o),Ke.success("Vehicle updated successfully"),t("/categories/vehicles")}catch(M){console.error("Error updating vehicle:",M),Ke.error("Failed to update vehicle")}finally{x(!1)}}},y=(M,T)=>{if(o){let O=M.target.value;["amount","depreciation_rate","annual_depreciation","accumulated_depreciation","net_book_value","disposal_value"].includes(T)&&(O=O===""?void 0:Number.parseFloat(O)),l({...o,[T]:O})}},v=()=>{if(!(o!=null&&o.image_urls))return[];try{const M=Array.isArray(o.image_urls)?o.image_urls:JSON.parse(o.image_urls),T=Uhe.VITE_PROD_API_URL||"http://localhost:3001";return M.filter(O=>O&&O.trim()!=="").map(O=>O.startsWith("http")?O:`${T}${O}`)}catch{return[]}},_=M=>{if(!M)return"N/A";const T=new Date(M);return{date:T.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),time:T.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}},k=v();if(c)return n.jsx("div",{className:"flex justify-center items-center h-48",children:n.jsx("div",{className:"w-6 h-6 rounded-full border-b-2 border-blue-600 animate-spin"})});if(!o)return n.jsxs("div",{className:"p-4 text-center",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Vehicle not found"}),n.jsx(Be,{variant:"secondary",size:"sm",leftIcon:n.jsx(Pa,{size:14}),onClick:()=>t("/categories/vehicles"),children:"Back to Vehicles"})]});const S=_(o.created_at);return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("nav",{className:"px-3 py-2 bg-white border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600 overflow-x-auto",children:[n.jsxs(Lr,{to:"/",className:"flex items-center whitespace-nowrap hover:text-blue-600 transition-colors",children:[n.jsx(ln,{size:12,className:"mr-1"}),"Home"]}),n.jsx(Dr,{size:12}),n.jsx(Lr,{to:"/asset-categories",className:"whitespace-nowrap hover:text-blue-600 transition-colors",children:"Categories"}),n.jsx(Dr,{size:12}),n.jsx(Lr,{to:"/categories/vehicles",className:"whitespace-nowrap hover:text-blue-600 transition-colors",children:"Vehicles"}),n.jsx(Dr,{size:12}),n.jsxs("span",{className:"flex items-center font-medium text-gray-900 whitespace-nowrap",children:[n.jsx(Xl,{size:12,className:"mr-1"}),s?"Edit":"View"]})]})}),n.jsxs("div",{className:`sticky top-0 z-10 bg-white border-b border-gray-200 px-3 py-3 
            flex items-center justify-between`,children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1.5",onClick:()=>t("/categories/vehicles"),children:n.jsx(Pa,{size:16})}),n.jsx("h1",{className:"text-lg font-bold text-gray-900 truncate",children:o.registration_number||"Vehicle Details"})]}),n.jsx("div",{className:"flex space-x-1 mt-2 lg:mt-0",children:s&&n.jsx(Be,{variant:"primary",size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-xs px-2 py-1.5",leftIcon:n.jsx(bi,{size:14}),onClick:f,isLoading:p,children:"Save"})})]}),n.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-3",children:n.jsxs("div",{className:"flex flex-col text-xs text-gray-500 space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_i,{size:12}),n.jsx("span",{className:"font-medium",children:"Created by:"}),n.jsx("span",{className:"text-gray-700",children:o.created_by||"System"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Tu,{size:12}),n.jsx("span",{className:"font-medium",children:"Date:"}),n.jsx("span",{className:"text-gray-700",children:S.date})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(to,{size:12}),n.jsx("span",{className:"font-medium",children:"Time:"}),n.jsx("span",{className:"text-gray-700",children:S.time})]}),o.updated_at&&o.updated_at!==o.created_at&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"font-medium",children:"Last updated:"}),n.jsx("span",{className:"text-gray-700",children:_(o.updated_at).date})]})]})})]}),n.jsxs("div",{className:"px-3 py-4 space-y-4",children:[n.jsx(it,{children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Mh,{size:16,className:"text-blue-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide",children:"Vehicle Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[[{label:"Registration No.",field:"registration_number"},{label:"Make & Model",field:"make_model"},{label:"Engine Number",field:"engine_number"},{label:"Chassis Number",field:"chassis_number"},{label:"Tag Number",field:"tag_number"},{label:"Vehicle Color",field:"color"},{label:"Responsible Officer",field:"responsible_officer"}].map(({label:M,field:T})=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:M}),s?n.jsx("input",{value:o[T]||"",onChange:O=>y(O,T),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:o[T]||"N/A"})]},T)),n.jsxs("div",{className:"sm:col-span-2",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Financed By / Source of Funds"}),s?n.jsx("input",{value:o.financed_by||"",onChange:M=>y(M,"financed_by"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:o.financed_by||"N/A"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Ag,{size:16,className:"text-green-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide",children:"Financial Information"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[{label:"Year of Purchase",field:"year_of_purchase"},{label:"PV Number",field:"pv_number"},{label:"Amount",field:"amount",isCurrency:!0},{label:"Depreciation Rate (%)",field:"depreciation_rate"},{label:"Annual Depreciation",field:"annual_depreciation",isCurrency:!0},{label:"Accumulated Depreciation",field:"accumulated_depreciation",isCurrency:!0},{label:"Net Book Value",field:"net_book_value",isCurrency:!0},{label:"Disposal Value",field:"disposal_value",isCurrency:!0}].map(({label:M,field:T,isCurrency:O})=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:M}),s?n.jsx("input",{type:O?"number":"text",step:O?"0.01":void 0,value:o[T]||"",onChange:A=>y(A,T),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:o[T]?O?`Ksh. ${o[T].toLocaleString()}`:T==="depreciation_rate"?`${o[T]}%`:o[T]:"N/A"})]},T))})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Ea,{size:16,className:"text-blue-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide",children:"Location & Status"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[[{label:"Original Location",field:"original_location"},{label:"Current Location",field:"current_location"},{label:"Asset Condition",field:"asset_condition",isSelect:!0}].map(({label:M,field:T,isSelect:O})=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:M}),s?O?n.jsxs("select",{value:o[T]||"",onChange:A=>y(A,T),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select condition"}),n.jsx("option",{value:"New",children:"New"}),n.jsx("option",{value:"Good",children:"Good"}),n.jsx("option",{value:"Fair",children:"Fair"}),n.jsx("option",{value:"Poor",children:"Poor"}),n.jsx("option",{value:"Needs Replacement",children:"Needs Replacement"})]}):n.jsx("input",{value:o[T]||"",onChange:A=>y(A,T),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:o[T]||"N/A"})]},T)),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Has Log Book"}),s?n.jsxs("select",{value:o.has_logbook||"",onChange:M=>y(M,"has_logbook"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select"}),n.jsx("option",{value:"Y",children:"Yes"}),n.jsx("option",{value:"N",children:"No"})]}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:o.has_logbook==="Y"?"Yes":o.has_logbook==="N"?"No":"N/A"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Tu,{size:16,className:"text-red-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide",children:"Important Dates"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[{label:"Replacement Date",field:"replacement_date"},{label:"Date of Disposal",field:"date_of_disposal"}].map(({label:M,field:T})=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:M}),s?n.jsx("input",{type:"date",value:o[T]?new Date(o[T]).toISOString().split("T")[0]:"",onChange:O=>y(O,T),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:o[T]?new Date(o[T]).toLocaleDateString():"N/A"})]},T))})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Ya,{size:16,className:"text-orange-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide",children:"Notes"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Additional Notes"}),s?n.jsx("textarea",{value:o.notes||"",onChange:M=>y(M,"notes"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[80px]",placeholder:"Enter any additional notes about this vehicle..."}):n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded min-h-[40px]",children:o.notes||"No additional notes"})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(fp,{size:16,className:"text-indigo-600 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide",children:"Vehicle Images"})]}),k.length>0&&n.jsxs("span",{className:"px-2 py-1 text-xs text-indigo-600 bg-indigo-100 rounded-full",children:[k.length," ",k.length===1?"image":"images"]})]}),k.length>0?n.jsxs("div",{className:"border border-gray-200 rounded-lg bg-gray-50 p-3",children:[n.jsx("div",{className:"mb-3",children:n.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:[k.slice(0,8).map((M,T)=>n.jsx("div",{className:"aspect-square border border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm",children:n.jsx("img",{src:M||"/placeholder.svg",alt:`Vehicle image ${T+1}`,className:"w-full h-full object-cover"})},T)),k.length>8&&n.jsx("div",{className:"aspect-square border border-gray-200 rounded-lg bg-gray-200 flex items-center justify-center",children:n.jsxs("span",{className:"text-xs font-medium text-gray-600",children:["+",k.length-8]})})]})}),n.jsx(Be,{variant:"secondary",size:"sm",onClick:()=>u(!0),leftIcon:n.jsx(og,{size:14}),className:"w-full border-indigo-200 text-indigo-700 hover:bg-indigo-50 text-xs py-2",children:"View All Images"})]}):n.jsx("div",{className:"flex items-center justify-center p-6 border-2 border-dashed border-gray-300 rounded-lg",children:n.jsxs("div",{className:"text-center",children:[n.jsx(fp,{size:32,className:"mx-auto mb-2 text-gray-400"}),n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"No images available"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Images will appear here when uploaded"})]})})]})})]}),n.jsx(zhe,{images:k,isOpen:d,onClose:()=>u(!1)})]})},Whe=()=>{const e=Vr(),{officeEquipment:t,fetchOfficeEquipment:r,isLoading:s}=Dp(),[a,i]=U.useState(1),[o]=U.useState(10),[l,c]=U.useState(!1),[d,u]=U.useState({});U.useEffect(()=>{Ng("OFFICE_EQUIPMENT","Office Equipment",{equipmentCount:(t==null?void 0:t.length)||0}),r()},[]);const p=U.useMemo(()=>{if(!t||t.length===0)return[];const N=Array.from(new Set(t.map(I=>I.asset_condition).filter(Boolean))).sort(),E=Array.from(new Set(t.map(I=>I.current_location).filter(Boolean))).sort(),z=Array.from(new Set(t.map(I=>I.make_model).filter(Boolean))).sort(),P=Array.from(new Set(t.map(I=>I.delivery_installation_date).filter(Boolean).map(I=>new Date(I).getFullYear().toString()))).sort((I,W)=>Number.parseInt(W)-Number.parseInt(I));return[{key:"condition",label:"Condition",options:N},{key:"location",label:"Location",options:E},{key:"makeModel",label:"Make/Model",options:z},{key:"year",label:"Delivery Year",options:P}]},[t]),x=U.useMemo(()=>t?t.filter(N=>{if(d.condition&&N.asset_condition!==d.condition||d.location&&N.current_location!==d.location||d.makeModel&&N.make_model!==d.makeModel)return!1;if(d.year&&N.delivery_installation_date){if(new Date(N.delivery_installation_date).getFullYear().toString()!==d.year)return!1}else if(d.year&&!N.delivery_installation_date)return!1;return!0}):[],[t,d]),f=U.useMemo(()=>{const N=x.length,E=x.filter(le=>{var se;return((se=le.asset_condition)==null?void 0:se.toLowerCase())==="excellent"}).length,z=x.filter(le=>{var se;return((se=le.asset_condition)==null?void 0:se.toLowerCase())==="good"}).length,P=x.filter(le=>{var se;return((se=le.asset_condition)==null?void 0:se.toLowerCase())==="needs repair"}).length,I=x.reduce((le,se)=>le+(se.net_book_value||0),0),W=5.3,Z=8.7,Y=-2.1,te=12.4,ie=(le,se)=>Array.from({length:7},(oe,ee)=>{const B=(Math.random()-.5)*se;return Math.max(0,le+B)});return{total:{value:N,trend:W,subtitle:`Ksh ${I.toLocaleString()} total value`,sparkline:ie(N,N*.1)},excellent:{value:E,trend:Z,subtitle:`${N>0?(E/N*100).toFixed(1):0}% of total equipment`,sparkline:ie(E,E*.2)},good:{value:z,trend:Y,subtitle:`${N>0?(z/N*100).toFixed(1):0}% of total equipment`,sparkline:ie(z,z*.15)},needsRepair:{value:P,trend:te,subtitle:P>0?`${P} require immediate attention`:"All equipment in good condition",sparkline:ie(P,P*.3)}}},[x]),y=Object.values(d).some(N=>N),v=(N,E)=>{u(z=>({...z,[N]:E})),i(1)},_=()=>{u({}),i(1)},k=N=>{e(`/categories/office-equipment/${N.id}`)},S=N=>{e(`/categories/office-equipment/${N.id}?edit=true`)},M=N=>{e(`/categories/office-equipment/${N.id}/transfer`)},T=()=>{Ke.info("Export functionality coming soon")},O=[{header:"#",accessor:(N,E)=>E!==void 0?(a-1)*o+E+1:x.indexOf(N)+1,sortable:!1},{header:"Asset Description",accessor:"asset_description",sortable:!0,cell:N=>n.jsx("div",{className:"max-w-xs truncate",title:N,children:N||"N/A"})},{header:"Tag Number",accessor:"tag_number",sortable:!0,cell:N=>N||"N/A"},{header:"Serial Number",accessor:"serial_number",sortable:!0,cell:N=>N||"N/A"},{header:"Make/Model",accessor:"make_model",sortable:!0,cell:N=>N||"N/A"},{header:"Current Location",accessor:"current_location",sortable:!0,cell:N=>N||"N/A"},{header:"Condition",accessor:"asset_condition",sortable:!0,cell:N=>{const E=z=>{switch(z==null?void 0:z.toLowerCase()){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"fair":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-orange-100 text-orange-800";case"needs repair":return"bg-red-100 text-red-800";case"disposed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return N?n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E(N)}`,children:N}):"N/A"}},{header:"Purchase Amount",accessor:"purchase_amount",sortable:!0,cell:N=>N?`Ksh.${N.toLocaleString()}`:"N/A"},{header:"Net Book Value",accessor:"net_book_value",sortable:!0,cell:N=>N?`Ksh.${N.toLocaleString()}`:"N/A"},{header:"Delivery Date",accessor:"delivery_installation_date",sortable:!0,cell:N=>N?yi(new Date(N),"MMM dd, yyyy"):"N/A"}],A=N=>n.jsxs("div",{className:"flex space-x-1 sm:space-x-2",children:[n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-blue-600 rounded transition-colors hover:text-blue-800 hover:bg-blue-100",title:"View Equipment Details",onClick:E=>{E.stopPropagation(),k(N)},children:n.jsx(Xl,{size:16,className:"sm:w-4 sm:h-4"})}),n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-green-600 rounded transition-colors hover:text-green-800 hover:bg-green-100",title:"Edit Equipment",onClick:E=>{E.stopPropagation(),S(N)},children:n.jsx(Iu,{size:16,className:"sm:w-4 sm:h-4"})}),n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-purple-600 rounded transition-colors hover:text-purple-800 hover:bg-purple-100",title:"Transfer Equipment",onClick:E=>{E.stopPropagation(),M(N)},children:n.jsx(W0,{size:16,className:"sm:w-4 sm:h-4"})})]}),C=({data:N,color:E})=>{const z=Math.max(...N),P=Math.min(...N),I=z-P||1;return n.jsx("div",{className:"flex items-end h-8 gap-0.5",children:N.map((W,Z)=>{const Y=(W-P)/I*100;return n.jsx("div",{className:`flex-1 ${E} rounded-sm transition-all`,style:{height:`${Y}%`,minHeight:"2px"}},Z)})})};return n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:justify-between sm:items-center sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(pp,{className:"w-6 h-6 text-orange-600"}),n.jsx("h1",{className:"text-xl font-bold text-gray-900 sm:text-2xl",children:"Office Equipment"}),y&&n.jsxs("span",{className:"px-2 py-1 text-xs font-medium text-orange-600 bg-orange-100 rounded-full",children:[Object.values(d).filter(Boolean).length," filter",Object.values(d).filter(Boolean).length>1?"s":""," ","active"]})]}),n.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[n.jsx(Be,{variant:"secondary",leftIcon:n.jsx(Nn,{size:16}),onClick:()=>c(!0),className:`w-full sm:w-auto ${y?"bg-orange-50 text-orange-700 border-orange-200 hover:bg-orange-100":""}`,children:"Filter"}),n.jsx(Be,{variant:"secondary",leftIcon:n.jsx(Xd,{size:16}),onClick:T,className:"w-full sm:w-auto",children:"Export"}),n.jsx(Be,{variant:"primary",className:"w-full bg-orange-600 hover:bg-orange-700 sm:w-auto",leftIcon:n.jsx(ri,{size:16}),onClick:()=>e("/categories/office-equipment/new"),children:"Add Equipment"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-orange-500 to-orange-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(H0,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.total.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.total.trend>=0?"text-orange-200":"text-red-200"}`,children:[f.total.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.total.trend),"%"]})]}),n.jsxs("p",{className:"text-sm text-orange-100 mb-3",children:[y?"Filtered":"Total"," Equipment"]}),n.jsx("p",{className:"text-xs text-orange-200 mb-2",children:f.total.subtitle}),n.jsx(C,{data:f.total.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-green-500 to-green-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(la,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.excellent.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.excellent.trend>=0?"text-green-200":"text-red-200"}`,children:[f.excellent.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.excellent.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-green-100 mb-3",children:"Excellent Condition"}),n.jsx("p",{className:"text-xs text-green-200 mb-2",children:f.excellent.subtitle}),n.jsx(C,{data:f.excellent.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-500 to-blue-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(la,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.good.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.good.trend>=0?"text-blue-200":"text-red-200"}`,children:[f.good.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.good.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-blue-100 mb-3",children:"Good Condition"}),n.jsx("p",{className:"text-xs text-blue-200 mb-2",children:f.good.subtitle}),n.jsx(C,{data:f.good.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-red-500 to-red-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(aa,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.needsRepair.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.needsRepair.trend>=0?"text-red-200":"text-green-200"}`,children:[f.needsRepair.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.needsRepair.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-red-100 mb-3",children:"Need Repair"}),n.jsx("p",{className:"text-xs text-red-200 mb-2",children:f.needsRepair.subtitle}),n.jsx(C,{data:f.needsRepair.sparkline,color:"bg-white/30"})]})]})})]}),s?n.jsxs("div",{className:"flex justify-center items-center py-8 space-x-2 text-gray-500",children:[n.jsxs("svg",{className:"w-5 h-5 text-gray-500 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),n.jsx("span",{children:"Loading office equipment..."})]}):x.length===0&&t.length>0?n.jsxs(it,{className:"p-8 text-center",children:[n.jsx(Nn,{className:"mx-auto mb-4 w-12 h-12 text-gray-400"}),n.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"No equipment matches your filters"}),n.jsx("p",{className:"mb-4 text-gray-500",children:"Try adjusting your filter criteria to see more results."}),n.jsx(Be,{variant:"secondary",onClick:_,className:"mr-2",children:"Clear Filters"}),n.jsx(Be,{variant:"primary",className:"bg-orange-600 hover:bg-orange-700",onClick:()=>c(!0),children:"Adjust Filters"})]}):t.length===0?n.jsxs(it,{className:"p-8 text-center",children:[n.jsx(pp,{className:"mx-auto mb-4 w-12 h-12 text-gray-400"}),n.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"No office equipment found"}),n.jsx("p",{className:"mb-4 text-gray-500",children:"Get started by adding your first office equipment."}),n.jsx(Be,{variant:"primary",className:"bg-orange-600 hover:bg-orange-700",leftIcon:n.jsx(ri,{size:16}),onClick:()=>e("/categories/office-equipment/new"),children:"Add Equipment"})]}):n.jsx(it,{className:"overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx(r0,{data:x,columns:O,keyField:"id",onRowClick:k,actions:A,searchable:!0,pagination:!0,pageSize:o,currentPage:a,onPageChange:i,className:"min-w-full"})})}),n.jsx(Yh,{isOpen:l,onClose:()=>c(!1),filterOptions:p,activeFilters:d,onFilterChange:v,onClearAll:_,hasActiveFilters:y,filteredData:x,columns:O.map(N=>({header:N.header,accessor:(typeof N.accessor=="function",N.accessor),cell:N.cell})),exportTitle:"Office Equipment"})]})},A8=()=>{const e=Vr(),{id:t}=si(),r=!!(t&&t!=="new"),{createOfficeEquipment:s,updateOfficeEquipment:a,getOfficeEquipmentById:i,isLoading:o}=Dp(),[l,c]=U.useState({}),[d,u]=U.useState(!1),[p,x]=U.useState(!1),[f,y]=U.useState(!0),[v,_]=U.useState({asset_description:"",financed_by:"",serial_number:"",tag_number:"",make_model:"",delivery_installation_date:"",pv_number:"",original_location:"",current_location:"",replacement_date:"",purchase_amount:void 0,depreciation_rate:void 0,annual_depreciation:void 0,accumulated_depreciation:void 0,net_book_value:void 0,disposal_date:"",disposal_value:void 0,responsible_officer:"",asset_condition:"New",notes:""});U.useEffect(()=>{r&&t&&k()},[t,r]);const k=async()=>{if(t)try{const C=await i(t);C&&_(C)}catch{Ke.error("Failed to load office equipment"),e("/categories/office-equipment")}},S=async()=>{var C,N,E;u(!0),c(z=>({...z,tag_number:""}));try{const P=(await Pt.post("https://assets-system-sigma.vercel.app/api/office-equipment/generate-tag")).data;T("tag_number",P.tag_number),Ke.success(P.message||"Tag number generated successfully")}catch(z){console.error("Tag generation error:",z);const P=((N=(C=z.response)==null?void 0:C.data)==null?void 0:N.detail)||z.message||"Failed to generate tag number";Ke.error(P),((E=z.response)==null?void 0:E.status)===401&&e("/login")}finally{u(!1)}},M=async C=>{var N,E,z;if(!C.trim()){c(P=>({...P,tag_number:""}));return}x(!0);try{const I=(await Pt.post(`https://assets-system-sigma.vercel.app/api/office-equipment/validate-tag${r?`?asset_id=${t}`:""}`,{tag_number:C})).data;I.valid?c(W=>({...W,tag_number:""})):c(W=>({...W,tag_number:I.message}))}catch(P){console.error("Tag validation error:",P);const I=((E=(N=P.response)==null?void 0:N.data)==null?void 0:E.detail)||P.message||"Failed to validate tag number";c(W=>({...W,tag_number:I})),((z=P.response)==null?void 0:z.status)===401&&e("/login")}finally{x(!1)}};U.useEffect(()=>{if(f&&v.purchase_amount&&v.depreciation_rate!==void 0){const C=v.purchase_amount*v.depreciation_rate/100;_(N=>({...N,annual_depreciation:Number.parseFloat(C.toFixed(2))}))}},[v.purchase_amount,v.depreciation_rate,f]),U.useEffect(()=>{if(f&&v.purchase_amount&&v.annual_depreciation!==void 0&&v.delivery_installation_date){const C=new Date(v.delivery_installation_date),N=v.disposal_date?new Date(v.disposal_date):new Date,z=Math.max(0,Math.floor((N.getTime()-C.getTime())/(1e3*60*60*24)))/365,P=Math.min(v.annual_depreciation*z,v.purchase_amount),I=Math.max(0,v.purchase_amount-P);_(W=>({...W,accumulated_depreciation:Number.parseFloat(P.toFixed(2)),net_book_value:Number.parseFloat(I.toFixed(2))}))}},[v.purchase_amount,v.annual_depreciation,v.delivery_installation_date,v.disposal_date,f]);const T=(C,N)=>{if(_(E=>({...E,[C]:N})),["annual_depreciation","accumulated_depreciation","net_book_value"].includes(C)&&y(!1),l[C]&&c(E=>({...E,[C]:""})),C==="tag_number"&&typeof N=="string"){const E=setTimeout(()=>{M(N)},500);return()=>clearTimeout(E)}},O=()=>{y(!0),Ke.success("Auto-calculation re-enabled")},A=async C=>{var E,z,P;C.preventDefault();const N={};if((E=v.asset_description)!=null&&E.trim()||(N.asset_description="Asset description is required"),(z=v.serial_number)!=null&&z.trim()||(N.serial_number="Serial number is required"),(P=v.tag_number)!=null&&P.trim()||(N.tag_number="Tag number is required"),Object.keys(N).length>0){c(N),Ke.error("Please fix the validation errors before submitting");return}if(Object.values(l).some(I=>I!=="")){Ke.error("Please fix the validation errors before submitting");return}try{r&&t?(await a(t,v),Ke.success("Office equipment updated successfully")):(await s(v),Ke.success("Office equipment created successfully")),e("/categories/office-equipment")}catch{Ke.error(r?"Failed to update office equipment":"Failed to create office equipment")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("nav",{className:"flex items-center mb-6 space-x-2 text-sm text-gray-600",children:[n.jsxs(Lr,{to:"/",className:"flex items-center transition-colors hover:text-blue-600",children:[n.jsx(ln,{size:16,className:"mr-1"}),"Home"]}),n.jsx(Dr,{size:16}),n.jsxs(Lr,{to:"/asset-categories",className:"flex items-center transition-colors hover:text-blue-600",children:[n.jsx(Lc,{size:16,className:"mr-1"}),"Asset Categories"]}),n.jsx(Dr,{size:16}),n.jsx(Lr,{to:"/categories/office-equipment",className:"transition-colors hover:text-blue-600",children:"Office Equipment"}),n.jsx(Dr,{size:16}),n.jsxs("span",{className:"flex items-center font-medium text-gray-900",children:[n.jsx(pp,{size:16,className:"mr-1"}),r?"Edit Equipment":"Add Equipment"]})]}),n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r?"Edit Equipment":"Add Equipment"}),n.jsx("p",{className:"mt-2 text-gray-600",children:r?"Update office equipment information":"Create a new office equipment entry"})]})}),n.jsxs("form",{onSubmit:A,className:"space-y-6",children:[n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Asset Description ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bo,{value:v.asset_description||"",onChange:C=>T("asset_description",C.target.value),placeholder:"Enter detailed description of the asset",className:l.asset_description?"border-red-500":""}),l.asset_description&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.asset_description})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Make/Model"}),n.jsx(wt,{value:v.make_model||"",onChange:C=>T("make_model",C.target.value),placeholder:"Enter make and model"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Financed By"}),n.jsx(wt,{value:v.financed_by||"",onChange:C=>T("financed_by",C.target.value),placeholder:"Enter financing source"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Identification"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Serial Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(wt,{value:v.serial_number||"",onChange:C=>T("serial_number",C.target.value),placeholder:"Enter serial number",className:l.serial_number?"border-red-500":""}),l.serial_number&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.serial_number})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Tag Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"flex-1",children:n.jsx(wt,{value:v.tag_number||"",onChange:C=>T("tag_number",C.target.value),placeholder:"Enter tag number or generate one",className:l.tag_number?"border-red-500":""})}),n.jsx(Be,{type:"button",variant:"secondary",onClick:S,disabled:d,className:"px-3 py-2 min-w-0 hover:bg-gray-100 border border-gray-300 rounded-md transition-colors disabled:opacity-50",title:"Generate tag number from backend",children:n.jsx(Za,{size:16,className:`text-gray-600 ${d?"animate-spin":""}`})})]}),n.jsxs("div",{className:"mt-1",children:[p&&n.jsx("p",{className:"text-xs text-blue-600",children:"Validating tag number..."}),!p&&!l.tag_number&&n.jsx("p",{className:"text-xs text-gray-500",children:"Click the refresh button to auto-generate a unique tag number (Format: OE-4578A)"}),l.tag_number&&n.jsx("p",{className:"text-sm text-red-600",children:l.tag_number})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"PV Number"}),n.jsx(wt,{value:v.pv_number||"",onChange:C=>T("pv_number",C.target.value),placeholder:"Enter PV number"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Location Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Original Location"}),n.jsx(wt,{value:v.original_location||"",onChange:C=>T("original_location",C.target.value),placeholder:"Enter original location"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Current Location"}),n.jsx(wt,{value:v.current_location||"",onChange:C=>T("current_location",C.target.value),placeholder:"Enter current location"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Financial Information"}),n.jsx("div",{className:"flex items-center gap-2",children:f?n.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600 bg-green-50 px-3 py-1 rounded-full",children:[n.jsx(Of,{size:14}),"Auto-calculating"]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"flex items-center gap-1 text-sm text-amber-600 bg-amber-50 px-3 py-1 rounded-full",children:"Manual override"}),n.jsx(Be,{type:"button",variant:"secondary",onClick:O,className:"text-sm",leftIcon:n.jsx(Za,{size:14}),children:"Recalculate"})]})})]}),f&&n.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Auto-calculation enabled:"})," Annual depreciation, accumulated depreciation, and net book value are calculated automatically based on purchase amount, depreciation rate, and delivery date. Edit any calculated field to override."]})}),!f&&n.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:n.jsxs("p",{className:"text-sm text-amber-800",children:[n.jsx("strong",{children:"Manual mode:"}),` You've edited a calculated field. Click "Recalculate" to re-enable automatic calculations.`]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Purchase Amount"}),n.jsx(wt,{type:"number",step:"0.01",value:v.purchase_amount||"",onChange:C=>T("purchase_amount",Number.parseFloat(C.target.value)||void 0),placeholder:"Enter purchase amount",className:f?"ring-2 ring-blue-200":""})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Depreciation Rate (%)"}),n.jsx(wt,{type:"number",step:"0.01",value:v.depreciation_rate||"",onChange:C=>T("depreciation_rate",Number.parseFloat(C.target.value)||void 0),placeholder:"Enter depreciation rate",className:f?"ring-2 ring-blue-200":""})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Annual Depreciation"," ",f&&n.jsx("span",{className:"text-xs text-green-600",children:"(auto)"})]}),n.jsx(wt,{type:"number",step:"0.01",value:v.annual_depreciation||"",onChange:C=>T("annual_depreciation",Number.parseFloat(C.target.value)||void 0),placeholder:"Enter annual depreciation",className:f?"bg-green-50":"",readOnly:f})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Accumulated Depreciation"," ",f&&n.jsx("span",{className:"text-xs text-green-600",children:"(auto)"})]}),n.jsx(wt,{type:"number",step:"0.01",value:v.accumulated_depreciation||"",onChange:C=>T("accumulated_depreciation",Number.parseFloat(C.target.value)||void 0),placeholder:"Enter accumulated depreciation",className:f?"bg-green-50":"",readOnly:f})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:["Net Book Value"," ",f&&n.jsx("span",{className:"text-xs text-green-600",children:"(auto)"})]}),n.jsx(wt,{type:"number",step:"0.01",value:v.net_book_value||"",onChange:C=>T("net_book_value",Number.parseFloat(C.target.value)||void 0),placeholder:"Enter net book value",className:f?"bg-green-50":"",readOnly:f})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Disposal Value"}),n.jsx(wt,{type:"number",step:"0.01",value:v.disposal_value||"",onChange:C=>T("disposal_value",Number.parseFloat(C.target.value)||void 0),placeholder:"Enter disposal value"})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Important Dates"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Delivery/Installation Date"}),n.jsx(wt,{type:"date",value:v.delivery_installation_date||"",onChange:C=>T("delivery_installation_date",C.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Replacement Date"}),n.jsx(wt,{type:"date",value:v.replacement_date||"",onChange:C=>T("replacement_date",C.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Disposal Date"}),n.jsx(wt,{type:"date",value:v.disposal_date||"",onChange:C=>T("disposal_date",C.target.value)})]})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Status and Management"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Asset Condition"}),n.jsxs(Pi,{value:v.asset_condition||"",onChange:C=>T("asset_condition",C.target.value),children:[n.jsx("option",{value:"",children:"Select condition"}),n.jsx("option",{value:"New",children:"New"}),n.jsx("option",{value:"Good",children:"Good"}),n.jsx("option",{value:"Worn",children:"Worn"}),n.jsx("option",{value:"Needs Replacement",children:"Needs Replacement"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Responsible Officer"}),n.jsx(wt,{value:v.responsible_officer||"",onChange:C=>T("responsible_officer",C.target.value),placeholder:"Enter responsible officer"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Notes"}),n.jsx(bo,{value:v.notes||"",onChange:C=>T("notes",C.target.value),placeholder:"Enter any additional notes",rows:4})]})]})]})}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx(Be,{type:"button",variant:"secondary",onClick:()=>e("/categories/office-equipment"),leftIcon:n.jsx(Bs,{size:16}),children:"Cancel"}),n.jsx(Be,{type:"submit",variant:"primary",className:"bg-amber-600 hover:bg-amber-700",leftIcon:n.jsx(bi,{size:16}),isLoading:o,children:r?"Update Equipment":"Create Equipment"})]})]})]})},Hhe=()=>{const{id:e}=si(),t=Vr(),[r]=Du(),s=r.get("edit")==="true",{getOfficeEquipmentById:a,updateOfficeEquipment:i,selectedOfficeEquipment:o,setSelectedOfficeEquipment:l,isLoading:c}=Dp(),[d,u]=U.useState(!1);U.useEffect(()=>((async()=>{if(e&&e!=="new")try{const y=await a(e);y&&l(y)}catch(y){console.error("Error loading office equipment:",y),Ke.error("Failed to load office equipment details"),t("/categories/office-equipment")}else Ke.error("Invalid office equipment ID"),t("/categories/office-equipment")})(),()=>l(null)),[e,a,l,t]);const p=async()=>{if(o){u(!0);try{await i(o.id,o),Ke.success("Office equipment updated successfully"),t("/categories/office-equipment")}catch(f){console.error("Error updating office equipment:",f),Ke.error("Failed to update office equipment")}finally{u(!1)}}},x=(f,y)=>{if(o){let v=f.target.value;["purchase_amount","depreciation_rate","annual_depreciation","accumulated_depreciation","net_book_value","disposal_value"].includes(y)&&(v=v===""?void 0:parseFloat(v)),l({...o,[y]:v})}};return c?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{className:"w-8 h-8 rounded-full border-b-2 border-orange-600 animate-spin"})}):o?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("nav",{className:"flex items-center mb-6 space-x-2 text-sm text-gray-600",children:[n.jsxs(Lr,{to:"/",className:"flex items-center transition-colors hover:text-blue-600",children:[n.jsx(ln,{size:16,className:"mr-1"}),"Home"]}),n.jsx(Dr,{size:16}),n.jsx(Lr,{to:"/asset-categories",className:"transition-colors hover:text-blue-600",children:"Asset Categories"}),n.jsx(Dr,{size:16}),n.jsx(Lr,{to:"/categories/office-equipment",className:"transition-colors hover:text-blue-600",children:"Office Equipment"}),n.jsx(Dr,{size:16}),n.jsxs("span",{className:"flex items-center font-medium text-gray-900",children:[n.jsx(eo,{size:16,className:"mr-1"}),s?"Edit":"View"," Equipment"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Be,{variant:"ghost",className:"p-2",onClick:()=>t("/categories/office-equipment"),children:n.jsx(Pa,{size:20})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:o.serial_number})]}),s&&n.jsx(Be,{variant:"primary",className:"bg-orange-600 hover:bg-orange-700",leftIcon:n.jsx(bi,{size:16}),onClick:p,isLoading:d,children:"Save Changes"})]}),n.jsx(it,{children:n.jsxs("div",{className:"grid grid-cols-1 gap-6 p-6 sm:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"mb-4 text-2xl font-semibold text-gray-800",children:"Asset Information"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Asset Description"}),s?n.jsx("textarea",{value:o.asset_description||"",onChange:f=>x(f,"asset_description"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300 min-h-[80px]"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.asset_description})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Make/Model"}),s?n.jsx("input",{value:o.make_model||"",onChange:f=>x(f,"make_model"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.make_model||"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Serial Number"}),s?n.jsx("input",{value:o.serial_number||"",onChange:f=>x(f,"serial_number"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.serial_number||"N/A"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Tag Number"}),s?n.jsx("input",{value:o.tag_number||"",onChange:f=>x(f,"tag_number"),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o.tag_number||"N/A"})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"mb-4 text-2xl font-semibold text-gray-800",children:"Financial Information"}),[{label:"Purchase Amount",field:"purchase_amount"},{label:"Depreciation Rate (%)",field:"depreciation_rate"},{label:"Annual Depreciation",field:"annual_depreciation"},{label:"Accumulated Depreciation",field:"accumulated_depreciation"},{label:"Net Book Value",field:"net_book_value"},{label:"Disposal Value",field:"disposal_value"}].map(({label:f,field:y})=>n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:f}),s?n.jsx("input",{type:"number",step:"0.01",value:o[y]||"",onChange:v=>x(v,y),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o[y]?`Ksh.${o[y].toLocaleString()}`:"N/A"})]},y))]}),n.jsxs("div",{children:[n.jsx("h2",{className:"mb-4 text-2xl font-semibold text-gray-800",children:"Location & Status"}),[{label:"Original Location",field:"original_location"},{label:"Current Location",field:"current_location"},{label:"Asset Condition",field:"asset_condition"},{label:"Responsible Officer",field:"responsible_officer"}].map(({label:f,field:y})=>n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:f}),s?y==="asset_condition"?n.jsxs("select",{value:o[y]||"",onChange:v=>x(v,y),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300",children:[n.jsx("option",{value:"",children:"Select condition"}),n.jsx("option",{value:"Excellent",children:"Excellent"}),n.jsx("option",{value:"Good",children:"Good"}),n.jsx("option",{value:"Fair",children:"Fair"}),n.jsx("option",{value:"Poor",children:"Poor"}),n.jsx("option",{value:"Needs Repair",children:"Needs Repair"}),n.jsx("option",{value:"Disposed",children:"Disposed"})]}):n.jsx("input",{value:o[y]||"",onChange:v=>x(v,y),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o[y]||"N/A"})]},y))]}),n.jsxs("div",{children:[n.jsx("h2",{className:"mb-4 text-2xl font-semibold text-gray-800",children:"Additional Details"}),[{label:"Financed By",field:"financed_by"},{label:"PV Number",field:"pv_number"},{label:"Notes",field:"notes",isTextArea:!0}].map(({label:f,field:y,isTextArea:v})=>n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:f}),s?v?n.jsx("textarea",{value:o[y]||"",onChange:_=>x(_,y),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300 min-h-[60px]"}):n.jsx("input",{value:o[y]||"",onChange:_=>x(_,y),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o[y]||"N/A"})]},y))]}),n.jsxs("div",{children:[n.jsx("h2",{className:"mb-4 text-2xl font-semibold text-gray-800",children:"Important Dates"}),[{label:"Date of Delivery",field:"date_of_delivery"},{label:"Replacement Date",field:"replacement_date"},{label:"Date of Disposal",field:"date_of_disposal"}].map(({label:f,field:y})=>n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500",children:f}),s?n.jsx("input",{type:"date",value:o[y]?new Date(o[y]).toISOString().split("T")[0]:"",onChange:v=>x(v,y),className:"px-2 py-1 mt-1 w-full rounded border border-gray-300"}):n.jsx("p",{className:"mt-1 text-gray-900",children:o[y]?new Date(o[y]).toLocaleDateString():"N/A"})]},y))]})]})})]}):n.jsxs("div",{className:"py-8 text-center",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Office equipment not found"}),n.jsx(Be,{variant:"secondary",className:"mt-4",leftIcon:n.jsx(Pa,{size:16}),onClick:()=>t("/categories/office-equipment"),children:"Back to Office Equipment"})]})},Vhe=()=>{const{id:e}=si(),t=Vr(),{selectedOfficeEquipment:r,getOfficeEquipmentById:s}=Dp(),[a,i]=U.useState(null),[o,l]=U.useState([]),[c,d]=U.useState(!1),[u,p]=U.useState(null),[x,f]=U.useState(!1),[y,v]=U.useState(!1),[_,k]=U.useState(!1),[S,M]=U.useState({previousOwner:"",transferDate:"",transferReason:"",transferDepartment:"",transferLocation:"",transferRoomOrFloor:"",assignedTo:""});U.useEffect(()=>{(async()=>{if(e){const I=await s(e);I&&(i(I),M(W=>({...W,previousOwner:I.responsible_officer||"",assignedTo:""})),await T(e))}})()},[e,s]);const T=async P=>{d(!0),p(null);try{const I=await Pt.get(`${Bt}/office-equipment/${P}/transfers/`);l(I.data)}catch(I){console.error("Failed to fetch transfer history:",I),p("Failed to fetch transfer history")}finally{d(!1)}},O=()=>{v(!1),t("/categories/office-equipments")},A=(P,I)=>{M(W=>({...W,[P]:I}))},C=async()=>{if(!a)return;f(!0);const P={asset_id:a.id,previous_owner:S.previousOwner,assigned_to:S.assignedTo,transfer_date:S.transferDate,transfer_reason:S.transferReason,transfer_department:S.transferDepartment,transfer_location:S.transferLocation,transfer_room_or_floor:S.transferRoomOrFloor};try{const I=await Pt.post(`${Bt}/office-equipment/${a.id}/transfer`,P);console.log("Transfer successful:",I.data),e&&await T(e),v(!0)}catch(I){console.error("Error submitting transfer:",I),alert("Error submitting transfer. Please try again.")}finally{f(!1)}},N=()=>n.jsxs("svg",{className:"inline-block mr-2 w-5 h-5 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),E=()=>{window.history.length>1?t(-1):t("/categories/office-equipments")};if(!a)return n.jsx("div",{className:"text-center text-gray-500",children:"Office Equipment not found"});const z=_?o:o.slice(0,3);return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 shadow-sm",children:n.jsx("div",{className:"px-2 py-2 mx-auto",children:n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Be,{variant:"secondary",onClick:E,children:" Return"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Office Equipment Transfer"})]})})})}),n.jsx("div",{className:"px-0 py-2 mx-auto",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(it,{className:"bg-white border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"pb-2 mb-4 text-lg font-semibold text-gray-900 border-b border-gray-100",children:"Current Office Equipment Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Asset Description"}),n.jsx("p",{className:"text-base text-gray-900",children:a.asset_description})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Current Responsible Officer"}),n.jsx("p",{className:"text-base text-gray-900",children:a.responsible_officer||"Not assigned"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Current Location"}),n.jsx("p",{className:"text-base text-gray-900",children:a.current_location||"Not specified"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Serial Number"}),n.jsx("p",{className:"text-base text-gray-900",children:a.serial_number||"N/A"})]})]})]})}),n.jsx(it,{className:"bg-white border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Transfer History"}),o.length>0&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Hd,{size:16,className:"text-primary-500"}),n.jsxs("span",{className:"text-sm text-primary-600",children:[o.length," transfer",o.length!==1?"s":""," recorded"]})]})]}),c?n.jsxs("div",{className:"flex justify-center items-center py-8",children:[n.jsx("div",{className:"w-6 h-6 rounded-full border-b-2 animate-spin border-primary-600"}),n.jsx("span",{className:"ml-2 text-primary-600",children:"Loading transfer history..."})]}):u?n.jsxs("div",{className:"py-8 text-center",children:[n.jsx("div",{className:"text-error-600 mb-2",children:"Failed to load transfer history"}),n.jsx("div",{className:"text-sm text-primary-500",children:u})]}):o.length===0?n.jsxs("div",{className:"py-8 text-center",children:[n.jsx("div",{className:"text-primary-500 mb-2",children:"No transfer history found"}),n.jsx("div",{className:"text-sm text-primary-400",children:"This office equipment has not been transferred yet."})]}):n.jsxs("div",{className:"space-y-4",children:[z.map((P,I)=>n.jsxs("div",{className:`relative p-4 rounded-lg border transition-colors hover:bg-primary-25 ${I===0?"border-primary-200 bg-primary-50":"border-primary-100"}`,children:[n.jsx("div",{className:"absolute left-0 top-4 w-1 h-full bg-primary-200 rounded-full"}),n.jsx("div",{className:`absolute left-0 top-4 w-1 h-8 rounded-full ${I===0?"bg-primary-500":"bg-primary-300"}`}),n.jsxs("div",{className:"ml-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(to,{size:16,className:"text-primary-500"}),n.jsx("span",{className:"text-sm font-medium text-primary-900",children:yi(new Date(P.transfer_date),"MMM dd, yyyy HH:mm")}),I===0&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-primary-100 text-primary-700 rounded-full",children:"Latest"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(_i,{size:16,className:"text-primary-400 flex-shrink-0"}),n.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[P.previous_owner&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-sm text-primary-600 truncate",children:P.previous_owner}),n.jsx(Pp,{size:14,className:"text-primary-400 flex-shrink-0"})]}),n.jsx("span",{className:"text-sm font-medium text-primary-900 truncate",children:P.assigned_to})]})]}),P.transfer_location&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ea,{size:16,className:"text-primary-400 flex-shrink-0"}),n.jsx("span",{className:"text-sm font-medium text-primary-900 truncate",children:P.transfer_location})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[P.transfer_department&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Qo,{size:14,className:"text-primary-400"}),n.jsx("span",{className:"text-primary-600",children:"Department:"}),n.jsx("span",{className:"text-primary-900 font-medium",children:P.transfer_department})]}),P.transfer_room_or_floor&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ea,{size:14,className:"text-primary-400"}),n.jsx("span",{className:"text-primary-600",children:"Room/Floor:"}),n.jsx("span",{className:"text-primary-900 font-medium",children:P.transfer_room_or_floor})]})]}),P.transfer_reason&&n.jsx("div",{className:"mt-3 p-3 bg-primary-25 rounded-md border border-primary-100",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(Ya,{size:14,className:"text-primary-400 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-primary-600 font-medium",children:"Reason:"}),n.jsx("p",{className:"text-sm text-primary-900 mt-1",children:P.transfer_reason})]})]})})]})]},P.id)),o.length>3&&n.jsx("div",{className:"mt-6 pt-4 border-t border-primary-100 text-center",children:n.jsx(Be,{variant:"ghost",size:"sm",onClick:()=>k(!_),className:"text-primary-600 hover:text-primary-700",children:_?"Show Less":`View ${o.length-3} More Transfer${o.length-3!==1?"s":""}`})})]})]})}),n.jsx(it,{className:"bg-white border border-gray-200 shadow-sm",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"pb-2 mb-4 text-lg font-semibold text-gray-900 border-b border-gray-100",children:"Transfer Information"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["New Responsible Officer"," ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(wt,{value:S.assignedTo,onChange:P=>A("assignedTo",P.target.value),placeholder:"Enter new responsible officer",className:"w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Transfer Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(wt,{type:"date",value:S.transferDate,onChange:P=>A("transferDate",P.target.value),className:"w-full"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Transfer Reason"}),n.jsx(wt,{value:S.transferReason,onChange:P=>A("transferReason",P.target.value),placeholder:"Reason for transfer",className:"w-full"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Transfer Department"}),n.jsx(wt,{value:S.transferDepartment,onChange:P=>A("transferDepartment",P.target.value),placeholder:"Target department",className:"w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Transfer Location"}),n.jsx(wt,{value:S.transferLocation,onChange:P=>A("transferLocation",P.target.value),placeholder:"Target location",className:"w-full"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Transfer Room/Floor"}),n.jsx(wt,{value:S.transferRoomOrFloor,onChange:P=>A("transferRoomOrFloor",P.target.value),placeholder:"Room or floor in new location",className:"w-full"})]})]})]})}),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsxs(Be,{variant:"primary",onClick:C,disabled:x||!S.assignedTo.trim()||!S.transferDate.trim(),className:"px-8 py-2",children:[x&&n.jsx(N,{}),"Confirm Transfer"]})})]})}),y&&n.jsx(Tg,{message:"The office equipment transfer was completed successfully.",onClose:O})]})},Ghe=()=>{const e=Vr(),{ictAssets:t,fetchIctAssets:r,isLoading:s}=Bp(),[a,i]=U.useState(1),[o]=U.useState(10),[l,c]=U.useState(!1),[d,u]=U.useState({});U.useEffect(()=>{Ng("ICT_ASSETS","ICT Assets",{assetCount:(t==null?void 0:t.length)||0}),r()},[]);const p=U.useMemo(()=>{if(!t||t.length===0)return[];const T=Array.from(new Set(t.map(N=>N.asset_condition).filter(Boolean))).sort(),O=Array.from(new Set(t.map(N=>N.current_location).filter(Boolean))).sort(),A=Array.from(new Set(t.map(N=>N.make_model).filter(Boolean))).sort(),C=Array.from(new Set(t.map(N=>N.delivery_installation_date).filter(Boolean).map(N=>new Date(N).getFullYear().toString()))).sort((N,E)=>Number.parseInt(E)-Number.parseInt(N));return[{key:"condition",label:"Condition",options:T},{key:"location",label:"Location",options:O},{key:"makeModel",label:"Make/Model",options:A},{key:"year",label:"Acquisition Year",options:C}]},[t]),x=U.useMemo(()=>t?t.filter(T=>{if(d.condition&&T.asset_condition!==d.condition||d.location&&T.current_location!==d.location||d.makeModel&&T.make_model!==d.makeModel)return!1;if(d.year&&T.delivery_installation_date){if(new Date(T.delivery_installation_date).getFullYear().toString()!==d.year)return!1}else if(d.year&&!T.delivery_installation_date)return!1;return!0}):[],[t,d]),f=U.useMemo(()=>{const T=x.length,O=x.filter(Y=>{var te;return((te=Y.asset_condition)==null?void 0:te.toLowerCase())==="new"}).length,A=x.filter(Y=>{var te;return((te=Y.asset_condition)==null?void 0:te.toLowerCase())==="good"}).length,C=x.filter(Y=>{var te;return((te=Y.asset_condition)==null?void 0:te.toLowerCase())==="needs replacement"}).length,N=x.reduce((Y,te)=>Y+(Number.parseFloat(String(te.net_book_value))||0),0),E=new Date;E.setDate(E.getDate()-7),x.filter(Y=>Y.delivery_installation_date?new Date(Y.delivery_installation_date)>=E:!1).length;const z=8.2,P=12.5,I=-3.2,W=15.8,Z=(Y,te)=>Array.from({length:7},(ie,le)=>{const se=(Math.random()-.5)*te;return Math.max(0,Y+se)});return{total:{value:T,trend:z,subtitle:`Ksh ${N.toLocaleString()} total value`,sparkline:Z(T,T*.1)},new:{value:O,trend:P,subtitle:`${T>0?(O/T*100).toFixed(1):0}% of total assets`,sparkline:Z(O,O*.2)},good:{value:A,trend:I,subtitle:`${T>0?(A/T*100).toFixed(1):0}% of total assets`,sparkline:Z(A,A*.15)},needsReplacement:{value:C,trend:W,subtitle:C>0?`${C} require immediate attention`:"All assets in good condition",sparkline:Z(C,C*.3)}}},[x]),y=Object.values(d).some(T=>T),v=(T,O)=>{u(A=>({...A,[T]:O})),i(1)},_=()=>{u({}),i(1)},k=[{header:"#",accessor:(T,O)=>O!==void 0?(a-1)*o+O+1:x.indexOf(T)+1,sortable:!1},{header:"Asset Description",accessor:"asset_description",sortable:!0,cell:T=>n.jsx("div",{className:"max-w-xs truncate",title:T,children:T||"N/A"})},{header:"Tag Number",accessor:"tag_number",sortable:!0,cell:T=>T||"N/A"},{header:"Serial Number",accessor:"serial_number",sortable:!0,cell:T=>T||"N/A"},{header:"Make/Model",accessor:"make_model",sortable:!0,cell:T=>T||"N/A"},{header:"Current Location",accessor:"current_location",sortable:!0,cell:T=>T||"N/A"},{header:"Condition",accessor:"asset_condition",sortable:!0,cell:T=>{const O=A=>{switch(A==null?void 0:A.toLowerCase()){case"new":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"worn":return"bg-yellow-100 text-yellow-800";case"needs replacement":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return T?n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O(T)}`,children:T}):"N/A"}},{header:"Purchase Amount",accessor:"purchase_amount",sortable:!0,cell:T=>T?`Ksh.${T.toLocaleString()}`:"N/A"},{header:"Net Book Value",accessor:"net_book_value",sortable:!0,cell:T=>T?`Ksh.${T.toLocaleString()}`:"N/A"},{header:"Acquisition Date",accessor:"delivery_installation_date",sortable:!0,cell:T=>T?yi(new Date(T),"MMM dd, yyyy"):"N/A"}],S=T=>n.jsxs("div",{className:"flex space-x-1 sm:space-x-2",children:[n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-blue-600 rounded transition-colors hover:text-blue-800 hover:bg-blue-100",title:"View Item Details",onClick:O=>{O.stopPropagation(),e(`/categories/ict-assets/${T.id}`)},children:n.jsx(Xl,{size:16,className:"sm:w-4 sm:h-4"})}),n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-green-600 rounded transition-colors hover:text-green-800 hover:bg-green-100",title:"Edit Item",onClick:O=>{O.stopPropagation(),e(`/categories/ict-assets/${T.id}/edit`)},children:n.jsx(Iu,{size:16,className:"sm:w-4 sm:h-4"})}),n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1 text-purple-600 rounded transition-colors hover:text-purple-800 hover:bg-purple-100",title:"Transfer Asset",onClick:O=>{O.stopPropagation(),e(`/categories/ict-assets/${T.id}/transfer`)},children:n.jsx(W0,{size:16,className:"sm:w-4 sm:h-4"})})]}),M=({data:T,color:O})=>{const A=Math.max(...T),C=Math.min(...T),N=A-C||1;return n.jsx("div",{className:"flex items-end h-8 gap-0.5",children:T.map((E,z)=>{const P=(E-C)/N*100;return n.jsx("div",{className:`flex-1 ${O} rounded-sm transition-all`,style:{height:`${P}%`,minHeight:"2px"}},z)})})};return n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"sticky top-0 z-50 bg-white border-b border-gray-200 flex flex-row justify-between items-center px-2 py-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(H0,{className:"w-6 h-6 text-purple-600"}),n.jsx("h1",{className:"text-xl font-bold text-gray-900 sm:text-1xl",children:"ICT Assets"}),y&&n.jsxs("span",{className:"px-2 py-1 text-xs font-medium text-purple-600 bg-purple-100 rounded-full",children:[Object.values(d).filter(Boolean).length," filter",Object.values(d).filter(Boolean).length>1?"s":""," ","active"]})]}),n.jsxs("div",{className:"flex flex-row gap-1",children:[n.jsxs("button",{onClick:()=>c(!0),className:`flex flex-col items-center justify-center p-1 rounded-md border text-[10px] font-normal transition-colors w-14 sm:flex-row sm:space-x-1 sm:px-2 sm:py-1 sm:text-xs sm:w-auto ${y?"bg-purple-50 text-purple-700 border-purple-200 hover:bg-purple-100":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[n.jsx(Nn,{className:"w-3 h-3 mb-0.5 sm:mb-0 sm:w-3 sm:h-3"}),n.jsx("span",{className:"sm:block",children:"Filter"})]}),n.jsxs("button",{onClick:()=>e("/categories/ict-assets/new"),className:"flex flex-col items-center justify-center p-1 rounded-md bg-purple-600 text-white hover:bg-purple-700 text-[10px] font-normal transition-colors w-14 sm:flex-row sm:space-x-1 sm:px-2 sm:py-1 sm:text-xs sm:w-auto",children:[n.jsx(ri,{className:"w-3 h-3 mb-0.5 sm:mb-0 sm:w-3 sm:h-3"}),n.jsx("span",{className:"sm:hidden",children:"Add"}),n.jsx("span",{className:"hidden sm:block",children:"Add ICT Asset"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 px-2 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-emerald-500 to-emerald-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(H0,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.total.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.total.trend>=0?"text-green-200":"text-red-200"}`,children:[f.total.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.total.trend),"%"]})]}),n.jsxs("p",{className:"text-sm text-emerald-100 mb-3",children:[y?"Filtered":"Total"," Assets"]}),n.jsx("p",{className:"text-xs text-emerald-200 mb-2",children:f.total.subtitle}),n.jsx(M,{data:f.total.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-green-500 to-green-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(la,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.new.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.new.trend>=0?"text-green-200":"text-red-200"}`,children:[f.new.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.new.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-green-100 mb-3",children:"New Condition"}),n.jsx("p",{className:"text-xs text-green-200 mb-2",children:f.new.subtitle}),n.jsx(M,{data:f.new.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-500 to-blue-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(la,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.good.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.good.trend>=0?"text-green-200":"text-red-200"}`,children:[f.good.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.good.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-blue-100 mb-3",children:"Good Condition"}),n.jsx("p",{className:"text-xs text-blue-200 mb-2",children:f.good.subtitle}),n.jsx(M,{data:f.good.sparkline,color:"bg-white/30"})]})]})}),n.jsx("div",{className:"relative overflow-hidden bg-gradient-to-br from-red-500 to-red-700 rounded-lg shadow-lg transition-transform hover:scale-105",children:n.jsxs("div",{className:"p-6 text-white",children:[n.jsx("div",{className:"absolute top-4 left-4 p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:n.jsx(aa,{className:"w-6 h-6"})}),n.jsxs("div",{className:"mt-16",children:[n.jsxs("div",{className:"flex items-baseline justify-between mb-1",children:[n.jsx("h3",{className:"text-3xl font-bold",children:f.needsReplacement.value}),n.jsxs("div",{className:`flex items-center text-sm font-medium ${f.needsReplacement.trend>=0?"text-red-200":"text-green-200"}`,children:[f.needsReplacement.trend>=0?n.jsx(Fs,{className:"w-4 h-4 mr-1"}):n.jsx(qs,{className:"w-4 h-4 mr-1"}),Math.abs(f.needsReplacement.trend),"%"]})]}),n.jsx("p",{className:"text-sm text-red-100 mb-3",children:"Need Replacement"}),n.jsx("p",{className:"text-xs text-red-200 mb-2",children:f.needsReplacement.subtitle}),n.jsx(M,{data:f.needsReplacement.sparkline,color:"bg-white/30"})]})]})})]}),n.jsx("div",{className:"px-3 sm:px-2",children:s?n.jsxs("div",{className:"flex justify-center items-center py-8 space-x-2 text-gray-500",children:[n.jsxs("svg",{className:"w-5 h-5 text-gray-500 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),n.jsx("span",{className:"text-sm sm:text-base",children:"Loading ICT assets..."})]}):x.length===0&&t.length>0?n.jsxs(it,{className:"p-6 text-center sm:p-8",children:[n.jsx(Nn,{className:"mx-auto mb-4 w-10 h-10 text-gray-400 sm:w-12 sm:h-12"}),n.jsx("h3",{className:"mb-2 text-base font-medium text-gray-900 sm:text-lg",children:"No assets match your filters"}),n.jsx("p",{className:"mb-4 text-sm text-gray-500 sm:text-base",children:"Try adjusting your filter criteria to see more results."}),n.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2 sm:justify-center",children:[n.jsx(Be,{variant:"secondary",onClick:_,className:"w-full sm:w-auto",children:"Clear Filters"}),n.jsx(Be,{variant:"primary",className:"w-full bg-purple-600 hover:bg-purple-700 sm:w-auto",onClick:()=>c(!0),children:"Adjust Filters"})]})]}):t.length===0?n.jsxs(it,{className:"p-6 text-center sm:p-8",children:[n.jsx(H0,{className:"mx-auto mb-4 w-10 h-10 text-gray-400 sm:w-12 sm:h-12"}),n.jsx("h3",{className:"mb-2 text-base font-medium text-gray-900 sm:text-lg",children:"No ICT assets found"}),n.jsx("p",{className:"mb-4 text-sm text-gray-500 sm:text-base",children:"Get started by adding your first ICT asset."}),n.jsx(Be,{variant:"primary",className:"w-full bg-purple-600 hover:bg-purple-700 sm:w-auto",leftIcon:n.jsx(ri,{size:16}),onClick:()=>e("/categories/ict-assets/new"),children:"Add ICT Asset"})]}):n.jsx(it,{className:"overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx(r0,{data:x,columns:k,keyField:"id",onRowClick:T=>e(`/categories/ict-assets/${T.id}`),actions:S,pagination:!0,pageSize:o,currentPage:a,onPageChange:i,className:"min-w-full"})})})}),n.jsx(Yh,{isOpen:l,onClose:()=>c(!1),filterOptions:p,activeFilters:d,onFilterChange:v,onClearAll:_,hasActiveFilters:y,filteredData:x,columns:k.map(T=>({header:T.header,accessor:(typeof T.accessor=="function",T.accessor),cell:T.cell})),exportTitle:"ICT Assets"})]})},Od=40,J2=10,qhe=({show:e,data:t,onConfirm:r,onCancel:s,isLoading:a})=>{const[i,o]=U.useState([]),[l,c]=U.useState(null),[d,u]=U.useState(null),[p,x]=U.useState(new Set),[f,y]=U.useState(null),[v,_]=U.useState(0),k=U.useRef(null),S=U.useRef(null),M=U.useRef(null),T=U.useRef([]),O=["serial_number","asset_description","financed_by","purchase_amount","asset_type"],A=[{key:"serial_number",label:"Serial Number *",type:"text"},{key:"asset_description",label:"Asset Description *",type:"text"},{key:"tag_number",label:"Tag Number",type:"text"},{key:"make_model",label:"Make/Model",type:"text"},{key:"financed_by",label:"Financed By *",type:"select",options:["Government","Donor","Internal Funds","Grant","Loan","Other"]},{key:"purchase_amount",label:"Purchase Amount *",type:"number"},{key:"asset_type",label:"Asset Type *",type:"select",options:["Computer","Printer","Scanner","Server","Network Equipment","Telephone","Projector","Other"]},{key:"current_location",label:"Current Location",type:"text"},{key:"delivery_installation_date",label:"Delivery Date",type:"date"},{key:"notes",label:"Notes",type:"text"}];U.useEffect(()=>{t!==T.current&&(o([...t]),x(new Set),y(null),_(0),T.current=t)},[t]),U.useEffect(()=>{M.current&&(M.current.focus(),"select"in M.current&&M.current.select())},[l,d]);const{startIndex:C,endIndex:N,paddingTop:E,paddingBottom:z}=U.useMemo(()=>{if(!k.current||i.length===0)return{startIndex:0,endIndex:0,paddingTop:0,paddingBottom:0};const K=k.current.clientHeight;i.length*Od;const ae=Math.ceil(K/Od),ge=k.current.scrollTop;let he=Math.max(0,Math.floor(ge/Od)-J2),ke=Math.min(i.length,he+ae+J2*2);return he=Math.max(0,he),ke=Math.min(i.length,ke),{startIndex:he,endIndex:ke,paddingTop:he*Od,paddingBottom:(i.length-ke)*Od}},[v,i.length]);U.useCallback(()=>{k.current&&_(k.current.scrollTop)},[]),U.useEffect(()=>{const K=k.current;if(!K)return;let ae;const ge=()=>{cancelAnimationFrame(ae),ae=requestAnimationFrame(()=>{_(K.scrollTop)})};return K.addEventListener("scroll",ge,{passive:!0}),()=>{K.removeEventListener("scroll",ge),cancelAnimationFrame(ae)}},[]);const P=U.useCallback(K=>{if(!e||l!==null||i.length===0||!f)return;const{row:ae,col:ge}=f,he=i.length-1;let ke=ae,Ae=ge;switch(K.key){case"ArrowUp":K.preventDefault(),ke=Math.max(0,ae-1);break;case"ArrowDown":K.preventDefault(),ke=Math.min(he,ae+1);break;case"ArrowLeft":K.preventDefault(),Ae=Math.max(1,ge-1);break;case"ArrowRight":K.preventDefault(),Ae=Math.min(A.length,ge+1);break;case"Enter":K.preventDefault(),c(ae),u(A[ge-1].key);return;case" ":K.preventDefault(),x(fe=>{const ht=new Set(fe);return ht.has(ae)?ht.delete(ae):ht.add(ae),ht});return;default:return}y({row:ke,col:Ae});const We=k.current;if(We){const fe=ke*Od,ht=fe+Od,De=We.scrollTop,Ee=De+We.clientHeight;fe<De?We.scrollTop=fe-J2*Od:ht>Ee&&(We.scrollTop=ht-We.clientHeight+J2*Od)}},[e,l,i.length,f]);U.useEffect(()=>(e&&document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)),[e,P]);const I=U.useCallback((K,ae,ge)=>{o(he=>{const ke=[...he];return ke[K]={...ke[K],[ae]:ge},ke})},[]),W=U.useCallback((K,ae)=>{c(K),u(ae)},[]),Z=U.useCallback(()=>{c(null),u(null)},[]),Y=U.useCallback(K=>{x(ae=>{const ge=new Set(ae);return ge.has(K)?ge.delete(K):ge.add(K),ge})},[]),te=U.useCallback(()=>{x(new Set(i.map((K,ae)=>ae)))},[i]),ie=U.useCallback(()=>x(new Set),[]),le=U.useCallback(()=>{o(K=>K.filter((ae,ge)=>!p.has(ge))),x(new Set)},[p]),se=U.useCallback(K=>O.every(ae=>{const ge=K[ae];return ge!=null&&String(ge).trim()!==""}),[]),oe=i.filter(se).length,ee=i.length-oe,B=p.size,q=U.useCallback((K,ae,ge)=>{var ht;const he=A[ge-1],ke=he.key,Ae=l===ae&&d===ke,We=O.includes(ke)&&(!K||String(K).trim()===""),fe=(f==null?void 0:f.row)===ae&&(f==null?void 0:f.col)===ge;return Ae?he.type==="select"?n.jsxs("select",{ref:M,value:K||"",onChange:De=>I(ae,ke,De.target.value),onBlur:Z,className:"w-full px-2 py-1 text-xs border border-accent-500 bg-white dark:bg-primary-800 rounded focus:outline-none focus:ring-2 focus:ring-accent-500",children:[n.jsx("option",{value:"",children:"Select..."}),(ht=he.options)==null?void 0:ht.map(De=>n.jsx("option",{value:De,children:De},De))]}):n.jsx("input",{ref:M,type:he.type,value:K||"",onChange:De=>I(ae,ke,De.target.value),onBlur:Z,className:"w-full px-2 py-1 text-xs border border-accent-500 bg-white dark:bg-primary-800 rounded focus:outline-none focus:ring-2 focus:ring-accent-500"}):n.jsxs("div",{tabIndex:0,onFocus:()=>y({row:ae,col:ge}),onClick:()=>W(ae,ke),onKeyDown:De=>{(De.key==="Enter"||De.key===" ")&&(De.preventDefault(),W(ae,ke))},className:`group px-2 py-1 text-xs rounded cursor-pointer transition-colors focus:outline-none focus:ring-2 focus:ring-accent-500 ${fe?"ring-2 ring-accent-500":""} ${We?"bg-error-50 dark:bg-error-950 border border-error-300 dark:border-error-700":"hover:bg-primary-100 dark:hover:bg-primary-700"}`,children:[n.jsx("span",{className:"group-hover:hidden text-primary-900 dark:text-primary-100",children:K||""}),n.jsxs("span",{className:"hidden group-hover:inline-flex items-center gap-1 text-accent-600 dark:text-accent-400",children:[n.jsx(r5,{size:12}),K||"Edit"]})]})},[l,d,f,I,W,Z]);if(!e)return null;const Q=i.slice(C,N);return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white dark:bg-primary-800 rounded-lg shadow-xl w-full max-w-[96vw] max-h-[96vh] flex flex-col overflow-hidden border border-primary-200 dark:border-primary-700",children:[n.jsxs("div",{className:"sticky top-0 z-20 p-5 pb-3 bg-white dark:bg-primary-800 border-b border-primary-200 dark:border-primary-700",children:[n.jsx("h3",{className:"text-lg font-bold text-primary-900 dark:text-primary-50",children:"Confirm ICT Assets Excel Data"}),n.jsx("p",{className:"mt-1 text-xs text-primary-600 dark:text-primary-400",children:"Arrow keys to navigate  Enter to edit  Space to select"}),n.jsxs("div",{className:"flex items-center gap-2 mt-3 p-2 bg-accent-50 dark:bg-accent-950 rounded-md border border-accent-200 dark:border-accent-800",children:[n.jsx(Mu,{size:14,className:"text-accent-600 dark:text-accent-400"}),n.jsx("span",{className:"text-xs text-accent-700 dark:text-accent-300",children:"Required: Serial Number, Asset Description, Financed By, Purchase Amount, Asset Type"})]})]}),B>0&&n.jsxs("div",{className:"sticky top-[104px] z-20 px-5 py-2 bg-primary-100 dark:bg-primary-700 border-b border-primary-200 dark:border-primary-700 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("span",{className:"text-xs font-medium text-primary-700 dark:text-primary-300",children:[B," selected"]}),n.jsxs("button",{onClick:le,className:"flex items-center gap-1.5 px-3 py-1 text-xs font-medium text-error-600 dark:text-error-400 bg-error-50 dark:bg-error-900 rounded-md hover:bg-error-100 dark:hover:bg-error-800 transition-colors",children:[n.jsx(ud,{size:14}),"Delete"]})]}),n.jsx("button",{onClick:ie,className:"text-xs text-primary-600 dark:text-primary-400 hover:underline",children:"Clear"})]}),n.jsx("div",{className:"px-5 pt-3 pb-2",children:n.jsxs("div",{className:"flex gap-4 p-3 bg-primary-50 dark:bg-primary-900 rounded-md border border-primary-200 dark:border-primary-700",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-base font-bold text-success-600 dark:text-success-400 flex items-center gap-1",children:[n.jsx(la,{size:16}),oe]}),n.jsx("div",{className:"text-xs text-primary-600 dark:text-primary-400",children:"Valid"})]}),ee>0&&n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-base font-bold text-error-600 dark:text-error-400 flex items-center gap-1",children:[n.jsx(mp,{size:16}),ee]}),n.jsx("div",{className:"text-xs text-primary-600 dark:text-primary-400",children:"Missing"})]})]})}),n.jsx("div",{ref:k,className:"flex-1 overflow-auto p-5 pt-0",children:n.jsxs("div",{className:"overflow-x-auto rounded-md border border-primary-200 dark:border-primary-700",children:[n.jsxs("table",{ref:S,className:"min-w-full table-auto",children:[n.jsx("thead",{className:"sticky top-0 z-10 bg-primary-50 dark:bg-primary-900 border-b border-primary-200 dark:border-primary-700",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left text-primary-700 dark:text-primary-300 w-12",children:n.jsx("input",{type:"checkbox",checked:B===i.length&&i.length>0,onChange:K=>K.target.checked?te():ie(),className:"w-4 h-4 text-accent-600 rounded border-primary-300 focus:ring-accent-500"})}),A.map(({label:K})=>n.jsx("th",{className:"px-3 py-2 text-xs font-semibold text-left text-primary-700 dark:text-primary-300 whitespace-nowrap",children:K},K))]})}),n.jsxs("tbody",{style:{height:i.length*Od},children:[n.jsx("tr",{children:n.jsx("td",{colSpan:A.length+1,style:{height:E}})}),Q.map((K,ae)=>{const ge=C+ae,he=se(K),ke=p.has(ge);return n.jsxs("tr",{className:`transition-colors ${ke?"bg-accent-50 dark:bg-accent-950":he?"hover:bg-primary-50 dark:hover:bg-primary-900":"bg-error-50 dark:bg-error-950"}`,style:{height:Od},children:[n.jsx("td",{className:"px-3 py-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:ke,onChange:()=>Y(ge),className:"w-4 h-4 text-accent-600 rounded border-primary-300 focus:ring-accent-500"}),n.jsx("button",{onClick:()=>{o(Ae=>Ae.filter((We,fe)=>fe!==ge)),x(Ae=>{const We=new Set(Ae);return We.delete(ge),We})},className:"p-1.5 text-error-600 dark:text-error-400 rounded hover:bg-error-100 dark:hover:bg-error-900",children:n.jsx(ud,{size:14})})]})}),A.map((Ae,We)=>n.jsx("td",{className:"px-3 py-2 min-w-[120px]",children:q(K[Ae.key],ge,We+1)},We))]},ge)}),n.jsx("tr",{children:n.jsx("td",{colSpan:A.length+1,style:{height:z}})})]})]}),i.length===0&&n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-primary-500 dark:text-primary-400",children:[n.jsx(aa,{size:36,className:"mb-2"}),n.jsx("p",{className:"text-sm",children:"No data to display"})]})]})}),n.jsx("div",{className:"sticky bottom-0 p-5 bg-white dark:bg-primary-800 border-t border-primary-200 dark:border-primary-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-xs text-primary-600 dark:text-primary-400",children:[oe," of ",i.length," ready"]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:s,disabled:a,className:"px-4 py-2 text-xs font-medium text-primary-700 dark:text-primary-300 bg-primary-100 dark:bg-primary-700 rounded-md hover:bg-primary-200 dark:hover:bg-primary-600 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsxs("button",{onClick:()=>r(i),disabled:a||ee>0,className:`flex items-center gap-2 px-4 py-2 text-xs font-medium rounded-md transition-colors ${a||ee>0?"bg-primary-300 dark:bg-primary-700 text-primary-500 cursor-not-allowed":"bg-success-600 dark:bg-success-500 text-white hover:bg-success-700 dark:hover:bg-success-400"}`,children:[a&&n.jsx(Jm,{size:14,className:"animate-spin"}),a?"Uploading...":"Confirm Upload"]})]})]})})]})})},Khe=({isEditing:e})=>n.jsxs("div",{className:"mb-8",children:[n.jsxs("nav",{className:"flex items-center space-x-1.5 text-xs text-primary-600 dark:text-primary-400 mb-4",children:[n.jsxs(Lr,{to:"/",className:"flex items-center hover:text-accent-600 dark:hover:text-accent-400 transition-colors",children:[n.jsx(ln,{size:14,className:"mr-1"}),"Home"]}),n.jsx(Dr,{size:14,className:"text-primary-400"}),n.jsxs(Lr,{to:"/asset-categories",className:"flex items-center hover:text-accent-600 dark:hover:text-accent-400 transition-colors",children:[n.jsx(Lc,{size:14,className:"mr-1"}),"Asset Categories"]}),n.jsx(Dr,{size:14,className:"text-primary-400"}),n.jsx(Lr,{to:"/categories/ict-assets",className:"hover:text-accent-600 dark:hover:text-accent-400 transition-colors",children:"ICT Assets"}),n.jsx(Dr,{size:14,className:"text-primary-400"}),n.jsxs("span",{className:"flex items-center font-medium text-primary-900 dark:text-primary-100",children:[n.jsx(eo,{size:14,className:"mr-1"}),e?"Edit Asset":"Add Asset"]})]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-primary-900 dark:text-primary-50",children:e?"Edit ICT Asset":"Add ICT Asset"}),n.jsx("p",{className:"mt-1 text-sm text-primary-600 dark:text-primary-400",children:e?"Update ICT asset information":"Create a new ICT asset entry"})]})]}),Yhe=({formData:e,validationErrors:t,onInputChange:r})=>n.jsx(it,{className:"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-800",children:n.jsxs("div",{className:"p-5",children:[n.jsx("h2",{className:"mb-4 text-sm font-semibold text-primary-800 dark:text-primary-200 uppercase tracking-wide flex items-center",children:n.jsx("span",{className:"mr-2",children:"Basic Information"})}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:["Asset Description ",n.jsx("span",{className:"text-error-600",children:"*"})]}),n.jsx(bo,{value:e.asset_description??"",onChange:s=>r("asset_description",s.target.value),placeholder:"Enter detailed description of the asset",rows:3,className:`w-full text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400 ${t.asset_description?"border-error-500":""}`}),t.asset_description&&n.jsx("p",{className:"mt-1 text-xs text-error-600",children:t.asset_description})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"Make / Model"}),n.jsx(wt,{value:e.make_model??"",onChange:s=>r("make_model",s.target.value),placeholder:"Enter make and model",className:"w-full text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"Financed By"}),n.jsx(wt,{value:e.financed_by??"",onChange:s=>r("financed_by",s.target.value),placeholder:"Enter financing source",className:"w-full text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400"})]})]})]})}),Zhe=({formData:e,validationErrors:t,isValidatingSerial:r,isValidatingTag:s,isGeneratingTag:a,isTagGenerationDisabled:i,onInputChange:o,onGenerateTag:l})=>{var c;return n.jsx(it,{className:"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-800",children:n.jsxs("div",{className:"p-5",children:[n.jsx("h2",{className:"mb-4 text-sm font-semibold text-primary-800 dark:text-primary-200 uppercase tracking-wide",children:"Identification"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:["Serial Number ",n.jsx("span",{className:"text-error-600",children:"*"})]}),n.jsx(wt,{value:e.serial_number??"",onChange:d=>o("serial_number",d.target.value),placeholder:"Enter serial number",className:`w-full text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400 ${t.serial_number?"border-error-500":""}`}),r&&n.jsxs("p",{className:"mt-1 text-xs text-accent-600 flex items-center",children:[n.jsx(Jm,{size:12,className:"mr-1 animate-spin"}),"Validating"]}),t.serial_number&&n.jsx("p",{className:"mt-1 text-xs text-error-600",children:t.serial_number})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:["Tag Number ",n.jsx("span",{className:"text-error-600",children:"*"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(wt,{value:e.tag_number??"",onChange:d=>o("tag_number",d.target.value),placeholder:"Auto-generated or manual",className:`flex-1 text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400 ${t.tag_number?"border-error-500":""}`}),n.jsx(Be,{variant:"secondary",size:"sm",onClick:l,disabled:i,className:"px-2",title:(c=e.serial_number)!=null&&c.trim()?t.serial_number?"Fix serial first":e.tag_number?"Already generated":"Generate tag":"Serial required",children:a?n.jsx(Jm,{size:14,className:"animate-spin"}):n.jsx(Za,{size:14})})]}),s&&n.jsxs("p",{className:"mt-1 text-xs text-accent-600 flex items-center",children:[n.jsx(Jm,{size:12,className:"mr-1 animate-spin"}),"Validating"]}),t.tag_number&&n.jsx("p",{className:"mt-1 text-xs text-error-600",children:t.tag_number}),!t.tag_number&&!s&&n.jsxs("p",{className:"mt-1 text-xs text-primary-500 dark:text-primary-400",children:["Click ",n.jsx(Za,{size:12,className:"inline"})," to auto-generate (e.g. Y-4578A)"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"PV Number"}),n.jsx(wt,{value:e.pv_number??"",onChange:d=>o("pv_number",d.target.value),placeholder:"Enter PV number",className:"w-full text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400"})]})]})]})})},Xhe=({formData:e,onInputChange:t})=>n.jsx(it,{className:"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-800",children:n.jsxs("div",{className:"p-5",children:[n.jsx("h2",{className:"mb-4 text-sm font-semibold text-primary-800 dark:text-primary-200 uppercase tracking-wide",children:"Location Information"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"Original Location"}),n.jsx(wt,{value:e.original_location??"",onChange:r=>t("original_location",r.target.value),placeholder:"Enter original location",className:"w-full text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"Current Location"}),n.jsx(wt,{value:e.current_location??"",onChange:r=>t("current_location",r.target.value),placeholder:"Enter current location",className:"w-full text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400"})]})]})]})}),Jhe=({formData:e,onInputChange:t})=>n.jsx(it,{className:"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-800",children:n.jsxs("div",{className:"p-5",children:[n.jsx("h2",{className:"mb-4 text-sm font-semibold text-primary-800 dark:text-primary-200 uppercase tracking-wide",children:"Financial Information"}),n.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[{label:"Purchase Amount",field:"purchase_amount"},{label:"Depreciation Rate (%)",field:"depreciation_rate"},{label:"Annual Depreciation",field:"annual_depreciation"},{label:"Accumulated Depreciation",field:"accumulated_depreciation"},{label:"Net Book Value",field:"net_book_value"},{label:"Disposal Value",field:"disposal_value"}].map(({label:r,field:s})=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:r}),n.jsx(wt,{type:"number",step:"0.01",value:e[s]??"",onChange:a=>t(s,a.target.value===""?void 0:Number.parseFloat(a.target.value)),placeholder:`Enter ${r.toLowerCase()}`,className:"w-full text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400"})]},s))})]})}),Qhe=({formData:e,onInputChange:t})=>n.jsx(it,{className:"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-800",children:n.jsxs("div",{className:"p-5",children:[n.jsx("h2",{className:"mb-4 text-sm font-semibold text-primary-800 dark:text-primary-200 uppercase tracking-wide",children:"Important Dates"}),n.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[{label:"Delivery / Installation",field:"delivery_installation_date"},{label:"Replacement",field:"replacement_date"},{label:"Disposal",field:"disposal_date"}].map(({label:r,field:s})=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:r}),n.jsx(wt,{type:"date",value:e[s]??"",onChange:a=>t(s,a.target.value||null),className:"w-full text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400"})]},s))})]})}),efe=({formData:e,onInputChange:t})=>n.jsx(it,{className:"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-800",children:n.jsxs("div",{className:"p-5",children:[n.jsx("h2",{className:"mb-4 text-sm font-semibold text-primary-800 dark:text-primary-200 uppercase tracking-wide",children:"Status & Management"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"Asset Condition"}),n.jsxs(Pi,{value:e.asset_condition??"",onChange:r=>t("asset_condition",r.target.value),className:"w-full text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400",children:[n.jsx("option",{value:"",children:"Select condition"}),n.jsx("option",{value:"New",children:"New"}),n.jsx("option",{value:"Good",children:"Good"}),n.jsx("option",{value:"Worn",children:"Worn"}),n.jsx("option",{value:"Needs Replacement",children:"Needs Replacement"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"Responsible Officer"}),n.jsx(wt,{value:e.responsible_officer??"",onChange:r=>t("responsible_officer",r.target.value),placeholder:"Enter responsible officer",className:"w-full text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"Notes"}),n.jsx(bo,{value:e.notes??"",onChange:r=>t("notes",r.target.value),placeholder:"Enter any additional notes",rows:4,className:"w-full text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400"})]})]})]})}),tfe=({isProcessingExcel:e,isUploading:t,uploadProgress:r,excelData:s,fileInputRef:a,onFileUpload:i,onReviewData:o,onResetData:l})=>n.jsx(it,{className:"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-800",children:n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-sm font-semibold text-primary-800 dark:text-primary-200 uppercase tracking-wide",children:"Upload Excel File"}),n.jsxs("div",{className:"flex items-center space-x-1.5",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent-600 animate-pulse"}),n.jsx("span",{className:"text-xs text-primary-500 dark:text-primary-400",children:"Ready to upload"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("input",{ref:a,type:"file",accept:".xlsx,.xls",onChange:i,disabled:e||t,className:"block w-full text-sm file:mr-3 file:py-1.5 file:px-3 file:rounded-md file:border-0 file:text-xs file:font-medium file:bg-accent-50 file:text-accent-700 hover:file:bg-accent-100 disabled:opacity-50 cursor-pointer"}),(e||t)&&n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("div",{className:"flex justify-between text-xs text-primary-600 dark:text-primary-400",children:[n.jsx("span",{children:e?"Processing Excel":"Uploading"}),n.jsxs("span",{children:[Math.round(r),"%"]})]}),n.jsx("div",{className:"w-full h-1.5 bg-primary-200 dark:bg-primary-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-accent-600 transition-all duration-300",style:{width:`${r}%`}})})]}),s.length>0&&!e&&!t&&n.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-success-50 dark:bg-success-950 border border-success-200 dark:border-success-800 rounded-md",children:[n.jsxs("div",{className:"flex items-center space-x-1.5",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-success-600"}),n.jsxs("span",{className:"text-xs text-success-700 dark:text-success-300",children:[s.length," asset",s.length!==1?"s":""," ","ready"]})]}),n.jsx("button",{type:"button",onClick:o,className:"text-xs font-medium text-success-700 dark:text-success-300 hover:underline",children:"Review "})]}),n.jsxs("div",{className:"p-2.5 bg-primary-50 dark:bg-primary-900 border border-primary-200 dark:border-primary-700 rounded-md text-xs text-primary-600 dark:text-primary-400",children:[n.jsx("strong",{className:"font-medium",children:"Excel format:"})," columns like"," ",n.jsx("code",{className:"font-mono",children:"Asset Description"}),","," ",n.jsx("code",{className:"font-mono",children:"Serial Number"}),", etc."]})]})]})}),rfe=({isEditing:e,isLoading:t,isSubmitDisabled:r,onCancel:s,onSubmit:a})=>n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-primary-200 dark:border-primary-700",children:[n.jsx(Be,{type:"button",variant:"secondary",size:"sm",onClick:s,className:"px-4",leftIcon:n.jsx(Bs,{size:16}),children:"Cancel"}),n.jsx(Be,{type:"submit",variant:"success",size:"sm",onClick:a,disabled:r||t,isLoading:t,className:"px-5",leftIcon:t?n.jsx(Jm,{size:16,className:"animate-spin"}):n.jsx(bi,{size:16}),children:e?"Update Asset":"Create Asset"})]}),sfe=(e,t)=>{const[r,s]=U.useState({}),[a,i]=U.useState(!1),[o,l]=U.useState(!1),c=U.useCallback(async x=>{var f,y;if(!x.trim()){s(v=>({...v,serial_number:""}));return}i(!0),s(v=>({...v,serial_number:""}));try{const _=(await Pt.post(`https://assets-system-sigma.vercel.app/api/ict-assets/validate-serial${e?`?asset_id=${t}`:""}`,{serial_number:x})).data;_.valid?s(k=>({...k,serial_number:""})):s(k=>({...k,serial_number:_.message||"Serial number already exists in the system"}))}catch(v){console.error("Serial validation error:",v);const _=((y=(f=v.response)==null?void 0:f.data)==null?void 0:y.detail)||v.message||"Failed to validate serial number";s(k=>({...k,serial_number:_}))}finally{i(!1)}},[e,t]),d=U.useCallback(async x=>{var f,y;if(!x.trim()){s(v=>({...v,tag_number:""}));return}l(!0);try{const _=(await Pt.post(`https://assets-system-sigma.vercel.app/api/ict-assets/validate-tag${e?`?asset_id=${t}`:""}`,{tag_number:x})).data;_.valid?s(k=>({...k,tag_number:""})):s(k=>({...k,tag_number:_.message}))}catch(v){console.error("Tag validation error:",v);const _=((y=(f=v.response)==null?void 0:f.data)==null?void 0:y.detail)||v.message||"Failed to validate tag number";s(k=>({...k,tag_number:_}))}finally{l(!1)}},[e,t]);return{validationErrors:r,setValidationErrors:s,isValidatingSerial:a,isValidatingTag:o,validateSerialNumber:c,validateTagNumber:d,validateForm:x=>{var y,v,_;const f={};return(y=x.asset_description)!=null&&y.trim()||(f.asset_description="Asset description is required"),(v=x.serial_number)!=null&&v.trim()||(f.serial_number="Serial number is required"),(_=x.tag_number)!=null&&_.trim()||(f.tag_number="Tag number is required"),f},clearFieldError:x=>{s(f=>({...f,[x]:""}))}}},afe=()=>{const[e,t]=U.useState([]),[r,s]=U.useState(!1),[a,i]=U.useState(!1),[o,l]=U.useState(0),[c,d]=U.useState(!1),u=U.useRef(null),p=U.useCallback(y=>{var k;const v=(k=y.target.files)==null?void 0:k[0];if(!v)return;d(!0),l(0);const _=new FileReader;_.onload=S=>{var E;const M=setInterval(()=>{l(z=>z>=90?(clearInterval(M),90):z+10)},100),T=new Uint8Array((E=S.target)==null?void 0:E.result),O=Np(T,{type:"array"}),A=O.Sheets[O.SheetNames[0]],N=Df.sheet_to_json(A,{defval:""}).map(z=>({asset_description:z["Asset Description"]||z.asset_description||"",financed_by:z["Financed By"]||z.financed_by||"",serial_number:z["Serial Number"]||z.serial_number||"",tag_number:z["Tag Number"]||z.tag_number||"",make_model:z["Make/Model"]||z.make_model||"",purchase_amount:Number.parseFloat(z["Purchase Amount"]||z.purchase_amount||"0")||0,pv_number:z["PV Number"]||z.pv_number||void 0,asset_type:z["Asset Type"]||z.asset_type||void 0,specifications:z.Specifications||z.specifications||void 0,software_licenses:z["Software Licenses"]||z.software_licenses||void 0,ip_address:z["IP Address"]||z.ip_address||void 0,mac_address:z["MAC Address"]||z.mac_address||void 0,operating_system:z["Operating System"]||z.operating_system||void 0,original_location:z["Original Location"]||z.original_location||void 0,current_location:z["Current Location"]||z.current_location||void 0,responsible_officer:z["Responsible Officer"]||z.responsible_officer||void 0,delivery_installation_date:z["Delivery/Installation Date"]||z.delivery_installation_date||void 0,replacement_date:z["Replacement Date"]||z.replacement_date||void 0,disposal_date:z["Disposal Date"]||z.disposal_date||void 0,depreciation_rate:Number.parseFloat(z["Depreciation Rate"]||z.depreciation_rate||"0")||void 0,annual_depreciation:Number.parseFloat(z["Annual Depreciation"]||z.annual_depreciation||"0")||void 0,accumulated_depreciation:Number.parseFloat(z["Accumulated Depreciation"]||z.accumulated_depreciation||"0")||void 0,net_book_value:Number.parseFloat(z["Net Book Value"]||z.net_book_value||"0")||void 0,disposal_value:Number.parseFloat(z["Disposal Value"]||z.disposal_value||"0")||void 0,asset_condition:z["Asset Condition"]||z.asset_condition||void 0,notes:z.Notes||z.notes||void 0,previous_owner:z["Previous Owner"]||z.previous_owner||void 0,transfer_department:z["Transfer Department"]||z.transfer_department||void 0,transfer_location:z["Transfer Location"]||z.transfer_location||void 0,transfer_room_or_floor:z["Transfer Room/Floor"]||z.transfer_room_or_floor||void 0,transfer_reason:z["Transfer Reason"]||z.transfer_reason||void 0}));l(100),setTimeout(()=>{d(!1),l(0),t(N),s(!0)},500)},_.readAsArrayBuffer(v)},[]),x=U.useCallback(async y=>{var _,k;if(a)return;i(!0),l(0);const v=y||e;if(v.length===0){Ke.error("No data found in the Excel file."),i(!1),l(0);return}try{const S=v.map(A=>A.serial_number);l(20);const M=await Pt.post("https://assets-system-sigma.vercel.app/api/ict-assets/check-serial-numbers",{serialNumbers:S},{withCredentials:!0});l(40);const T=M.data.existing_serial_numbers||[],O=v.filter(A=>!T.includes(A.serial_number));if(O.length>0){l(60);const A=Pt.create();return A.interceptors.request.use(C=>(C.onUploadProgress=N=>{if(N.total){const E=Math.round(N.loaded*100/N.total);l(60+E*.3)}},C)),await A.post("https://assets-system-sigma.vercel.app/api/ict-assets/upload-excel-data",{data:O},{withCredentials:!0}),l(100),Ke.success("Excel data uploaded successfully!"),{success:!0}}else return l(100),Ke.error("All assets in the Excel file already exist."),{success:!1}}catch(S){const M=((k=(_=S.response)==null?void 0:_.data)==null?void 0:k.message)||"Failed to upload excel data";return Ke.error(M),l(0),{success:!1}}finally{i(!1)}},[e,a]);return{excelData:e,showExcelModal:r,isUploading:a,uploadProgress:o,isProcessingExcel:c,fileInputRef:u,handleFileUpload:p,handleExcelSubmit:x,setShowExcelModal:s,resetExcelData:()=>{t([]),s(!1),l(0),u.current&&(u.current.value="")}}},T8=()=>{var K;const e=Vr(),{id:t}=si(),r=!!(t&&t!=="new"),{createIctAsset:s,updateIctAsset:a,getIctAssetById:i,isLoading:o}=Bp(),{validationErrors:l,setValidationErrors:c,isValidatingSerial:d,isValidatingTag:u,validateSerialNumber:p,validateTagNumber:x,validateForm:f,clearFieldError:y}=sfe(r,t),{excelData:v,showExcelModal:_,isUploading:k,uploadProgress:S,isProcessingExcel:M,fileInputRef:T,handleFileUpload:O,handleExcelSubmit:A,setShowExcelModal:C,resetExcelData:N}=afe(),[E,z]=U.useState(!1),[P,I]=U.useState(!1),[W,Z]=U.useState({asset_description:"",financed_by:"",serial_number:"",tag_number:"",make_model:"",delivery_installation_date:"",pv_number:"",original_location:"",current_location:"",replacement_date:"",purchase_amount:void 0,depreciation_rate:void 0,annual_depreciation:void 0,accumulated_depreciation:void 0,net_book_value:void 0,disposal_date:"",disposal_value:"",responsible_officer:"",asset_condition:"New",notes:"",asset_type:void 0,specifications:void 0,software_licenses:void 0,ip_address:void 0,mac_address:void 0,operating_system:void 0,previous_owner:void 0,transfer_department:void 0,transfer_location:void 0,transfer_room_or_floor:void 0,transfer_reason:void 0});U.useEffect(()=>{r&&t&&Y()},[t,r]);const Y=async()=>{if(t)try{const ae=await i(t);ae&&Z(ae)}catch{Ke.error("Failed to load ICT asset"),e("/categories/ict-assets")}},te=U.useCallback((ae,ge)=>{if(Z(he=>({...he,[ae]:ge})),y(ae),ae==="serial_number"&&typeof ge=="string"){const he=setTimeout(()=>{p(ge)},500);return()=>clearTimeout(he)}if(ae==="tag_number"&&typeof ge=="string"){const he=setTimeout(()=>{x(ge)},500);return()=>clearTimeout(he)}},[y,p,x]),ie=async()=>{var ae,ge,he,ke,Ae;if(!((ae=W.serial_number)!=null&&ae.trim())){Ke.error("Please provide a serial number before generating a tag");return}if(l.serial_number){Ke.error("Please resolve serial number validation errors before generating a tag");return}if((ge=W.tag_number)!=null&&ge.trim()){Ke.error("A tag has already been generated for this asset");return}z(!0),y("tag_number");try{const fe=(await Pt.post("https://assets-system-sigma.vercel.app/api/ict-assets/generate-tag",{serial_number:W.serial_number})).data;te("tag_number",fe.tag_number),Ke.success(fe.message||"Tag number generated successfully")}catch(We){console.error("Tag generation error:",We);const fe=((ke=(he=We.response)==null?void 0:he.data)==null?void 0:ke.detail)||We.message||"Failed to generate tag number";Ke.error(fe),((Ae=We.response)==null?void 0:Ae.status)===401&&e("/login")}finally{z(!1)}},le=async ae=>{ae.preventDefault();const ge=f(W);if(Object.keys(ge).length>0){c(ge),Ke.error("Please fix the validation errors before submitting");return}if(Object.values(l).some(he=>he!=="")){Ke.error("Please fix the validation errors before submitting");return}I(!0)},se=async()=>{try{const ae={...W,delivery_installation_date:W.delivery_installation_date||null,replacement_date:W.replacement_date||null,disposal_date:W.disposal_date||null};r&&t?(await a(t,ae),Ke.success("ICT asset updated successfully")):(await s(ae),Ke.success("ICT asset created successfully")),I(!1),e("/categories/ict-assets")}catch{Ke.error(r?"Failed to update ICT asset":"Failed to create ICT asset"),I(!1)}},oe=()=>{I(!1)},ee=async ae=>{(await A(ae)).success&&setTimeout(()=>{N(),e("/categories/ict-assets")},1500)},B=Object.values(l).some(ae=>ae!==""),q=E||!((K=W.serial_number)!=null&&K.trim())||!!l.serial_number||!!W.tag_number,Q=o||B||d||u;return n.jsx("div",{className:"min-h-screen bg-primary-50 dark:bg-primary-900 py-6",children:n.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[n.jsx(Khe,{isEditing:r}),n.jsxs("form",{onSubmit:le,className:"space-y-6",children:[n.jsx(Yhe,{formData:W,validationErrors:l,onInputChange:te}),n.jsx(Zhe,{formData:W,validationErrors:l,isValidatingSerial:d,isValidatingTag:u,isGeneratingTag:E,isTagGenerationDisabled:q,onInputChange:te,onGenerateTag:ie}),n.jsx(Xhe,{formData:W,onInputChange:te}),n.jsx(Jhe,{formData:W,onInputChange:te}),n.jsx(Qhe,{formData:W,onInputChange:te}),n.jsx(efe,{formData:W,onInputChange:te}),n.jsx(tfe,{isProcessingExcel:M,isUploading:k,uploadProgress:S,excelData:v,fileInputRef:T,onFileUpload:O,onReviewData:()=>C(!0),onResetData:N}),n.jsx(rfe,{isEditing:r,isLoading:o,isSubmitDisabled:Q,onCancel:()=>e("/categories/ict-assets"),onSubmit:le})]}),n.jsx(QM,{isOpen:P,onClose:oe,onConfirm:se,title:r?"Confirm Asset Update":"Confirm Asset Creation",message:r?"Are you sure you want to update this ICT asset? This action will modify the existing asset record with the current form data.":"Are you sure you want to create this ICT asset? This action will add a new asset record to the system.",confirmText:r?"Update Asset":"Create Asset",cancelText:"Cancel",isLoading:o}),n.jsx(qhe,{show:_,data:v,onConfirm:ee,onCancel:N,isLoading:k})]})})},nfe=({assetId:e,assetDescription:t,isOpen:r,onClose:s})=>{const[a,i]=U.useState([]),[o,l]=U.useState(!1),[c,d]=U.useState(null),[u,p]=U.useState(""),[x,f]=U.useState("all"),[y,v]=U.useState("all"),[_,k]=U.useState(!1),[S,M]=U.useState(new Set);U.useEffect(()=>{if(!r||!e)return;(async()=>{var I;try{l(!0),d(null);const W=localStorage.getItem("auth-storage"),Z=W?JSON.parse(W):null,Y=(I=Z==null?void 0:Z.state)==null?void 0:I.token;if(!Y)throw new Error("No authentication token found");const te=await fetch(`${Bt}/ict-assets/${e}/transfers`,{headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"}});if(!te.ok)throw new Error("Failed to fetch transfer history");const ie=await te.json();i(ie)}catch(W){console.error("Error fetching transfer history:",W),d(W instanceof Error?W.message:"Failed to load transfer history")}finally{l(!1)}})()},[e,r]);const T=U.useMemo(()=>{let P=[...a];if(u.trim()){const I=u.toLowerCase().trim();P=P.filter(W=>{var Z,Y,te,ie,le,se;return((Z=W.assigned_to)==null?void 0:Z.toLowerCase().includes(I))||((Y=W.previous_owner)==null?void 0:Y.toLowerCase().includes(I))||((te=W.transfer_location)==null?void 0:te.toLowerCase().includes(I))||((ie=W.transfer_department)==null?void 0:ie.toLowerCase().includes(I))||((le=W.transfer_reason)==null?void 0:le.toLowerCase().includes(I))||((se=W.approved_by)==null?void 0:se.toLowerCase().includes(I))})}if(x!=="all"&&(P=P.filter(I=>(I.status||"pending approval").toLowerCase()===x.toLowerCase())),y!=="all"){const I=new Date;I.setHours(23,59,59,999),P=P.filter(W=>{const Z=new Date(W.transfer_date);switch(y){case"today":const Y=new Date;Y.setHours(0,0,0,0);const te=new Date;return te.setHours(23,59,59,999),Z>=Y&&Z<=te;case"week":const ie=new Date(I);return ie.setDate(ie.getDate()-7),ie.setHours(0,0,0,0),Z>=ie;case"month":const le=new Date(I);return le.setMonth(le.getMonth()-1),le.setHours(0,0,0,0),Z>=le;case"year":const se=new Date(I);return se.setFullYear(se.getFullYear()-1),se.setHours(0,0,0,0),Z>=se;default:return!0}})}return P.sort((I,W)=>new Date(W.transfer_date).getTime()-new Date(I.transfer_date).getTime())},[a,u,x,y]);if(!r)return null;const O=P=>{switch(P==null?void 0:P.toLowerCase()){case"approved":return n.jsx(la,{size:12,className:"text-success-600 dark:text-success-400"});case"pending approval":return n.jsx(ei,{size:12,className:"text-warning-600 dark:text-warning-400"});default:return n.jsx(ei,{size:12,className:"text-primary-500 dark:text-primary-400"})}},A=P=>{switch(P==null?void 0:P.toLowerCase()){case"approved":return"bg-success-50 text-success-700 border border-success-200 dark:bg-success-900/30 dark:text-success-300 dark:border-success-700";case"pending approval":return"bg-warning-50 text-warning-700 border border-warning-200 dark:bg-warning-900/30 dark:text-warning-300 dark:border-warning-700";default:return"bg-primary-50 text-primary-700 border border-primary-200 dark:bg-primary-900/30 dark:text-primary-300 dark:border-primary-700"}},C=()=>{p(""),f("all"),v("all"),k(!1)},N=P=>{const I=new Set(S);I.has(P)?I.delete(P):I.add(P),M(I)},E=P=>S.has(P),z=P=>P&&P.length>50;return n.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black/50 p-2 pt-2 pb-2 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white dark:bg-primary-900 rounded-lg shadow-xl w-full max-w-7xl h-[95vh] overflow-hidden flex flex-col border border-primary-200 dark:border-primary-800",children:[n.jsxs("div",{className:"flex items-start justify-between p-3 sm:p-4 border-b border-primary-200 dark:border-primary-800 bg-primary-50 dark:bg-primary-900/50 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-start space-x-2 flex-1 min-w-0",children:[n.jsx("div",{className:"p-1 bg-accent-100 dark:bg-accent-900/30 rounded-md flex-shrink-0",children:n.jsx(bx,{className:"text-accent-600 dark:text-accent-400",size:16})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h2",{className:"text-base sm:text-lg font-semibold text-primary-900 dark:text-primary-100 leading-tight",children:"Transfer History"}),n.jsx("p",{className:"text-xs sm:text-sm text-primary-600 dark:text-primary-400 mt-0.5 break-words",children:t})]})]}),n.jsx(Be,{variant:"ghost",size:"sm",onClick:s,className:"p-1 flex-shrink-0 ml-2 text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-200",children:n.jsx(Bs,{size:16})})]}),n.jsx("div",{className:"p-3 sm:p-4 border-b border-primary-200 dark:border-primary-800 bg-primary-50 dark:bg-primary-900/30 flex-shrink-0",children:n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Lu,{size:16,className:"absolute left-3 top-3 text-primary-400 dark:text-primary-500"}),n.jsx("input",{type:"text",placeholder:"Search transfers...",value:u,onChange:P=>p(P.target.value),className:"w-full pl-10 pr-3 py-2.5 text-sm border border-primary-300 dark:border-primary-700 rounded-md bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100 placeholder-primary-500 dark:placeholder-primary-400 focus:ring-2 focus:ring-accent-500 focus:border-accent-500 dark:focus:ring-accent-400 dark:focus:border-accent-400 transition-colors"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs(Be,{variant:"secondary",size:"sm",onClick:()=>k(!_),className:"flex items-center justify-center space-x-2 px-4 py-2.5 text-primary-700 dark:text-primary-300 hover:bg-primary-100 dark:hover:bg-primary-800/30",children:[n.jsx(Nn,{size:14}),n.jsx("span",{className:"text-sm",children:"Filters"}),n.jsx(q0,{size:14,className:`transition-transform ${_?"rotate-180":""}`})]}),(u||x!=="all"||y!=="all")&&n.jsx(Be,{variant:"ghost",size:"sm",onClick:C,className:"text-sm py-2.5 text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-200",children:"Clear All Filters"})]}),_&&n.jsx("div",{className:"p-3 border border-primary-300 dark:border-primary-700 rounded-md bg-white dark:bg-primary-800",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-2",children:"Status"}),n.jsxs("select",{value:x,onChange:P=>f(P.target.value),className:"w-full px-3 py-2 text-sm border border-primary-300 dark:border-primary-700 rounded-md bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100 focus:ring-2 focus:ring-accent-500 focus:border-accent-500 dark:focus:ring-accent-400 dark:focus:border-accent-400 transition-colors",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"pending approval",children:"Pending Approval"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-2",children:"Date Range"}),n.jsxs("select",{value:y,onChange:P=>v(P.target.value),className:"w-full px-3 py-2 text-sm border border-primary-300 dark:border-primary-700 rounded-md bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100 focus:ring-2 focus:ring-accent-500 focus:border-accent-500 dark:focus:ring-accent-400 dark:focus:border-accent-400 transition-colors",children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"Last 7 Days"}),n.jsx("option",{value:"month",children:"Last 30 Days"}),n.jsx("option",{value:"year",children:"Last Year"})]})]})]})}),n.jsxs("div",{className:"text-xs sm:text-sm text-primary-600 dark:text-primary-400",children:["Showing ",T.length," of ",a.length," transfers"]})]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto bg-white dark:bg-primary-900",children:[o&&n.jsxs("div",{className:"flex justify-center items-center py-12",children:[n.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-t-accent-600 border-primary-200 animate-spin dark:border-t-accent-400 dark:border-primary-700"}),n.jsx("span",{className:"ml-3 text-accent-600 dark:text-accent-400 text-sm",children:"Loading transfer history..."})]}),c&&n.jsxs("div",{className:"py-12 text-center px-4",children:[n.jsx("div",{className:"text-error-600 dark:text-error-400 mb-2 font-medium text-base",children:"Failed to load transfer history"}),n.jsx("div",{className:"text-sm text-primary-500 dark:text-primary-400",children:c})]}),!o&&!c&&T.length===0&&a.length===0&&n.jsxs("div",{className:"py-12 text-center px-4",children:[n.jsx("div",{className:"p-3 bg-primary-100 dark:bg-primary-800 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:n.jsx(Hd,{className:"text-primary-400 dark:text-primary-500",size:32})}),n.jsx("div",{className:"text-primary-700 dark:text-primary-300 mb-2 font-medium text-base",children:"No transfer history found"}),n.jsx("div",{className:"text-sm text-primary-500 dark:text-primary-400",children:"This ICT asset has not been transferred yet."})]}),!o&&!c&&T.length===0&&a.length>0&&n.jsxs("div",{className:"py-12 text-center px-4",children:[n.jsx("div",{className:"p-3 bg-primary-100 dark:bg-primary-800 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:n.jsx(Lu,{className:"text-primary-400 dark:text-primary-500",size:32})}),n.jsx("div",{className:"text-primary-700 dark:text-primary-300 mb-2 font-medium text-base",children:"No transfers match your filters"}),n.jsx("div",{className:"text-sm text-primary-500 dark:text-primary-400",children:"Try adjusting your search or filter criteria."})]}),!o&&!c&&T.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"block sm:hidden",children:n.jsx("div",{className:"p-3 space-y-3",children:T.map((P,I)=>n.jsxs("div",{className:`border rounded-lg p-4 ${I===0?"border-accent-300 bg-accent-50 dark:border-accent-700 dark:bg-accent-900/30":"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-900"}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-primary-900 dark:text-primary-100 text-sm",children:yi(new Date(P.transfer_date),"MMM dd, yyyy")}),n.jsx("div",{className:"text-xs text-primary-500 dark:text-primary-400",children:yi(new Date(P.transfer_date),"HH:mm")})]}),n.jsxs("div",{className:"flex flex-col items-end gap-2",children:[n.jsxs("div",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-md border text-xs font-medium ${A(P.status||"pending approval")}`,children:[O(P.status||"pending approval"),n.jsx("span",{children:P.status||"Pending Approval"})]}),I===0&&n.jsx("span",{className:"inline-block px-2 py-0.5 text-xs font-medium bg-accent-100 text-accent-700 rounded-full dark:bg-accent-900/30 dark:text-accent-300",children:"Latest"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(_i,{size:14,className:"text-primary-400 dark:text-primary-500 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[P.previous_owner&&n.jsxs("div",{className:"text-xs text-primary-600 dark:text-primary-400 mb-1",children:[n.jsx("span",{className:"font-medium",children:"From:"})," ",P.previous_owner]}),n.jsxs("div",{className:"text-sm text-primary-900 dark:text-primary-100",children:[n.jsx("span",{className:"font-medium",children:"To:"})," ",P.assigned_to]})]})]}),P.transfer_location&&n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(Ea,{size:14,className:"text-primary-400 dark:text-primary-500 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"text-sm text-primary-900 dark:text-primary-100",children:P.transfer_location}),P.transfer_room_or_floor&&n.jsx("div",{className:"text-xs text-primary-600 dark:text-primary-400",children:P.transfer_room_or_floor})]})]}),P.transfer_department&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Qo,{size:14,className:"text-primary-400 dark:text-primary-500 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-primary-900 dark:text-primary-100",children:P.transfer_department})]}),P.approved_by&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx($1,{size:14,className:"text-success-600 dark:text-success-400 flex-shrink-0"}),n.jsxs("span",{className:"text-sm text-primary-900 dark:text-primary-100",children:[n.jsx("span",{className:"font-medium",children:"Approved by:"})," ",P.approved_by]})]}),P.transfer_reason&&n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(Ya,{size:14,className:"text-primary-400 dark:text-primary-500 mt-0.5 flex-shrink-0"}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsx("div",{className:"text-sm text-primary-900 dark:text-primary-100",children:z(P.transfer_reason)?n.jsxs(n.Fragment,{children:[E(P.id)?P.transfer_reason:`${P.transfer_reason.substring(0,50)}...`,n.jsx("button",{onClick:()=>N(P.id),className:"ml-2 text-accent-600 hover:text-accent-800 dark:text-accent-400 dark:hover:text-accent-300 text-xs font-medium underline",children:E(P.id)?"Read Less":"Read More"})]}):P.transfer_reason})})]})]})]},P.id))})}),n.jsx("div",{className:"hidden sm:block overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-primary-50 dark:bg-primary-900/50 border-b border-primary-200 dark:border-primary-800 sticky top-0",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left font-medium text-primary-700 dark:text-primary-300 min-w-[120px]",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Tu,{size:12,className:"text-primary-500 dark:text-primary-400"}),n.jsx("span",{children:"Date"})]})}),n.jsx("th",{className:"px-4 py-3 text-left font-medium text-primary-700 dark:text-primary-300 min-w-[100px]",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(la,{size:12,className:"text-primary-500 dark:text-primary-400"}),n.jsx("span",{children:"Status"})]})}),n.jsx("th",{className:"px-4 py-3 text-left font-medium text-primary-700 dark:text-primary-300 min-w-[150px]",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(_i,{size:12,className:"text-primary-500 dark:text-primary-400"}),n.jsx("span",{children:"From  To"})]})}),n.jsx("th",{className:"px-4 py-3 text-left font-medium text-primary-700 dark:text-primary-300 min-w-[120px]",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ea,{size:12,className:"text-primary-500 dark:text-primary-400"}),n.jsx("span",{children:"Location"})]})}),n.jsx("th",{className:"px-4 py-3 text-left font-medium text-primary-700 dark:text-primary-300 min-w-[100px]",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Qo,{size:12,className:"text-primary-500 dark:text-primary-400"}),n.jsx("span",{children:"Department"})]})}),n.jsx("th",{className:"px-4 py-3 text-left font-medium text-primary-700 dark:text-primary-300 min-w-[120px]",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx($1,{size:12,className:"text-primary-500 dark:text-primary-400"}),n.jsx("span",{children:"Approved By"})]})}),n.jsx("th",{className:"px-4 py-3 text-left font-medium text-primary-700 dark:text-primary-300 min-w-[200px]",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ya,{size:12,className:"text-primary-500 dark:text-primary-400"}),n.jsx("span",{children:"Reason"})]})})]})}),n.jsx("tbody",{className:"divide-y divide-primary-200 dark:divide-primary-800",children:T.map((P,I)=>n.jsxs("tr",{className:`hover:bg-primary-50 dark:hover:bg-primary-800/30 ${I===0?"bg-accent-50 dark:bg-accent-900/30":""}`,children:[n.jsx("td",{className:"px-4 py-3 text-primary-900 dark:text-primary-100",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-medium",children:yi(new Date(P.transfer_date),"MMM dd, yyyy")}),n.jsx("div",{className:"text-xs text-primary-500 dark:text-primary-400",children:yi(new Date(P.transfer_date),"HH:mm")}),I===0&&n.jsx("span",{className:"inline-block px-2 py-0.5 text-xs font-medium bg-accent-100 text-accent-700 rounded-full dark:bg-accent-900/30 dark:text-accent-300",children:"Latest"})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-md border text-xs font-medium ${A(P.status||"pending approval")}`,children:[O(P.status||"pending approval"),n.jsx("span",{className:"truncate",children:P.status||"Pending Approval"})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"space-y-1",children:[P.previous_owner&&n.jsxs("div",{className:"flex items-center space-x-1 text-primary-600 dark:text-primary-400",children:[n.jsx("span",{className:"text-xs",children:"From:"}),n.jsx("span",{className:"font-medium",children:P.previous_owner})]}),n.jsxs("div",{className:"flex items-center space-x-1 text-primary-900 dark:text-primary-100",children:[n.jsx("span",{className:"text-xs",children:"To:"}),n.jsx("span",{className:"font-medium",children:P.assigned_to})]})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-medium text-primary-900 dark:text-primary-100",children:P.transfer_location||"Not specified"}),P.transfer_room_or_floor&&n.jsx("div",{className:"text-xs text-primary-600 dark:text-primary-400",children:P.transfer_room_or_floor})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"text-primary-900 dark:text-primary-100",children:P.transfer_department||"-"})}),n.jsx("td",{className:"px-4 py-3",children:P.approved_by?n.jsxs("div",{className:"flex items-center space-x-1 text-success-900 dark:text-success-300",children:[n.jsx($1,{size:12,className:"text-success-600 dark:text-success-400"}),n.jsx("span",{className:"font-medium",children:P.approved_by})]}):n.jsx("span",{className:"text-primary-400 dark:text-primary-500 text-xs",children:"-"})}),n.jsx("td",{className:"px-4 py-3",children:P.transfer_reason?n.jsx("div",{className:"max-w-[200px]",children:n.jsx("div",{className:"text-primary-900 dark:text-primary-100",children:z(P.transfer_reason)?n.jsxs(n.Fragment,{children:[E(P.id)?P.transfer_reason:`${P.transfer_reason.substring(0,50)}...`,n.jsx("button",{onClick:()=>N(P.id),className:"ml-2 text-accent-600 hover:text-accent-800 dark:text-accent-400 dark:hover:text-accent-300 text-xs font-medium underline inline-flex items-center",children:E(P.id)?n.jsxs(n.Fragment,{children:[n.jsx(Oy,{size:10,className:"mr-1"}),"Less"]}):n.jsxs(n.Fragment,{children:[n.jsx(q0,{size:10,className:"mr-1"}),"More"]})})]}):P.transfer_reason})}):n.jsx("span",{className:"text-primary-400 dark:text-primary-500 text-xs",children:"-"})})]},P.id))})]})})]})]}),n.jsx("div",{className:"flex justify-end p-3 sm:p-4 border-t border-primary-200 dark:border-primary-800 bg-primary-50 dark:bg-primary-900/30 flex-shrink-0",children:n.jsx(Be,{variant:"secondary",onClick:s,className:"w-full sm:w-auto text-sm py-2.5 px-6 text-primary-700 hover:bg-primary-100 dark:text-primary-300 dark:hover:bg-primary-800/30",children:"Close"})})]})})},ife=()=>{const{id:e}=si(),t=Vr(),[r]=Du(),s=r.get("edit")==="true",{getIctAssetById:a,updateIctAsset:i,selectedIctAsset:o,setSelectedIctAsset:l,isLoading:c,fetchTransferHistory:d,transferHistory:u,isLoadingTransfers:p}=Bp(),[x,f]=U.useState(!1),[y,v]=U.useState(!1);U.useEffect(()=>((async()=>{if(e&&e!=="new")try{const T=await a(e);T&&(l(T),await d(e))}catch(T){console.error("Error loading ICT Asset:",T),Ke.error("Failed to load ICT Asset details"),t("/categories/ict-assets")}else Ke.error("Invalid ICT Asset ID"),t("/categories/ict-assets")})(),()=>l(null)),[e,a,l,t,d]);const _=async()=>{if(o){f(!0);try{await i(o.id,o),Ke.success("ICT Asset updated successfully"),t("/categories/ict-assets")}catch(M){console.error("Error updating ICT Asset:",M),Ke.error("Failed to update ICT Asset")}finally{f(!1)}}},k=()=>{o&&t(`/categories/ict-assets/${o.id}/transfer`)},S=(M,T)=>{if(o){let O=M.target.value;["purchase_amount","depreciation_rate","annual_depreciation","accumulated_depreciation","net_book_value","disposal_value"].includes(T)&&(O=O===""?void 0:Number.parseFloat(O)),l({...o,[T]:O})}};return c?n.jsx("div",{className:"flex justify-center items-center h-48",children:n.jsx("div",{className:"w-6 h-6 rounded-full border-b-2 border-accent-600 animate-spin"})}):o?n.jsxs("div",{className:"min-h-screen bg-primary-50 dark:bg-primary-900",children:[n.jsx("nav",{className:"px-3 py-2 bg-white dark:bg-primary-800 border-b border-primary-200 dark:border-primary-700",children:n.jsxs("div",{className:"flex items-center space-x-1 text-xs text-primary-600 dark:text-primary-400 overflow-x-auto",children:[n.jsxs(Lr,{to:"/",className:"flex items-center whitespace-nowrap hover:text-accent-600 dark:hover:text-accent-400 transition-colors",children:[n.jsx(ln,{size:12,className:"mr-1"}),"Home"]}),n.jsx(Dr,{size:12}),n.jsx(Lr,{to:"/asset-categories",className:"whitespace-nowrap hover:text-accent-600 dark:hover:text-accent-400 transition-colors",children:"Categories"}),n.jsx(Dr,{size:12}),n.jsx(Lr,{to:"/categories/ict-assets",className:"whitespace-nowrap hover:text-accent-600 dark:hover:text-accent-400 transition-colors",children:"ICT Assets"}),n.jsx(Dr,{size:12}),n.jsxs("span",{className:"flex items-center font-medium text-primary-900 dark:text-primary-100 whitespace-nowrap",children:[n.jsx(eo,{size:12,className:"mr-1"}),s?"Edit":"View"]})]})}),n.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-primary-800 border-b border-primary-200 dark:border-primary-700 px-3 py-3 transition-colors duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1.5",onClick:()=>t("/categories/ict-assets"),children:n.jsx(Pa,{size:16,className:"text-primary-600 dark:text-primary-400"})}),n.jsx("h1",{className:"text-lg font-bold text-primary-900 dark:text-primary-50 truncate",children:o.serial_number})]}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx(Be,{variant:"secondary",size:"sm",leftIcon:n.jsx(W0,{size:14}),onClick:k,className:"bg-purple-600 text-white hover:bg-purple-700 text-xs px-2 py-1.5",children:"Transfer"}),s&&n.jsx(Be,{variant:"success",size:"sm",className:"bg-success-600 hover:bg-success-700 text-white text-xs px-2 py-1.5 flex items-center space-x-1",leftIcon:n.jsx(bi,{size:14}),onClick:_,isLoading:x,children:n.jsx("span",{children:x?"Saving...":"Save"})})]})]})}),n.jsxs("div",{className:"px-3 py-4 space-y-4",children:[n.jsx(it,{className:"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-800",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(bx,{size:16,className:"text-accent-600 dark:text-accent-400 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-primary-800 dark:text-primary-200 uppercase tracking-wide",children:"Asset Information"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"Asset Description"}),s?n.jsx("textarea",{value:o.asset_description||"",onChange:M=>S(M,"asset_description"),className:`w-full px-2 py-1.5 text-sm border border-primary-200 dark:border-primary-700 rounded-md
                               bg-primary-50 dark:bg-primary-900 text-primary-900 dark:text-primary-100
                               placeholder:text-primary-500 dark:placeholder:text-primary-500
                               focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400
                               focus:border-accent-500 dark:focus:border-accent-400 transition-all duration-200 min-h-[60px]`}):n.jsx("p",{className:"text-sm text-primary-900 dark:text-primary-100 bg-primary-50 dark:bg-primary-900 p-2 rounded-md border border-primary-200 dark:border-primary-700",children:o.asset_description||"N/A"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[{label:"Make/Model",field:"make_model"},{label:"Serial Number",field:"serial_number"},{label:"Tag Number",field:"tag_number"}].map(({label:M,field:T})=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:M}),s?n.jsx("input",{value:o[T]||"",onChange:O=>S(O,T),className:`w-full px-2 py-1.5 text-sm border border-primary-200 dark:border-primary-700 rounded-md
                                   bg-primary-50 dark:bg-primary-900 text-primary-900 dark:text-primary-100
                                   placeholder:text-primary-500 dark:placeholder:text-primary-500
                                   focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400
                                   focus:border-accent-500 dark:focus:border-accent-400 transition-all duration-200`}):n.jsx("p",{className:"text-sm text-primary-900 dark:text-primary-100 bg-primary-50 dark:bg-primary-900 p-2 rounded-md border border-primary-200 dark:border-primary-700",children:o[T]||"N/A"})]},T))})]})]})}),n.jsx(it,{className:"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-800",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Ag,{size:16,className:"text-success-600 dark:text-success-400 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-primary-800 dark:text-primary-200 uppercase tracking-wide",children:"Financial Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[[{label:"Purchase Amount",field:"purchase_amount"},{label:"Depreciation Rate (%)",field:"depreciation_rate"},{label:"Annual Depreciation",field:"annual_depreciation"}].map(({label:M,field:T})=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:M}),s?n.jsx("input",{type:"number",step:"0.01",value:o[T]||"",onChange:O=>S(O,T),className:`w-full px-2 py-1.5 text-sm border border-primary-200 dark:border-primary-700 rounded-md
                                 bg-primary-50 dark:bg-primary-900 text-primary-900 dark:text-primary-100
                                 focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400
                                 focus:border-accent-500 dark:focus:border-accent-400 transition-all duration-200`}):n.jsx("p",{className:"text-sm text-primary-900 dark:text-primary-100 bg-primary-50 dark:bg-primary-900 p-2 rounded-md border border-primary-200 dark:border-primary-700",children:o[T]?`Ksh. ${o[T].toLocaleString()}`:"N/A"})]},T)),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:["Accumulated Depreciation",n.jsx("span",{className:"text-success-600 dark:text-success-400 text-xs ml-1",children:"(live)"})]}),s?n.jsx("input",{type:"number",step:"0.01",value:o.accumulated_depreciation||"",onChange:M=>S(M,"accumulated_depreciation"),className:`w-full px-2 py-1.5 text-sm border border-primary-200 dark:border-primary-700 rounded-md
                               bg-primary-50 dark:bg-primary-900 text-primary-900 dark:text-primary-100
                               focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400
                               focus:border-accent-500 dark:focus:border-accent-400 transition-all duration-200`}):n.jsx("p",{className:"text-sm text-success-800 dark:text-success-300 bg-success-50 dark:bg-success-950 p-2 rounded-md border border-success-200 dark:border-success-800",children:o.accumulated_depreciation?`Ksh. ${Number(o.accumulated_depreciation).toLocaleString()}`:"N/A"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:["Net Book Value",n.jsx("span",{className:"text-success-600 dark:text-success-400 text-xs ml-1",children:"(live)"})]}),s?n.jsx("input",{type:"number",step:"0.01",value:o.net_book_value||"",onChange:M=>S(M,"net_book_value"),className:`w-full px-2 py-1.5 text-sm border border-primary-200 dark:border-primary-700 rounded-md
                               bg-primary-50 dark:bg-primary-900 text-primary-900 dark:text-primary-100
                               focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400
                               focus:border-accent-500 dark:focus:border-accent-400 transition-all duration-200`}):n.jsx("p",{className:"text-sm text-success-800 dark:text-success-300 bg-success-50 dark:bg-success-950 p-2 rounded-md border border-success-200 dark:border-success-800",children:o.net_book_value?`Ksh. ${Number(o.net_book_value).toLocaleString()}`:"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"Disposal Value"}),s?n.jsx("input",{type:"number",step:"0.01",value:o.disposal_value||"",onChange:M=>S(M,"disposal_value"),className:`w-full px-2 py-1.5 text-sm border border-primary-200 dark:border-primary-700 rounded-md
                               bg-primary-50 dark:bg-primary-900 text-primary-900 dark:text-primary-100
                               focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400
                               focus:border-accent-500 dark:focus:border-accent-400 transition-all duration-200`}):n.jsx("p",{className:"text-sm text-primary-900 dark:text-primary-100 bg-primary-50 dark:bg-primary-900 p-2 rounded-md border border-primary-200 dark:border-primary-700",children:o.disposal_value?`Ksh. ${Number(o.disposal_value).toLocaleString()}`:"N/A"})]})]})]})}),n.jsx(it,{className:"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-800",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Ea,{size:16,className:"text-accent-600 dark:text-accent-400 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-primary-800 dark:text-primary-200 uppercase tracking-wide",children:"Location & Status"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[{label:"Original Location",field:"original_location"},{label:"Current Location",field:"current_location"},{label:"Responsible Officer",field:"responsible_officer"},{label:"Asset Condition",field:"asset_condition",isSelect:!0}].map(({label:M,field:T,isSelect:O})=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:M}),s?O?n.jsxs("select",{value:o[T]||"",onChange:A=>S(A,T),className:`w-full px-2 py-1.5 text-sm border border-primary-200 dark:border-primary-700 rounded-md
                                   bg-primary-50 dark:bg-primary-900 text-primary-900 dark:text-primary-100
                                   focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400
                                   focus:border-accent-500 dark:focus:border-accent-400 transition-all duration-200`,children:[n.jsx("option",{value:"",children:"Select condition"}),n.jsx("option",{value:"New",children:"New"}),n.jsx("option",{value:"Good",children:"Good"}),n.jsx("option",{value:"Worn",children:"Worn"}),n.jsx("option",{value:"Needs Replacement",children:"Needs Replacement"})]}):n.jsx("input",{value:o[T]||"",onChange:A=>S(A,T),className:`w-full px-2 py-1.5 text-sm border border-primary-200 dark:border-primary-700 rounded-md
                                   bg-primary-50 dark:bg-primary-900 text-primary-900 dark:text-primary-100
                                   focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400
                                   focus:border-accent-500 dark:focus:border-accent-400 transition-all duration-200`}):n.jsx("p",{className:"text-sm text-primary-900 dark:text-primary-100 bg-primary-50 dark:bg-primary-900 p-2 rounded-md border border-primary-200 dark:border-primary-700",children:o[T]||"N/A"})]},T))})]})}),n.jsx(it,{className:"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-800",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Ya,{size:16,className:"text-warning-600 dark:text-warning-400 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-primary-800 dark:text-primary-200 uppercase tracking-wide",children:"Additional Details"})]}),n.jsxs("div",{className:"space-y-3",children:[[{label:"Financed By",field:"financed_by"},{label:"PV Number",field:"pv_number"}].map(({label:M,field:T})=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:M}),s?n.jsx("input",{value:o[T]||"",onChange:O=>S(O,T),className:`w-full px-2 py-1.5 text-sm border border-primary-200 dark:border-primary-700 rounded-md
                                 bg-primary-50 dark:bg-primary-900 text-primary-900 dark:text-primary-100
                                 focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400
                                 focus:border-accent-500 dark:focus:border-accent-400 transition-all duration-200`}):n.jsx("p",{className:"text-sm text-primary-900 dark:text-primary-100 bg-primary-50 dark:bg-primary-900 p-2 rounded-md border border-primary-200 dark:border-primary-700",children:o[T]||"N/A"})]},T)),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"Notes"}),s?n.jsx("textarea",{value:o.notes||"",onChange:M=>S(M,"notes"),className:`w-full px-2 py-1.5 text-sm border border-primary-200 dark:border-primary-700 rounded-md
                               bg-primary-50 dark:bg-primary-900 text-primary-900 dark:text-primary-100
                               placeholder:text-primary-500 dark:placeholder:text-primary-500
                               focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400
                               focus:border-accent-500 dark:focus:border-accent-400 transition-all duration-200 min-h-[60px]`}):n.jsx("p",{className:"text-sm text-primary-900 dark:text-primary-100 bg-primary-50 dark:bg-primary-900 p-2 rounded-md border border-primary-200 dark:border-primary-700",children:o.notes||"N/A"})]})]})]})}),n.jsx(it,{className:"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-800",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Tu,{size:16,className:"text-error-600 dark:text-error-400 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-primary-800 dark:text-primary-200 uppercase tracking-wide",children:"Important Dates"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[{label:"Delivery/Installation",field:"delivery_installation_date"},{label:"Replacement Date",field:"replacement_date"},{label:"Disposal Date",field:"disposal_date"}].map(({label:M,field:T})=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:M}),s?n.jsx("input",{type:"date",value:o[T]?new Date(o[T]).toISOString().split("T")[0]:"",onChange:O=>S(O,T),className:`w-full px-2 py-1.5 text-sm border border-primary-200 dark:border-primary-700 rounded-md
                                 bg-primary-50 dark:bg-primary-900 text-primary-900 dark:text-primary-100
                                 focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400
                                 focus:border-accent-500 dark:focus:border-accent-400 transition-all duration-200`}):n.jsx("p",{className:"text-sm text-primary-900 dark:text-primary-100 bg-primary-50 dark:bg-primary-900 p-2 rounded-md border border-primary-200 dark:border-primary-700",children:o[T]?new Date(o[T]).toLocaleDateString():"N/A"})]},T))})]})}),n.jsx(it,{className:"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-800",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Hd,{size:16,className:"text-purple-600 dark:text-purple-400 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-primary-800 dark:text-primary-200 uppercase tracking-wide",children:"Transfer Information"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(W0,{size:12,className:"text-purple-500"}),n.jsx("span",{className:"text-xs text-purple-500 uppercase tracking-wide",children:"Status"})]})]}),!s&&n.jsx("div",{className:"mb-3",children:u&&u.length>0?n.jsx("div",{className:"p-3 bg-purple-50 dark:bg-purple-950 rounded-lg border border-purple-200 dark:border-purple-800 transition-colors duration-200",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(Hd,{size:14,className:"text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-purple-900 dark:text-purple-100 mb-1",children:"Transfer History Available"}),n.jsxs("div",{className:"text-xs text-purple-700 dark:text-purple-300",children:[u.length," transfer",u.length!==1?"s":""," recorded"]}),u[0]&&n.jsxs("div",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:["Latest:"," ",new Date(u[0].transfer_date).toLocaleDateString()]})]})]})}):n.jsx("div",{className:"p-3 bg-primary-50 dark:bg-primary-900 rounded-lg border border-primary-200 dark:border-primary-700",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(to,{size:14,className:"text-primary-400 dark:text-primary-500"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-primary-600 dark:text-primary-400",children:"No Transfer History"}),n.jsx("div",{className:"text-xs text-primary-500 dark:text-primary-500",children:"Asset has not been transferred"})]})]})})}),n.jsx("div",{className:"mb-3",children:n.jsx(Be,{variant:"outline",size:"sm",onClick:()=>v(!0),leftIcon:n.jsx(Hd,{size:14}),disabled:p,className:"w-full border-purple-200 dark:border-purple-700 text-purple-700 dark:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900 text-xs py-2 transition-all duration-200",children:p?"Loading...":"View Transfer History"})}),u&&u.length>0&&u[0]&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-xs font-medium text-primary-600 dark:text-primary-400 uppercase tracking-wide",children:"Latest Transfer Details"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[n.jsxs("div",{className:"p-2 bg-white dark:bg-primary-800 rounded-lg border border-primary-100 dark:border-primary-700",children:[n.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[n.jsx(_i,{size:12,className:"text-primary-500 dark:text-primary-400"}),n.jsx("span",{className:"text-xs text-primary-500 dark:text-primary-400 uppercase tracking-wide",children:"Current Owner"})]}),n.jsx("p",{className:"text-xs font-medium text-primary-900 dark:text-primary-100",children:u[0].assigned_to})]}),u[0].transfer_location&&n.jsxs("div",{className:"p-2 bg-white dark:bg-primary-800 rounded-lg border border-primary-100 dark:border-primary-700",children:[n.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[n.jsx(Ea,{size:12,className:"text-primary-500 dark:text-primary-400"}),n.jsx("span",{className:"text-xs text-primary-500 dark:text-primary-400 uppercase tracking-wide",children:"Location"})]}),n.jsx("p",{className:"text-xs font-medium text-primary-900 dark:text-primary-100",children:u[0].transfer_location})]}),n.jsxs("div",{className:"p-2 bg-white dark:bg-primary-800 rounded-lg border border-primary-100 dark:border-primary-700",children:[n.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[n.jsx(to,{size:12,className:"text-primary-500 dark:text-primary-400"}),n.jsx("span",{className:"text-xs text-primary-500 dark:text-primary-400 uppercase tracking-wide",children:"Transfer Date"})]}),n.jsx("p",{className:"text-xs font-medium text-primary-900 dark:text-primary-100",children:new Date(u[0].transfer_date).toLocaleDateString()})]}),u[0].transfer_department&&n.jsxs("div",{className:"p-2 bg-white dark:bg-primary-800 rounded-lg border border-primary-100 dark:border-primary-700",children:[n.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[n.jsx(Qo,{size:12,className:"text-primary-500 dark:text-primary-400"}),n.jsx("span",{className:"text-xs text-primary-500 dark:text-primary-400 uppercase tracking-wide",children:"Department"})]}),n.jsx("p",{className:"text-xs font-medium text-primary-900 dark:text-primary-100",children:u[0].transfer_department})]})]})]})]})})]}),n.jsx(nfe,{assetId:e||"",assetDescription:(o==null?void 0:o.asset_description)||"Unknown Asset",isOpen:y,onClose:()=>v(!1)})]}):n.jsxs("div",{className:"p-4 text-center",children:[n.jsx("h2",{className:"text-lg font-bold text-primary-900 dark:text-primary-50 mb-3",children:"ICT Asset not found"}),n.jsx(Be,{variant:"secondary",size:"sm",leftIcon:n.jsx(Pa,{size:14}),onClick:()=>t("/categories/ict-assets"),children:"Back to ICT Assets"})]})},ofe=()=>{const{id:e}=si(),t=Vr(),{selectedIctAsset:r,getIctAssetById:s}=Bp(),{csrfToken:a,isAuthenticated:i,checkAuthStatus:o,getCsrfToken:l}=ra(),[c,d]=U.useState(null),[u,p]=U.useState([]),[x,f]=U.useState(!1),[y,v]=U.useState(null),[_,k]=U.useState(!1),[S,M]=U.useState(!1),[T,O]=U.useState(!1),[A,C]=U.useState({previousOwner:"",transferDate:"",transferReason:"",transferDepartment:"",transferLocation:"",transferRoomOrFloor:"",assignedTo:""});U.useEffect(()=>{(async()=>{if(!i&&!await o()){t("/login");return}})()},[i,o,t]),U.useEffect(()=>{(async()=>{if(e){const Y=await s(e);Y&&(d(Y),C(te=>({...te,previousOwner:Y.responsible_officer||"",assignedTo:""})),await N(e))}})()},[e,s]);const N=async Z=>{f(!0),v(null);try{const Y=l(),te=await Pt.get(`${Bt}/ict-assets/${Z}/transfers/`,{withCredentials:!0,headers:Y?{"X-CSRF-Token":Y}:{}});p(te.data)}catch(Y){console.error("Failed to fetch transfer history:",Y),v("Failed to fetch transfer history")}finally{f(!1)}},E=()=>{M(!1),t("/categories/ict-assets")},z=(Z,Y)=>{C(te=>({...te,[Z]:Y}))},P=async()=>{if(!c)return;k(!0);const Z={asset_id:c.id,previous_owner:A.previousOwner,assigned_to:A.assignedTo,transfer_date:A.transferDate,transfer_reason:A.transferReason,transfer_department:A.transferDepartment,transfer_location:A.transferLocation,transfer_room_or_floor:A.transferRoomOrFloor};try{const Y=l(),te=await Pt.post(`${Bt}/ict-assets/${c.id}/transfer`,Z,{withCredentials:!0,headers:{"Content-Type":"application/json",...Y?{"X-CSRF-Token":Y}:{}}});e&&await N(e),M(!0)}catch(Y){console.error("Error submitting transfer:",Y),alert("Error submitting transfer. Please try again.")}finally{k(!1)}},I=()=>{window.history.length>1?t(-1):t("/categories/ict-assets")};if(!c)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-8 h-8 mx-auto mb-3 rounded-full border-b-2 border-accent-600 animate-spin"}),n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:"Loading asset..."})]})});const W=T?u:u.slice(0,3);return n.jsxs("div",{className:"min-h-screen bg-primary-50 dark:bg-primary-900",children:[n.jsx("div",{className:"sticky top-0 z-40 bg-white dark:bg-primary-800 border-b border-primary-200 dark:border-primary-700 shadow-sm transition-colors duration-200",children:n.jsx("div",{className:"px-3 py-3",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Be,{variant:"ghost",size:"sm",onClick:I,className:"p-1.5",children:n.jsx(Pa,{size:16,className:"text-primary-600 dark:text-primary-400"})}),n.jsx("h1",{className:"text-lg font-bold text-primary-900 dark:text-primary-50",children:"ICT Asset Transfer"})]})})})}),n.jsxs("div",{className:"px-3 py-4 space-y-4",children:[n.jsx(it,{className:"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-800",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Ya,{size:16,className:"text-accent-600 dark:text-accent-400 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-primary-800 dark:text-primary-200 uppercase tracking-wide",children:"Current ICT Asset Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"Asset Description"}),n.jsx("p",{className:"text-sm text-primary-900 dark:text-primary-100 bg-primary-50 dark:bg-primary-900 p-2 rounded-md border border-primary-200 dark:border-primary-700",children:c.asset_description})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"Current Responsible Officer"}),n.jsx("p",{className:"text-sm text-primary-900 dark:text-primary-100 bg-primary-50 dark:bg-primary-900 p-2 rounded-md border border-primary-200 dark:border-primary-700",children:c.responsible_officer||"Not assigned"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"Current Location"}),n.jsx("p",{className:"text-sm text-primary-900 dark:text-primary-100 bg-primary-50 dark:bg-primary-900 p-2 rounded-md border border-primary-200 dark:border-primary-700",children:c.current_location||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"Serial Number"}),n.jsx("p",{className:"text-sm text-primary-900 dark:text-primary-100 bg-primary-50 dark:bg-primary-900 p-2 rounded-md border border-primary-200 dark:border-primary-700",children:c.serial_number||"N/A"})]})]})]})}),n.jsx(it,{className:"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-800",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Hd,{size:16,className:"text-purple-600 dark:text-purple-400 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-primary-800 dark:text-primary-200 uppercase tracking-wide",children:"Transfer History"})]}),u.length>0&&n.jsx("div",{className:"flex items-center space-x-1",children:n.jsxs("span",{className:"text-xs text-purple-600 dark:text-purple-400",children:[u.length," transfer",u.length!==1?"s":""]})})]}),x?n.jsxs("div",{className:"flex items-center justify-center py-6",children:[n.jsx("div",{className:"w-5 h-5 rounded-full border-b-2 border-accent-600 animate-spin mr-2"}),n.jsx("span",{className:"text-xs text-primary-600 dark:text-primary-400",children:"Loading..."})]}):y?n.jsx("div",{className:"p-4 text-center bg-error-50 dark:bg-error-950 border border-error-200 dark:border-error-800 rounded-lg",children:n.jsx("p",{className:"text-sm text-error-800 dark:text-error-300",children:y})}):u.length===0?n.jsxs("div",{className:"p-4 text-center bg-primary-50 dark:bg-primary-900 border border-primary-200 dark:border-primary-700 rounded-lg",children:[n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:"No transfer history found"}),n.jsx("p",{className:"text-xs text-primary-500 dark:text-primary-500 mt-1",children:"This asset has not been transferred yet."})]}):n.jsxs("div",{className:"space-y-3",children:[W.map((Z,Y)=>n.jsx("div",{className:`relative p-3 rounded-lg border transition-all duration-200 ${Y===0?"border-purple-300 dark:border-purple-700 bg-purple-50 dark:bg-purple-950 shadow-sm":"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-800"}`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsxs("div",{className:"flex flex-col items-center mt-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${Y===0?"bg-purple-600":"bg-primary-400"}`}),Y<W.length-1&&n.jsx("div",{className:"w-px h-full bg-primary-200 dark:bg-primary-700 mt-1"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(to,{size:14,className:"text-primary-500 dark:text-primary-400"}),n.jsx("span",{className:"text-xs font-medium text-primary-900 dark:text-primary-100",children:yi(new Date(Z.transfer_date),"MMM dd, yyyy HH:mm")}),Y===0&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-purple-100 dark:bg-purple-800 text-purple-700 dark:text-purple-300 rounded-full",children:"Latest"})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-xs",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_i,{size:12,className:"text-primary-500 dark:text-primary-400 flex-shrink-0"}),n.jsxs("div",{className:"flex items-center space-x-1 min-w-0",children:[Z.previous_owner&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-primary-600 dark:text-primary-400 truncate",children:Z.previous_owner}),n.jsx(Pp,{size:12,className:"text-primary-400 flex-shrink-0"})]}),n.jsx("span",{className:"font-medium text-primary-900 dark:text-primary-100 truncate",children:Z.assigned_to})]})]}),Z.transfer_location&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ea,{size:12,className:"text-primary-500 dark:text-primary-400 flex-shrink-0"}),n.jsx("span",{className:"font-medium text-primary-900 dark:text-primary-100 truncate",children:Z.transfer_location})]})]}),n.jsxs("div",{className:"mt-2 space-y-1 text-xs",children:[Z.transfer_department&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Qo,{size:12,className:"text-primary-400"}),n.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"Dept:"}),n.jsx("span",{className:"text-primary-900 dark:text-primary-100 font-medium",children:Z.transfer_department})]}),Z.transfer_room_or_floor&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ea,{size:12,className:"text-primary-400"}),n.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"Room:"}),n.jsx("span",{className:"text-primary-900 dark:text-primary-100 font-medium",children:Z.transfer_room_or_floor})]})]}),Z.transfer_reason&&n.jsx("div",{className:"mt-2 p-2 bg-primary-50 dark:bg-primary-900 rounded-md border border-primary-200 dark:border-primary-700",children:n.jsxs("div",{className:"flex items-start space-x-1.5",children:[n.jsx(Ya,{size:12,className:"text-primary-400 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-primary-600 dark:text-primary-400 font-medium",children:"Reason:"}),n.jsx("p",{className:"text-xs text-primary-900 dark:text-primary-100 mt-0.5",children:Z.transfer_reason})]})]})})]})]})},Z.id)),u.length>3&&n.jsx("div",{className:"mt-3 pt-3 border-t border-primary-200 dark:border-primary-700 text-center",children:n.jsx(Be,{variant:"ghost",size:"sm",onClick:()=>O(!T),className:"text-xs text-accent-600 dark:text-accent-400 hover:text-accent-700 dark:hover:text-accent-300",children:T?"Show Less":`View ${u.length-3} More Transfer${u.length-3!==1?"s":""}`})})]})]})}),n.jsx(it,{className:"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-800",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(W0,{size:16,className:"text-success-600 dark:text-success-400 mr-2"}),n.jsx("h2",{className:"text-sm font-semibold text-primary-800 dark:text-primary-200 uppercase tracking-wide",children:"Transfer Information"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:["New Responsible Officer"," ",n.jsx("span",{className:"text-error-600",children:"*"})]}),n.jsx(wt,{value:A.assignedTo,onChange:Z=>z("assignedTo",Z.target.value),placeholder:"Enter new responsible officer",className:"w-full text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:["Transfer Date ",n.jsx("span",{className:"text-error-600",children:"*"})]}),n.jsx(wt,{type:"date",value:A.transferDate,onChange:Z=>z("transferDate",Z.target.value),className:"w-full text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"Transfer Reason"}),n.jsx(wt,{value:A.transferReason,onChange:Z=>z("transferReason",Z.target.value),placeholder:"Reason for transfer",className:"w-full text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"Transfer Department"}),n.jsx(wt,{value:A.transferDepartment,onChange:Z=>z("transferDepartment",Z.target.value),placeholder:"Target department",className:"w-full text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"Transfer Location"}),n.jsx(wt,{value:A.transferLocation,onChange:Z=>z("transferLocation",Z.target.value),placeholder:"Target location",className:"w-full text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-600 dark:text-primary-400 mb-1",children:"Transfer Room/Floor"}),n.jsx(wt,{value:A.transferRoomOrFloor,onChange:Z=>z("transferRoomOrFloor",Z.target.value),placeholder:"Room or floor in new location",className:"w-full text-sm border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-900 focus:ring-accent-500 dark:focus:ring-accent-400"})]})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx(Be,{variant:"success",size:"sm",onClick:P,disabled:_||!A.assignedTo.trim()||!A.transferDate.trim(),className:"flex items-center space-x-2 px-4 py-2 text-sm",isLoading:_,children:n.jsx("span",{children:"Confirm Transfer"})})})]}),S&&n.jsx(Tg,{message:"The ICT asset transfer was completed successfully.",onClose:E})]})};var Mg=e=>e.type==="checkbox",Sf=e=>e instanceof Date,Wl=e=>e==null;const jL=e=>typeof e=="object";var wi=e=>!Wl(e)&&!Array.isArray(e)&&jL(e)&&!Sf(e),lfe=e=>wi(e)&&e.target?Mg(e.target)?e.target.checked:e.target.value:e,cfe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,dfe=(e,t)=>e.has(cfe(t)),ufe=e=>{const t=e.constructor&&e.constructor.prototype;return wi(t)&&t.hasOwnProperty("isPrototypeOf")},_3=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Yi(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(_3&&(e instanceof Blob||s))&&(r||wi(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!ufe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Yi(e[a]));else return e;return t}var db=e=>/^\w*$/.test(e),Yn=e=>e===void 0,w3=e=>Array.isArray(e)?e.filter(Boolean):[],N3=e=>w3(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Sr=(e,t,r)=>{if(!t||!wi(e))return r;const s=(db(t)?[t]:N3(t)).reduce((a,i)=>Wl(a)?a:a[i],e);return Yn(s)||s===e?Yn(e[t])?r:e[t]:s},D0=e=>typeof e=="boolean",on=(e,t,r)=>{let s=-1;const a=db(t)?[t]:N3(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=r;if(s!==o){const d=e[l];c=wi(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const M8={BLUR:"blur",FOCUS_OUT:"focusout"},zd={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},mu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hfe=Fi.createContext(null);hfe.displayName="HookFormContext";var ffe=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==zd.all&&(t._proxyFormState[o]=!s||zd.all),e[o]}});return a};const mfe=typeof window<"u"?Fi.useLayoutEffect:Fi.useEffect;var Tc=e=>typeof e=="string",pfe=(e,t,r,s,a)=>Tc(e)?(s&&t.watch.add(e),Sr(r,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),Sr(r,i))):(s&&(t.watchAll=!0),r),T4=e=>Wl(e)||!jL(e);function xh(e,t,r=new WeakSet){if(T4(e)||T4(t))return e===t;if(Sf(e)&&Sf(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of s){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Sf(o)&&Sf(l)||wi(o)&&wi(l)||Array.isArray(o)&&Array.isArray(l)?!xh(o,l,r):o!==l)return!1}}return!0}var xfe=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},mx=e=>Array.isArray(e)?e:[e],L8=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function CL(e,t){const r={};for(const s in e)if(e.hasOwnProperty(s)){const a=e[s],i=t[s];if(a&&wi(a)&&i){const o=CL(a,i);wi(o)&&(r[s]=o)}else e[s]&&(r[s]=i)}return r}var Ul=e=>wi(e)&&!Object.keys(e).length,k3=e=>e.type==="file",Ud=e=>typeof e=="function",wy=e=>{if(!_3)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},SL=e=>e.type==="select-multiple",j3=e=>e.type==="radio",gfe=e=>j3(e)||Mg(e),vw=e=>wy(e)&&e.isConnected;function vfe(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=Yn(e)?s++:e[t[s++]];return e}function yfe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Yn(e[t]))return!1;return!0}function mi(e,t){const r=Array.isArray(t)?t:db(t)?[t]:N3(t),s=r.length===1?e:vfe(e,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(wi(s)&&Ul(s)||Array.isArray(s)&&yfe(s))&&mi(e,r.slice(0,-1)),e}var bfe=e=>{for(const t in e)if(Ud(e[t]))return!0;return!1};function EL(e){return Array.isArray(e)||wi(e)&&!bfe(e)}function M4(e,t={}){for(const r in e)EL(e[r])?(t[r]=Array.isArray(e[r])?[]:{},M4(e[r],t[r])):Yn(e[r])||(t[r]=!0);return t}function zm(e,t,r){r||(r=M4(t));for(const s in e)EL(e[s])?Yn(t)||T4(r[s])?r[s]=M4(e[s],Array.isArray(e[s])?[]:{}):zm(e[s],Wl(t)?{}:t[s],r[s]):r[s]=!xh(e[s],t[s]);return r}const P8={value:!1,isValid:!1},F8={value:!0,isValid:!0};var AL=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Yn(e[0].attributes.value)?Yn(e[0].value)||e[0].value===""?F8:{value:e[0].value,isValid:!0}:F8:P8}return P8},TL=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>Yn(e)?e:t?e===""?NaN:e&&+e:r&&Tc(e)?new Date(e):s?s(e):e;const D8={isValid:!1,value:null};var ML=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,D8):D8;function I8(e){const t=e.ref;return k3(t)?t.files:j3(t)?ML(e.refs).value:SL(t)?[...t.selectedOptions].map(({value:r})=>r):Mg(t)?AL(e.refs).value:TL(Yn(t.value)?e.ref.value:t.value,e)}var _fe=(e,t,r,s)=>{const a={};for(const i of e){const o=Sr(t,i);o&&on(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},Ny=e=>e instanceof RegExp,C1=e=>Yn(e)?e:Ny(e)?e.source:wi(e)?Ny(e.value)?e.value.source:e.value:e,R8=e=>({isOnSubmit:!e||e===zd.onSubmit,isOnBlur:e===zd.onBlur,isOnChange:e===zd.onChange,isOnAll:e===zd.all,isOnTouch:e===zd.onTouched});const O8="AsyncFunction";var wfe=e=>!!e&&!!e.validate&&!!(Ud(e.validate)&&e.validate.constructor.name===O8||wi(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===O8)),Nfe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),B8=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const px=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const i=Sr(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(px(l,t))break}else if(wi(l)&&px(l,t))break}}};function z8(e,t,r){const s=Sr(e,r);if(s||db(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Sr(t,i),l=Sr(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var kfe=(e,t,r,s)=>{r(e);const{name:a,...i}=e;return Ul(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||zd.all))},jfe=(e,t,r)=>!e||!t||e===t||mx(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),Cfe=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,Sfe=(e,t)=>!w3(Sr(e,t)).length&&mi(e,t),Efe=(e,t,r)=>{const s=mx(Sr(e,r));return on(s,"root",t[r]),on(e,r,s),e};function U8(e,t,r="validate"){if(Tc(e)||Array.isArray(e)&&e.every(Tc)||D0(e)&&!e)return{type:r,message:Tc(e)?e:"",ref:t}}var Fm=e=>wi(e)&&!Ny(e)?e:{value:e,message:""},$8=async(e,t,r,s,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:p,max:x,pattern:f,validate:y,name:v,valueAsNumber:_,mount:k}=e._f,S=Sr(r,v);if(!k||t.has(v))return{};const M=l?l[0]:o,T=I=>{a&&M.reportValidity&&(M.setCustomValidity(D0(I)?"":I||""),M.reportValidity())},O={},A=j3(o),C=Mg(o),N=A||C,E=(_||k3(o))&&Yn(o.value)&&Yn(S)||wy(o)&&o.value===""||S===""||Array.isArray(S)&&!S.length,z=xfe.bind(null,v,s,O),P=(I,W,Z,Y=mu.maxLength,te=mu.minLength)=>{const ie=I?W:Z;O[v]={type:I?Y:te,message:ie,ref:o,...z(I?Y:te,ie)}};if(i?!Array.isArray(S)||!S.length:c&&(!N&&(E||Wl(S))||D0(S)&&!S||C&&!AL(l).isValid||A&&!ML(l).isValid)){const{value:I,message:W}=Tc(c)?{value:!!c,message:c}:Fm(c);if(I&&(O[v]={type:mu.required,message:W,ref:M,...z(mu.required,W)},!s))return T(W),O}if(!E&&(!Wl(p)||!Wl(x))){let I,W;const Z=Fm(x),Y=Fm(p);if(!Wl(S)&&!isNaN(S)){const te=o.valueAsNumber||S&&+S;Wl(Z.value)||(I=te>Z.value),Wl(Y.value)||(W=te<Y.value)}else{const te=o.valueAsDate||new Date(S),ie=oe=>new Date(new Date().toDateString()+" "+oe),le=o.type=="time",se=o.type=="week";Tc(Z.value)&&S&&(I=le?ie(S)>ie(Z.value):se?S>Z.value:te>new Date(Z.value)),Tc(Y.value)&&S&&(W=le?ie(S)<ie(Y.value):se?S<Y.value:te<new Date(Y.value))}if((I||W)&&(P(!!I,Z.message,Y.message,mu.max,mu.min),!s))return T(O[v].message),O}if((d||u)&&!E&&(Tc(S)||i&&Array.isArray(S))){const I=Fm(d),W=Fm(u),Z=!Wl(I.value)&&S.length>+I.value,Y=!Wl(W.value)&&S.length<+W.value;if((Z||Y)&&(P(Z,I.message,W.message),!s))return T(O[v].message),O}if(f&&!E&&Tc(S)){const{value:I,message:W}=Fm(f);if(Ny(I)&&!S.match(I)&&(O[v]={type:mu.pattern,message:W,ref:o,...z(mu.pattern,W)},!s))return T(W),O}if(y){if(Ud(y)){const I=await y(S,r),W=U8(I,M);if(W&&(O[v]={...W,...z(mu.validate,W.message)},!s))return T(W.message),O}else if(wi(y)){let I={};for(const W in y){if(!Ul(I)&&!s)break;const Z=U8(await y[W](S,r),M,W);Z&&(I={...Z,...z(W,Z.message)},T(Z.message),s&&(O[v]=I))}if(!Ul(I)&&(O[v]={ref:M,...I},!s))return O}}return T(!0),O};const Afe={mode:zd.onSubmit,reValidateMode:zd.onChange,shouldFocusError:!0};function Tfe(e={}){let t={...Afe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ud(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=wi(t.defaultValues)||wi(t.values)?Yi(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Yi(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...u};const x={array:L8(),state:L8()},f=t.criteriaMode===zd.all,y=pe=>Le=>{clearTimeout(d),d=setTimeout(pe,Le)},v=async pe=>{if(!t.disabled&&(u.isValid||p.isValid||pe)){const Le=t.resolver?Ul((await C()).errors):await E(s,!0);Le!==r.isValid&&x.state.next({isValid:Le})}},_=(pe,Le)=>{!t.disabled&&(u.isValidating||u.validatingFields||p.isValidating||p.validatingFields)&&((pe||Array.from(l.mount)).forEach(He=>{He&&(Le?on(r.validatingFields,He,Le):mi(r.validatingFields,He))}),x.state.next({validatingFields:r.validatingFields,isValidating:!Ul(r.validatingFields)}))},k=(pe,Le=[],He,ve,Ne=!0,ze=!0)=>{if(ve&&He&&!t.disabled){if(o.action=!0,ze&&Array.isArray(Sr(s,pe))){const qe=He(Sr(s,pe),ve.argA,ve.argB);Ne&&on(s,pe,qe)}if(ze&&Array.isArray(Sr(r.errors,pe))){const qe=He(Sr(r.errors,pe),ve.argA,ve.argB);Ne&&on(r.errors,pe,qe),Sfe(r.errors,pe)}if((u.touchedFields||p.touchedFields)&&ze&&Array.isArray(Sr(r.touchedFields,pe))){const qe=He(Sr(r.touchedFields,pe),ve.argA,ve.argB);Ne&&on(r.touchedFields,pe,qe)}(u.dirtyFields||p.dirtyFields)&&(r.dirtyFields=zm(a,i)),x.state.next({name:pe,isDirty:P(pe,Le),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else on(i,pe,Le)},S=(pe,Le)=>{on(r.errors,pe,Le),x.state.next({errors:r.errors})},M=pe=>{r.errors=pe,x.state.next({errors:r.errors,isValid:!1})},T=(pe,Le,He,ve)=>{const Ne=Sr(s,pe);if(Ne){const ze=Sr(i,pe,Yn(He)?Sr(a,pe):He);Yn(ze)||ve&&ve.defaultChecked||Le?on(i,pe,Le?ze:I8(Ne._f)):Z(pe,ze),o.mount&&v()}},O=(pe,Le,He,ve,Ne)=>{let ze=!1,qe=!1;const pt={name:pe};if(!t.disabled){if(!He||ve){(u.isDirty||p.isDirty)&&(qe=r.isDirty,r.isDirty=pt.isDirty=P(),ze=qe!==pt.isDirty);const xt=xh(Sr(a,pe),Le);qe=!!Sr(r.dirtyFields,pe),xt?mi(r.dirtyFields,pe):on(r.dirtyFields,pe,!0),pt.dirtyFields=r.dirtyFields,ze=ze||(u.dirtyFields||p.dirtyFields)&&qe!==!xt}if(He){const xt=Sr(r.touchedFields,pe);xt||(on(r.touchedFields,pe,He),pt.touchedFields=r.touchedFields,ze=ze||(u.touchedFields||p.touchedFields)&&xt!==He)}ze&&Ne&&x.state.next(pt)}return ze?pt:{}},A=(pe,Le,He,ve)=>{const Ne=Sr(r.errors,pe),ze=(u.isValid||p.isValid)&&D0(Le)&&r.isValid!==Le;if(t.delayError&&He?(c=y(()=>S(pe,He)),c(t.delayError)):(clearTimeout(d),c=null,He?on(r.errors,pe,He):mi(r.errors,pe)),(He?!xh(Ne,He):Ne)||!Ul(ve)||ze){const qe={...ve,...ze&&D0(Le)?{isValid:Le}:{},errors:r.errors,name:pe};r={...r,...qe},x.state.next(qe)}},C=async pe=>{_(pe,!0);const Le=await t.resolver(i,t.context,_fe(pe||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return _(pe),Le},N=async pe=>{const{errors:Le}=await C(pe);if(pe)for(const He of pe){const ve=Sr(Le,He);ve?on(r.errors,He,ve):mi(r.errors,He)}else r.errors=Le;return Le},E=async(pe,Le,He={valid:!0})=>{for(const ve in pe){const Ne=pe[ve];if(Ne){const{_f:ze,...qe}=Ne;if(ze){const pt=l.array.has(ze.name),xt=Ne._f&&wfe(Ne._f);xt&&u.validatingFields&&_([ze.name],!0);const Ft=await $8(Ne,l.disabled,i,f,t.shouldUseNativeValidation&&!Le,pt);if(xt&&u.validatingFields&&_([ze.name]),Ft[ze.name]&&(He.valid=!1,Le))break;!Le&&(Sr(Ft,ze.name)?pt?Efe(r.errors,Ft,ze.name):on(r.errors,ze.name,Ft[ze.name]):mi(r.errors,ze.name))}!Ul(qe)&&await E(qe,Le,He)}}return He.valid},z=()=>{for(const pe of l.unMount){const Le=Sr(s,pe);Le&&(Le._f.refs?Le._f.refs.every(He=>!vw(He)):!vw(Le._f.ref))&&ge(pe)}l.unMount=new Set},P=(pe,Le)=>!t.disabled&&(pe&&Le&&on(i,pe,Le),!xh(oe(),a)),I=(pe,Le,He)=>pfe(pe,l,{...o.mount?i:Yn(Le)?a:Tc(pe)?{[pe]:Le}:Le},He,Le),W=pe=>w3(Sr(o.mount?i:a,pe,t.shouldUnregister?Sr(a,pe,[]):[])),Z=(pe,Le,He={})=>{const ve=Sr(s,pe);let Ne=Le;if(ve){const ze=ve._f;ze&&(!ze.disabled&&on(i,pe,TL(Le,ze)),Ne=wy(ze.ref)&&Wl(Le)?"":Le,SL(ze.ref)?[...ze.ref.options].forEach(qe=>qe.selected=Ne.includes(qe.value)):ze.refs?Mg(ze.ref)?ze.refs.forEach(qe=>{(!qe.defaultChecked||!qe.disabled)&&(Array.isArray(Ne)?qe.checked=!!Ne.find(pt=>pt===qe.value):qe.checked=Ne===qe.value||!!Ne)}):ze.refs.forEach(qe=>qe.checked=qe.value===Ne):k3(ze.ref)?ze.ref.value="":(ze.ref.value=Ne,ze.ref.type||x.state.next({name:pe,values:Yi(i)})))}(He.shouldDirty||He.shouldTouch)&&O(pe,Ne,He.shouldTouch,He.shouldDirty,!0),He.shouldValidate&&se(pe)},Y=(pe,Le,He)=>{for(const ve in Le){if(!Le.hasOwnProperty(ve))return;const Ne=Le[ve],ze=pe+"."+ve,qe=Sr(s,ze);(l.array.has(pe)||wi(Ne)||qe&&!qe._f)&&!Sf(Ne)?Y(ze,Ne,He):Z(ze,Ne,He)}},te=(pe,Le,He={})=>{const ve=Sr(s,pe),Ne=l.array.has(pe),ze=Yi(Le);on(i,pe,ze),Ne?(x.array.next({name:pe,values:Yi(i)}),(u.isDirty||u.dirtyFields||p.isDirty||p.dirtyFields)&&He.shouldDirty&&x.state.next({name:pe,dirtyFields:zm(a,i),isDirty:P(pe,ze)})):ve&&!ve._f&&!Wl(ze)?Y(pe,ze,He):Z(pe,ze,He),B8(pe,l)&&x.state.next({...r,name:pe}),x.state.next({name:o.mount?pe:void 0,values:Yi(i)})},ie=async pe=>{o.mount=!0;const Le=pe.target;let He=Le.name,ve=!0;const Ne=Sr(s,He),ze=xt=>{ve=Number.isNaN(xt)||Sf(xt)&&isNaN(xt.getTime())||xh(xt,Sr(i,He,xt))},qe=R8(t.mode),pt=R8(t.reValidateMode);if(Ne){let xt,Ft;const Et=Le.type?I8(Ne._f):lfe(pe),At=pe.type===M8.BLUR||pe.type===M8.FOCUS_OUT,ar=!Nfe(Ne._f)&&!t.resolver&&!Sr(r.errors,He)&&!Ne._f.deps||Cfe(At,Sr(r.touchedFields,He),r.isSubmitted,pt,qe),er=B8(He,l,At);on(i,He,Et),At?(!Le||!Le.readOnly)&&(Ne._f.onBlur&&Ne._f.onBlur(pe),c&&c(0)):Ne._f.onChange&&Ne._f.onChange(pe);const Qt=O(He,Et,At),Lt=!Ul(Qt)||er;if(!At&&x.state.next({name:He,type:pe.type,values:Yi(i)}),ar)return(u.isValid||p.isValid)&&(t.mode==="onBlur"?At&&v():At||v()),Lt&&x.state.next({name:He,...er?{}:Qt});if(!At&&er&&x.state.next({...r}),t.resolver){const{errors:rs}=await C([He]);if(ze(Et),ve){const gr=z8(r.errors,s,He),zr=z8(rs,s,gr.name||He);xt=zr.error,He=zr.name,Ft=Ul(rs)}}else _([He],!0),xt=(await $8(Ne,l.disabled,i,f,t.shouldUseNativeValidation))[He],_([He]),ze(Et),ve&&(xt?Ft=!1:(u.isValid||p.isValid)&&(Ft=await E(s,!0)));ve&&(Ne._f.deps&&(!Array.isArray(Ne._f.deps)||Ne._f.deps.length>0)&&se(Ne._f.deps),A(He,Ft,xt,Qt))}},le=(pe,Le)=>{if(Sr(r.errors,Le)&&pe.focus)return pe.focus(),1},se=async(pe,Le={})=>{let He,ve;const Ne=mx(pe);if(t.resolver){const ze=await N(Yn(pe)?pe:Ne);He=Ul(ze),ve=pe?!Ne.some(qe=>Sr(ze,qe)):He}else pe?(ve=(await Promise.all(Ne.map(async ze=>{const qe=Sr(s,ze);return await E(qe&&qe._f?{[ze]:qe}:qe)}))).every(Boolean),!(!ve&&!r.isValid)&&v()):ve=He=await E(s);return x.state.next({...!Tc(pe)||(u.isValid||p.isValid)&&He!==r.isValid?{}:{name:pe},...t.resolver||!pe?{isValid:He}:{},errors:r.errors}),Le.shouldFocus&&!ve&&px(s,le,pe?Ne:l.mount),ve},oe=(pe,Le)=>{let He={...o.mount?i:a};return Le&&(He=CL(Le.dirtyFields?r.dirtyFields:r.touchedFields,He)),Yn(pe)?He:Tc(pe)?Sr(He,pe):pe.map(ve=>Sr(He,ve))},ee=(pe,Le)=>({invalid:!!Sr((Le||r).errors,pe),isDirty:!!Sr((Le||r).dirtyFields,pe),error:Sr((Le||r).errors,pe),isValidating:!!Sr(r.validatingFields,pe),isTouched:!!Sr((Le||r).touchedFields,pe)}),B=pe=>{pe&&mx(pe).forEach(Le=>mi(r.errors,Le)),x.state.next({errors:pe?r.errors:{}})},q=(pe,Le,He)=>{const ve=(Sr(s,pe,{_f:{}})._f||{}).ref,Ne=Sr(r.errors,pe)||{},{ref:ze,message:qe,type:pt,...xt}=Ne;on(r.errors,pe,{...xt,...Le,ref:ve}),x.state.next({name:pe,errors:r.errors,isValid:!1}),He&&He.shouldFocus&&ve&&ve.focus&&ve.focus()},Q=(pe,Le)=>Ud(pe)?x.state.subscribe({next:He=>"values"in He&&pe(I(void 0,Le),He)}):I(pe,Le,!0),K=pe=>x.state.subscribe({next:Le=>{jfe(pe.name,Le.name,pe.exact)&&kfe(Le,pe.formState||u,rt,pe.reRenderRoot)&&pe.callback({values:{...i},...r,...Le,defaultValues:a})}}).unsubscribe,ae=pe=>(o.mount=!0,p={...p,...pe.formState},K({...pe,formState:p})),ge=(pe,Le={})=>{for(const He of pe?mx(pe):l.mount)l.mount.delete(He),l.array.delete(He),Le.keepValue||(mi(s,He),mi(i,He)),!Le.keepError&&mi(r.errors,He),!Le.keepDirty&&mi(r.dirtyFields,He),!Le.keepTouched&&mi(r.touchedFields,He),!Le.keepIsValidating&&mi(r.validatingFields,He),!t.shouldUnregister&&!Le.keepDefaultValue&&mi(a,He);x.state.next({values:Yi(i)}),x.state.next({...r,...Le.keepDirty?{isDirty:P()}:{}}),!Le.keepIsValid&&v()},he=({disabled:pe,name:Le})=>{(D0(pe)&&o.mount||pe||l.disabled.has(Le))&&(pe?l.disabled.add(Le):l.disabled.delete(Le))},ke=(pe,Le={})=>{let He=Sr(s,pe);const ve=D0(Le.disabled)||D0(t.disabled);return on(s,pe,{...He||{},_f:{...He&&He._f?He._f:{ref:{name:pe}},name:pe,mount:!0,...Le}}),l.mount.add(pe),He?he({disabled:D0(Le.disabled)?Le.disabled:t.disabled,name:pe}):T(pe,!0,Le.value),{...ve?{disabled:Le.disabled||t.disabled}:{},...t.progressive?{required:!!Le.required,min:C1(Le.min),max:C1(Le.max),minLength:C1(Le.minLength),maxLength:C1(Le.maxLength),pattern:C1(Le.pattern)}:{},name:pe,onChange:ie,onBlur:ie,ref:Ne=>{if(Ne){ke(pe,Le),He=Sr(s,pe);const ze=Yn(Ne.value)&&Ne.querySelectorAll&&Ne.querySelectorAll("input,select,textarea")[0]||Ne,qe=gfe(ze),pt=He._f.refs||[];if(qe?pt.find(xt=>xt===ze):ze===He._f.ref)return;on(s,pe,{_f:{...He._f,...qe?{refs:[...pt.filter(vw),ze,...Array.isArray(Sr(a,pe))?[{}]:[]],ref:{type:ze.type,name:pe}}:{ref:ze}}}),T(pe,!1,void 0,ze)}else He=Sr(s,pe,{}),He._f&&(He._f.mount=!1),(t.shouldUnregister||Le.shouldUnregister)&&!(dfe(l.array,pe)&&o.action)&&l.unMount.add(pe)}}},Ae=()=>t.shouldFocusError&&px(s,le,l.mount),We=pe=>{D0(pe)&&(x.state.next({disabled:pe}),px(s,(Le,He)=>{const ve=Sr(s,He);ve&&(Le.disabled=ve._f.disabled||pe,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(Ne=>{Ne.disabled=ve._f.disabled||pe}))},0,!1))},fe=(pe,Le)=>async He=>{let ve;He&&(He.preventDefault&&He.preventDefault(),He.persist&&He.persist());let Ne=Yi(i);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:ze,values:qe}=await C();r.errors=ze,Ne=Yi(qe)}else await E(s);if(l.disabled.size)for(const ze of l.disabled)mi(Ne,ze);if(mi(r.errors,"root"),Ul(r.errors)){x.state.next({errors:{}});try{await pe(Ne,He)}catch(ze){ve=ze}}else Le&&await Le({...r.errors},He),Ae(),setTimeout(Ae);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ul(r.errors)&&!ve,submitCount:r.submitCount+1,errors:r.errors}),ve)throw ve},ht=(pe,Le={})=>{Sr(s,pe)&&(Yn(Le.defaultValue)?te(pe,Yi(Sr(a,pe))):(te(pe,Le.defaultValue),on(a,pe,Yi(Le.defaultValue))),Le.keepTouched||mi(r.touchedFields,pe),Le.keepDirty||(mi(r.dirtyFields,pe),r.isDirty=Le.defaultValue?P(pe,Yi(Sr(a,pe))):P()),Le.keepError||(mi(r.errors,pe),u.isValid&&v()),x.state.next({...r}))},De=(pe,Le={})=>{const He=pe?Yi(pe):a,ve=Yi(He),Ne=Ul(pe),ze=Ne?a:ve;if(Le.keepDefaultValues||(a=He),!Le.keepValues){if(Le.keepDirtyValues){const qe=new Set([...l.mount,...Object.keys(zm(a,i))]);for(const pt of Array.from(qe))Sr(r.dirtyFields,pt)?on(ze,pt,Sr(i,pt)):te(pt,Sr(ze,pt))}else{if(_3&&Yn(pe))for(const qe of l.mount){const pt=Sr(s,qe);if(pt&&pt._f){const xt=Array.isArray(pt._f.refs)?pt._f.refs[0]:pt._f.ref;if(wy(xt)){const Ft=xt.closest("form");if(Ft){Ft.reset();break}}}}if(Le.keepFieldsRef)for(const qe of l.mount)te(qe,Sr(ze,qe));else s={}}i=t.shouldUnregister?Le.keepDefaultValues?Yi(a):{}:Yi(ze),x.array.next({values:{...ze}}),x.state.next({values:{...ze}})}l={mount:Le.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!Le.keepIsValid||!!Le.keepDirtyValues,o.watch=!!t.shouldUnregister,x.state.next({submitCount:Le.keepSubmitCount?r.submitCount:0,isDirty:Ne?!1:Le.keepDirty?r.isDirty:!!(Le.keepDefaultValues&&!xh(pe,a)),isSubmitted:Le.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ne?{}:Le.keepDirtyValues?Le.keepDefaultValues&&i?zm(a,i):r.dirtyFields:Le.keepDefaultValues&&pe?zm(a,pe):Le.keepDirty?r.dirtyFields:{},touchedFields:Le.keepTouched?r.touchedFields:{},errors:Le.keepErrors?r.errors:{},isSubmitSuccessful:Le.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Ee=(pe,Le)=>De(Ud(pe)?pe(i):pe,Le),Ue=(pe,Le={})=>{const He=Sr(s,pe),ve=He&&He._f;if(ve){const Ne=ve.refs?ve.refs[0]:ve.ref;Ne.focus&&(Ne.focus(),Le.shouldSelect&&Ud(Ne.select)&&Ne.select())}},rt=pe=>{r={...r,...pe}},Re={control:{register:ke,unregister:ge,getFieldState:ee,handleSubmit:fe,setError:q,_subscribe:K,_runSchema:C,_focusError:Ae,_getWatch:I,_getDirty:P,_setValid:v,_setFieldArray:k,_setDisabledField:he,_setErrors:M,_getFieldArray:W,_reset:De,_resetDefaultValues:()=>Ud(t.defaultValues)&&t.defaultValues().then(pe=>{Ee(pe,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:z,_disableForm:We,_subjects:x,_proxyFormState:u,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(pe){o=pe},get _defaultValues(){return a},get _names(){return l},set _names(pe){l=pe},get _formState(){return r},get _options(){return t},set _options(pe){t={...t,...pe}}},subscribe:ae,trigger:se,register:ke,handleSubmit:fe,watch:Q,setValue:te,getValues:oe,reset:Ee,resetField:ht,clearErrors:B,unregister:ge,setError:q,setFocus:Ue,getFieldState:ee};return{...Re,formControl:Re}}function ku(e={}){const t=Fi.useRef(void 0),r=Fi.useRef(void 0),[s,a]=Fi.useState({isDirty:!1,isValidating:!1,isLoading:Ud(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ud(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Ud(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Tfe(e);t.current={...l,formState:s}}const i=t.current.control;return i._options=e,mfe(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),Fi.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Fi.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Fi.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Fi.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Fi.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),Fi.useEffect(()=>{e.values&&!xh(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),Fi.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=ffe(s,i),t.current}const ju=({isOpen:e,onClose:t,title:r,children:s,footer:a,size:i="md"})=>{const o=U.useRef(null);U.useEffect(()=>{const c=d=>{o.current&&!o.current.contains(d.target)&&t()};return e&&(document.addEventListener("mousedown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",c),document.body.style.overflow="unset"}},[e,t]),U.useEffect(()=>{const c=d=>{d.key==="Escape"&&t()};return e&&document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[e,t]);const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"};return e?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto bg-black bg-opacity-50",children:n.jsxs("div",{ref:o,className:`bg-white rounded-lg shadow-xl overflow-hidden w-full ${l[i]} animate-fade-in`,children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-primary-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-primary-900",children:r}),n.jsx(Be,{variant:"ghost",size:"sm",className:"p-1",onClick:t,"aria-label":"Close",children:n.jsx(Bs,{size:18})})]}),n.jsx("div",{className:"px-6 py-4",children:s}),a&&n.jsx("div",{className:"px-6 py-4 bg-primary-50 border-t border-primary-100 flex justify-end space-x-3",children:a})]})}):null},Mfe=({isOpen:e,onClose:t,currentStatus:r,onStatusChange:s})=>{const[a,i]=U.useState(null),[o,l]=U.useState("method"),[c,d]=U.useState(null),[u,p]=U.useState(""),[x,f]=U.useState(!1),[y,v]=U.useState(!1),[_,k]=U.useState(null);U.useEffect(()=>{e&&(i(null),l("method"),d(null),p(""))},[e]);const S=async C=>{var N,E;i(C),f(!0);try{if(C==="authenticator"){const z=await Pt.post(`${Bt}/auth/2fa/generate-qr`);d(z.data),l("setup")}else await Pt.post(`${Bt}/auth/2fa/send-email-code`),Ke.success("Verification code sent to your email"),l("verify")}catch(z){Ke.error(((E=(N=z==null?void 0:z.response)==null?void 0:N.data)==null?void 0:E.message)||"Failed to setup 2FA")}finally{f(!1)}},M=async()=>{var C,N;if(!u.trim()){Ke.error("Please enter the verification code");return}f(!0);try{const E={code:u,method:a,...a==="authenticator"&&c&&{secret:c.secret}};await Pt.post(`${Bt}/auth/2fa/verify-setup`,E),Ke.success("Two-factor authentication enabled successfully!"),s(!0),t()}catch(E){Ke.error(((N=(C=E==null?void 0:E.response)==null?void 0:C.data)==null?void 0:N.message)||"Invalid verification code")}finally{f(!1)}},T=async()=>{var C,N;f(!0);try{await Pt.post(`${Bt}/auth/2fa/disable`,{password:null}),Ke.success("Two-factor authentication disabled"),s(!1),t()}catch(E){Ke.error(((N=(C=E==null?void 0:E.response)==null?void 0:C.data)==null?void 0:N.message)||"Failed to disable 2FA")}finally{f(!1)}},O=async(C,N)=>{try{await navigator.clipboard.writeText(C),N==="secret"?(v(!0),setTimeout(()=>v(!1),2e3)):(k(C),setTimeout(()=>k(null),2e3)),Ke.success("Copied to clipboard")}catch{Ke.error("Failed to copy to clipboard")}},A=async()=>{f(!0);try{const C=await Pt.post(`${Bt}/auth/2fa/generate-qr`);d(C.data),Ke.success("QR code regenerated")}catch{Ke.error("Failed to regenerate QR code")}finally{f(!1)}};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-3 sm:p-4 z-50",children:n.jsx("div",{className:"bg-white rounded-lg w-full max-w-sm sm:max-w-lg lg:max-w-2xl max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx(La,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary-600"}),n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-primary-900",children:"Two-Factor Authentication"})]}),n.jsx("button",{onClick:t,className:"text-primary-400 hover:text-primary-600 p-1",children:n.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg bg-primary-50 border border-primary-200",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-2 sm:space-y-0",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs sm:text-sm font-medium text-primary-900",children:["Current Status: ",r?"Enabled":"Disabled"]}),n.jsx("p",{className:"text-xs sm:text-sm text-primary-600 mt-1",children:r?"Your account is protected with 2FA":"Add an extra layer of security to your account"})]}),r&&n.jsx(Be,{variant:"secondary",onClick:T,isLoading:x,className:"text-red-600 hover:text-red-700 text-xs sm:text-sm mt-2 sm:mt-0 w-full sm:w-auto",children:"Disable 2FA"})]})}),!r&&n.jsxs(n.Fragment,{children:[o==="method"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-base sm:text-lg font-medium text-primary-900 mb-3 sm:mb-4",children:"Choose your preferred 2FA method"}),n.jsxs("div",{className:"space-y-3 sm:grid sm:grid-cols-1 md:grid-cols-2 sm:gap-4 sm:space-y-0",children:[n.jsx(it,{className:"cursor-pointer hover:shadow-md transition-shadow",children:n.jsx("button",{onClick:()=>S("email"),disabled:x,className:"w-full p-4 sm:p-6 text-left",children:n.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg",children:n.jsx(lg,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-sm sm:text-base font-medium text-primary-900",children:"Email Verification"}),n.jsx("p",{className:"text-xs sm:text-sm text-primary-600 mt-1",children:"Receive verification codes via email. Simple and convenient."})]})]})})}),n.jsx(it,{className:"cursor-pointer hover:shadow-md transition-shadow",children:n.jsx("button",{onClick:()=>S("authenticator"),disabled:x,className:"w-full p-4 sm:p-6 text-left",children:n.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[n.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg",children:n.jsx(tB,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-sm sm:text-base font-medium text-primary-900",children:"Authenticator App"}),n.jsx("p",{className:"text-xs sm:text-sm text-primary-600 mt-1",children:"Use apps like Google Authenticator or Authy. More secure."})]})]})})})]}),n.jsx("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 bg-amber-50 border border-amber-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[n.jsx(La,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xs sm:text-sm font-medium text-amber-800",children:"Security Recommendation"}),n.jsx("p",{className:"text-xs sm:text-sm text-amber-700 mt-1",children:"Authenticator apps provide better security as they work offline and are less susceptible to interception."})]})]})})]}),o==="setup"&&a==="authenticator"&&c&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-base sm:text-lg font-medium text-primary-900 mb-2",children:"Scan QR Code"}),n.jsx("p",{className:"text-xs sm:text-sm text-primary-600",children:"Use your authenticator app to scan this QR code"})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"p-3 sm:p-4 bg-white border-2 border-primary-200 rounded-lg",children:n.jsx("img",{src:c.qr_code||"/placeholder.svg",alt:"2FA QR Code",className:"w-32 h-32 sm:w-48 sm:h-48"})})}),n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-primary-900 mb-2",children:"Manual Entry Key (if you can't scan)"}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[n.jsx("code",{className:"flex-1 p-2 sm:p-3 bg-primary-50 border border-primary-200 rounded text-xs sm:text-sm font-mono break-all",children:c.secret}),n.jsx(Be,{variant:"secondary",onClick:()=>O(c.secret,"secret"),className:"flex-shrink-0 w-full sm:w-auto",children:y?n.jsx(Lh,{className:"w-3 h-3 sm:w-4 sm:h-4"}):n.jsx(Fk,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-primary-900 mb-2",children:"Backup Codes (Save these securely)"}),n.jsx("div",{className:"space-y-2",children:c.backup_codes.map((C,N)=>n.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[n.jsx("code",{className:"flex-1 p-2 bg-primary-50 border border-primary-200 rounded text-xs sm:text-sm font-mono",children:C}),n.jsx(Be,{variant:"secondary",onClick:()=>O(C,"backup"),className:"flex-shrink-0 w-full sm:w-auto",children:_===C?n.jsx(Lh,{className:"w-3 h-3 sm:w-4 sm:h-4"}):n.jsx(Fk,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]},N))})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between space-y-2 sm:space-y-0 sm:space-x-2",children:[n.jsx(Be,{variant:"secondary",onClick:A,isLoading:x,leftIcon:n.jsx(Za,{className:"w-3 h-3 sm:w-4 sm:h-4"}),className:"w-full sm:w-auto",children:"Regenerate"}),n.jsx(Be,{variant:"primary",onClick:()=>l("verify"),className:"w-full sm:w-auto",children:"Continue to Verification"})]})]}),o==="verify"&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-base sm:text-lg font-medium text-primary-900 mb-2",children:"Enter Verification Code"}),n.jsx("p",{className:"text-xs sm:text-sm text-primary-600",children:a==="email"?"Enter the 6-digit code sent to your email":"Enter the 6-digit code from your authenticator app"})]}),n.jsx("div",{className:"max-w-xs mx-auto",children:n.jsx("input",{type:"text",value:u,onChange:C=>p(C.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"w-full px-3 py-2 sm:px-4 sm:py-3 text-center text-lg sm:text-2xl font-mono border border-primary-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",maxLength:6})}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between space-y-2 sm:space-y-0 sm:space-x-2",children:[n.jsx(Be,{variant:"secondary",onClick:()=>l(a==="authenticator"?"setup":"method"),className:"w-full sm:w-auto",children:"Back"}),n.jsx(Be,{variant:"primary",onClick:M,isLoading:x,disabled:u.length!==6,className:"w-full sm:w-auto",children:"Verify & Enable 2FA"})]}),a==="email"&&n.jsx("div",{className:"text-center",children:n.jsx(Be,{variant:"ghost",onClick:()=>S("email"),isLoading:x,className:"text-xs sm:text-sm",children:"Resend Code"})})]})]})]})})}):null},Lfe=rl((e,t)=>({notificationSettings:{email_notifications:!0,device_alerts:!0,security_alerts:!0,maintenance_alerts:!1},securitySettings:{two_factor_auth:!1,session_timeout:30,password_expiration:90},isLoading:!1,error:null,fetchSettings:async()=>{e({isLoading:!0,error:null});try{const r=await Pt.get(`${Bt}/users/settings`);e({notificationSettings:r.data.notifications,securitySettings:r.data.security,isLoading:!1})}catch(r){console.error("Failed to fetch settings:",r),e({error:r instanceof Error?r.message:"Failed to fetch settings",isLoading:!1})}},refreshSettings:async()=>{await t().fetchSettings()},updateNotificationSettings:async r=>{e({isLoading:!0,error:null});try{await Pt.put(`${Bt}/users/settings/notifications`,r),e({notificationSettings:r,isLoading:!1,error:null})}catch(s){throw console.error("Failed to update notification settings:",s),e({error:s instanceof Error?s.message:"Failed to update notification settings",isLoading:!1}),s}},updateSecuritySettings:async r=>{e({isLoading:!0,error:null});try{await Pt.put(`${Bt}/users/settings/security`,r),e({securitySettings:r,isLoading:!1,error:null})}catch(s){throw console.error("Failed to update security settings:",s),e({error:s instanceof Error?s.message:"Failed to update security settings",isLoading:!1}),s}},updateAccountSettings:async r=>{e({isLoading:!0,error:null});try{await Pt.put(`${Bt}/users/settings/account`,r),await t().fetchSettings(),e({isLoading:!1,error:null})}catch(s){throw console.error("Failed to update account settings:",s),e({error:s instanceof Error?s.message:"Failed to update account settings",isLoading:!1}),s}},changePassword:async(r,s)=>{e({isLoading:!0,error:null});try{await Pt.put(`${Bt}/users/password`,{current_password:r,new_password:s}),e({isLoading:!1})}catch(a){throw console.error("Failed to change password:",a),e({error:a instanceof Error?a.message:"Failed to change password",isLoading:!1}),a}},toggleTwoFactor:async r=>{e({isLoading:!0,error:null});try{await Pt.put(`${Bt}/users/2fa`,{enabled:r}),e({securitySettings:{...t().securitySettings,two_factor_auth:r},isLoading:!1})}catch(s){throw console.error("Failed to toggle 2FA:",s),e({error:s instanceof Error?s.message:"Failed to toggle 2FA",isLoading:!1}),s}},clearError:()=>{e({error:null})}})),Pfe=()=>{const[e,t]=U.useState("notifications"),[r,s]=U.useState(!1),[a,i]=U.useState(!1),[o,l]=U.useState(!1),c=U.useRef(!1),d=U.useRef(!0),{notificationSettings:u,securitySettings:p,fetchSettings:x,refreshSettings:f,updateNotificationSettings:y,updateSecuritySettings:v,changePassword:_,toggleTwoFactor:k,updateAccountSettings:S,error:M,clearError:T,isLoading:O}=Lfe(),{register:A,handleSubmit:C,reset:N,formState:{isDirty:E}}=ku({defaultValues:u}),{register:z,handleSubmit:P,reset:I,formState:{isDirty:W}}=ku({defaultValues:p}),{register:Z,handleSubmit:Y,formState:{errors:te},reset:ie}=ku(),{register:le,handleSubmit:se,formState:{errors:oe,isDirty:ee},reset:B}=ku({defaultValues:{full_name:"",email:""}});U.useEffect(()=>{x()},[x]),U.useEffect(()=>{u&&!d.current?(N(u),c.current=!0):u&&d.current&&(N(u),c.current=!0,d.current=!1)},[u,N]),U.useEffect(()=>{p&&c.current&&I(p)},[p,I]);const q=async he=>{if(E){l(!0),T();try{await y(he),Ke.success("Notification settings saved"),await f(),N(he)}catch{Ke.error("Failed to save notification settings")}finally{l(!1)}}},Q=async he=>{if(W){l(!0),T();try{await v(he),Ke.success("Security settings saved"),await f(),I(he)}catch{Ke.error("Failed to save security settings")}finally{l(!1)}}},K=async he=>{if(he.new_password!==he.confirm_password){Ke.error("Passwords do not match");return}try{await _(he.current_password,he.new_password),Ke.success("Password changed successfully"),s(!1),ie()}catch{Ke.error("Failed to change password")}},ae=async he=>{try{await k(he),await f(),Ke.success(`2FA ${he?"enabled":"disabled"}`),i(!1)}catch{Ke.error("Failed to update 2FA")}},ge=async he=>{if(ee){l(!0),T();try{await S(he),Ke.success("Account updated"),await f(),B(he)}catch{Ke.error("Failed to save account settings")}finally{l(!1)}}};return n.jsxs("div",{className:"p-0 sm:p-0 space-y-2",children:[n.jsxs("div",{className:"sticky top-0 z-40 bg-primary-50 dark:bg-primary-900 border-b border-primary-200 dark:border-primary-700 flex flex-col sm:flex-row sm:items-center justify-between gap-3 p-4 transition-colors duration-200",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(La,{className:"w-5 h-5 text-accent-600 dark:text-accent-400"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg sm:text-xl font-bold text-primary-900 dark:text-primary-50",children:"Settings"}),n.jsx("p",{className:"text-xs sm:text-sm text-primary-600 dark:text-primary-400",children:"Manage your account and preferences"})]})]}),n.jsxs(Be,{onClick:x,variant:"secondary",className:"flex items-center space-x-2",size:"sm",children:[n.jsx(Za,{className:"w-3 h-3"}),n.jsx("span",{children:"Refresh"})]})]}),M&&n.jsxs("div",{className:"mx-4 mt-4 p-3 bg-error-50 dark:bg-error-950 border border-error-200 dark:border-error-800 rounded-lg flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4 text-error-600 dark:text-error-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-xs text-error-700 dark:text-error-300",children:M})]}),n.jsx("button",{onClick:T,className:"text-error-500 dark:text-error-400 hover:text-error-700 dark:hover:text-error-200",children:n.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3 sm:gap-4 p-4",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsx(it,{className:"border-primary-200 dark:border-primary-700",children:n.jsxs("nav",{className:"p-2 space-y-1",children:[n.jsxs("button",{onClick:()=>t("notifications"),className:`w-full flex items-center px-3 py-2 text-xs font-medium rounded-lg transition-colors ${e==="notifications"?"bg-accent-50 dark:bg-accent-950 text-accent-700 dark:text-accent-300 border border-accent-300 dark:border-accent-700":"text-primary-600 dark:text-primary-400 hover:bg-primary-100 dark:hover:bg-primary-800"}`,children:[n.jsx(Af,{className:"w-4 h-4 mr-2"}),"Notifications"]}),n.jsxs("button",{onClick:()=>t("security"),className:`w-full flex items-center px-3 py-2 text-xs font-medium rounded-lg transition-colors ${e==="security"?"bg-accent-50 dark:bg-accent-950 text-accent-700 dark:text-accent-300 border border-accent-300 dark:border-accent-700":"text-primary-600 dark:text-primary-400 hover:bg-primary-100 dark:hover:bg-primary-800"}`,children:[n.jsx(La,{className:"w-4 h-4 mr-2"}),"Security"]}),n.jsxs("button",{onClick:()=>t("account"),className:`w-full flex items-center px-3 py-2 text-xs font-medium rounded-lg transition-colors ${e==="account"?"bg-accent-50 dark:bg-accent-950 text-accent-700 dark:text-accent-300 border border-accent-300 dark:border-accent-700":"text-primary-600 dark:text-primary-400 hover:bg-primary-100 dark:hover:bg-primary-800"}`,children:[n.jsx(_i,{className:"w-4 h-4 mr-2"}),"Account"]})]})})}),n.jsx("div",{className:"lg:col-span-3",children:O?n.jsxs(it,{className:"p-8 text-center",children:[n.jsx(Za,{className:"w-6 h-6 text-accent-600 dark:text-accent-400 animate-spin mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:"Loading settings..."})]}):n.jsxs(n.Fragment,{children:[e==="notifications"&&n.jsxs(it,{children:[n.jsx("div",{className:"p-3 border-b border-primary-200 dark:border-primary-700",children:n.jsxs("h2",{className:"text-sm font-semibold text-primary-900 dark:text-primary-50 flex items-center",children:[n.jsx(Af,{className:"w-4 h-4 mr-1.5 text-accent-600 dark:text-accent-400"}),"Notification Settings"]})}),n.jsx("div",{className:"p-3 bg-primary-50 dark:bg-primary-800 border border-primary-200 dark:border-primary-700 rounded-lg mb-4",children:n.jsx("p",{className:"text-xs text-primary-700 dark:text-primary-300",children:"Choose which alerts you want to receive via email to stay informed without clutter."})}),n.jsxs("form",{onSubmit:C(q),className:"space-y-4 p-4",children:[[{key:"email_notifications",label:"Email Notifications",desc:"Receive system updates via email"},{key:"device_alerts",label:"Device Alerts",desc:"Get notified when devices go online/offline"},{key:"security_alerts",label:"Security Alerts",desc:"Be alerted to login attempts and breaches"},{key:"maintenance_alerts",label:"Maintenance Alerts",desc:"Know about scheduled downtime"}].map(he=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-primary-900 dark:text-primary-100",children:he.label}),n.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400",children:he.desc})]}),n.jsx("input",{type:"checkbox",...A(he.key),className:"w-4 h-4 text-accent-600 dark:text-accent-400 rounded focus:ring-accent-500 dark:focus:ring-accent-400 border-primary-300 dark:border-primary-600"})]},he.key)),n.jsx("div",{className:"flex justify-end pt-2",children:n.jsx(Be,{type:"submit",variant:"success",size:"sm",leftIcon:n.jsx(bi,{className:"w-3 h-3"}),isLoading:o,disabled:!E,children:"Save Changes"})})]})]}),e==="security"&&n.jsxs(it,{children:[n.jsx("div",{className:"p-3 border-b border-primary-200 dark:border-primary-700",children:n.jsxs("h2",{className:"text-sm font-semibold text-primary-900 dark:text-primary-50 flex items-center",children:[n.jsx(La,{className:"w-4 h-4 mr-1.5 text-accent-600 dark:text-accent-400"}),"Security Settings"]})}),n.jsx("div",{className:"p-3 bg-primary-50 dark:bg-primary-800 border border-primary-200 dark:border-primary-700 rounded-lg mb-4",children:n.jsx("p",{className:"text-xs text-primary-700 dark:text-primary-300",children:"Strengthen your account with 2FA, timeouts, and password policies."})}),n.jsxs("form",{onSubmit:P(Q),className:"space-y-4 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-primary-900 dark:text-primary-100",children:"Two-Factor Authentication"}),n.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400",children:"Extra login protection"})]}),n.jsx(Be,{variant:"secondary",size:"sm",onClick:()=>i(!0),children:p!=null&&p.two_factor_auth?"Enabled":"Manage"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-primary-900 dark:text-primary-100",children:"Session Timeout (minutes)"}),n.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400",children:"Auto-logout after inactivity"})]}),n.jsx("input",{type:"number",min:1,max:1440,...z("session_timeout",{valueAsNumber:!0}),className:"w-20 px-2 py-1 text-xs border rounded-md bg-primary-50 dark:bg-primary-800 text-primary-900 dark:text-primary-100 border-primary-300 dark:border-primary-600 focus:ring-accent-500 dark:focus:ring-accent-400"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-primary-900 dark:text-primary-100",children:"Password Expiration (days)"}),n.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400",children:"Force password update"})]}),n.jsx("input",{type:"number",min:1,max:365,...z("password_expiration",{valueAsNumber:!0}),className:"w-20 px-2 py-1 text-xs border rounded-md bg-primary-50 dark:bg-primary-800 text-primary-900 dark:text-primary-100 border-primary-300 dark:border-primary-600 focus:ring-accent-500 dark:focus:ring-accent-400"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-between pt-2",children:[n.jsxs(Be,{variant:"secondary",size:"sm",onClick:()=>s(!0),children:[n.jsx(Jl,{className:"w-3 h-3 mr-1"})," Change Password"]}),n.jsx(Be,{type:"submit",variant:"success",size:"sm",leftIcon:n.jsx(bi,{className:"w-3 h-3"}),isLoading:o,disabled:!W,children:"Save Changes"})]})]})]}),e==="account"&&n.jsxs(it,{children:[n.jsx("div",{className:"p-3 border-b border-primary-200 dark:border-primary-700",children:n.jsxs("h2",{className:"text-sm font-semibold text-primary-900 dark:text-primary-50 flex items-center",children:[n.jsx(_i,{className:"w-4 h-4 mr-1.5 text-accent-600 dark:text-accent-400"}),"Account Settings"]})}),n.jsx("div",{className:"p-3 bg-primary-50 dark:bg-primary-800 border border-primary-200 dark:border-primary-700 rounded-lg mb-4",children:n.jsx("p",{className:"text-xs text-primary-700 dark:text-primary-300",children:"Keep your name and email up to date for notifications and verification."})}),n.jsxs("form",{onSubmit:se(ge),className:"space-y-4 p-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"fullName",className:"block text-xs font-medium text-primary-900 dark:text-primary-100 mb-1",children:"Full Name"}),n.jsx("input",{id:"fullName",type:"text",...le("full_name",{required:!0}),className:"w-full px-3 py-2 text-sm border rounded-md bg-primary-50 dark:bg-primary-800 text-primary-900 dark:text-primary-100 placeholder:text-primary-500 dark:placeholder:text-primary-500 border-primary-300 dark:border-primary-600 focus:ring-accent-500 dark:focus:ring-accent-400",placeholder:"John Doe"}),oe.full_name&&n.jsx("p",{className:"mt-1 text-xs text-error-600 dark:text-error-400",children:"Full name is required"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-xs font-medium text-primary-900 dark:text-primary-100 mb-1",children:"Email Address"}),n.jsx("input",{id:"email",type:"email",...le("email",{required:!0}),className:"w-full px-3 py-2 text-sm border rounded-md bg-primary-50 dark:bg-primary-800 text-primary-900 dark:text-primary-100 placeholder:text-primary-500 dark:placeholder:text-primary-500 border-primary-300 dark:border-primary-600 focus:ring-accent-500 dark:focus:ring-accent-400",placeholder:"john@example.com"}),oe.email&&n.jsx("p",{className:"mt-1 text-xs text-error-600 dark:text-error-400",children:"Valid email required"})]}),n.jsx("div",{className:"flex justify-end pt-2",children:n.jsx(Be,{type:"submit",variant:"success",size:"sm",leftIcon:n.jsx(bi,{className:"w-3 h-3"}),isLoading:o,disabled:!ee,children:"Save Changes"})})]})]})]})})]}),n.jsx(ju,{title:"Change Password",isOpen:r,onClose:()=>s(!1),children:n.jsxs("form",{onSubmit:Y(K),className:"space-y-4 p-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-900 dark:text-primary-100 mb-1",children:"Current Password"}),n.jsx("input",{type:"password",...Z("current_password"),className:"w-full px-3 py-2 text-sm border rounded-md bg-primary-50 dark:bg-primary-800 text-primary-900 dark:text-primary-100 border-primary-300 dark:border-primary-600 focus:ring-accent-500 dark:focus:ring-accent-400",placeholder:"Optional if forgotten"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-900 dark:text-primary-100 mb-1",children:"New Password"}),n.jsx("input",{type:"password",...Z("new_password",{required:!0}),className:"w-full px-3 py-2 text-sm border rounded-md bg-primary-50 dark:bg-primary-800 text-primary-900 dark:text-primary-100 border-primary-300 dark:border-primary-600 focus:ring-accent-500 dark:focus:ring-accent-400"}),te.new_password&&n.jsx("p",{className:"mt-1 text-xs text-error-600 dark:text-error-400",children:"Required"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-primary-900 dark:text-primary-100 mb-1",children:"Confirm New Password"}),n.jsx("input",{type:"password",...Z("confirm_password",{required:!0}),className:"w-full px-3 py-2 text-sm border rounded-md bg-primary-50 dark:bg-primary-800 text-primary-900 dark:text-primary-100 border-primary-300 dark:border-primary-600 focus:ring-accent-500 dark:focus:ring-accent-400"}),te.confirm_password&&n.jsx("p",{className:"mt-1 text-xs text-error-600 dark:text-error-400",children:"Required"})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[n.jsx(Be,{variant:"secondary",size:"sm",onClick:()=>s(!1),children:"Cancel"}),n.jsx(Be,{type:"submit",variant:"success",size:"sm",children:"Change Password"})]})]})}),n.jsx(Mfe,{isOpen:a,onClose:()=>i(!1),currentStatus:(p==null?void 0:p.two_factor_auth)||!1,onStatusChange:ae})]})},Ffe=()=>{const{user:e}=ra(),t=Vr(),[r,s]=U.useState(!1),[a,i]=U.useState(!1),[o,l]=U.useState(!1),[c,d]=U.useState(!0),[u,p]=U.useState(!1);return n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-primary-900",children:"Profile"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center mb-6 space-x-4",children:[n.jsx("div",{className:"p-3 rounded-full bg-primary-100",children:n.jsx(_i,{className:"w-6 h-6 text-primary-600"})}),n.jsx("h2",{className:"text-xl font-semibold text-primary-900",children:"Personal Information"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Q2,{label:"Name",value:e!=null&&e.first_name||e!=null&&e.last_name?`${(e==null?void 0:e.first_name)||""} ${(e==null?void 0:e.last_name)||""}`.trim():"",icon:_i}),n.jsx(Q2,{label:"Email",value:e==null?void 0:e.email,icon:lg}),n.jsx(Q2,{label:"Role",value:e==null?void 0:e.role,capitalize:!0,icon:hB}),n.jsx(Q2,{label:"Member Since",value:e!=null&&e.created_at?new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"",icon:VR})]})]})}),n.jsx(it,{children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center mb-6 space-x-4",children:[n.jsx("div",{className:"p-3 rounded-full bg-accent-100",children:n.jsx(eo,{className:"w-6 h-6 text-accent-600"})}),n.jsx("h2",{className:"text-xl font-semibold text-primary-900",children:"Account Settings"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(Be,{variant:"secondary",className:"justify-center w-full",onClick:()=>t("/change-password"),children:"Change Password"}),n.jsx("p",{className:"mt-1 text-sm text-center text-primary-500",children:"Update your password regularly to keep your account secure."})]}),n.jsxs("div",{children:[n.jsx(Be,{variant:"secondary",className:"justify-center w-full",onClick:()=>s(!0),children:"Notification Settings"}),n.jsx("p",{className:"mt-1 text-sm text-center text-primary-500",children:"Choose how you'd like to receive updates and alerts."})]}),n.jsxs("div",{children:[n.jsx(Be,{variant:"secondary",className:"justify-center w-full",onClick:()=>i(!0),children:"Two-Factor Authentication"}),n.jsx("p",{className:"mt-1 text-sm text-center text-primary-500",children:"Add an extra layer of protection by enabling 2FA for your account."})]})]})]})})]}),n.jsx(ju,{isOpen:r,onClose:()=>s(!1),title:"Notification Settings",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(W8,{label:"Email Notifications",checked:c,onChange:()=>d(x=>!x)}),n.jsx(W8,{label:"Desktop Notifications",checked:u,onChange:()=>p(x=>!x)}),n.jsx(Be,{className:"justify-center w-full",onClick:()=>s(!1),children:"Save Settings"})]})}),n.jsx(ju,{isOpen:a,onClose:()=>i(!1),title:"Two-Factor Authentication",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{children:o?"Two-Factor Authentication is currently enabled.":"Two-Factor Authentication is currently disabled."}),n.jsx(Be,{className:"justify-center w-full",onClick:()=>{l(!o),i(!1)},children:o?"Disable 2FA":"Enable 2FA"})]})})]})},Q2=({label:e,value:t,capitalize:r=!1,icon:s})=>n.jsxs("div",{className:"flex items-start space-x-3",children:[s&&n.jsx("div",{className:"pt-1 text-primary-600",children:n.jsx(s,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium text-primary-600",children:e}),n.jsx("p",{className:`text-primary-900 ${r?"capitalize":""}`,children:t||""})]})]}),W8=({label:e,checked:t,onChange:r})=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:t,onChange:r,className:"form-checkbox"}),n.jsx("span",{children:e})]});function C3(){const e=U.useContext(l7);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const S3="bf_attempts",E3="mfa_attempts",L4=5,LL=5,PL=900*1e3,ev=8;function Dfe(e){try{const t=`${S3}:${e.toLowerCase()}`,r=sessionStorage.getItem(t);let s={attempts:0,firstAttemptAt:Date.now()};return r&&(s=JSON.parse(r)),s.lockedUntil&&Date.now()>s.lockedUntil&&(s={attempts:0,firstAttemptAt:Date.now()}),s.attempts=(s.attempts||0)+1,s.attempts>=L4&&(s.lockedUntil=Date.now()+PL),sessionStorage.setItem(t,JSON.stringify(s)),s}catch{return{attempts:1,firstAttemptAt:Date.now()}}}function yw(e){try{const t=`${S3}:${e.toLowerCase()}`,r=sessionStorage.getItem(t);if(!r)return null;const s=JSON.parse(r);return s.lockedUntil&&Date.now()>s.lockedUntil?(sessionStorage.removeItem(t),null):s}catch{return null}}function H8(e){try{const t=`${S3}:${e.toLowerCase()}`;sessionStorage.removeItem(t)}catch{}}function Ife(e){try{const t=`${E3}:${e.toLowerCase()}`,r=sessionStorage.getItem(t);let s={attempts:0,firstAttemptAt:Date.now()};return r&&(s=JSON.parse(r)),s.lockedUntil&&Date.now()>s.lockedUntil&&(s={attempts:0,firstAttemptAt:Date.now()}),s.attempts=(s.attempts||0)+1,s.attempts>=LL&&(s.lockedUntil=Date.now()+PL),sessionStorage.setItem(t,JSON.stringify(s)),s}catch{return{attempts:1,firstAttemptAt:Date.now()}}}function Rfe(e){try{const t=`${E3}:${e.toLowerCase()}`,r=sessionStorage.getItem(t);if(!r)return null;const s=JSON.parse(r);return s.lockedUntil&&Date.now()>s.lockedUntil?(sessionStorage.removeItem(t),null):s}catch{return null}}function V8(e){try{const t=`${E3}:${e.toLowerCase()}`;sessionStorage.removeItem(t)}catch{}}const Ofe=()=>{const e=Vr(),{login:t,verifyMFA:r,resendMFA:s,isAuthenticated:a}=C3(),[i,o]=U.useState(!1),[l,c]=U.useState(!1),[d,u]=U.useState(null),[p,x]=U.useState("email"),[f,y]=U.useState(""),[v,_]=U.useState(null),[k,S]=U.useState(5),[M,T]=U.useState(!1),O=ku({mode:"onBlur"}),A=ku({mode:"onBlur"}),C=ku({mode:"onBlur"}),N=U.useMemo(()=>f?yw(f):null,[f,p]),E=U.useMemo(()=>f?Rfe(f):null,[f,p]),z=U.useMemo(()=>!!(N!=null&&N.lockedUntil&&Date.now()<N.lockedUntil),[N]),P=U.useMemo(()=>!!(E!=null&&E.lockedUntil&&Date.now()<E.lockedUntil),[E]);U.useEffect(()=>{a&&e("/dashboard")},[a,e]),U.useEffect(()=>{if(!v)return;const se=setInterval(()=>{S(oe=>oe<=1?(e("/auth/secure-password-change"),0):oe-1)},1e3);return()=>clearInterval(se)},[v,e]);const I=async se=>{o(!0),u(null);try{const oe=se.email.trim().toLowerCase();if(!oe)throw new Error("Email is required");const ee=yw(oe);if(ee!=null&&ee.lockedUntil&&Date.now()<ee.lockedUntil){const B=Math.ceil((ee.lockedUntil-Date.now())/6e4);u(`Too many failed attempts. Try again in ~${B} minute(s).`),o(!1);return}y(oe),x("password")}catch(oe){u((oe==null?void 0:oe.message)||"Error validating email. Please try again.")}finally{o(!1)}},W=async se=>{if(i)return;o(!0),u(null);const oe=f.trim().toLowerCase();try{const ee=yw(oe);if(ee!=null&&ee.lockedUntil&&Date.now()<ee.lockedUntil){const Q=Math.ceil((ee.lockedUntil-Date.now())/6e4);u(`Too many failed attempts. Try again in ~${Q} minute(s).`),o(!1);return}const B=se.password||"";if(B.length<ev){u(`Password must be at least ${ev} characters.`),o(!1);return}const q=await t({email:oe,password:B});q.requiresMFA&&q.email?(y(q.email),x("mfa"),H8(oe),V8(oe)):(H8(oe),e("/dashboard"))}catch(ee){const B=ee instanceof Error?ee.message:String(ee);if(B.includes("PASSWORD_EXPIRED")||B.includes("password has expired")){_(oe),S(5);return}const q=Dfe(oe);if(q.lockedUntil&&Date.now()<q.lockedUntil){const K=Math.ceil((q.lockedUntil-Date.now())/6e4);u(`Too many failed attempts. Locked out for ${K} minute(s).`),o(!1);return}const Q=q.attempts?Math.max(0,L4-q.attempts):L4-1;u(ee instanceof Error?ee.message:`Invalid credentials. ${Q} attempt(s) remaining.`)}finally{o(!1)}},Z=async se=>{if(!(i||P)){o(!0),u(null);try{await r({email:f,code:se.totpCode}),V8(f),e("/dashboard")}catch{const ee=Ife(f);if(ee.lockedUntil&&Date.now()<ee.lockedUntil){const q=Math.ceil((ee.lockedUntil-Date.now())/6e4);u(`Too many MFA attempts. Try again in ${q} minute(s).`),o(!1);return}const B=Math.max(0,LL-ee.attempts);u(`Invalid code. ${B} attempt(s) left.`)}finally{o(!1)}}},Y=async()=>{if(!(M||i)){T(!0),u(null);try{await s({email:f}),u("New code sent! Check your app."),C.reset()}catch(se){u(se instanceof Error?se.message:"Failed to resend code")}finally{T(!1)}}},te=()=>{x("email"),y(""),u(null),A.reset()},ie=()=>{x("password"),u(null),C.reset()},le=()=>{e("/auth/secure-password-change")};return n.jsxs(n.Fragment,{children:[v&&n.jsx("div",{className:"mb-6 p-6 bg-amber-50 border border-amber-300 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(to,{className:"w-6 h-6 text-amber-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-amber-900 mb-2",children:"Password Expired"}),n.jsxs("p",{className:"text-amber-800 text-sm mb-4",children:["Redirecting in"," ",n.jsx("span",{className:"font-bold text-lg",children:k})," second",k!==1?"s":"","."]}),n.jsx("button",{type:"button",onClick:le,className:"inline-block px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-medium rounded transition-colors text-sm",children:"Go now"})]})]})}),!v&&d&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[n.jsx(ei,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),n.jsx("p",{className:"text-red-600 text-sm",children:d})]}),!v&&p==="email"&&n.jsxs("form",{onSubmit:O.handleSubmit(I),className:"space-y-6",autoComplete:"off",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block font-medium text-slate-400 mb-2",children:"Email address"}),n.jsx("input",{id:"email",type:"email",autoComplete:"email",className:`w-full px-4 py-3 border rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${O.formState.errors.email?"border-red-300":"border-slate-300"}`,placeholder:"Enter your email",...O.register("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),O.formState.errors.email&&n.jsx("p",{className:"mt-2 text-sm text-red-600",children:O.formState.errors.email.message})]}),n.jsx("div",{className:"text-center",children:n.jsx("a",{href:"/forgot-password",className:"text-sm font-medium text-teal-600 hover:text-teal-700 transition-colors",children:"Forgot your password?"})}),n.jsx("button",{type:"submit",disabled:i,className:"w-full py-3 px-4 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-400 text-white font-semibold rounded-lg transition-colors flex items-center justify-center gap-2",children:i?n.jsxs(n.Fragment,{children:[n.jsx(Ch,{className:"w-5 h-5 animate-spin"}),"Checking..."]}):"Continue"})]}),!v&&p==="password"&&n.jsxs("form",{onSubmit:A.handleSubmit(W),className:"space-y-6",autoComplete:"off",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email-display",className:"block text-sm font-medium text-slate-700 mb-2",children:"Email address"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"email-display",type:"email",value:f,disabled:!0,className:"w-full px-4 py-3 border border-slate-300 rounded-lg bg-slate-50 text-slate-500 cursor-not-allowed"}),n.jsx("button",{type:"button",onClick:te,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-600 hover:text-slate-900 p-2 transition-colors",title:"Change email",children:n.jsx(Pa,{size:18})})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"password",type:l?"text":"password",autoComplete:"current-password",className:`w-full px-4 py-3 border rounded-lg text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${A.formState.errors.password?"border-red-300":"border-slate-300"}`,placeholder:"Enter your password",...A.register("password",{required:"Password is required",minLength:{value:ev,message:`Password must be at least ${ev} characters`}}),onPaste:se=>se.preventDefault(),onCopy:se=>se.preventDefault()}),n.jsx("button",{type:"button",onClick:()=>c(se=>!se),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-500 hover:text-slate-700 focus:outline-none transition-colors","aria-label":l?"Hide password":"Show password",children:l?n.jsx(Iv,{size:20}):n.jsx(Xl,{size:20})})]}),A.formState.errors.password&&n.jsx("p",{className:"mt-2 text-sm text-red-600",children:A.formState.errors.password.message})]}),z&&(N==null?void 0:N.lockedUntil)&&n.jsx("div",{className:"rounded-lg bg-yellow-50 border border-yellow-200 p-4",children:n.jsxs("p",{className:"text-sm text-yellow-800",children:["Too many failed attempts. Locked until"," ",n.jsx("strong",{children:new Date(N.lockedUntil).toLocaleTimeString()}),"."]})}),n.jsx("button",{type:"submit",disabled:i||z,className:"w-full py-3 px-4 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-400 text-white font-semibold rounded-lg transition-colors flex items-center justify-center gap-2",children:i?n.jsxs(n.Fragment,{children:[n.jsx(Ch,{className:"w-5 h-5 animate-spin"}),"Signing in..."]}):"Sign in"})]}),!v&&p==="mfa"&&n.jsxs("form",{onSubmit:C.handleSubmit(Z),className:"space-y-6",autoComplete:"off",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"totp",className:"block text-sm font-medium text-slate-700 mb-2",children:"Verification Code"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(p7,{className:"h-5 w-5 text-slate-500"})}),n.jsx("input",{id:"totp",type:"text",autoComplete:"one-time-code",className:`block w-full pl-10 pr-3 py-3 border rounded-lg text-slate-900 placeholder-slate-400 text-center text-2xl tracking-widest focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${C.formState.errors.totpCode?"border-red-300":"border-slate-300"}`,placeholder:"000000",maxLength:6,...C.register("totpCode",{required:"Code is required",pattern:{value:/^[0-9]{6}$/,message:"6 digits required"}})})]}),n.jsx("p",{className:"mt-2 text-xs text-slate-600 text-center",children:"Enter the 6-digit code from your authenticator app"}),C.formState.errors.totpCode&&n.jsx("p",{className:"mt-2 text-sm text-red-600 text-center",children:C.formState.errors.totpCode.message})]}),P&&(E==null?void 0:E.lockedUntil)&&n.jsx("div",{className:"rounded-lg bg-yellow-50 border border-yellow-200 p-4",children:n.jsxs("p",{className:"text-sm text-yellow-800",children:["Too many attempts. Try again after"," ",n.jsx("strong",{children:new Date(E.lockedUntil).toLocaleTimeString()}),"."]})}),n.jsx("button",{type:"submit",disabled:i||P,className:"w-full py-3 px-4 bg-slate-600 hover:bg-slate-700 disabled:bg-slate-400 text-white font-semibold rounded-lg transition-colors flex items-center justify-center gap-2",children:i?n.jsxs(n.Fragment,{children:[n.jsx(Ch,{className:"w-5 h-5 animate-spin"}),"Verifying..."]}):"Verify Code"}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("button",{type:"button",onClick:Y,disabled:M||i||P,className:"flex items-center gap-2 text-teal-600 hover:text-teal-700 disabled:text-slate-400 text-sm",children:[n.jsx(Za,{className:`w-4 h-4 ${M?"animate-spin":""}`}),"Resend Code"]})}),n.jsx("button",{type:"button",onClick:ie,className:"w-full py-2 text-slate-600 hover:text-slate-900 transition-colors text-sm",children:"Back to login"})]})]})},Bfe=()=>{const e=Vr(),[t,r]=U.useState({username:"",email:"",password:"",first_name:"",last_name:"",role:"user"}),[s,a]=U.useState(null),[i,o]=U.useState(null),l=d=>{r({...t,[d.target.name]:d.target.value})},c=async d=>{var u,p;d.preventDefault(),a(null),o(null);try{await Pt.post("/api/auth/register",t),o(" Registration successful! Redirecting..."),setTimeout(()=>e("/login"),2e3)}catch(x){a(((p=(u=x.response)==null?void 0:u.data)==null?void 0:p.message)||" Registration failed.")}};return n.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-gray-100 to-blue-100",children:n.jsxs("form",{onSubmit:c,className:"p-10 space-y-5 w-full max-w-md bg-white rounded-2xl shadow-lg",children:[n.jsx("h2",{className:"text-3xl font-semibold text-center text-blue-600",children:"Create Account"}),s&&n.jsx("div",{className:"px-4 py-2 text-red-700 bg-red-100 rounded",children:s}),i&&n.jsx("div",{className:"px-4 py-2 text-green-700 bg-green-100 rounded",children:i}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"Username"}),n.jsx("input",{type:"text",name:"username",value:t.username,onChange:l,className:"p-2 w-full rounded border focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"Email"}),n.jsx("input",{type:"email",name:"email",value:t.email,onChange:l,className:"p-2 w-full rounded border focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"Password"}),n.jsx("input",{type:"password",name:"password",value:t.password,onChange:l,className:"p-2 w-full rounded border focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"First Name"}),n.jsx("input",{type:"text",name:"first_name",value:t.first_name,onChange:l,className:"p-2 w-full rounded border focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"Last Name"}),n.jsx("input",{type:"text",name:"last_name",value:t.last_name,onChange:l,className:"p-2 w-full rounded border focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 font-medium text-gray-700",children:"Role"}),n.jsxs("select",{name:"role",value:t.role,onChange:l,className:"p-2 w-full rounded border focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"admin",children:"Admin"})]})]}),n.jsx("button",{type:"submit",className:"py-2 w-full font-medium text-white bg-blue-600 rounded transition-colors hover:bg-blue-700",children:"Register"})]})})},zfe=()=>{const e=Vr(),{register:t,handleSubmit:r,formState:{errors:s}}=ku(),[a,i]=U.useState(!1),[o,l]=U.useState(!1),[c,d]=U.useState(""),u=async x=>{i(!0);try{await Pt.post("https://assets-system-sigma.vercel.app/api/auth/forgot-password",x),l(!0),d(x.email),Ke.success("Reset link sent to your email.")}catch{Ke.error("Error sending reset link. Please try again.")}finally{i(!1)}},p=()=>{e("/login")};return o?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4",children:n.jsx(it,{className:"max-w-md w-full",children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx(la,{className:"w-16 h-16 text-success-600 dark:text-success-400"})}),n.jsx("h2",{className:"text-2xl font-bold text-center text-primary-900 dark:text-primary-50",children:"Check Your Email"}),n.jsxs("div",{className:"text-center space-y-1",children:[n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:"Weve sent a password-reset link to:"}),n.jsx("p",{className:"font-medium text-primary-800 dark:text-primary-200",children:c})]}),n.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg",children:n.jsx("p",{className:"text-sm text-primary-700 dark:text-primary-300",children:"Click the link in the email to create a new password. If you dont see it, check your spam folder."})}),n.jsx(Be,{onClick:p,variant:"primary",fullWidth:!0,className:"bg-accent-600 hover:bg-accent-700 focus:ring-accent-500",children:"Okay, Go to Login"})]})})}):n.jsx("div",{className:"min-h-screen bg-primary-50 dark:bg-primary-900 flex items-center justify-center p-4",children:n.jsxs(it,{className:"w-full max-w-md",children:[n.jsxs("div",{className:"sticky top-0 bg-primary-50 dark:bg-primary-900 border-b border-primary-200 dark:border-primary-700 p-4 flex items-center space-x-2",children:[n.jsx(lg,{className:"w-5 h-5 text-accent-600 dark:text-accent-400"}),n.jsx("h1",{className:"text-xl font-bold text-primary-900 dark:text-primary-50",children:"Forgot Password"})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("p",{className:"text-sm text-center text-primary-600 dark:text-primary-400",children:"Enter your email address and well send you a link to reset your password."}),n.jsxs("form",{onSubmit:r(u),className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-primary-700 dark:text-primary-300",children:"Email address"}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{id:"email",type:"email",autoComplete:"email",className:`
                    block w-full px-3 py-2 rounded-md border
                    bg-primary-50 dark:bg-primary-800
                    text-primary-900 dark:text-primary-100
                    placeholder:text-primary-500 dark:placeholder:text-primary-500
                    focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-accent-500
                    transition-all duration-200
                    ${s.email?"border-error-300":"border-primary-300"}
                  `,...t("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),s.email&&n.jsx("p",{className:"mt-1 text-sm text-error-600 dark:text-error-400",children:s.email.message})]})]}),n.jsx(Be,{type:"submit",variant:"primary",fullWidth:!0,isLoading:a,className:"bg-accent-600 hover:bg-accent-700 focus:ring-accent-500",children:a?n.jsx(Ch,{className:"animate-spin w-5 h-5"}):"Send Reset Link"})]}),n.jsx("div",{className:"text-center",children:n.jsxs("button",{type:"button",onClick:()=>e("/login"),className:"inline-flex items-center text-sm text-accent-600 dark:text-accent-400 hover:text-accent-700 dark:hover:text-accent-300 transition-colors",children:[n.jsx(Pa,{className:"w-4 h-4 mr-1"}),"Back to Login"]})})]})]})})},Ufe=()=>{const{register:e,handleSubmit:t,watch:r,formState:{errors:s}}=ku(),[a]=Du(),i=Vr(),[o,l]=U.useState(!1),c=a.get("token");U.useEffect(()=>{c||(Ke.error("Reset token is missing or invalid."),i("/login"))},[c,i]);const d=async u=>{if(c){if(u.newPassword!==u.confirmPassword){Ke.error("Passwords do not match.");return}l(!0);try{await Pt.post("https://assets-system-sigma.vercel.app/api/auth/reset-password",{token:c,newPassword:u.newPassword}),Ke.success("Password reset successful. You can now log in."),i("/login")}catch{Ke.error("Failed to reset password. Link may be expired.")}finally{l(!1)}}};return n.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white rounded-xl shadow-md",children:[n.jsx("h2",{className:"text-2xl font-semibold text-center text-primary-800",children:"Reset your password"}),n.jsxs("form",{onSubmit:t(d),className:"space-y-6 mt-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-primary-700",children:"New Password"}),n.jsx("input",{type:"password",...e("newPassword",{required:"New password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm 
              focus:outline-none focus:ring-accent-500 focus:border-accent-500 sm:text-sm
              ${s.newPassword?"border-error-300":"border-primary-300"}`}),s.newPassword&&n.jsx("p",{className:"mt-1 text-sm text-error-600",children:s.newPassword.message})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-primary-700",children:"Confirm Password"}),n.jsx("input",{type:"password",...e("confirmPassword",{required:"Please confirm your password",validate:u=>u===r("newPassword")||"Passwords do not match"}),className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm 
              focus:outline-none focus:ring-accent-500 focus:border-accent-500 sm:text-sm
              ${s.confirmPassword?"border-error-300":"border-primary-300"}`}),s.confirmPassword&&n.jsx("p",{className:"mt-1 text-sm text-error-600",children:s.confirmPassword.message})]}),n.jsx(Be,{type:"submit",variant:"primary",fullWidth:!0,isLoading:o,className:"bg-accent-600 hover:bg-accent-700 focus:ring-accent-500",children:o?n.jsx(Ch,{className:"animate-spin w-5 h-5"}):"Reset Password"})]})]})},$fe=()=>{const e=Vr();return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-primary-100 to-primary-50 dark:from-primary-900 dark:via-primary-800 dark:to-primary-900 flex items-center justify-center p-4",children:n.jsxs(it,{className:"w-full max-w-lg shadow-xl",children:[n.jsxs("div",{className:"sticky top-0 bg-primary-50 dark:bg-primary-900 border-b border-primary-200 dark:border-primary-700 p-5 flex items-center space-x-3 rounded-t-xl",children:[n.jsx("div",{className:"p-2 bg-warning-100 dark:bg-warning-900 rounded-full animate-pulse",children:n.jsx(aa,{className:"w-5 h-5 text-warning-600 dark:text-warning-400"})}),n.jsx("h1",{className:"text-xl font-bold text-primary-900 dark:text-primary-50",children:"Page Not Found"})]}),n.jsxs("div",{className:"p-8 space-y-8 text-center",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"text-8xl font-black text-transparent bg-clip-text bg-gradient-to-r from-accent-600 to-accent-500 dark:from-accent-400 dark:to-accent-300 animate-pulse",children:"404"}),n.jsx("div",{className:"absolute -top-4 -left-4 w-24 h-24 bg-accent-200 dark:bg-accent-800 rounded-full blur-3xl opacity-30 animate-ping"}),n.jsx("div",{className:"absolute -bottom-6 -right-6 w-32 h-32 bg-warning-200 dark:bg-warning-800 rounded-full blur-3xl opacity-20 animate-ping delay-300"})]}),n.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[n.jsx("p",{className:"text-lg font-medium text-primary-800 dark:text-primary-200",children:"Oops! Looks like this page took a wrong turn."}),n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 max-w-xs mx-auto",children:"The page might have been moved, deleted, or you followed a broken link."})]}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("svg",{className:"w-32 h-32 text-accent-500 dark:text-accent-400",viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M100 20 L120 80 L180 80 L130 120 L150 180 L100 140 L50 180 L70 120 L20 80 L80 80 Z",fill:"currentColor",opacity:"0.1",className:"animate-spin-slow"}),n.jsx("circle",{cx:"100",cy:"100",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"none"}),n.jsx("circle",{cx:"100",cy:"100",r:"25",fill:"currentColor",className:"animate-pulse"}),n.jsx("text",{x:"100",y:"110",textAnchor:"middle",className:"text-4xl font-bold fill-primary-700 dark:fill-primary-300",children:"?"})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 animate-fadeInUp",children:[n.jsxs(Be,{variant:"primary",fullWidth:!0,className:"bg-accent-600 hover:bg-accent-700 focus:ring-accent-500 flex items-center justify-center space-x-2 transform transition-all hover:scale-105",onClick:()=>e("/dashboard"),children:[n.jsx(ln,{className:"w-4 h-4"}),n.jsx("span",{children:"Go to Dashboard"})]}),n.jsxs(Be,{variant:"secondary",fullWidth:!0,className:"flex items-center justify-center space-x-2 transform transition-all hover:scale-105",onClick:()=>e(-1),children:[n.jsx(Pa,{className:"w-4 h-4"}),n.jsx("span",{children:"Go Back"})]})]}),n.jsxs("p",{className:"text-xs text-primary-500 dark:text-primary-500 pt-4",children:["Need help? Contact"," ",n.jsx("span",{className:"text-accent-600 dark:text-accent-400 font-medium",children:"support@yourapp.com"})]})]})]})})};var sa;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(sa||(sa={}));var G8;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(G8||(G8={}));const jr=sa.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fh=e=>{switch(typeof e){case"undefined":return jr.undefined;case"string":return jr.string;case"number":return Number.isNaN(e)?jr.nan:jr.number;case"boolean":return jr.boolean;case"function":return jr.function;case"bigint":return jr.bigint;case"symbol":return jr.symbol;case"object":return Array.isArray(e)?jr.array:e===null?jr.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?jr.promise:typeof Map<"u"&&e instanceof Map?jr.map:typeof Set<"u"&&e instanceof Set?jr.set:typeof Date<"u"&&e instanceof Date?jr.date:jr.object;default:return jr.unknown}},rr=sa.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Y0 extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof Y0))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,sa.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else s.push(t(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}Y0.create=e=>new Y0(e);const P4=(e,t)=>{let r;switch(e.code){case rr.invalid_type:e.received===jr.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case rr.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,sa.jsonStringifyReplacer)}`;break;case rr.unrecognized_keys:r=`Unrecognized key(s) in object: ${sa.joinValues(e.keys,", ")}`;break;case rr.invalid_union:r="Invalid input";break;case rr.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${sa.joinValues(e.options)}`;break;case rr.invalid_enum_value:r=`Invalid enum value. Expected ${sa.joinValues(e.options)}, received '${e.received}'`;break;case rr.invalid_arguments:r="Invalid function arguments";break;case rr.invalid_return_type:r="Invalid function return type";break;case rr.invalid_date:r="Invalid date";break;case rr.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:sa.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case rr.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case rr.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case rr.custom:r="Invalid input";break;case rr.invalid_intersection_types:r="Intersection results could not be merged";break;case rr.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case rr.not_finite:r="Number must be finite";break;default:r=t.defaultError,sa.assertNever(e)}return{message:r}};let Wfe=P4;function Hfe(){return Wfe}const Vfe=e=>{const{data:t,path:r,errorMaps:s,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function fr(e,t){const r=Hfe(),s=Vfe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===P4?void 0:P4].filter(a=>!!a)});e.common.issues.push(s)}class Fc{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const a of r){if(a.status==="aborted")return ls;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return Fc.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return ls;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const ls=Object.freeze({status:"aborted"}),z1=e=>({status:"dirty",value:e}),vd=e=>({status:"valid",value:e}),q8=e=>e.status==="aborted",K8=e=>e.status==="dirty",jp=e=>e.status==="valid",ky=e=>typeof Promise<"u"&&e instanceof Promise;var Ar;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ar||(Ar={}));class $h{constructor(t,r,s,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Y8=(e,t)=>{if(jp(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Y0(e.common.issues);return this._error=r,this._error}}};function Ss(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:a}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??s??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Ys{get description(){return this._def.description}_getType(t){return fh(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:fh(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Fc,ctx:{common:t.parent.common,data:t.data,parsedType:fh(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(ky(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){const s={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fh(t)},a=this._parseSync({data:t,path:s.path,parent:s});return Y8(s,a)}"~validate"(t){var s,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fh(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return jp(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(s=i==null?void 0:i.message)==null?void 0:s.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>jp(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fh(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(ky(a)?a:Promise.resolve(a));return Y8(s,i)}refine(t,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:rr.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(t){return new Sp({schema:this,typeName:cs.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ah.create(this,this._def)}nullable(){return Ep.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return G0.create(this)}promise(){return Ey.create(this,this._def)}or(t){return Cy.create([this,t],this._def)}and(t){return Sy.create(this,t,this._def)}transform(t){return new Sp({...Ss(this._def),schema:this,typeName:cs.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new D4({...Ss(this._def),innerType:this,defaultValue:r,typeName:cs.ZodDefault})}brand(){return new mme({typeName:cs.ZodBranded,type:this,...Ss(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new I4({...Ss(this._def),innerType:this,catchValue:r,typeName:cs.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return A3.create(this,t)}readonly(){return R4.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Gfe=/^c[^\s-]{8,}$/i,qfe=/^[0-9a-z]+$/,Kfe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Yfe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Zfe=/^[a-z0-9_-]{21}$/i,Xfe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Jfe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Qfe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,eme="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let bw;const tme=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rme=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sme=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ame=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nme=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ime=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,FL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ome=new RegExp(`^${FL}$`);function DL(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function lme(e){return new RegExp(`^${DL(e)}$`)}function cme(e){let t=`${FL}T${DL(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function dme(e,t){return!!((t==="v4"||!t)&&tme.test(e)||(t==="v6"||!t)&&sme.test(e))}function ume(e,t){if(!Xfe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function hme(e,t){return!!((t==="v4"||!t)&&rme.test(e)||(t==="v6"||!t)&&ame.test(e))}class kh extends Ys{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==jr.string){const i=this._getOrReturnCtx(t);return fr(i,{code:rr.invalid_type,expected:jr.string,received:i.parsedType}),ls}const s=new Fc;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),fr(a,{code:rr.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),fr(a,{code:rr.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?fr(a,{code:rr.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&fr(a,{code:rr.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")Qfe.test(t.data)||(a=this._getOrReturnCtx(t,a),fr(a,{validation:"email",code:rr.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")bw||(bw=new RegExp(eme,"u")),bw.test(t.data)||(a=this._getOrReturnCtx(t,a),fr(a,{validation:"emoji",code:rr.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")Yfe.test(t.data)||(a=this._getOrReturnCtx(t,a),fr(a,{validation:"uuid",code:rr.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")Zfe.test(t.data)||(a=this._getOrReturnCtx(t,a),fr(a,{validation:"nanoid",code:rr.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")Gfe.test(t.data)||(a=this._getOrReturnCtx(t,a),fr(a,{validation:"cuid",code:rr.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")qfe.test(t.data)||(a=this._getOrReturnCtx(t,a),fr(a,{validation:"cuid2",code:rr.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")Kfe.test(t.data)||(a=this._getOrReturnCtx(t,a),fr(a,{validation:"ulid",code:rr.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),fr(a,{validation:"url",code:rr.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),fr(a,{validation:"regex",code:rr.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),fr(a,{code:rr.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),fr(a,{code:rr.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),fr(a,{code:rr.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?cme(i).test(t.data)||(a=this._getOrReturnCtx(t,a),fr(a,{code:rr.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?ome.test(t.data)||(a=this._getOrReturnCtx(t,a),fr(a,{code:rr.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?lme(i).test(t.data)||(a=this._getOrReturnCtx(t,a),fr(a,{code:rr.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?Jfe.test(t.data)||(a=this._getOrReturnCtx(t,a),fr(a,{validation:"duration",code:rr.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?dme(t.data,i.version)||(a=this._getOrReturnCtx(t,a),fr(a,{validation:"ip",code:rr.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?ume(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),fr(a,{validation:"jwt",code:rr.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?hme(t.data,i.version)||(a=this._getOrReturnCtx(t,a),fr(a,{validation:"cidr",code:rr.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?nme.test(t.data)||(a=this._getOrReturnCtx(t,a),fr(a,{validation:"base64",code:rr.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?ime.test(t.data)||(a=this._getOrReturnCtx(t,a),fr(a,{validation:"base64url",code:rr.invalid_string,message:i.message}),s.dirty()):sa.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(a=>t.test(a),{validation:r,code:rr.invalid_string,...Ar.errToObj(s)})}_addCheck(t){return new kh({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ar.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ar.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ar.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ar.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ar.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ar.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ar.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ar.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ar.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ar.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ar.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ar.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ar.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ar.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ar.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ar.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ar.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ar.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ar.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ar.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ar.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ar.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ar.errToObj(r)})}nonempty(t){return this.min(1,Ar.errToObj(t))}trim(){return new kh({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new kh({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new kh({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}kh.create=e=>new kh({checks:[],typeName:cs.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Ss(e)});function fme(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=r>s?r:s,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class Zx extends Ys{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==jr.number){const i=this._getOrReturnCtx(t);return fr(i,{code:rr.invalid_type,expected:jr.number,received:i.parsedType}),ls}let s;const a=new Fc;for(const i of this._def.checks)i.kind==="int"?sa.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),fr(s,{code:rr.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),fr(s,{code:rr.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),fr(s,{code:rr.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?fme(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),fr(s,{code:rr.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),fr(s,{code:rr.not_finite,message:i.message}),a.dirty()):sa.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ar.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ar.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ar.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ar.toString(r))}setLimit(t,r,s,a){return new Zx({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Ar.toString(a)}]})}_addCheck(t){return new Zx({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ar.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ar.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ar.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ar.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ar.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ar.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ar.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ar.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ar.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&sa.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Zx.create=e=>new Zx({checks:[],typeName:cs.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ss(e)});class Xx extends Ys{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==jr.bigint)return this._getInvalidInput(t);let s;const a=new Fc;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),fr(s,{code:rr.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),fr(s,{code:rr.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),fr(s,{code:rr.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):sa.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return fr(r,{code:rr.invalid_type,expected:jr.bigint,received:r.parsedType}),ls}gte(t,r){return this.setLimit("min",t,!0,Ar.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ar.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ar.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ar.toString(r))}setLimit(t,r,s,a){return new Xx({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Ar.toString(a)}]})}_addCheck(t){return new Xx({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ar.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ar.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ar.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ar.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ar.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Xx.create=e=>new Xx({checks:[],typeName:cs.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Ss(e)});class Z8 extends Ys{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==jr.boolean){const s=this._getOrReturnCtx(t);return fr(s,{code:rr.invalid_type,expected:jr.boolean,received:s.parsedType}),ls}return vd(t.data)}}Z8.create=e=>new Z8({typeName:cs.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ss(e)});class jy extends Ys{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==jr.date){const i=this._getOrReturnCtx(t);return fr(i,{code:rr.invalid_type,expected:jr.date,received:i.parsedType}),ls}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return fr(i,{code:rr.invalid_date}),ls}const s=new Fc;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),fr(a,{code:rr.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),fr(a,{code:rr.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):sa.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new jy({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ar.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ar.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}jy.create=e=>new jy({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:cs.ZodDate,...Ss(e)});class X8 extends Ys{_parse(t){if(this._getType(t)!==jr.symbol){const s=this._getOrReturnCtx(t);return fr(s,{code:rr.invalid_type,expected:jr.symbol,received:s.parsedType}),ls}return vd(t.data)}}X8.create=e=>new X8({typeName:cs.ZodSymbol,...Ss(e)});class J8 extends Ys{_parse(t){if(this._getType(t)!==jr.undefined){const s=this._getOrReturnCtx(t);return fr(s,{code:rr.invalid_type,expected:jr.undefined,received:s.parsedType}),ls}return vd(t.data)}}J8.create=e=>new J8({typeName:cs.ZodUndefined,...Ss(e)});class Q8 extends Ys{_parse(t){if(this._getType(t)!==jr.null){const s=this._getOrReturnCtx(t);return fr(s,{code:rr.invalid_type,expected:jr.null,received:s.parsedType}),ls}return vd(t.data)}}Q8.create=e=>new Q8({typeName:cs.ZodNull,...Ss(e)});class eE extends Ys{constructor(){super(...arguments),this._any=!0}_parse(t){return vd(t.data)}}eE.create=e=>new eE({typeName:cs.ZodAny,...Ss(e)});class tE extends Ys{constructor(){super(...arguments),this._unknown=!0}_parse(t){return vd(t.data)}}tE.create=e=>new tE({typeName:cs.ZodUnknown,...Ss(e)});class Wh extends Ys{_parse(t){const r=this._getOrReturnCtx(t);return fr(r,{code:rr.invalid_type,expected:jr.never,received:r.parsedType}),ls}}Wh.create=e=>new Wh({typeName:cs.ZodNever,...Ss(e)});class rE extends Ys{_parse(t){if(this._getType(t)!==jr.undefined){const s=this._getOrReturnCtx(t);return fr(s,{code:rr.invalid_type,expected:jr.void,received:s.parsedType}),ls}return vd(t.data)}}rE.create=e=>new rE({typeName:cs.ZodVoid,...Ss(e)});class G0 extends Ys{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),a=this._def;if(r.parsedType!==jr.array)return fr(r,{code:rr.invalid_type,expected:jr.array,received:r.parsedType}),ls;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(fr(r,{code:o?rr.too_big:rr.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(fr(r,{code:rr.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(fr(r,{code:rr.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new $h(r,o,r.path,l)))).then(o=>Fc.mergeArray(s,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new $h(r,o,r.path,l)));return Fc.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new G0({...this._def,minLength:{value:t,message:Ar.toString(r)}})}max(t,r){return new G0({...this._def,maxLength:{value:t,message:Ar.toString(r)}})}length(t,r){return new G0({...this._def,exactLength:{value:t,message:Ar.toString(r)}})}nonempty(t){return this.min(1,t)}}G0.create=(e,t)=>new G0({type:e,minLength:null,maxLength:null,exactLength:null,typeName:cs.ZodArray,...Ss(t)});function Um(e){if(e instanceof gi){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=Ah.create(Um(s))}return new gi({...e._def,shape:()=>t})}else return e instanceof G0?new G0({...e._def,type:Um(e.element)}):e instanceof Ah?Ah.create(Um(e.unwrap())):e instanceof Ep?Ep.create(Um(e.unwrap())):e instanceof Xf?Xf.create(e.items.map(t=>Um(t))):e}class gi extends Ys{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=sa.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==jr.object){const d=this._getOrReturnCtx(t);return fr(d,{code:rr.invalid_type,expected:jr.object,received:d.parsedType}),ls}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Wh&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],p=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new $h(a,p,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Wh){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(fr(a,{code:rr.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const p=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new $h(a,p,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const p=await u.key,x=await u.value;d.push({key:p,value:x,alwaysSet:u.alwaysSet})}return d}).then(d=>Fc.mergeObjectSync(s,d)):Fc.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return Ar.errToObj,new gi({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,s).message)??s.defaultError;return r.code==="unrecognized_keys"?{message:Ar.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new gi({...this._def,unknownKeys:"strip"})}passthrough(){return new gi({...this._def,unknownKeys:"passthrough"})}extend(t){return new gi({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new gi({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:cs.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new gi({...this._def,catchall:t})}pick(t){const r={};for(const s of sa.objectKeys(t))t[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new gi({...this._def,shape:()=>r})}omit(t){const r={};for(const s of sa.objectKeys(this.shape))t[s]||(r[s]=this.shape[s]);return new gi({...this._def,shape:()=>r})}deepPartial(){return Um(this)}partial(t){const r={};for(const s of sa.objectKeys(this.shape)){const a=this.shape[s];t&&!t[s]?r[s]=a:r[s]=a.optional()}return new gi({...this._def,shape:()=>r})}required(t){const r={};for(const s of sa.objectKeys(this.shape))if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Ah;)i=i._def.innerType;r[s]=i}return new gi({...this._def,shape:()=>r})}keyof(){return IL(sa.objectKeys(this.shape))}}gi.create=(e,t)=>new gi({shape:()=>e,unknownKeys:"strip",catchall:Wh.create(),typeName:cs.ZodObject,...Ss(t)});gi.strictCreate=(e,t)=>new gi({shape:()=>e,unknownKeys:"strict",catchall:Wh.create(),typeName:cs.ZodObject,...Ss(t)});gi.lazycreate=(e,t)=>new gi({shape:e,unknownKeys:"strip",catchall:Wh.create(),typeName:cs.ZodObject,...Ss(t)});class Cy extends Ys{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Y0(l.ctx.common.issues));return fr(r,{code:rr.invalid_union,unionErrors:o}),ls}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Y0(c));return fr(r,{code:rr.invalid_union,unionErrors:l}),ls}}get options(){return this._def.options}}Cy.create=(e,t)=>new Cy({options:e,typeName:cs.ZodUnion,...Ss(t)});function F4(e,t){const r=fh(e),s=fh(t);if(e===t)return{valid:!0,data:e};if(r===jr.object&&s===jr.object){const a=sa.objectKeys(t),i=sa.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=F4(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===jr.array&&s===jr.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=F4(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===jr.date&&s===jr.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Sy extends Ys{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(q8(i)||q8(o))return ls;const l=F4(i.value,o.value);return l.valid?((K8(i)||K8(o))&&r.dirty(),{status:r.value,value:l.data}):(fr(s,{code:rr.invalid_intersection_types}),ls)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Sy.create=(e,t,r)=>new Sy({left:e,right:t,typeName:cs.ZodIntersection,...Ss(r)});class Xf extends Ys{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==jr.array)return fr(s,{code:rr.invalid_type,expected:jr.array,received:s.parsedType}),ls;if(s.data.length<this._def.items.length)return fr(s,{code:rr.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ls;!this._def.rest&&s.data.length>this._def.items.length&&(fr(s,{code:rr.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new $h(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>Fc.mergeArray(r,o)):Fc.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Xf({...this._def,rest:t})}}Xf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xf({items:e,typeName:cs.ZodTuple,rest:null,...Ss(t)})};class sE extends Ys{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==jr.map)return fr(s,{code:rr.invalid_type,expected:jr.map,received:s.parsedType}),ls;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new $h(s,l,s.path,[d,"key"])),value:i._parse(new $h(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return ls;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return ls;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}sE.create=(e,t,r)=>new sE({valueType:t,keyType:e,typeName:cs.ZodMap,...Ss(r)});class Jx extends Ys{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==jr.set)return fr(s,{code:rr.invalid_type,expected:jr.set,received:s.parsedType}),ls;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(fr(s,{code:rr.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(fr(s,{code:rr.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return ls;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new $h(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Jx({...this._def,minSize:{value:t,message:Ar.toString(r)}})}max(t,r){return new Jx({...this._def,maxSize:{value:t,message:Ar.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Jx.create=(e,t)=>new Jx({valueType:e,minSize:null,maxSize:null,typeName:cs.ZodSet,...Ss(t)});class aE extends Ys{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}aE.create=(e,t)=>new aE({getter:e,typeName:cs.ZodLazy,...Ss(t)});class nE extends Ys{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return fr(r,{received:r.data,code:rr.invalid_literal,expected:this._def.value}),ls}return{status:"valid",value:t.data}}get value(){return this._def.value}}nE.create=(e,t)=>new nE({value:e,typeName:cs.ZodLiteral,...Ss(t)});function IL(e,t){return new Cp({values:e,typeName:cs.ZodEnum,...Ss(t)})}class Cp extends Ys{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return fr(r,{expected:sa.joinValues(s),received:r.parsedType,code:rr.invalid_type}),ls}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return fr(r,{received:r.data,code:rr.invalid_enum_value,options:s}),ls}return vd(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Cp.create(t,{...this._def,...r})}exclude(t,r=this._def){return Cp.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}Cp.create=IL;class iE extends Ys{_parse(t){const r=sa.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==jr.string&&s.parsedType!==jr.number){const a=sa.objectValues(r);return fr(s,{expected:sa.joinValues(a),received:s.parsedType,code:rr.invalid_type}),ls}if(this._cache||(this._cache=new Set(sa.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=sa.objectValues(r);return fr(s,{received:s.data,code:rr.invalid_enum_value,options:a}),ls}return vd(t.data)}get enum(){return this._def.values}}iE.create=(e,t)=>new iE({values:e,typeName:cs.ZodNativeEnum,...Ss(t)});class Ey extends Ys{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==jr.promise&&r.common.async===!1)return fr(r,{code:rr.invalid_type,expected:jr.promise,received:r.parsedType}),ls;const s=r.parsedType===jr.promise?r.data:Promise.resolve(r.data);return vd(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ey.create=(e,t)=>new Ey({type:e,typeName:cs.ZodPromise,...Ss(t)});class Sp extends Ys{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===cs.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{fr(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ls;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?ls:c.status==="dirty"||r.value==="dirty"?z1(c.value):c});{if(r.value==="aborted")return ls;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?ls:l.status==="dirty"||r.value==="dirty"?z1(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?ls:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?ls:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!jp(o))return ls;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>jp(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):ls);sa.assertNever(a)}}Sp.create=(e,t,r)=>new Sp({schema:e,typeName:cs.ZodEffects,effect:t,...Ss(r)});Sp.createWithPreprocess=(e,t,r)=>new Sp({schema:t,effect:{type:"preprocess",transform:e},typeName:cs.ZodEffects,...Ss(r)});class Ah extends Ys{_parse(t){return this._getType(t)===jr.undefined?vd(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ah.create=(e,t)=>new Ah({innerType:e,typeName:cs.ZodOptional,...Ss(t)});class Ep extends Ys{_parse(t){return this._getType(t)===jr.null?vd(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ep.create=(e,t)=>new Ep({innerType:e,typeName:cs.ZodNullable,...Ss(t)});class D4 extends Ys{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===jr.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}D4.create=(e,t)=>new D4({innerType:e,typeName:cs.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ss(t)});class I4 extends Ys{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return ky(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Y0(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Y0(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}I4.create=(e,t)=>new I4({innerType:e,typeName:cs.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ss(t)});class oE extends Ys{_parse(t){if(this._getType(t)!==jr.nan){const s=this._getOrReturnCtx(t);return fr(s,{code:rr.invalid_type,expected:jr.nan,received:s.parsedType}),ls}return{status:"valid",value:t.data}}}oE.create=e=>new oE({typeName:cs.ZodNaN,...Ss(e)});class mme extends Ys{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class A3 extends Ys{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?ls:i.status==="dirty"?(r.dirty(),z1(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?ls:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,r){return new A3({in:t,out:r,typeName:cs.ZodPipeline})}}class R4 extends Ys{_parse(t){const r=this._def.innerType._parse(t),s=a=>(jp(a)&&(a.value=Object.freeze(a.value)),a);return ky(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}R4.create=(e,t)=>new R4({innerType:e,typeName:cs.ZodReadonly,...Ss(t)});var cs;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(cs||(cs={}));const _w=kh.create;Wh.create;G0.create;const pme=gi.create;Cy.create;Sy.create;Xf.create;Cp.create;Ey.create;Ah.create;Ep.create;const S0=e=>e.trim().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),xme=pme({currentPassword:_w().min(1,"Current password is required"),newPassword:_w().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Must contain an uppercase letter").regex(/[a-z]/,"Must contain a lowercase letter").regex(/\d/,"Must contain a number").regex(/[!@#$%^&*(),.?":{}|<>]/,"Must contain a special character"),confirmPassword:_w()}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}).refine(e=>e.newPassword!==e.currentPassword,{message:"New password must be different from current",path:["newPassword"]}),gme=()=>{const e=Vr(),{user:t}=ra(),[r,s]=U.useState(""),[a,i]=U.useState(""),[o,l]=U.useState(""),[c,d]=U.useState(!1),[u,p]=U.useState(!1),[x,f]=U.useState({text:"",type:""}),[y,v]=U.useState({}),[_,k]=U.useState(0),[S,M]=U.useState(0),[T,O]=U.useState([]),[A,C]=U.useState(null),N=[{label:"At least 8 characters",test:Y=>Y.length>=8},{label:"Contains uppercase letter",test:Y=>/[A-Z]/.test(Y)},{label:"Contains lowercase letter",test:Y=>/[a-z]/.test(Y)},{label:"Contains a number",test:Y=>/\d/.test(Y)},{label:"Contains special character",test:Y=>/[!@#$%^&*(),.?":{}|<>]/.test(Y)}],E=Y=>{if(!Y)return 0;let te=0;return/[a-z]/.test(Y)&&(te+=26),/[A-Z]/.test(Y)&&(te+=26),/\d/.test(Y)&&(te+=10),/[!@#$%^&*(),.?":{}|<>]/.test(Y)&&(te+=32),Math.round(Y.length*Math.log2(te||1))};U.useEffect(()=>{const Y=S0(a),te=S0(o),ie=N.map(se=>({...se,met:se.test(Y)})),le=ie.filter(se=>se.met).length;O(ie),k(le),M(E(Y)),C(Y===te&&te!=="")},[a,o]);const P=_===0?{text:"",color:"",barWidth:0}:_<=2?{text:"Weak",color:"bg-error-500",barWidth:20}:_<=3?{text:"Fair",color:"bg-warning-500",barWidth:40}:_===4?{text:"Good",color:"bg-accent-500",barWidth:70}:{text:"Strong",color:"bg-success-500",barWidth:100},I=()=>{try{return xme.parse({currentPassword:S0(r),newPassword:S0(a),confirmPassword:S0(o)}),v({}),!0}catch(Y){if(Y instanceof Y0){const te={};Y.errors.forEach(ie=>{var le;(le=ie.path)!=null&&le[0]&&(te[ie.path[0]]=ie.message)}),v(te)}return!1}},W=async()=>{var Y,te;if(f({text:"",type:""}),!(t!=null&&t.id)){f({text:"User information not available. Please refresh the page.",type:"error"});return}if(I()){if(S<60){f({text:"Password is too weak. Aim for 60+ bits of entropy.",type:"error"});return}try{d(!0),await ps.put(`/users/${t.id}/password`,{current_password:S0(r),new_password:S0(a)}),f({text:"Password changed successfully!",type:"success"}),s(""),i(""),l(""),v({})}catch(ie){console.error("Error changing password:",ie),f({text:((te=(Y=ie.response)==null?void 0:Y.data)==null?void 0:te.detail)||ie.message||"Something went wrong. Please try again later.",type:"error"})}finally{d(!1)}}},Z=()=>p(Y=>!Y);return n.jsxs("div",{className:"p-0 sm:p-0 space-y-2",children:[n.jsxs("div",{className:"sticky top-0 z-40 bg-primary-50 dark:bg-primary-900 border-b border-primary-200 dark:border-primary-700 flex flex-col sm:flex-row sm:items-center justify-between gap-3 p-4 transition-colors duration-200",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(La,{className:"w-5 h-5 text-accent-600 dark:text-accent-400"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg sm:text-xl font-bold text-primary-900 dark:text-primary-50",children:"Change Password"}),n.jsx("p",{className:"text-xs sm:text-sm text-primary-600 dark:text-primary-400",children:"Update your account password securely"})]})]}),n.jsxs(Be,{onClick:()=>e(-1),variant:"secondary",className:"flex items-center space-x-2",size:"sm",children:[n.jsx(Pa,{className:"w-3 h-3"}),n.jsx("span",{children:"Back"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 sm:gap-4 p-4",children:[n.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[n.jsxs(it,{className:"border-primary-200 dark:border-primary-700",children:[n.jsx("div",{className:"p-3 border-b border-primary-200 dark:border-primary-700",children:n.jsxs("h3",{className:"text-sm font-semibold text-primary-900 dark:text-primary-50 flex items-center",children:[n.jsx("span",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400 rounded-full flex items-center justify-center mr-3",children:n.jsx(Mu,{className:"w-4 h-4"})}),"Why Change Your Password?"]})}),n.jsx("div",{className:"p-3 space-y-2",children:["Enhances account security","Protects against unauthorized access","Recommended every 36 months","Required if you suspect a breach"].map(Y=>n.jsxs("div",{className:"flex items-start text-xs text-primary-600 dark:text-primary-400",children:[n.jsx(la,{className:"w-3.5 h-3.5 text-success-600 dark:text-success-400 mr-2 mt-0.5 flex-shrink-0"}),n.jsx("span",{children:Y})]},Y))})]}),n.jsxs(it,{className:"bg-warning-50 dark:bg-warning-950 border-warning-200 dark:border-warning-800",children:[n.jsx("div",{className:"p-3 border-b border-warning-200 dark:border-warning-800",children:n.jsxs("h3",{className:"text-sm font-semibold text-warning-900 dark:text-warning-100 flex items-center",children:[n.jsx("span",{className:"w-8 h-8 bg-warning-100 dark:bg-warning-900 text-warning-700 dark:text-warning-300 rounded-full flex items-center justify-center mr-3",children:n.jsx(aa,{className:"w-4 h-4"})}),"Password Requirements"]})}),n.jsx("div",{className:"p-3 space-y-1.5",children:N.map((Y,te)=>n.jsxs("div",{className:"flex items-start text-xs text-warning-800 dark:text-warning-200",children:[n.jsx("span",{className:"font-medium mr-2",children:""}),Y.label]},te))})]})]}),n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(it,{className:"border-primary-200 dark:border-primary-700",children:[n.jsx("div",{className:"p-3 border-b border-primary-200 dark:border-primary-700",children:n.jsxs("h2",{className:"text-sm font-semibold text-primary-900 dark:text-primary-50 flex items-center",children:[n.jsx(Jl,{className:"w-4 h-4 mr-1.5 text-accent-600 dark:text-accent-400"}),"Update Password"]})}),n.jsxs("div",{className:"p-3 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"current-password",className:"block text-xs font-medium text-primary-700 dark:text-primary-300 mb-1",children:"Current Password"}),n.jsx("input",{id:"current-password",type:u?"text":"password",placeholder:"Enter current password",value:r,onChange:Y=>s(S0(Y.target.value)),className:`w-full px-3 py-2 text-sm border rounded-md
                    bg-primary-50 dark:bg-primary-800 text-primary-900 dark:text-primary-100
                    placeholder:text-primary-500 dark:placeholder:text-primary-500
                    focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400
                    focus:border-accent-500 dark:focus:border-accent-400 transition-all duration-200
                    ${y.currentPassword?"border-error-500":"border-primary-200 dark:border-primary-700"}`,disabled:c,required:!0}),y.currentPassword&&n.jsx("p",{className:"mt-1 text-xs text-error-600 dark:text-error-400",children:y.currentPassword})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"new-password",className:"block text-xs font-medium text-primary-700 dark:text-primary-300 mb-1",children:"New Password"}),n.jsx("input",{id:"new-password",type:u?"text":"password",placeholder:"Create a strong password",value:a,onChange:Y=>i(S0(Y.target.value)),className:`w-full px-3 py-2 text-sm border rounded-md
                    bg-primary-50 dark:bg-primary-800 text-primary-900 dark:text-primary-100
                    placeholder:text-primary-500 dark:placeholder:text-primary-500
                    focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400
                    focus:border-accent-500 dark:focus:border-accent-400 transition-all duration-200
                    ${y.newPassword?"border-error-500":"border-primary-200 dark:border-primary-700"}`,disabled:c,required:!0}),y.newPassword&&n.jsx("p",{className:"mt-1 text-xs text-error-600 dark:text-error-400",children:y.newPassword}),a&&n.jsxs("div",{className:"mt-3 p-3 bg-primary-50 dark:bg-primary-800 rounded-lg border border-primary-200 dark:border-primary-700 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{className:"font-medium text-primary-700 dark:text-primary-300",children:"Strength:"}),n.jsx("span",{className:`font-bold ${_<=2?"text-error-600":_<=3?"text-warning-600":_===4?"text-accent-600":"text-success-600"}`,children:P.text})]}),n.jsx("div",{className:"w-full h-1.5 bg-primary-200 dark:bg-primary-700 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full transition-all duration-500 ease-out ${P.color}`,style:{width:`${P.barWidth}%`}})}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-primary-600 dark:text-primary-400",children:[n.jsxs("span",{children:["Entropy: ",S," bits"]}),n.jsx("span",{children:S<60?"Weak":S<80?"Moderate":S<100?"Strong":"Very Strong"})]}),n.jsx("ul",{className:"mt-2 space-y-1",children:T.map((Y,te)=>n.jsxs("li",{className:`flex items-center space-x-1.5 text-xs transition-all ${Y.met?"text-success-600 dark:text-success-400":"text-primary-400 dark:text-primary-500"}`,children:[n.jsx(vme,{checked:Y.met}),n.jsx("span",{children:Y.label})]},te))})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirm-password",className:"block text-xs font-medium text-primary-700 dark:text-primary-300 mb-1",children:"Confirm New Password"}),n.jsx("input",{id:"confirm-password",type:u?"text":"password",placeholder:"Re-enter new password",value:o,onChange:Y=>l(S0(Y.target.value)),className:`w-full px-3 py-2 text-sm border rounded-md
                    bg-primary-50 dark:bg-primary-800 text-primary-900 dark:text-primary-100
                    placeholder:text-primary-500 dark:placeholder:text-primary-500
                    focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400
                    focus:border-accent-500 dark:focus:border-accent-400 transition-all duration-200
                    ${y.confirmPassword?"border-error-500":A===!1?"border-warning-500":"border-primary-200 dark:border-primary-700"}`,disabled:c,required:!0}),y.confirmPassword&&n.jsx("p",{className:"mt-1 text-xs text-error-600 dark:text-error-400",children:y.confirmPassword}),o&&A!==null&&!y.confirmPassword&&n.jsx("p",{className:`mt-1 text-xs flex items-center ${A?"text-success-600 dark:text-success-400":"text-warning-600 dark:text-warning-400"}`,children:A?n.jsxs(n.Fragment,{children:[n.jsx(la,{className:"w-3.5 h-3.5 mr-1"}),n.jsx("span",{children:"Passwords match"})]}):n.jsxs(n.Fragment,{children:[n.jsx(mp,{className:"w-3.5 h-3.5 mr-1"}),n.jsx("span",{children:"Passwords do not match"})]})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{type:"button",onClick:Z,disabled:c,className:"text-primary-600 dark:text-primary-400 hover:text-accent-600 dark:hover:text-accent-400 transition-colors",children:u?n.jsx(Iv,{className:"w-4 h-4"}):n.jsx(Xl,{className:"w-4 h-4"})}),n.jsx("label",{className:"text-xs text-primary-700 dark:text-primary-300 cursor-pointer select-none",children:"Show passwords"})]}),x.text&&n.jsx("div",{className:`p-3 rounded-lg text-xs font-medium transition-all border ${x.type==="error"?"bg-error-50 dark:bg-error-950 text-error-700 dark:text-error-300 border-error-200 dark:border-error-800":"bg-success-50 dark:bg-success-950 text-success-700 dark:text-success-300 border-success-200 dark:border-success-800"}`,children:x.text}),n.jsx(Be,{onClick:W,disabled:c,variant:"success",className:"w-full flex items-center justify-center space-x-2",size:"md",children:c?n.jsxs(n.Fragment,{children:[n.jsx(Ch,{className:"animate-spin w-4 h-4"}),n.jsx("span",{children:"Saving..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(bi,{className:"w-4 h-4"}),n.jsx("span",{children:"Save New Password"})]})})]})]})})]})]})},vme=({checked:e})=>n.jsx("svg",{className:`w-3.5 h-3.5 transition-all duration-300 ${e?"opacity-100 scale-100":"opacity-0 scale-50"}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M20 6L9 17l-5-5",children:e&&n.jsxs(n.Fragment,{children:[n.jsx("animate",{attributeName:"stroke-dasharray",from:"0, 28",to:"28, 28",dur:"0.3s",fill:"freeze"}),n.jsx("animate",{attributeName:"stroke-dashoffset",from:"28",to:"0",dur:"0.3s",fill:"freeze"})]})})}),yme=()=>{const[e,t]=U.useState(""),[r,s]=U.useState(!1),a=Vr(),i=async()=>{if(!e.trim()){Ke.error("Please enter the 2FA code");return}s(!0);const o=sessionStorage.getItem("tempToken");try{const l=await fetch("/2fa/verify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({code:e.trim()})}),c=await l.json();if(!l.ok)throw new Error(c.message||"Invalid code");sessionStorage.setItem("token",c.token),sessionStorage.removeItem("tempToken"),Ke.success("2FA verified successfully!"),a("/dashboard")}catch(l){Ke.error(l.message)}finally{s(!1)}};return n.jsx("div",{className:"min-h-screen bg-primary-50 dark:bg-primary-900 flex items-center justify-center p-4",children:n.jsxs(it,{className:"w-full max-w-sm",children:[n.jsxs("div",{className:"sticky top-0 bg-primary-50 dark:bg-primary-900 border-b border-primary-200 dark:border-primary-700 p-4 flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>a("/login"),className:"p-2 rounded-lg text-primary-600 dark:text-primary-400 hover:bg-primary-100 dark:hover:bg-primary-800 transition-colors",children:n.jsx(Pa,{className:"w-5 h-5"})}),n.jsx(La,{className:"w-5 h-5 text-accent-600 dark:text-accent-400"}),n.jsx("h1",{className:"text-xl font-bold text-primary-900 dark:text-primary-50",children:"Two-Factor Authentication"})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"text-center space-y-2",children:n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:"Enter the 6-digit code from your authenticator app."})}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-1",children:"2FA Code"}),n.jsx("input",{id:"code",type:"text",inputMode:"numeric",maxLength:6,placeholder:"000000",value:e,onChange:o=>t(o.target.value.replace(/\D/g,"").slice(0,6)),onKeyDown:o=>o.key==="Enter"&&i(),className:`
                block w-full px-3 py-2 text-center text-lg font-mono tracking-widest
                border rounded-md bg-primary-50 dark:bg-primary-800
                text-primary-900 dark:text-primary-100
                placeholder:text-primary-400 dark:placeholder:text-primary-500
                focus:outline-none focus:ring-2 focus:ring-accent-500 focus:border-accent-500
                transition-all duration-200
                ${e&&!/^\d{6}$/.test(e)?"border-error-300":"border-primary-300 dark:border-primary-700"}
              `,disabled:r})]}),n.jsx(Be,{onClick:i,variant:"primary",fullWidth:!0,isLoading:r,disabled:r||e.length!==6,className:"bg-accent-600 hover:bg-accent-700 focus:ring-accent-500",children:r?n.jsxs(n.Fragment,{children:[n.jsx(Jm,{className:"animate-spin w-5 h-5"}),n.jsx("span",{children:"Verifying..."})]}):"Verify & Continue"}),n.jsxs("p",{className:"text-xs text-center text-primary-500 dark:text-primary-500",children:["Lost access?"," ",n.jsx("button",{onClick:()=>a("/login"),className:"font-medium text-accent-600 dark:text-accent-400 hover:text-accent-700 dark:hover:text-accent-300 underline",children:"Contact support"})]})]})]})})},lE=({children:e,onClick:t,variant:r="primary",size:s="md",disabled:a,className:i="",type:o="button"})=>{const l="inline-flex items-center justify-center font-medium rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-60",c={primary:"bg-accent-600 text-white hover:bg-accent-700 focus:ring-accent-500 dark:bg-accent-500 dark:hover:bg-accent-600",secondary:"bg-primary-100 text-primary-700 hover:bg-primary-200 focus:ring-accent-500 dark:bg-primary-800 dark:text-primary-200 dark:hover:bg-primary-700",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500 dark:bg-success-500 dark:hover:bg-success-600"},d={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm"};return n.jsx("button",{type:o,onClick:t,disabled:a,className:`${l} ${c[r]} ${d[s]} ${i}`,children:e})},bme=({children:e,className:t=""})=>n.jsx("div",{className:`bg-white dark:bg-primary-900 border border-primary-200 dark:border-primary-700 rounded-lg shadow-sm transition-colors duration-200 ${t}`,children:e}),_me=()=>{const e=Vr(),[t,r]=U.useState(""),[s,a]=U.useState(!1),[i,o]=U.useState(Array(6).fill("")),l=U.useRef([]);U.useEffect(()=>{var f;(f=l.current[0])==null||f.focus()},[]),U.useEffect(()=>{r(i.join(""))},[i]);const c=(f,y)=>{var k;const v=y.replace(/[^0-9]/g,"").slice(-1),_=[...i];_[f]=v,o(_),v&&f<5&&((k=l.current[f+1])==null||k.focus())},d=(f,y)=>{var v,_,k;if(y.key==="Backspace"){if(!i[f]&&f>0){(v=l.current[f-1])==null||v.focus();const S=[...i];S[f-1]="",o(S)}else if(i[f]){const S=[...i];S[f]="",o(S)}}y.key==="ArrowLeft"&&f>0&&((_=l.current[f-1])==null||_.focus()),y.key==="ArrowRight"&&f<5&&((k=l.current[f+1])==null||k.focus())},u=f=>{var k;f.preventDefault();const y=f.clipboardData.getData("text").replace(/[^0-9]/g,"").slice(0,6),v=Array(6).fill("");for(let S=0;S<y.length;S++)v[S]=y[S];o(v);const _=Math.min(y.length,5);(k=l.current[_])==null||k.focus()},p=async f=>{var y,v;f.preventDefault(),a(!0);try{const _=sessionStorage.getItem("email");if(!_){Ke.error("Missing email. Please log in again."),e("/login");return}const k=await Pt.post(`${Bt}/auth/2fa/verify`,{code:t,email:_}),{token:S,user:M}=k.data;localStorage.setItem("authToken",S),localStorage.setItem("user",JSON.stringify(M)),Pt.defaults.headers.common.Authorization=`Bearer ${S}`,sessionStorage.removeItem("email"),Ke.success("2FA Verified!"),e("/dashboard")}catch(_){const k=((v=(y=_==null?void 0:_.response)==null?void 0:y.data)==null?void 0:v.message)||"Invalid or expired code";Ke.error(k)}finally{a(!1)}},x=()=>{Ke.info("Resend feature coming soon")};return n.jsxs("div",{className:"min-h-screen bg-primary-50 dark:bg-primary-900 p-0 sm:p-0",children:[n.jsxs("div",{className:"sticky top-0 z-40 bg-primary-50 dark:bg-primary-900 border-b border-primary-200 dark:border-primary-700 flex flex-col sm:flex-row sm:items-center justify-between gap-3 p-4 transition-colors duration-200",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(La,{className:"w-5 h-5 text-accent-600 dark:text-accent-400"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg sm:text-xl font-bold text-primary-900 dark:text-primary-50",children:"Two-Factor Authentication"}),n.jsx("p",{className:"text-xs sm:text-sm text-primary-600 dark:text-primary-400",children:"Enter the 6-digit code from your authenticator app"})]})]}),n.jsxs(lE,{onClick:()=>e("/login"),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[n.jsx(Pa,{className:"w-3 h-3"}),n.jsx("span",{children:"Back"})]})]}),n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx(bme,{children:n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("form",{onSubmit:p,className:"space-y-6",children:[n.jsx("div",{className:"flex justify-center gap-2",children:i.map((f,y)=>n.jsx("input",{ref:v=>l.current[y]=v,type:"text",inputMode:"numeric",maxLength:1,value:f,onChange:v=>c(y,v.target.value),onKeyDown:v=>d(y,v),onPaste:u,className:`
                        w-12 h-12 text-center text-lg font-bold border-2 rounded-lg
                        transition-all duration-200 outline-none text-primary-900 dark:text-primary-100
                        ${f?"border-accent-500 bg-accent-50 dark:bg-accent-950 text-accent-700 dark:text-accent-300":"border-primary-300 dark:border-primary-600 bg-white dark:bg-primary-800 hover:border-primary-400 dark:hover:border-primary-500"}
                        focus:border-accent-500 focus:ring-4 focus:ring-accent-100 dark:focus:ring-accent-900
                        disabled:bg-primary-100 dark:disabled:bg-primary-800 disabled:text-primary-400 dark:disabled:text-primary-500
                      `,disabled:s,autoComplete:"one-time-code"},y))}),n.jsx("div",{className:"flex justify-center gap-1",children:i.map((f,y)=>n.jsx("div",{className:`w-2 h-2 rounded-full transition-colors duration-200 ${f?"bg-accent-600 dark:bg-accent-400":"bg-primary-300 dark:bg-primary-600"}`},y))}),n.jsx(lE,{type:"submit",disabled:s||t.length!==6,variant:"primary",size:"md",className:"w-full flex items-center justify-center space-x-2",children:s?n.jsxs(n.Fragment,{children:[n.jsx(Za,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:"Verifying..."})]}):n.jsx("span",{children:"Verify Code"})})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-primary-200 dark:border-primary-700 text-center space-y-2",children:[n.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400",children:"Didnt receive a code?"}),n.jsx("button",{type:"button",onClick:x,className:"text-xs font-medium text-accent-600 dark:text-accent-400 hover:text-accent-700 dark:hover:text-accent-300 transition-colors duration-200",children:"Resend Code"})]})]})}),n.jsx("div",{className:"mt-4 text-center",children:n.jsxs("p",{className:"text-xs text-primary-600 dark:text-primary-400",children:["Having trouble?"," ",n.jsx("a",{href:"#",className:"font-medium text-accent-600 dark:text-accent-400 hover:text-accent-700 dark:hover:text-accent-300 transition-colors duration-200",children:"Contact support"})]})})]})})]})},wme=()=>{const e=Vr(),{notifications:t,fetchNotifications:r,markAsRead:s,markAllAsRead:a,deleteNotification:i,unread_count:o}=x7();U.useEffect(()=>{r()},[r]);const l=d=>{switch(d){case"device_transfer":return n.jsx(IB,{className:"w-4 h-4 text-accent-600 dark:text-accent-400"});case"approval_request":return n.jsx(ei,{className:"w-4 h-4 text-warning-600 dark:text-warning-400"});case"overdue_reminder":return n.jsx(to,{className:"w-4 h-4 text-error-600 dark:text-error-400"});case"system":return n.jsx(Mu,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"});default:return n.jsx(Af,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"})}},c=d=>{switch(d){case"urgent":return{border:"border-l-error-500",bg:"bg-error-50 dark:bg-error-950",badge:"bg-error-100 dark:bg-error-900 text-error-800 dark:text-error-300"};case"high":return{border:"border-l-warning-500",bg:"bg-warning-50 dark:bg-warning-950",badge:"bg-warning-100 dark:bg-warning-900 text-warning-800 dark:text-warning-300"};case"medium":return{border:"border-l-accent-500",bg:"bg-accent-50 dark:bg-accent-950",badge:"bg-accent-100 dark:bg-accent-900 text-accent-800 dark:text-accent-300"};default:return{border:"border-l-primary-300 dark:border-l-primary-700",bg:"bg-white dark:bg-primary-900",badge:"bg-primary-100 dark:bg-primary-800 text-primary-700 dark:text-primary-300"}}};return n.jsx("div",{className:"min-h-screen bg-primary-50 dark:bg-primary-900 p-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("nav",{className:"flex items-center mb-4 space-x-1 text-xs text-primary-600 dark:text-primary-400",children:[n.jsxs(Lr,{to:"/",className:"flex items-center hover:text-accent-600 dark:hover:text-accent-400 transition-colors",children:[n.jsx(ln,{className:"w-3 h-3 mr-1"}),"Home"]}),n.jsx(Dr,{className:"w-3 h-3 mx-1"}),n.jsxs("span",{className:"flex items-center font-medium text-primary-900 dark:text-primary-100",children:[n.jsx(Af,{className:"w-3 h-3 mr-1"}),"Notifications"]})]}),n.jsxs(it,{children:[n.jsxs("div",{className:"sticky top-0 bg-primary-50 dark:bg-primary-900 border-b border-primary-200 dark:border-primary-700 p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-lg text-primary-600 dark:text-primary-400 hover:bg-primary-100 dark:hover:bg-primary-800 transition-colors",children:n.jsx(Pa,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-primary-900 dark:text-primary-50",children:"Notifications"}),n.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400",children:o>0?`${o} unread`:"All caught up!"})]})]}),o>0&&n.jsxs(Be,{onClick:a,variant:"secondary",size:"sm",className:"flex items-center space-x-1.5",children:[n.jsx(u7,{className:"w-3 h-3"}),n.jsx("span",{children:"Mark all as read"})]})]}),n.jsx("div",{className:"p-4",children:t.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-primary-100 dark:bg-primary-800 rounded-full flex items-center justify-center",children:n.jsx(Af,{className:"w-8 h-8 text-primary-500 dark:text-primary-400"})}),n.jsx("h3",{className:"text-lg font-medium text-primary-900 dark:text-primary-50 mb-1",children:"No notifications"}),n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:"You're all caught up! New alerts will appear here."})]}):n.jsx("div",{className:"space-y-3",children:t.map(d=>{const u=c(d.priority),p=!d.read;return n.jsx("div",{className:`
                        rounded-lg border ${u.border} ${u.bg}
                        p-4 transition-all duration-200
                        ${p?"shadow-sm":"opacity-75"}
                        hover:shadow-md cursor-pointer
                      `,onClick:()=>{p&&s(d.id),d.link&&e(d.link)},children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[n.jsx("div",{className:"p-2 bg-white dark:bg-primary-800 rounded-full shadow-sm",children:l(d.type)}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`
                                text-sm font-medium
                                ${p?"text-primary-900 dark:text-primary-100":"text-primary-600 dark:text-primary-400"}
                              `,children:d.message}),d.time&&n.jsx("p",{className:"mt-1 text-xs text-primary-500 dark:text-primary-500",children:d.time}),d.priority&&d.priority!=="low"&&n.jsx("span",{className:`
                                  inline-block mt-2 px-2 py-0.5 text-xs font-medium rounded-full
                                  ${u.badge}
                                `,children:d.priority.toUpperCase()})]})]}),n.jsxs("div",{className:"flex items-center space-x-1 ml-3",children:[p&&n.jsx("button",{onClick:x=>{x.stopPropagation(),s(d.id)},className:"p-1.5 rounded-lg text-primary-500 dark:text-primary-400 hover:bg-primary-100 dark:hover:bg-primary-800 transition-colors",title:"Mark as read",children:n.jsx(Lh,{className:"w-3.5 h-3.5"})}),n.jsx("button",{onClick:x=>{x.stopPropagation(),i(d.id)},className:"p-1.5 rounded-lg text-error-500 dark:text-error-400 hover:bg-error-100 dark:hover:bg-error-900 transition-colors",title:"Delete",children:n.jsx(ud,{className:"w-3.5 h-3.5"})})]})]})},d.id)})})})]})]})})},Nme=()=>{const e=Vr(),{userPermissions:t,isAdmin:r}=ra(),s=[{id:"ict-assets",title:"ICT Assets",description:"Manage ICT equipment including computers, networking devices, and technology infrastructure with comprehensive tracking",icon:n.jsx(bx,{className:"w-8 h-8"}),route:"/categories/ict-assets",color:"bg-indigo-500",hoverColor:"hover:bg-indigo-600",iconBg:"bg-indigo-100",iconColor:"text-indigo-600",backgroundImage:"https://images.pexels.com/photos/1181675/pexels-photo-1181675.jpeg?auto=compress&cs=tinysrgb&w=800",overlayColor:"bg-indigo-900/70",categoryType:cr.ICT_ASSETS},{id:"land-register",title:"Land Register",description:"Manage land and investment property records including ownership, valuation, and legal documentation",icon:n.jsx(Ea,{className:"w-8 h-8"}),route:"/categories/land-register",color:"bg-emerald-500",hoverColor:"hover:bg-emerald-600",iconBg:"bg-emerald-100",iconColor:"text-emerald-600",backgroundImage:"https://images.pexels.com/photos/1105766/pexels-photo-1105766.jpeg?auto=compress&cs=tinysrgb&w=800",overlayColor:"bg-emerald-900/70",categoryType:cr.LAND_REGISTER},{id:"buildings",title:"Buildings Register",description:"Track building assets, locations, floors, rooms, and property valuations",icon:n.jsx(Qo,{className:"w-8 h-8"}),route:"/categories/buildings",color:"bg-green-500",hoverColor:"hover:bg-green-600",iconBg:"bg-green-100",iconColor:"text-green-600",backgroundImage:"https://images.pexels.com/photos/323780/pexels-photo-323780.jpeg?auto=compress&cs=tinysrgb&w=800",overlayColor:"bg-green-900/70",categoryType:cr.BUILDINGS_REGISTER},{id:"vehicles",title:"Motor Vehicles Register",description:"Manage vehicle fleet including registration, maintenance, and ownership records",icon:n.jsx(Mh,{className:"w-8 h-8"}),route:"/categories/vehicles",color:"bg-purple-500",hoverColor:"hover:bg-purple-600",iconBg:"bg-purple-100",iconColor:"text-purple-600",backgroundImage:"https://images.pexels.com/photos/116675/pexels-photo-116675.jpeg?auto=compress&cs=tinysrgb&w=800",overlayColor:"bg-purple-900/70",categoryType:cr.MOTOR_VEHICLES_REGISTER},{id:"office-equipment",title:"Office Equipment",description:"Track office equipment, furniture, and supplies with depreciation and location management",icon:n.jsx(xp,{className:"w-8 h-8"}),route:"/categories/office-equipment",color:"bg-orange-500",hoverColor:"hover:bg-orange-600",iconBg:"bg-orange-100",iconColor:"text-orange-600",backgroundImage:"https://images.pexels.com/photos/7688336/pexels-photo-7688336.jpeg?auto=compress&cs=tinysrgb&w=800",overlayColor:"bg-orange-900/70",categoryType:cr.OFFICE_EQUIPMENT},{id:"furniture-equipment",title:"Furniture & Fittings Equipment",description:"Manage furniture and fittings inventory with depreciation tracking, location management, and condition monitoring",icon:n.jsx(Vd,{className:"w-8 h-8"}),route:"/categories/furniture-equipment",color:"bg-amber-500",hoverColor:"hover:bg-amber-600",iconBg:"bg-amber-100",iconColor:"text-amber-600",backgroundImage:"https://images.pexels.com/photos/1571460/pexels-photo-1571460.jpeg?auto=compress&cs=tinysrgb&w=800",overlayColor:"bg-amber-900/70",categoryType:cr.FURNITURE_FITTINGS_EQUIPMENT},{id:"plant-machinery",title:"Plant & Machinery",description:"Manage plant equipment and machinery including purchase, depreciation, and maintenance records",icon:n.jsx(eo,{className:"w-8 h-8"}),route:"/categories/plant-machinery",color:"bg-teal-500",hoverColor:"hover:bg-teal-600",iconBg:"bg-teal-100",iconColor:"text-teal-600",backgroundImage:"https://images.pexels.com/photos/1105766/pexels-photo-1105766.jpeg?auto=compress&cs=tinysrgb&w=800",overlayColor:"bg-teal-900/70",categoryType:cr.PLANT_MACHINERY},{id:"portable-items",title:"Portable & Attractive Items",description:"Track portable and attractive items including purchase details, location, depreciation, and disposal",icon:n.jsx(_x,{className:"w-8 h-8"}),route:"/categories/portable-items",color:"bg-pink-500",hoverColor:"hover:bg-pink-600",iconBg:"bg-pink-100",iconColor:"text-pink-600",backgroundImage:"https://images.pexels.com/photos/4792509/pexels-photo-4792509.jpeg?auto=compress&cs=tinysrgb&w=800",overlayColor:"bg-pink-900/70",categoryType:cr.PORTABLE_ATTRACTIVE_ITEMS}],a=o=>{var l;return r?!0:((l=t==null?void 0:t[o])==null?void 0:l.has_access)||!1},i=(o,l)=>{a(l)&&e(o)};return n.jsxs("div",{className:"space-y-6 mb-2 px-0.5 md:px-2 lg:px-4",children:[n.jsxs("nav",{className:"sticky top-0 z-50 bg-white border-b border-gray-200 flex items-center mb-6 space-x-2 text-sm text-gray-600",children:[n.jsxs(Lr,{to:"/",className:"flex items-center transition-colors hover:text-blue-600",children:[n.jsx(ln,{size:16,className:"mr-1"}),"Home"]}),n.jsx(Dr,{size:16}),n.jsxs("span",{className:"flex items-center font-medium text-gray-900",children:[n.jsx(Lc,{size:16,className:"mr-1"}),"Asset Categories"]})]}),n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Asset Categories"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Select a category to manage your organization's assets"})]})}),n.jsx("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map(o=>{const l=a(o.categoryType);return n.jsx("div",{className:`transition-all duration-300 group ${l?"cursor-pointer hover:shadow-xl hover:-translate-y-2 active:scale-95":"cursor-not-allowed opacity-75"}`,onClick:()=>i(o.route,o.categoryType),children:n.jsxs(it,{className:`h-full border-2 overflow-hidden relative ${l?"hover:border-gray-300":"border-gray-200"}`,children:[n.jsx("div",{className:`absolute inset-0 bg-cover bg-center transition-transform duration-300 ${l?"group-hover:scale-110":""}`,style:{backgroundImage:`url(${o.backgroundImage})`}}),n.jsx("div",{className:`absolute inset-0 ${o.overlayColor} transition-opacity duration-300 ${l?"group-hover:opacity-80":"opacity-90"}`}),!l&&n.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-20",children:n.jsxs("div",{className:"text-center text-white",children:[n.jsx(Jl,{className:"w-12 h-12 mx-auto mb-2"}),n.jsx("p",{className:"text-sm font-medium",children:"Access Restricted"})]})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/20 via-transparent to-black/40"}),n.jsxs("div",{className:"relative z-10 p-4 sm:p-6 text-white h-full flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3 sm:mb-4",children:[n.jsx("div",{className:"p-2 sm:p-3 rounded-lg bg-white/20 backdrop-blur-sm border border-white/30",children:n.jsx("div",{className:"text-white",children:o.icon})}),l&&n.jsx(Pp,{className:"w-5 h-5 text-white/70 transition-all duration-300 group-hover:text-white group-hover:translate-x-1"})]}),n.jsx("h3",{className:"mb-2 text-lg font-bold text-white transition-all duration-300 sm:text-xl group-hover:text-white drop-shadow-md",children:o.title}),n.jsx("p",{className:"mb-3 text-xs leading-relaxed text-white/90 sm:text-sm sm:mb-4 line-clamp-2 sm:line-clamp-none drop-shadow-sm flex-grow",children:o.description}),n.jsx(Be,{variant:l?"secondary":"ghost",size:"sm",className:`w-full border-0 shadow-lg transition-all duration-300 text-xs sm:text-sm py-2 sm:py-2.5 font-semibold backdrop-blur-sm ${l?"bg-white/90 hover:bg-white text-gray-900 hover:shadow-xl hover:scale-105":"bg-white/20 text-white/70 cursor-not-allowed"}`,onClick:c=>{c.stopPropagation(),l&&i(o.route,o.categoryType)},disabled:!l,children:l?`Manage ${o.title}`:"Access Restricted"})]})]})},o.id)})}),n.jsxs("div",{className:"bg-white p-6 mt-8  rounded-xl border shadow-sm",children:[n.jsx("h2",{className:"mb-2 text-lg font-semibold text-gray-700",children:"Asset Management Overview"}),n.jsx("p",{className:"text-sm text-gray-500",children:"This centralized asset management system allows you to track and manage different types of organizational assets. Each category provides specialized tools and fields relevant to that asset type, ensuring comprehensive inventory management and reporting capabilities."})]})]})},tv=({variant:e="default",className:t="",children:r})=>{const s={default:"border border-primary-200 bg-primary-50 text-primary-900",destructive:"border border-red-200 bg-red-50 text-red-900"};return n.jsx("div",{role:"alert",className:`rounded-md p-4 flex gap-3 ${s[e]} ${t}`,children:r})},rv=({className:e="",children:t})=>n.jsx("div",{className:`text-sm ${e}`,children:t});function kme(){const e=Vr(),[t]=Du(),r=t.get("email"),[s,a]=U.useState("otp"),[i,o]=U.useState(""),[l,c]=U.useState(""),[d,u]=U.useState(""),[p,x]=U.useState(!1),[f,y]=U.useState(""),[v,_]=U.useState(""),[k,S]=U.useState(!1),[M,T]=U.useState(!1),[O,A]=U.useState(!1);function C(I){if(!I||I.length<5)return I;const[W,Z]=I.split("@");if(!Z)return I;const Y=Math.ceil(W.length/3);return`${W.slice(0,Y)+"*".repeat(Math.max(1,W.length-Y))}@${Z}`}U.useEffect(()=>{if(!r){y("No email provided. Please login again to proceed.");const I=setTimeout(()=>e("/login"),3e3);return()=>clearTimeout(I)}},[r,e]),U.useEffect(()=>{r&&!O&&N()},[r,O]);const N=async()=>{try{x(!0);const I=await fetch(`${Bt}/auth/secure-password-change/initiate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r})});if(!I.ok){const W=await I.json();throw new Error(W.detail||"Failed to send OTP")}_("OTP sent to your email"),y(""),A(!0)}catch(I){const W=I instanceof Error?I.message:"Failed to send OTP. Please try again.";y(W),console.error("[SecurePasswordChange] OTP initiation error:",I)}finally{x(!1)}},E=async I=>{if(I.preventDefault(),y(""),!i||i.length!==6){y("Please enter a valid 6-digit OTP");return}if(!l||!d){y("Please fill in all password fields");return}if(l!==d){y("Passwords do not match");return}if(l.length<8){y("Password must be at least 8 characters");return}x(!0);try{const W=await fetch(`${Bt}/auth/secure-password-change/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,otp:i,new_password:l,confirm_password:d})});if(!W.ok){const Z=await W.json();throw new Error(Z.detail||"Failed to change password")}a("success"),y("")}catch(W){const Z=W instanceof Error?W.message:"Failed to change password";y(Z),console.error("[SecurePasswordChange] Password change error:",W)}finally{x(!1)}},z=()=>{e("/login")},P=async()=>{x(!0),y("");try{const I=await fetch(`${Bt}/auth/secure-password-change/initiate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r})});if(!I.ok){const W=await I.json();throw new Error(W.detail||"Failed to resend OTP")}_("OTP resent to your email"),y("")}catch(I){const W=I instanceof Error?I.message:"Failed to resend OTP. Please try again.";y(W)}finally{x(!1)}};return r?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center px-4 py-8 sm:px-6 lg:px-8",children:n.jsxs(it,{className:"w-full max-w-sm sm:max-w-md shadow-lg",children:[n.jsxs(nj,{className:"space-y-1 pb-4",children:[n.jsx(ij,{className:"text-xl sm:text-2xl",children:"Secure Password Change"}),n.jsx(KH,{className:"text-xs sm:text-sm",children:s==="success"?"Password changed successfully":"Verify your identity and set a new password"})]}),n.jsxs(oj,{children:[f&&n.jsx(tv,{variant:"destructive",className:"mb-4",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(ei,{className:"h-4 w-4 flex-shrink-0 mt-0.5"}),n.jsx(rv,{className:"text-xs sm:text-sm",children:f})]})}),v&&s!=="success"&&n.jsx(tv,{className:"mb-4 border-green-200 bg-green-50",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Fw,{className:"h-4 w-4 flex-shrink-0 mt-0.5 text-green-600"}),n.jsxs(rv,{className:"text-green-800 text-xs sm:text-sm",children:["OTP sent to ",C(r)]})]})}),s==="success"&&n.jsxs("div",{className:"text-center space-y-4 py-2",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx(Fw,{className:"h-12 w-12 sm:h-16 sm:w-16 text-green-600"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Your password has been changed successfully."}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"You can now login with your new password."})]}),n.jsx(Be,{onClick:z,className:"w-full mt-6",children:"Go to Login"})]}),s==="otp"&&n.jsxs("form",{onSubmit:I=>{I.preventDefault(),a("password")},className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium block",children:"Enter OTP"}),n.jsx(wt,{type:"text",placeholder:"000000",value:i,onChange:I=>o(I.target.value.slice(0,6).replace(/\D/g,"")),maxLength:6,required:!0,className:"text-center text-base sm:text-lg tracking-widest font-mono",autoFocus:!0,disabled:p}),n.jsx("p",{className:"text-xs text-gray-500",children:"Check your email for the 6-digit OTP"})]}),n.jsx(Be,{type:"submit",className:"w-full",disabled:!i||i.length!==6||p,children:p?n.jsxs(n.Fragment,{children:[n.jsx(Ch,{className:"h-4 w-4 mr-2 animate-spin"}),n.jsx("span",{className:"text-sm",children:"Verifying..."})]}):n.jsx("span",{className:"text-sm",children:"Continue to Password"})}),n.jsx(Be,{type:"button",variant:"outline",className:"w-full",onClick:P,disabled:p,children:n.jsx("span",{className:"text-sm",children:"Resend OTP"})}),n.jsxs(Be,{type:"button",variant:"ghost",className:"w-full",onClick:()=>e("/login"),children:[n.jsx(Pa,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"text-sm",children:"Back to Login"})]})]}),s==="password"&&n.jsxs("form",{onSubmit:E,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium block",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Jl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"}),n.jsx(wt,{type:k?"text":"password",placeholder:"At least 8 characters",value:l,onChange:I=>c(I.target.value),required:!0,className:"pl-10 pr-16 text-sm",disabled:p}),n.jsx("button",{type:"button",onClick:()=>S(!k),className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs sm:text-sm text-gray-500 hover:text-gray-700 transition-colors",children:k?"Hide":"Show"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs sm:text-sm font-medium block",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Jl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"}),n.jsx(wt,{type:M?"text":"password",placeholder:"Confirm your password",value:d,onChange:I=>u(I.target.value),required:!0,className:"pl-10 pr-16 text-sm",disabled:p}),n.jsx("button",{type:"button",onClick:()=>T(!M),className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs sm:text-sm text-gray-500 hover:text-gray-700 transition-colors",children:M?"Hide":"Show"})]})]}),l&&d&&l!==d&&n.jsx(tv,{className:"border-yellow-200 bg-yellow-50",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(ei,{className:"h-4 w-4 flex-shrink-0 mt-0.5 text-yellow-600"}),n.jsx(rv,{className:"text-yellow-800 text-xs sm:text-sm",children:"Passwords do not match"})]})}),n.jsx(Be,{type:"submit",className:"w-full",disabled:p,children:p?n.jsxs(n.Fragment,{children:[n.jsx(Ch,{className:"h-4 w-4 mr-2 animate-spin"}),n.jsx("span",{className:"text-sm",children:"Changing Password..."})]}):n.jsx("span",{className:"text-sm",children:"Change Password"})}),n.jsxs(Be,{type:"button",variant:"outline",className:"w-full",onClick:()=>a("otp"),disabled:p,children:[n.jsx(Pa,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"text-sm",children:"Back"})]})]})]})]})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center px-4 py-8 sm:px-6 lg:px-8",children:n.jsxs(it,{className:"w-full max-w-sm sm:max-w-md shadow-lg",children:[n.jsx(nj,{className:"space-y-1 pb-4",children:n.jsx(ij,{className:"text-xl sm:text-2xl",children:"Invalid Request"})}),n.jsxs(oj,{className:"space-y-4",children:[n.jsxs(tv,{variant:"destructive",children:[n.jsx(ei,{className:"h-4 w-4"}),n.jsx(rv,{className:"ml-2",children:"No email provided. Please login again to proceed."})]}),n.jsx(Be,{onClick:()=>e("/login"),className:"w-full",children:"Back to Login"})]})]})})}const jme=({isOpen:e,onClose:t,onConfirm:r,userName:s,isLoading:a=!1})=>{const[i,o]=U.useState(""),l=()=>{i.trim()&&(r(i.trim()),o(""))},c=()=>{o(""),t()};return n.jsx(ju,{isOpen:e,onClose:c,title:"Confirm Account Deactivation",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center p-4 space-x-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[n.jsx(aa,{className:"flex-shrink-0 w-6 h-6 text-yellow-600"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-yellow-800",children:"Warning"}),n.jsxs("p",{className:"text-sm text-yellow-700",children:["You are about to deactivate ",n.jsx("strong",{children:s}),"'s account. This will prevent them from logging in until their account is reactivated."]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"deactivation-reason",className:"block mb-2 text-sm font-medium text-gray-700",children:["Reason for deactivation ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{id:"deactivation-reason",rows:4,className:"px-3 py-2 w-full rounded-md border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Please provide a reason for deactivating this account...",value:i,onChange:d=>o(d.target.value),disabled:a}),i.trim().length===0&&n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"A reason is required to proceed with deactivation."})]}),n.jsxs("div",{className:"flex justify-end pt-4 space-x-3",children:[n.jsx(Be,{variant:"secondary",onClick:c,disabled:a,children:"Cancel"}),n.jsx(Be,{variant:"danger",onClick:l,disabled:!i.trim()||a,isLoading:a,children:"Deactivate Account"})]})]})})},Cme=rl()((e,t)=>({user:null,token:null,isAuthenticated:!1,isAdmin:!1,userPermissions:null,login:async(r,s)=>{try{const a=await Pt.post(`${Bt}/auth/login`,r);if(a.data.requires2FA)throw sessionStorage.setItem("twoFAEmail",a.data.email),new Error("2FA_REQUIRED");const{user:i,token:o}=a.data,l=i.role===jc.ADMIN;e({user:i,token:o,isAuthenticated:!0,isAdmin:l}),Pt.defaults.headers.common.Authorization=`Bearer ${o}`,await t().loadUserPermissions()}catch(a){throw a}},logout:()=>{(async()=>{try{const{token:s}=t();s&&await Pt.post(`${Bt}/auth/logout`,{},{headers:{Authorization:`Bearer ${s}`}})}catch{}})(),delete Pt.defaults.headers.common.Authorization,e({user:null,token:null,isAuthenticated:!1,isAdmin:!1,userPermissions:null})},checkAuthStatus:()=>!1,loadUserPermissions:async()=>{try{const{token:r,user:s}=t();if(!r||!s)return;const a=await Pt.get(`${Bt}/permissions/me`,{headers:{Authorization:`Bearer ${r}`}});e({userPermissions:a.data.permissions})}catch{}}})),Sme=[{header:"ID",accessor:"id",sortable:!0,mobileHidden:!0},{header:"Name",accessor:"name",sortable:!0},{header:"Username",accessor:"username",sortable:!0,mobileHidden:!0},{header:"Email",accessor:"email",sortable:!0,mobileHidden:!0},{header:"Personal #",accessor:"personal_number",sortable:!0},{header:"Role",accessor:"role",sortable:!0},{header:"Last Login",accessor:"last_login",sortable:!0,mobileHidden:!0}],Eme=["All Departments","Engineering","Human Resources","Marketing","Sales","Finance","Operations","Customer Support","IT","Legal"],Ame=()=>{var se;const[e,t]=U.useState([]),[r,s]=U.useState([]),[a,i]=U.useState([]),[o,l]=U.useState(!0),[c,d]=U.useState(""),[u,p]=U.useState("All Departments"),[x,f]=U.useState("active"),[y,v]=U.useState({isOpen:!1,user:null}),[_,k]=U.useState(!1),[S,M]=U.useState({isOpen:!1,reason:"",userName:"",user:null}),T=Vr(),{user:O}=Cme(),A=async()=>{try{const oe=await fetch("https://assets-system-sigma.vercel.app/api/users",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!oe.ok)throw new Error(`Failed to fetch users: ${oe.statusText}`);const B=(await oe.json()).map(q=>({id:q.id,name:`${q.first_name||""} ${q.last_name||""}`.trim(),username:q.username,email:q.email,personal_number:q.personal_number||"N/A",department:q.department||"Unassigned",role:q.role,last_login:q.last_login?new Date(q.last_login).toLocaleString():"Never",is_active:q.is_active,deactivation_reason:q.deactivation_reason,deactivated_at:q.deactivated_at}));t(B),s(B)}catch(oe){console.error("Error loading users:",oe),Ke.error("Failed to load users")}finally{l(!1)}},C=oe=>{const ee={};return oe.forEach(q=>{const Q=q.department||"Unassigned";ee[Q]||(ee[Q]=[]),ee[Q].push(q)}),Object.keys(ee).sort((q,Q)=>q==="Unassigned"?1:Q==="Unassigned"?-1:q.localeCompare(Q)).map(q=>({name:q,users:ee[q].sort((Q,K)=>Q.name.localeCompare(K.name)),isExpanded:!0}))};U.useEffect(()=>{let oe=e;c&&(oe=oe.filter(ee=>ee.name.toLowerCase().includes(c.toLowerCase())||ee.username.toLowerCase().includes(c.toLowerCase())||ee.email.toLowerCase().includes(c.toLowerCase())||ee.personal_number.toLowerCase().includes(c.toLowerCase()))),u!=="All Departments"&&(oe=oe.filter(ee=>ee.department===u)),s(oe)},[e,c,u]),U.useEffect(()=>{const oe=r.filter(q=>q.is_active),ee=r.filter(q=>!q.is_active);i(C(x==="active"?oe:ee))},[r,x]);const N=oe=>{i(ee=>ee.map(B=>B.name===oe?{...B,isExpanded:!B.isExpanded}:B))},E=oe=>{i(ee=>ee.map(B=>({...B,isExpanded:oe})))},z=async oe=>{try{if(!(await fetch(`${Bt}/users/${oe}/activate`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to activate user");await A(),Ke.success("User activated successfully")}catch(ee){console.error(ee),Ke.error("Failed to activate user")}},P=async(oe,ee)=>{try{if(k(!0),!(await fetch(`${Bt}/users/${oe}/deactivate`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:ee})})).ok)throw new Error("Failed to deactivate user");await A(),Ke.success("User account has been deactivated successfully"),v({isOpen:!1,user:null})}catch(B){console.error(B),Ke.error("Failed to deactivate user account")}finally{k(!1)}},I=oe=>{if(O&&O.id===oe.id){Ke.error("You cannot deactivate your own account");return}if(!oe.is_active){Ke.error("This account is already deactivated");return}v({isOpen:!0,user:oe})},W=oe=>{y.user&&P(y.user.id,oe)},Z=oe=>{M({isOpen:!0,reason:oe.deactivation_reason||"No reason provided",userName:oe.name,user:oe})};U.useEffect(()=>{A()},[]);const Y=r.filter(oe=>oe.is_active),te=r.filter(oe=>!oe.is_active),ie=({user:oe})=>n.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-slate-100 text-lg",children:oe.name}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:["@",oe.username]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:oe.is_active?n.jsx(Be,{variant:"danger",size:"sm",onClick:()=>I(oe),disabled:(O==null?void 0:O.id)===oe.id,className:"text-xs",children:"Deactivate"}):n.jsxs(n.Fragment,{children:[n.jsx(Be,{variant:"primary",size:"sm",onClick:()=>z(oe.id),className:"text-xs",children:"Activate"}),oe.deactivation_reason&&n.jsx(Be,{variant:"secondary",size:"sm",onClick:()=>Z(oe),title:"View reason",className:"p-2",children:n.jsx(d_,{className:"w-3 h-3"})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(lg,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"}),n.jsx("span",{className:"text-gray-600 dark:text-slate-300",children:oe.email})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(f7,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"}),n.jsx("span",{className:"text-gray-600 dark:text-slate-300",children:oe.personal_number})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(La,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"}),n.jsx("span",{className:"text-gray-600 dark:text-slate-300 capitalize",children:oe.role})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Tu,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"}),n.jsx("span",{className:"text-gray-600 dark:text-slate-300",children:oe.last_login})]})]})]}),le=({department:oe,userCount:ee,isExpanded:B,onToggle:q})=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 cursor-pointer hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",onClick:q,children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[B?n.jsx(q0,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}):n.jsx(Dr,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}),n.jsx(yx,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-slate-100 text-lg",children:oe}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:[ee," ",ee===1?"user":"users"]})]})]}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:["Click to ",B?"collapse":"expand"]})]});return n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-slate-700 shadow-sm",children:n.jsx("div",{className:"max-w-9xl mx-auto px-2 sm:px-4 lg:px-4",children:n.jsx("div",{className:"py-2 sm:py-2",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-1xl sm:text-1xl font-bold text-gray-900 dark:text-slate-100",children:"User Management"}),n.jsx("p",{className:"mt-0 text-sm text-gray-500 dark:text-slate-400",children:"Manage user accounts organized by departments"})]}),n.jsxs(Be,{onClick:()=>T("/admin/users/add"),className:"flex items-center space-x-2 w-full sm:w-auto justify-center",children:[n.jsx(ri,{className:"w-4 h-4"}),n.jsx("span",{children:"Add User"})]})]})})})}),n.jsxs("div",{className:"max-w-9xl mx-auto px-2 sm:px-4 lg:px-4 py-4",children:[n.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6 mb-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Lu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-slate-500 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search users by name, username, email, or personal number...",value:c,onChange:oe=>d(oe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 placeholder-gray-500 dark:placeholder-slate-400 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent"})]})}),n.jsx("div",{className:"sm:w-48",children:n.jsxs("div",{className:"relative",children:[n.jsx(Nn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-slate-500 w-4 h-4"}),n.jsx("select",{value:u,onChange:oe=>p(oe.target.value),className:"w-full pl-10 pr-8 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent appearance-none",children:Eme.map(oe=>n.jsx("option",{value:oe,children:oe},oe))})]})})]})}),n.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:[n.jsx("div",{className:"border-b border-gray-200 dark:border-slate-700",children:n.jsxs("nav",{className:"flex",children:[n.jsx("button",{onClick:()=>f("active"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-4 text-sm font-medium border-b-2 transition-colors ${x==="active"?"border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-slate-800":"border-transparent text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-200 hover:border-gray-300 dark:hover:border-slate-600"}`,children:n.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-2",children:[n.jsx(Cu,{className:"w-4 h-4"}),n.jsxs("span",{children:["Active Users (",Y.length,")"]})]})}),n.jsx("button",{onClick:()=>f("deactivated"),className:`flex-1 sm:flex-none px-4 sm:px-8 py-4 text-sm font-medium border-b-2 transition-colors ${x==="deactivated"?"border-red-500 text-red-600 dark:text-red-400 bg-red-50 dark:bg-slate-800":"border-transparent text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-200 hover:border-gray-300 dark:hover:border-slate-600"}`,children:n.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-2",children:[n.jsx(Ow,{className:"w-4 h-4"}),n.jsxs("span",{children:["Deactivated (",te.length,")"]})]})})]})}),a.length>1&&n.jsx("div",{className:"px-4 sm:px-6 py-3 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm text-gray-600 dark:text-slate-400",children:[a.length," departments found"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Be,{variant:"secondary",size:"sm",onClick:()=>E(!0),className:"text-xs",children:"Expand All"}),n.jsx(Be,{variant:"secondary",size:"sm",onClick:()=>E(!1),className:"text-xs",children:"Collapse All"})]})]})}),n.jsx("div",{className:"p-4 sm:p-6",children:o?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-2 text-gray-600 dark:text-slate-400",children:"Loading users..."})]}):a.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(_i,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-slate-600"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-slate-100",children:"No users found"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-slate-400",children:c||u!=="All Departments"?"Try adjusting your search or filter criteria.":`No ${x} users at this time.`})]}):n.jsx("div",{className:"space-y-6",children:a.map(oe=>n.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[n.jsx(le,{department:oe.name,userCount:oe.users.length,isExpanded:oe.isExpanded,onToggle:()=>N(oe.name)}),oe.isExpanded&&n.jsxs("div",{className:"p-4",children:[n.jsx("div",{className:"sm:hidden space-y-4",children:oe.users.map(ee=>n.jsx(ie,{user:ee},ee.id))}),n.jsx("div",{className:"hidden sm:block",children:n.jsx(r0,{data:oe.users,columns:Sme,keyField:"id",actions:ee=>n.jsx("div",{className:"flex items-center space-x-2",children:ee.is_active?n.jsx(Be,{variant:"danger",size:"sm",onClick:B=>{B.stopPropagation(),I(ee)},disabled:(O==null?void 0:O.id)===ee.id,children:"Deactivate"}):n.jsxs(n.Fragment,{children:[n.jsx(Be,{variant:"primary",size:"sm",onClick:B=>{B.stopPropagation(),z(ee.id)},children:"Activate"}),ee.deactivation_reason&&n.jsx(Be,{variant:"secondary",size:"sm",onClick:B=>{B.stopPropagation(),Z(ee)},title:"View deactivation reason",children:n.jsx(d_,{className:"w-4 h-4"})})]})})})})]})]},oe.name))})})]})]}),n.jsx(jme,{isOpen:y.isOpen,onClose:()=>v({isOpen:!1,user:null}),onConfirm:W,userName:y.user?`${y.user.name}`:"",isLoading:_}),S.isOpen&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:n.jsxs("div",{className:"w-full max-w-lg bg-white dark:bg-slate-900 rounded-xl shadow-2xl",children:[n.jsxs("div",{className:"flex items-center p-6 space-x-3 border-b border-gray-100 dark:border-slate-700",children:[n.jsx("div",{className:"flex flex-shrink-0 justify-center items-center w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full",children:n.jsx(d_,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Deactivation Details"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:S.userName})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-slate-300",children:"Reason for Deactivation"}),n.jsx("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:n.jsx("p",{className:"leading-relaxed text-gray-800 dark:text-slate-200",children:S.reason})})]}),((se=S.user)==null?void 0:se.deactivated_at)&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-slate-300",children:"Deactivated On"}),n.jsx("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:n.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:new Date(S.user.deactivated_at).toLocaleString()})})]}),n.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100 dark:border-slate-700",children:n.jsx(Be,{variant:"secondary",onClick:()=>M({isOpen:!1,reason:"",userName:"",user:null}),className:"px-6 py-2",children:"Close"})})]})]})})]})},RL=rl(e=>({auditLogs:[],isLoading:!1,error:null,fetchAuditLogs:async t=>{e({isLoading:!0,error:null});try{const r=new URLSearchParams;t&&Object.entries(t).forEach(([i,o])=>{o!=null&&r.append(i,o.toString())});const s=`${Bt}/audit-logs${r.toString()?`?${r.toString()}`:""}`,a=await Pt.get(s);e({auditLogs:a.data,isLoading:!1})}catch(r){console.error("Failed to fetch audit logs:",r),e({error:r instanceof Error?r.message:"Failed to fetch audit logs",isLoading:!1})}},fetchUserActivity:async t=>{e({isLoading:!0,error:null});try{return(await Pt.get(`${Bt}/audit-logs/user/${t}`)).data}catch(r){return console.error(`Failed to fetch activity for user ${t}:`,r),e({error:r instanceof Error?r.message:"Failed to fetch user activity",isLoading:!1}),[]}finally{e({isLoading:!1})}},exportAuditLogs:async t=>{e({isLoading:!0,error:null});try{const r=await Pt.get(`${Bt}/audit-logs/export/${t}`,{responseType:"blob"});return e({isLoading:!1}),r.data}catch(r){throw console.error("Failed to export audit logs:",r),e({error:r instanceof Error?r.message:"Failed to export audit logs",isLoading:!1}),r}}})),Tme="dd MMM yyyy, hh:mm a",Mme=()=>{const{auditLogs:e,fetchAuditLogs:t,exportAuditLogs:r,isLoading:s,error:a}=RL(v=>({auditLogs:v.auditLogs,fetchAuditLogs:v.fetchAuditLogs,exportAuditLogs:v.exportAuditLogs,isLoading:v.isLoading,error:v.error})),[i,o]=U.useState(!1),[l,c]=U.useState({});U.useEffect(()=>{t()},[]);const d=async v=>{try{const _=await r(v),k=window.URL.createObjectURL(_),S=document.createElement("a");S.href=k,S.download=`audit-logs.${v}`,S.click(),window.URL.revokeObjectURL(k)}catch(_){console.error("Export failed:",_)}},u=v=>v.username||v.user_name||v.user_id||"SYSTEM",p=v=>{if(!v)return"";try{const _=AA(v),k=(c_==null?void 0:c_.trim())||Tme;return yi(_,k)}catch{return v}},x=U.useMemo(()=>[{header:"Timestamp",accessor:v=>v.timestamp_display,cell:v=>n.jsx("span",{className:"text-xs font-medium text-primary-700 dark:text-primary-300",children:p(v)}),sortable:!0},{header:"Username",accessor:v=>u(v),cell:v=>n.jsx("span",{className:"font-medium text-primary-900 dark:text-primary-100",children:v}),sortable:!0},{header:"User ID",accessor:"user_id",cell:v=>n.jsx("code",{className:"text-xs text-primary-600 dark:text-primary-400 font-mono",children:v}),sortable:!0},{header:"Action",accessor:"action",cell:v=>n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-medium rounded bg-accent-100 dark:bg-accent-900 text-accent-800 dark:text-accent-300",children:v}),sortable:!0},{header:"Entity Type",accessor:"entity_type",cell:v=>n.jsx("span",{className:"text-xs text-primary-600 dark:text-primary-400",children:v}),sortable:!0},{header:"Entity ID",accessor:"entity_id",cell:v=>n.jsx("code",{className:"text-xs text-primary-500 dark:text-primary-500 font-mono",children:v})},{header:"Event Category",accessor:"event_category",cell:v=>n.jsx("span",{className:"text-xs capitalize text-primary-600 dark:text-primary-400",children:v==null?void 0:v.toLowerCase()})},{header:"Role",accessor:"role",cell:v=>n.jsx("span",{className:"text-xs font-medium text-primary-700 dark:text-primary-300 capitalize",children:v})},{header:"Status",accessor:"status",cell:v=>{const _=(v==null?void 0:v.toLowerCase())==="success";return n.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-xs font-medium rounded ${_?"bg-success-100 dark:bg-success-900 text-success-800 dark:text-success-300":"bg-error-100 dark:bg-error-900 text-error-800 dark:text-error-300"}`,children:v})}},{header:"Details",accessor:"details",cell:v=>n.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400 line-clamp-2",children:v||""})},{header:"IP Address",accessor:"ip_address",cell:v=>n.jsx("code",{className:"text-xs text-primary-500 dark:text-primary-500 font-mono",children:v})},{header:"User Agent",accessor:"user_agent",cell:v=>n.jsx("p",{className:"text-xs text-primary-500 dark:text-primary-500 line-clamp-1",children:v||""})}],[]),f=()=>{const v={};Object.entries(l).forEach(([_,k])=>{k&&String(k).trim()&&(v[_]=k)}),t(v),o(!1)},y=()=>{c({}),t(),o(!1)};return n.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-primary-900 dark:text-primary-50",children:"Audit Logs"}),n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 mt-1",children:"View and filter all system activity and security events"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(Be,{variant:"secondary",size:"sm",leftIcon:n.jsx(Nn,{className:"w-4 h-4"}),onClick:()=>o(!0),children:"Filter"}),n.jsx(Be,{variant:"secondary",size:"sm",leftIcon:n.jsx(Xd,{className:"w-4 h-4"}),onClick:()=>void d("csv"),disabled:s,children:"Export CSV"})]})]}),n.jsxs(it,{className:"bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700 overflow-hidden",children:[s&&n.jsx("div",{className:"p-4 text-center text-sm text-primary-600 dark:text-primary-400",children:"Loading audit logs..."}),a&&n.jsxs("div",{className:"p-4 text-center text-sm text-error-600 dark:text-error-400",children:["Error: ",String(a)]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsx(r0,{data:e,columns:x,keyField:"id",searchable:!0,pagination:!0,rowClassName:"border-b border-primary-200 dark:border-primary-700 hover:bg-primary-50 dark:hover:bg-primary-800 transition-colors",headerClassName:"bg-primary-50 dark:bg-primary-800 text-primary-900 dark:text-primary-100 font-medium text-xs uppercase tracking-wider",cellClassName:"px-3 py-2.5 text-sm"})})]}),n.jsx(ju,{isOpen:i,onClose:()=>o(!1),title:"Filter Audit Logs",size:"lg",footer:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(Be,{variant:"secondary",size:"sm",onClick:y,children:"Clear"}),n.jsx(Be,{variant:"secondary",size:"sm",onClick:()=>o(!1),children:"Cancel"}),n.jsx(Be,{variant:"primary",size:"sm",onClick:f,disabled:s,children:"Apply Filters"})]}),children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-1",children:"Start Date"}),n.jsx("input",{type:"date",value:l.start_date??"",onChange:v=>c(_=>({..._,start_date:v.target.value})),className:"w-full px-3 py-2 text-sm rounded-md border border-primary-300 dark:border-primary-600 bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100 focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400 focus:border-accent-500 dark:focus:border-accent-400 transition-all"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-1",children:"End Date"}),n.jsx("input",{type:"date",value:l.end_date??"",onChange:v=>c(_=>({..._,end_date:v.target.value})),className:"w-full px-3 py-2 text-sm rounded-md border border-primary-300 dark:border-primary-600 bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100 focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400 focus:border-accent-500 dark:focus:border-accent-400 transition-all"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-1",children:"Action"}),n.jsx("input",{type:"text",placeholder:"e.g. LOGIN_FAILED",value:l.action??"",onChange:v=>c(_=>({..._,action:v.target.value})),className:"w-full px-3 py-2 text-sm rounded-md border border-primary-300 dark:border-primary-600 bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100 placeholder:text-primary-500 dark:placeholder:text-primary-500 focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400 focus:border-accent-500 dark:focus:border-accent-400 transition-all"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-1",children:"Entity Type"}),n.jsx("input",{type:"text",placeholder:"e.g. user, device",value:l.entity_type??"",onChange:v=>c(_=>({..._,entity_type:v.target.value})),className:"w-full px-3 py-2 text-sm rounded-md border border-primary-300 dark:border-primary-600 bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100 placeholder:text-primary-500 dark:placeholder:text-primary-500 focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400 focus:border-accent-500 dark:focus:border-accent-400 transition-all"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-1",children:"Status"}),n.jsxs("select",{value:l.status??"",onChange:v=>c(_=>({..._,status:v.target.value})),className:"w-full px-3 py-2 text-sm rounded-md border border-primary-300 dark:border-primary-600 bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100 focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400 focus:border-accent-500 dark:focus:border-accent-400 transition-all",children:[n.jsx("option",{value:"",children:"All"}),n.jsx("option",{value:"success",children:"Success"}),n.jsx("option",{value:"failure",children:"Failure"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-1",children:"User ID"}),n.jsx("input",{type:"text",placeholder:"e.g. usr_123",value:l.user_id??"",onChange:v=>c(_=>({..._,user_id:v.target.value})),className:"w-full px-3 py-2 text-sm rounded-md border border-primary-300 dark:border-primary-600 bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100 placeholder:text-primary-500 dark:placeholder:text-primary-500 focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400 focus:border-accent-500 dark:focus:border-accent-400 transition-all"})]})]})})]})};var Tv={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var Lme=Tv.exports,cE;function Pme(){return cE||(cE=1,(function(e,t){((r,s)=>{e.exports=s()})(Lme,function r(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},a,i=!s.document&&!!s.postMessage,o=s.IS_PAPA_WORKER||!1,l={},c=0,d={};function u(N){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(E){var z=O(E);z.chunkSize=parseInt(z.chunkSize),E.step||E.chunk||(z.chunkSize=null),this._handle=new v(z),(this._handle.streamer=this)._config=z}).call(this,N),this.parseChunk=function(E,z){var P=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<P){let W=this._config.newline;W||(I=this._config.quoteChar||'"',W=this._handle.guessLineEndings(E,I)),E=[...E.split(W).slice(P)].join(W)}this.isFirstChunk&&C(this._config.beforeFirstChunk)&&(I=this._config.beforeFirstChunk(E))!==void 0&&(E=I),this.isFirstChunk=!1,this._halted=!1;var P=this._partialLine+E,I=(this._partialLine="",this._handle.parse(P,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(E=I.meta.cursor,P=(this._finished||(this._partialLine=P.substring(E-this._baseIndex),this._baseIndex=E),I&&I.data&&(this._rowCount+=I.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)s.postMessage({results:I,workerId:d.WORKER_ID,finished:P});else if(C(this._config.chunk)&&!z){if(this._config.chunk(I,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=I=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(I.data),this._completeResults.errors=this._completeResults.errors.concat(I.errors),this._completeResults.meta=I.meta),this._completed||!P||!C(this._config.complete)||I&&I.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),P||I&&I.meta.paused||this._nextChunk(),I}this._halted=!0},this._sendError=function(E){C(this._config.error)?this._config.error(E):o&&this._config.error&&s.postMessage({workerId:d.WORKER_ID,error:E,finished:!1})}}function p(N){var E;(N=N||{}).chunkSize||(N.chunkSize=d.RemoteChunkSize),u.call(this,N),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(z){this._input=z,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(E=new XMLHttpRequest,this._config.withCredentials&&(E.withCredentials=this._config.withCredentials),i||(E.onload=A(this._chunkLoaded,this),E.onerror=A(this._chunkError,this)),E.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var z,P=this._config.downloadRequestHeaders;for(z in P)E.setRequestHeader(z,P[z])}var I;this._config.chunkSize&&(I=this._start+this._config.chunkSize-1,E.setRequestHeader("Range","bytes="+this._start+"-"+I));try{E.send(this._config.downloadRequestBody)}catch(W){this._chunkError(W.message)}i&&E.status===0&&this._chunkError()}},this._chunkLoaded=function(){E.readyState===4&&(E.status<200||400<=E.status?this._chunkError():(this._start+=this._config.chunkSize||E.responseText.length,this._finished=!this._config.chunkSize||this._start>=(z=>(z=z.getResponseHeader("Content-Range"))!==null?parseInt(z.substring(z.lastIndexOf("/")+1)):-1)(E),this.parseChunk(E.responseText)))},this._chunkError=function(z){z=E.statusText||z,this._sendError(new Error(z))}}function x(N){(N=N||{}).chunkSize||(N.chunkSize=d.LocalChunkSize),u.call(this,N);var E,z,P=typeof FileReader<"u";this.stream=function(I){this._input=I,z=I.slice||I.webkitSlice||I.mozSlice,P?((E=new FileReader).onload=A(this._chunkLoaded,this),E.onerror=A(this._chunkError,this)):E=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var I=this._input,W=(this._config.chunkSize&&(W=Math.min(this._start+this._config.chunkSize,this._input.size),I=z.call(I,this._start,W)),E.readAsText(I,this._config.encoding));P||this._chunkLoaded({target:{result:W}})},this._chunkLoaded=function(I){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(I.target.result)},this._chunkError=function(){this._sendError(E.error)}}function f(N){var E;u.call(this,N=N||{}),this.stream=function(z){return E=z,this._nextChunk()},this._nextChunk=function(){var z,P;if(!this._finished)return z=this._config.chunkSize,E=z?(P=E.substring(0,z),E.substring(z)):(P=E,""),this._finished=!E,this.parseChunk(P)}}function y(N){u.call(this,N=N||{});var E=[],z=!0,P=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(I){this._input=I,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&E.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),E.length?this.parseChunk(E.shift()):z=!0},this._streamData=A(function(I){try{E.push(typeof I=="string"?I:I.toString(this._config.encoding)),z&&(z=!1,this._checkIsFinished(),this.parseChunk(E.shift()))}catch(W){this._streamError(W)}},this),this._streamError=A(function(I){this._streamCleanUp(),this._sendError(I)},this),this._streamEnd=A(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=A(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(N){var E,z,P,I,W=Math.pow(2,53),Z=-W,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,te=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ie=this,le=0,se=0,oe=!1,ee=!1,B=[],q={data:[],errors:[],meta:{}};function Q(he){return N.skipEmptyLines==="greedy"?he.join("").trim()==="":he.length===1&&he[0].length===0}function K(){if(q&&P&&(ge("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),P=!1),N.skipEmptyLines&&(q.data=q.data.filter(function(We){return!Q(We)})),ae()){let We=function(fe,ht){C(N.transformHeader)&&(fe=N.transformHeader(fe,ht)),B.push(fe)};if(q)if(Array.isArray(q.data[0])){for(var he=0;ae()&&he<q.data.length;he++)q.data[he].forEach(We);q.data.splice(0,1)}else q.data.forEach(We)}function ke(We,fe){for(var ht=N.header?{}:[],De=0;De<We.length;De++){var Ee=De,Ue=We[De],Ue=((rt,ft)=>(Re=>(N.dynamicTypingFunction&&N.dynamicTyping[Re]===void 0&&(N.dynamicTyping[Re]=N.dynamicTypingFunction(Re)),(N.dynamicTyping[Re]||N.dynamicTyping)===!0))(rt)?ft==="true"||ft==="TRUE"||ft!=="false"&&ft!=="FALSE"&&((Re=>{if(Y.test(Re)&&(Re=parseFloat(Re),Z<Re&&Re<W))return 1})(ft)?parseFloat(ft):te.test(ft)?new Date(ft):ft===""?null:ft):ft)(Ee=N.header?De>=B.length?"__parsed_extra":B[De]:Ee,Ue=N.transform?N.transform(Ue,Ee):Ue);Ee==="__parsed_extra"?(ht[Ee]=ht[Ee]||[],ht[Ee].push(Ue)):ht[Ee]=Ue}return N.header&&(De>B.length?ge("FieldMismatch","TooManyFields","Too many fields: expected "+B.length+" fields but parsed "+De,se+fe):De<B.length&&ge("FieldMismatch","TooFewFields","Too few fields: expected "+B.length+" fields but parsed "+De,se+fe)),ht}var Ae;q&&(N.header||N.dynamicTyping||N.transform)&&(Ae=1,!q.data.length||Array.isArray(q.data[0])?(q.data=q.data.map(ke),Ae=q.data.length):q.data=ke(q.data,0),N.header&&q.meta&&(q.meta.fields=B),se+=Ae)}function ae(){return N.header&&B.length===0}function ge(he,ke,Ae,We){he={type:he,code:ke,message:Ae},We!==void 0&&(he.row=We),q.errors.push(he)}C(N.step)&&(I=N.step,N.step=function(he){q=he,ae()?K():(K(),q.data.length!==0&&(le+=he.data.length,N.preview&&le>N.preview?z.abort():(q.data=q.data[0],I(q,ie))))}),this.parse=function(he,ke,Ae){var We=N.quoteChar||'"',We=(N.newline||(N.newline=this.guessLineEndings(he,We)),P=!1,N.delimiter?C(N.delimiter)&&(N.delimiter=N.delimiter(he),q.meta.delimiter=N.delimiter):((We=((fe,ht,De,Ee,Ue)=>{var rt,ft,Re,pe;Ue=Ue||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var Le=0;Le<Ue.length;Le++){for(var He,ve=Ue[Le],Ne=0,ze=0,qe=0,pt=(Re=void 0,new k({comments:Ee,delimiter:ve,newline:ht,preview:10}).parse(fe)),xt=0;xt<pt.data.length;xt++)De&&Q(pt.data[xt])?qe++:(He=pt.data[xt].length,ze+=He,Re===void 0?Re=He:0<He&&(Ne+=Math.abs(He-Re),Re=He));0<pt.data.length&&(ze/=pt.data.length-qe),(ft===void 0||Ne<=ft)&&(pe===void 0||pe<ze)&&1.99<ze&&(ft=Ne,rt=ve,pe=ze)}return{successful:!!(N.delimiter=rt),bestDelimiter:rt}})(he,N.newline,N.skipEmptyLines,N.comments,N.delimitersToGuess)).successful?N.delimiter=We.bestDelimiter:(P=!0,N.delimiter=d.DefaultDelimiter),q.meta.delimiter=N.delimiter),O(N));return N.preview&&N.header&&We.preview++,E=he,z=new k(We),q=z.parse(E,ke,Ae),K(),oe?{meta:{paused:!0}}:q||{meta:{paused:!1}}},this.paused=function(){return oe},this.pause=function(){oe=!0,z.abort(),E=C(N.chunk)?"":E.substring(z.getCharIndex())},this.resume=function(){ie.streamer._halted?(oe=!1,ie.streamer.parseChunk(E,!0)):setTimeout(ie.resume,3)},this.aborted=function(){return ee},this.abort=function(){ee=!0,z.abort(),q.meta.aborted=!0,C(N.complete)&&N.complete(q),E=""},this.guessLineEndings=function(fe,We){fe=fe.substring(0,1048576);var We=new RegExp(_(We)+"([^]*?)"+_(We),"gm"),Ae=(fe=fe.replace(We,"")).split("\r"),We=fe.split(`
`),fe=1<We.length&&We[0].length<Ae[0].length;if(Ae.length===1||fe)return`
`;for(var ht=0,De=0;De<Ae.length;De++)Ae[De][0]===`
`&&ht++;return ht>=Ae.length/2?`\r
`:"\r"}}function _(N){return N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function k(N){var E=(N=N||{}).delimiter,z=N.newline,P=N.comments,I=N.step,W=N.preview,Z=N.fastMode,Y=null,te=!1,ie=N.quoteChar==null?'"':N.quoteChar,le=ie;if(N.escapeChar!==void 0&&(le=N.escapeChar),(typeof E!="string"||-1<d.BAD_DELIMITERS.indexOf(E))&&(E=","),P===E)throw new Error("Comment character same as delimiter");P===!0?P="#":(typeof P!="string"||-1<d.BAD_DELIMITERS.indexOf(P))&&(P=!1),z!==`
`&&z!=="\r"&&z!==`\r
`&&(z=`
`);var se=0,oe=!1;this.parse=function(ee,B,q){if(typeof ee!="string")throw new Error("Input must be a string");var Q=ee.length,K=E.length,ae=z.length,ge=P.length,he=C(I),ke=[],Ae=[],We=[],fe=se=0;if(!ee)return Ne();if(Z||Z!==!1&&ee.indexOf(ie)===-1){for(var ht=ee.split(z),De=0;De<ht.length;De++){if(We=ht[De],se+=We.length,De!==ht.length-1)se+=z.length;else if(q)return Ne();if(!P||We.substring(0,ge)!==P){if(he){if(ke=[],pe(We.split(E)),ze(),oe)return Ne()}else pe(We.split(E));if(W&&W<=De)return ke=ke.slice(0,W),Ne(!0)}}return Ne()}for(var Ee=ee.indexOf(E,se),Ue=ee.indexOf(z,se),rt=new RegExp(_(le)+_(ie),"g"),ft=ee.indexOf(ie,se);;)if(ee[se]===ie)for(ft=se,se++;;){if((ft=ee.indexOf(ie,ft+1))===-1)return q||Ae.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ke.length,index:se}),He();if(ft===Q-1)return He(ee.substring(se,ft).replace(rt,ie));if(ie===le&&ee[ft+1]===le)ft++;else if(ie===le||ft===0||ee[ft-1]!==le){Ee!==-1&&Ee<ft+1&&(Ee=ee.indexOf(E,ft+1));var Re=Le((Ue=Ue!==-1&&Ue<ft+1?ee.indexOf(z,ft+1):Ue)===-1?Ee:Math.min(Ee,Ue));if(ee.substr(ft+1+Re,K)===E){We.push(ee.substring(se,ft).replace(rt,ie)),ee[se=ft+1+Re+K]!==ie&&(ft=ee.indexOf(ie,se)),Ee=ee.indexOf(E,se),Ue=ee.indexOf(z,se);break}if(Re=Le(Ue),ee.substring(ft+1+Re,ft+1+Re+ae)===z){if(We.push(ee.substring(se,ft).replace(rt,ie)),ve(ft+1+Re+ae),Ee=ee.indexOf(E,se),ft=ee.indexOf(ie,se),he&&(ze(),oe))return Ne();if(W&&ke.length>=W)return Ne(!0);break}Ae.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ke.length,index:se}),ft++}}else if(P&&We.length===0&&ee.substring(se,se+ge)===P){if(Ue===-1)return Ne();se=Ue+ae,Ue=ee.indexOf(z,se),Ee=ee.indexOf(E,se)}else if(Ee!==-1&&(Ee<Ue||Ue===-1))We.push(ee.substring(se,Ee)),se=Ee+K,Ee=ee.indexOf(E,se);else{if(Ue===-1)break;if(We.push(ee.substring(se,Ue)),ve(Ue+ae),he&&(ze(),oe))return Ne();if(W&&ke.length>=W)return Ne(!0)}return He();function pe(qe){ke.push(qe),fe=se}function Le(qe){var pt=0;return pt=qe!==-1&&(qe=ee.substring(ft+1,qe))&&qe.trim()===""?qe.length:pt}function He(qe){return q||(qe===void 0&&(qe=ee.substring(se)),We.push(qe),se=Q,pe(We),he&&ze()),Ne()}function ve(qe){se=qe,pe(We),We=[],Ue=ee.indexOf(z,se)}function Ne(qe){if(N.header&&!B&&ke.length&&!te){var pt=ke[0],xt=Object.create(null),Ft=new Set(pt);let Et=!1;for(let At=0;At<pt.length;At++){let ar=pt[At];if(xt[ar=C(N.transformHeader)?N.transformHeader(ar,At):ar]){let er,Qt=xt[ar];for(;er=ar+"_"+Qt,Qt++,Ft.has(er););Ft.add(er),pt[At]=er,xt[ar]++,Et=!0,(Y=Y===null?{}:Y)[er]=ar}else xt[ar]=1,pt[At]=ar;Ft.add(ar)}Et&&console.warn("Duplicate headers found and renamed."),te=!0}return{data:ke,errors:Ae,meta:{delimiter:E,linebreak:z,aborted:oe,truncated:!!qe,cursor:fe+(B||0),renamedHeaders:Y}}}function ze(){I(Ne()),ke=[],Ae=[]}},this.abort=function(){oe=!0},this.getCharIndex=function(){return se}}function S(N){var E=N.data,z=l[E.workerId],P=!1;if(E.error)z.userError(E.error,E.file);else if(E.results&&E.results.data){var I={abort:function(){P=!0,M(E.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:T,resume:T};if(C(z.userStep)){for(var W=0;W<E.results.data.length&&(z.userStep({data:E.results.data[W],errors:E.results.errors,meta:E.results.meta},I),!P);W++);delete E.results}else C(z.userChunk)&&(z.userChunk(E.results,I,E.file),delete E.results)}E.finished&&!P&&M(E.workerId,E.results)}function M(N,E){var z=l[N];C(z.userComplete)&&z.userComplete(E),z.terminate(),delete l[N]}function T(){throw new Error("Not implemented.")}function O(N){if(typeof N!="object"||N===null)return N;var E,z=Array.isArray(N)?[]:{};for(E in N)z[E]=O(N[E]);return z}function A(N,E){return function(){N.apply(E,arguments)}}function C(N){return typeof N=="function"}return d.parse=function(N,E){var z=(E=E||{}).dynamicTyping||!1;if(C(z)&&(E.dynamicTypingFunction=z,z={}),E.dynamicTyping=z,E.transform=!!C(E.transform)&&E.transform,!E.worker||!d.WORKERS_SUPPORTED)return z=null,d.NODE_STREAM_INPUT,typeof N=="string"?(N=(P=>P.charCodeAt(0)!==65279?P:P.slice(1))(N),z=new(E.download?p:f)(E)):N.readable===!0&&C(N.read)&&C(N.on)?z=new y(E):(s.File&&N instanceof File||N instanceof Object)&&(z=new x(E)),z.stream(N);(z=(()=>{var P;return!!d.WORKERS_SUPPORTED&&(P=(()=>{var I=s.URL||s.webkitURL||null,W=r.toString();return d.BLOB_URL||(d.BLOB_URL=I.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",W,")();"],{type:"text/javascript"})))})(),(P=new s.Worker(P)).onmessage=S,P.id=c++,l[P.id]=P)})()).userStep=E.step,z.userChunk=E.chunk,z.userComplete=E.complete,z.userError=E.error,E.step=C(E.step),E.chunk=C(E.chunk),E.complete=C(E.complete),E.error=C(E.error),delete E.worker,z.postMessage({input:N,config:E,workerId:z.id})},d.unparse=function(N,E){var z=!1,P=!0,I=",",W=`\r
`,Z='"',Y=Z+Z,te=!1,ie=null,le=!1,se=((()=>{if(typeof E=="object"){if(typeof E.delimiter!="string"||d.BAD_DELIMITERS.filter(function(B){return E.delimiter.indexOf(B)!==-1}).length||(I=E.delimiter),typeof E.quotes!="boolean"&&typeof E.quotes!="function"&&!Array.isArray(E.quotes)||(z=E.quotes),typeof E.skipEmptyLines!="boolean"&&typeof E.skipEmptyLines!="string"||(te=E.skipEmptyLines),typeof E.newline=="string"&&(W=E.newline),typeof E.quoteChar=="string"&&(Z=E.quoteChar),typeof E.header=="boolean"&&(P=E.header),Array.isArray(E.columns)){if(E.columns.length===0)throw new Error("Option columns is empty");ie=E.columns}E.escapeChar!==void 0&&(Y=E.escapeChar+Z),E.escapeFormulae instanceof RegExp?le=E.escapeFormulae:typeof E.escapeFormulae=="boolean"&&E.escapeFormulae&&(le=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(Z),"g"));if(typeof N=="string"&&(N=JSON.parse(N)),Array.isArray(N)){if(!N.length||Array.isArray(N[0]))return oe(null,N,te);if(typeof N[0]=="object")return oe(ie||Object.keys(N[0]),N,te)}else if(typeof N=="object")return typeof N.data=="string"&&(N.data=JSON.parse(N.data)),Array.isArray(N.data)&&(N.fields||(N.fields=N.meta&&N.meta.fields||ie),N.fields||(N.fields=Array.isArray(N.data[0])?N.fields:typeof N.data[0]=="object"?Object.keys(N.data[0]):[]),Array.isArray(N.data[0])||typeof N.data[0]=="object"||(N.data=[N.data])),oe(N.fields||[],N.data||[],te);throw new Error("Unable to serialize unrecognized input");function oe(B,q,Q){var K="",ae=(typeof B=="string"&&(B=JSON.parse(B)),typeof q=="string"&&(q=JSON.parse(q)),Array.isArray(B)&&0<B.length),ge=!Array.isArray(q[0]);if(ae&&P){for(var he=0;he<B.length;he++)0<he&&(K+=I),K+=ee(B[he],he);0<q.length&&(K+=W)}for(var ke=0;ke<q.length;ke++){var Ae=(ae?B:q[ke]).length,We=!1,fe=ae?Object.keys(q[ke]).length===0:q[ke].length===0;if(Q&&!ae&&(We=Q==="greedy"?q[ke].join("").trim()==="":q[ke].length===1&&q[ke][0].length===0),Q==="greedy"&&ae){for(var ht=[],De=0;De<Ae;De++){var Ee=ge?B[De]:De;ht.push(q[ke][Ee])}We=ht.join("").trim()===""}if(!We){for(var Ue=0;Ue<Ae;Ue++){0<Ue&&!fe&&(K+=I);var rt=ae&&ge?B[Ue]:Ue;K+=ee(q[ke][rt],Ue)}ke<q.length-1&&(!Q||0<Ae&&!fe)&&(K+=W)}}return K}function ee(B,q){var Q,K;return B==null?"":B.constructor===Date?JSON.stringify(B).slice(1,25):(K=!1,le&&typeof B=="string"&&le.test(B)&&(B="'"+B,K=!0),Q=B.toString().replace(se,Y),(K=K||z===!0||typeof z=="function"&&z(B,q)||Array.isArray(z)&&z[q]||((ae,ge)=>{for(var he=0;he<ge.length;he++)if(-1<ae.indexOf(ge[he]))return!0;return!1})(Q,d.BAD_DELIMITERS)||-1<Q.indexOf(I)||Q.charAt(0)===" "||Q.charAt(Q.length-1)===" ")?Z+Q+Z:Q)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!i&&!!s.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=k,d.ParserHandle=v,d.NetworkStreamer=p,d.FileStreamer=x,d.StringStreamer=f,d.ReadableStreamStreamer=y,s.jQuery&&((a=s.jQuery).fn.parse=function(N){var E=N.config||{},z=[];return this.each(function(W){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var Z=0;Z<this.files.length;Z++)z.push({file:this.files[Z],inputElem:this,instanceConfig:a.extend({},E)})}),P(),this;function P(){if(z.length===0)C(N.complete)&&N.complete();else{var W,Z,Y,te,ie=z[0];if(C(N.before)){var le=N.before(ie.file,ie.inputElem);if(typeof le=="object"){if(le.action==="abort")return W="AbortError",Z=ie.file,Y=ie.inputElem,te=le.reason,void(C(N.error)&&N.error({name:W},Z,Y,te));if(le.action==="skip")return void I();typeof le.config=="object"&&(ie.instanceConfig=a.extend(ie.instanceConfig,le.config))}else if(le==="skip")return void I()}var se=ie.instanceConfig.complete;ie.instanceConfig.complete=function(oe){C(se)&&se(oe,ie.file,ie.inputElem),I()},d.parse(ie.file,ie.instanceConfig)}}function I(){z.splice(0,1),P()}}),o&&(s.onmessage=function(N){N=N.data,d.WORKER_ID===void 0&&N&&(d.WORKER_ID=N.workerId),typeof N.input=="string"?s.postMessage({workerId:d.WORKER_ID,results:d.parse(N.input,N.config),finished:!0}):(s.File&&N.input instanceof File||N.input instanceof Object)&&(N=d.parse(N.input,N.config))&&s.postMessage({workerId:d.WORKER_ID,results:N,finished:!0})}),(p.prototype=Object.create(u.prototype)).constructor=p,(x.prototype=Object.create(u.prototype)).constructor=x,(f.prototype=Object.create(f.prototype)).constructor=f,(y.prototype=Object.create(u.prototype)).constructor=y,d})})(Tv)),Tv.exports}var Fme=Pme();const Dme=Qx(Fme);var Mv={exports:{}},Ime=Mv.exports,dE;function Rme(){return dE||(dE=1,(function(e,t){(function(r,s){s()})(Ime,function(){function r(d,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function s(d,u,p){var x=new XMLHttpRequest;x.open("GET",d),x.responseType="blob",x.onload=function(){c(x.response,u,p)},x.onerror=function(){console.error("could not download file")},x.send()}function a(d){var u=new XMLHttpRequest;u.open("HEAD",d,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function i(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(u)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof l2=="object"&&l2.global===l2?l2:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(d,u,p){var x=o.URL||o.webkitURL,f=document.createElement("a");u=u||d.name||"download",f.download=u,f.rel="noopener",typeof d=="string"?(f.href=d,f.origin===location.origin?i(f):a(f.href)?s(d,u,p):i(f,f.target="_blank")):(f.href=x.createObjectURL(d),setTimeout(function(){x.revokeObjectURL(f.href)},4e4),setTimeout(function(){i(f)},0))}:"msSaveOrOpenBlob"in navigator?function(d,u,p){if(u=u||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(r(d,p),u);else if(a(d))s(d,u,p);else{var x=document.createElement("a");x.href=d,x.target="_blank",setTimeout(function(){i(x)})}}:function(d,u,p,x){if(x=x||open("","_blank"),x&&(x.document.title=x.document.body.innerText="downloading..."),typeof d=="string")return s(d,u,p);var f=d.type==="application/octet-stream",y=/constructor/i.test(o.HTMLElement)||o.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||f&&y||l)&&typeof FileReader<"u"){var _=new FileReader;_.onloadend=function(){var M=_.result;M=v?M:M.replace(/^data:[^;]*;/,"data:attachment/file;"),x?x.location.href=M:location=M,x=null},_.readAsDataURL(d)}else{var k=o.URL||o.webkitURL,S=k.createObjectURL(d);x?x.location=S:location.href=S,x=null,setTimeout(function(){k.revokeObjectURL(S)},4e4)}});o.saveAs=c.saveAs=c,e.exports=c})})(Mv)),Mv.exports}var Ome=Rme();const S1=[{key:"users",label:"Users",icon:Cu,color:"rgba(59, 130, 246, 0.7)",storeKey:"users"},{key:"devices",label:"Devices",icon:cB,color:"rgba(16, 185, 129, 0.7)",storeKey:"devices"},{key:"buildings",label:"Buildings",icon:Qo,color:"rgba(245, 158, 11, 0.7)",storeKey:"buildings"},{key:"vehicles",label:"Vehicles",icon:Mh,color:"rgba(239, 68, 68, 0.7)",storeKey:"vehicles"},{key:"officeEquipment",label:"Office Equipment",icon:pp,color:"rgba(139, 92, 246, 0.7)",storeKey:"officeEquipment"},{key:"furnitureEquipment",label:"Furniture",icon:Vd,color:"rgba(236, 72, 153, 0.7)",storeKey:"furnitureEquipment"},{key:"plantMachinery",label:"Plant Machinery",icon:PB,color:"rgba(34, 197, 94, 0.7)",storeKey:"plantMachinery"},{key:"landRegister",label:"Land Register",icon:Ea,color:"rgba(168, 85, 247, 0.7)",storeKey:"landRegister"},{key:"portableItems",label:"Portable Items",icon:H0,color:"rgba(14, 165, 233, 0.7)",storeKey:"portableItems"},{key:"ictAssets",label:"ICT Assets",icon:p7,color:"rgba(147, 51, 234, 0.7)",storeKey:"ictAssets"},{key:"activity",label:"Activity Logs",icon:$0,color:"rgba(6, 182, 212, 0.7)",storeKey:"auditLogs"}],ww=["Good","Fair","Poor","Disposed"],Bme=[{value:"summary",label:"Summary Only"},{value:"data",label:"Data Only"},{value:"full",label:"Full Report"}],Lg={pageMargin:20},zme=()=>{var e;try{const t=localStorage.getItem("auth-storage");if(t){const r=JSON.parse(t);return((e=r==null?void 0:r.state)==null?void 0:e.token)||null}}catch(t){console.error("Failed to parse auth token:",t)}return null},pf=()=>{const e=zme();return{headers:{Authorization:e?`Bearer ${e}`:"","Content-Type":"application/json"}}},Ume=rl((e,t)=>({devices:[],isLoading:!1,error:null,selectedDevice:null,transferHistory:[],isLoadingTransfers:!1,transferError:null,fetchDevices:async()=>{e({isLoading:!0,error:null});try{const r=await Pt.get(`${Bt}/devices/`,pf());e({devices:r.data,isLoading:!1})}catch(r){console.error("Failed to fetch devices:",r),e({error:r instanceof Error?r.message:"Failed to fetch devices",isLoading:!1})}},fetchDevice:async r=>{e({isLoading:!0,error:null});try{const s=await Pt.get(`${Bt}/devices/${r}/`,pf());return e({selectedDevice:s.data,isLoading:!1}),s.data}catch(s){throw console.error(`Failed to fetch device ${r}:`,s),e({error:s instanceof Error?s.message:`Failed to fetch device ${r}`,isLoading:!1}),s}},createDevice:async r=>{e({isLoading:!0,error:null});try{const s=await Pt.post(`${Bt}/devices/`,r,pf()),{devices:a}=t();e({devices:[...a,s.data],isLoading:!1})}catch(s){throw console.error("Failed to create device:",s),e({error:s instanceof Error?s.message:"Failed to create device",isLoading:!1}),s}},updateDevice:async(r,s)=>{e({isLoading:!0,error:null});try{const a=await Pt.put(`${Bt}/devices/${r}/`,s,pf()),{devices:i}=t();e({devices:i.map(o=>String(o.id)===r?a.data:o),selectedDevice:a.data,isLoading:!1})}catch(a){throw console.error(`Failed to update device ${r}:`,a),e({error:a instanceof Error?a.message:`Failed to update device ${r}`,isLoading:!1}),a}},deleteDevice:async r=>{e({isLoading:!0,error:null});try{await Pt.delete(`${Bt}/devices/${r}/`,pf());const{devices:s}=t();e({devices:s.filter(a=>String(a.id)!==r),selectedDevice:null,isLoading:!1})}catch(s){throw console.error(`Failed to delete device ${r}:`,s),e({error:s instanceof Error?s.message:`Failed to delete device ${r}`,isLoading:!1}),s}},setSelectedDevice:r=>e({selectedDevice:r}),fetchTransferHistory:async r=>{e({isLoadingTransfers:!0,transferError:null});try{const s=await Pt.get(`${Bt}/devices/${r}/transfers/`,pf());return e({transferHistory:s.data,isLoadingTransfers:!1}),s.data}catch(s){throw console.error(`Failed to fetch transfer history for device ${r}:`,s),e({transferError:s instanceof Error?s.message:"Failed to fetch transfer history",isLoadingTransfers:!1}),s}},createTransfer:async(r,s)=>{e({isLoadingTransfers:!0,transferError:null});try{const a={...s,device_id:r};await Pt.post(`${Bt}/devices/${r}/transfer/`,a,pf()),await t().fetchTransferHistory(r),await t().fetchDevice(r),e({isLoadingTransfers:!1})}catch(a){throw console.error(`Failed to create transfer for device ${r}:`,a),e({transferError:a instanceof Error?a.message:"Failed to create transfer",isLoadingTransfers:!1}),a}},clearTransferHistory:()=>e({transferHistory:[],transferError:null,isLoadingTransfers:!1})}));Pt.defaults.withCredentials=!0;Pt.defaults.baseURL=Bt;const $me=rl((e,t)=>({users:[],isLoading:!1,error:null,onlineUsers:[],fetchUsers:async()=>{e({isLoading:!0,error:null});try{const r=await Pt.get("/users");e({users:r.data,isLoading:!1})}catch(r){console.error("Failed to fetch users:",r),e({error:r instanceof Error?r.message:"Failed to fetch users",isLoading:!1})}},createUser:async r=>{e({isLoading:!0,error:null});try{const s=await Pt.post("/users",r);e({users:[...t().users,s.data],isLoading:!1})}catch(s){throw console.error("Failed to create user:",s),e({error:s instanceof Error?s.message:"Failed to create user",isLoading:!1}),s}},updateUser:async(r,s)=>{e({isLoading:!0,error:null});try{const a=await Pt.put(`/users/${r}`,s);e({users:t().users.map(i=>i.id===r?a.data:i),isLoading:!1})}catch(a){throw console.error(`Failed to update user ${r}:`,a),e({error:a instanceof Error?a.message:`Failed to update user ${r}`,isLoading:!1}),a}},deleteUser:async r=>{e({isLoading:!0,error:null});try{await Pt.delete(`/users/${r}`),e({users:t().users.filter(s=>s.id!==r),isLoading:!1})}catch(s){throw console.error(`Failed to delete user ${r}:`,s),e({error:s instanceof Error?s.message:`Failed to delete user ${r}`,isLoading:!1}),s}},changePassword:async({user_id:r,new_password:s})=>{e({isLoading:!0,error:null});try{await Pt.put(`/users/${r}/password`,{new_password:s}),e({isLoading:!1})}catch(a){throw console.error(`Failed to change password for user ${r}:`,a),e({error:a instanceof Error?a.message:"Failed to change password",isLoading:!1}),a}},activateUser:async r=>{await t().updateUser(r,{is_active:!0})},deactivateUser:async r=>{await t().updateUser(r,{is_active:!1})},fetchOnlineUsers:async()=>{e({isLoading:!0,error:null});try{const r=await Pt.get("/users/online");e({onlineUsers:r.data,isLoading:!1})}catch(r){console.error("Failed to fetch online users:",r),e({error:r instanceof Error?r.message:"Failed to fetch online users",isLoading:!1})}}})),Wme=()=>{const e=Ume(),t=$me(),r=RL(),s=ug(),a=hg(),i=Dp(),o=Ip(),l=Rp(),c=fg(),d=Op(),u=Bp(),p=U.useRef(!1);U.useEffect(()=>{if(p.current)return;p.current=!0,(async()=>{await Promise.all([t.fetchUsers(),e.fetchDevices()]),await Promise.all([r.fetchAuditLogs(),s.fetchBuildings(),a.fetchVehicles()]),await Promise.all([i.fetchOfficeEquipment(),o.fetchFurnitureEquipments(),l.fetchPlantMachineries()]),await Promise.all([c.fetchLandRegisters(),d.fetchPortableItems(),u.fetchIctAssets()])})()},[]);const x=U.useMemo(()=>({users:t.users,devices:e.devices,buildings:s.buildings,vehicles:a.vehicles,officeEquipment:i.officeEquipment,furnitureEquipment:o.furnitureEquipments,plantMachinery:l.plantMachineries,landRegister:c.landRegisters,portableItems:d.portableItems,ictAssets:u.ictAssets,auditLogs:r.auditLogs}),[t.users,e.devices,s.buildings,a.vehicles,i.officeEquipment,o.furnitureEquipments,l.plantMachineries,c.landRegisters,d.portableItems,u.ictAssets,r.auditLogs]),f=U.useMemo(()=>e.isLoading||t.isLoading||r.isLoading||s.isLoading||a.isLoading||i.isLoading||o.isLoading||l.isLoading||c.isLoading||d.isLoading||u.isLoading,[e.isLoading,t.isLoading,r.isLoading,s.isLoading,a.isLoading,i.isLoading,o.isLoading,l.isLoading,c.isLoading,d.isLoading,u.isLoading]),y=U.useCallback(k=>x[k]||[],[x]),v=U.useCallback((k,S)=>{const M=new Date(S.dateRange.start),T=new Date(S.dateRange.end);return T.setHours(23,59,59,999),k.filter(O=>{const A=new Date(O.created_at||O.timestamp);if(A<M||A>T)return!1;if(S.status!=="all"){if(O.is_active!==void 0){if(S.status==="active"&&!O.is_active||S.status==="inactive"&&O.is_active)return!1}else if(O.last_seen!==void 0){const C=new Date(O.last_seen)>new Date(Date.now()-864e5);if(S.status==="online"&&!C||S.status==="offline"&&C)return!1}else if(O.asset_condition&&S.status!=="all"&&O.asset_condition.toLowerCase()!==S.status.toLowerCase())return!1}return!(S.location!=="all"&&O.current_location!==S.location)})},[]),_=U.useCallback(k=>{const S=new Set;return k.forEach(M=>{M.current_location&&S.add(M.current_location)}),Array.from(S).sort()},[]);return{stores:x,isLoading:f,getAssetData:y,getFilteredData:v,getUniqueLocations:_}},Hme=({filters:e,onFiltersChange:t,locations:r,statusOptions:s,departments:a=[]})=>{const i=(d,u)=>{t({...e,dateRange:{...e.dateRange,[d]:u}})},o=d=>{t({...e,status:d})},l=d=>{t({...e,location:d})},c=d=>{t({...e,department:d})};return n.jsx(it,{className:"w-full",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Nn,{size:18,className:"text-primary"}),n.jsx("h3",{className:"font-semibold text-lg",children:"Report Filters"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Date"}),n.jsx("input",{type:"date",value:e.dateRange.start,onChange:d=>i("start",d.target.value),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary","aria-label":"Report start date"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"End Date"}),n.jsx("input",{type:"date",value:e.dateRange.end,onChange:d=>i("end",d.target.value),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary","aria-label":"Report end date"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status/Condition"}),n.jsx("select",{value:e.status,onChange:d=>o(d.target.value),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary","aria-label":"Filter by status or condition",children:s.map(d=>n.jsx("option",{value:d.value,children:d.label},d.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Location"}),n.jsxs("select",{value:e.location,onChange:d=>l(d.target.value),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary","aria-label":"Filter by location",children:[n.jsx("option",{value:"all",children:"All Locations"}),r.map(d=>n.jsx("option",{value:d,children:d},d))]})]}),a.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Department"}),n.jsxs("select",{value:e.department||"all",onChange:d=>c(d.target.value),className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary","aria-label":"Filter by department",children:[n.jsx("option",{value:"all",children:"All Departments"}),a.map(d=>n.jsx("option",{value:d,children:d},d))]})]})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing data from ",e.dateRange.start," to"," ",e.dateRange.end,e.status!=="all"&&`  Status: ${e.status}`,e.location!=="all"&&`  Location: ${e.location}`,e.department&&e.department!=="all"&&`  Department: ${e.department}`]})})]})})},O4=()=>n.jsx("div",{className:"flex justify-center items-center h-full",children:n.jsx("div",{className:"w-16 h-16 border-4 border-t-4 border-primary-900 rounded-full animate-spin"})}),Vme=({summary:e,isLoading:t,categoryLabel:r,dateRange:s})=>n.jsx(it,{className:"w-full",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Report Summary"}),n.jsx(Fs,{size:20,className:"text-primary"})]}),t?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(O4,{})}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"pb-4 border-b border-border",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Records"}),n.jsx("p",{className:"text-3xl font-bold text-primary",children:e.totalRecords.toLocaleString()})]}),e.activeCount!==void 0&&e.inactiveCount!==void 0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4 pb-4 border-b border-border",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Active"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.activeCount})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Inactive"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.inactiveCount})]})]}),e.conditionBreakdown&&Object.keys(e.conditionBreakdown).length>0&&n.jsxs("div",{className:"pb-4 border-b border-border",children:[n.jsx("p",{className:"text-sm font-medium mb-3",children:"Condition Breakdown"}),n.jsx("div",{className:"space-y-2",children:Object.entries(e.conditionBreakdown).map(([a,i])=>n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:a}),n.jsx("span",{className:"font-semibold",children:i})]},a))})]}),e.locationBreakdown&&Object.keys(e.locationBreakdown).length>0&&n.jsxs("div",{className:"pb-4",children:[n.jsx("p",{className:"text-sm font-medium mb-3",children:"Top Locations"}),n.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Object.entries(e.locationBreakdown).sort(([,a],[,i])=>i-a).slice(0,5).map(([a,i])=>n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground truncate",children:a}),n.jsx("span",{className:"font-semibold",children:i})]},a))})]}),n.jsxs("div",{className:"pt-4 border-t border-border space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Category"}),n.jsx("span",{className:"font-medium",children:r})]}),n.jsxs("div",{className:"flex justify-between items-center text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Date Range"}),n.jsxs("span",{className:"font-medium",children:[s.start," to ",s.end]})]}),n.jsxs("div",{className:"flex justify-between items-center text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Generated"}),n.jsx("span",{className:"font-medium",children:new Date().toLocaleDateString()})]})]})]})]})});dg.register(Vv,Gv,K1,q1,_u,fA,pA,uA,cA);const Gme=U.lazy(()=>sx(()=>Promise.resolve().then(()=>wA),void 0).then(e=>({default:e.Bar}))),qme=U.lazy(()=>sx(()=>Promise.resolve().then(()=>wA),void 0).then(e=>({default:e.Line}))),Kme=({chartData:e,isLoading:t,chartType:r,title:s})=>{const a={responsive:!0,maintainAspectRatio:!1,animation:{duration:1e3},plugins:{legend:{display:!0,position:"top",labels:{font:{size:12,weight:"500"},padding:15,usePointStyle:!0}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:13,weight:"bold"},bodyFont:{size:12},borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,displayColors:!0,callbacks:{label:i=>{let o=i.dataset.label||"";return o&&(o+=": "),i.parsed.y!==null&&(o+=i.parsed.y.toLocaleString()),o}}}},scales:{y:{beginAtZero:!0,grid:{display:!0,color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{font:{size:11},callback:i=>i.toLocaleString()}},x:{grid:{display:!1},ticks:{font:{size:11}}}}};return n.jsx(it,{className:"w-full",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:s}),n.jsx("div",{className:"h-96 w-full",children:t?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(O4,{})}):n.jsx(U.Suspense,{fallback:n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(O4,{})}),children:r==="line"?n.jsx(qme,{data:e,options:a}):n.jsx(Gme,{data:e,options:a})})})]})})},Yme=({onExportPDF:e,onExportCSV:t,isLoading:r,categoryLabel:s,recordCount:a})=>{const[i,o]=Fi.useState("full"),[l,c]=Fi.useState(!0),d=()=>{e({format:"pdf",mode:i,includeCharts:l})};return n.jsx(it,{className:"w-full",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Xd,{size:20,className:"text-primary"}),"Export Report"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Export Mode"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Bme.map(u=>n.jsx("button",{onClick:()=>o(u.value),className:`px-4 py-2 rounded-md border-2 transition-colors ${i===u.value?"border-primary bg-primary/10 text-primary":"border-border bg-background text-foreground hover:border-primary"}`,"aria-pressed":i===u.value,children:u.label},u.value))})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-md",children:[n.jsx("input",{type:"checkbox",id:"includeCharts",checked:l,onChange:u=>c(u.target.checked),className:"w-4 h-4 cursor-pointer","aria-label":"Include charts in PDF export"}),n.jsx("label",{htmlFor:"includeCharts",className:"text-sm cursor-pointer",children:"Include charts in PDF export"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pt-4 border-t border-border",children:[n.jsxs(Be,{onClick:d,disabled:r||a===0,className:"flex items-center justify-center gap-2",variant:"primary",children:[n.jsx(Ya,{size:16}),"Export as PDF"]}),n.jsxs(Be,{onClick:t,disabled:r||a===0,className:"flex items-center justify-center gap-2",variant:"secondary",children:[n.jsx(bB,{size:16}),"Export as CSV"]})]}),n.jsx("p",{className:"text-xs text-muted-foreground pt-2",children:a===0?"No records to export. Adjust filters to generate data.":`Ready to export ${a.toLocaleString()} records from ${s}`})]})]})})},B4=(e,t)=>{const r=e.internal.pageSize.getWidth(),s=Lg.pageMargin;e.setFillColor(0,51,102),e.rect(0,0,r,40,"F"),e.setTextColor(255,255,255),e.setFont("Georgia","bold"),e.setFontSize(20),e.text("OFFICIAL ASSET MANAGEMENT REPORT",s,20),e.setFont("Georgia","normal"),e.setFontSize(12),e.text(t,s,30),e.setTextColor(0,0,0)},Zme=(e,t)=>{const r=e.internal.pageSize.getWidth(),s=e.internal.pageSize.getHeight(),a=Lg.pageMargin;e.setDrawColor(0,51,102),e.setLineWidth(.5),e.line(a,s-15,r-a,s-15),e.setFont("Arial","normal"),e.setFontSize(9),e.setTextColor(100,100,100),e.text(`Page ${t}`,r-a-20,s-8,{align:"right"}),e.text(`Generated: ${new Date().toLocaleString()}`,a,s-8)},Xme=(e,t,r)=>{const s=e.internal.pageSize.getWidth(),a=e.internal.pageSize.getHeight(),i=Lg.pageMargin;e.setFillColor(245,245,245),e.rect(0,0,s,a,"F"),e.setFont("Georgia","bold"),e.setFontSize(28),e.setTextColor(0,51,102),e.text("ASSET MANAGEMENT REPORT",s/2,80,{align:"center"}),e.setFontSize(18),e.setTextColor(0,102,204),e.text(t,s/2,110,{align:"center"}),e.setFont("Arial","normal"),e.setFontSize(12),e.setTextColor(0,0,0);const o=150,l=10;e.text(`Report Period: ${r.start} to ${r.end}`,s/2,o,{align:"center"}),e.text(`Generated: ${new Date().toLocaleDateString()}`,s/2,o+l,{align:"center"}),e.text(`Time: ${new Date().toLocaleTimeString()}`,s/2,o+l*2,{align:"center"}),e.setFont("Arial","normal"),e.setFontSize(10);const c=a-80;e.text("Authorized By:",i,c),e.line(i,c+20,i+60,c+20),e.text("Signature",i,c+25),e.text("Date:",s-i-60,c),e.line(s-i-60,c+20,s-i,c+20),e.text("Date",s-i-60,c+25),e.addPage()},Jme=(e,t,r)=>{const s=Lg.pageMargin,a=e.internal.pageSize.getWidth();let i=r;if(e.setFont("Georgia","bold"),e.setFontSize(14),e.setTextColor(0,51,102),e.text("SUMMARY",s,i),i+=8,e.setDrawColor(0,102,204),e.setLineWidth(.5),e.rect(s,i,a-s*2,40),e.setFont("Arial","normal"),e.setFontSize(11),e.setTextColor(0,0,0),e.text(`Total Records: ${t.totalRecords.toLocaleString()}`,s+5,i+8),t.activeCount!==void 0&&(e.text(`Active: ${t.activeCount}`,s+5,i+16),e.text(`Inactive: ${t.inactiveCount}`,s+5,i+24)),t.conditionBreakdown){const o=Object.entries(t.conditionBreakdown).map(([l,c])=>`${l}: ${c}`).join(" | ");e.text(`Conditions: ${o}`,s+5,i+32)}return i+50},Qme=(e,t,r,s)=>{const a=Lg.pageMargin,i=e.internal.pageSize.getWidth(),o=e.internal.pageSize.getHeight();let l=s;e.setFont("Georgia","bold"),e.setFontSize(14),e.setTextColor(0,51,102),e.text("DETAILED RECORDS",a,l),l+=10,e.setFont("Arial","bold"),e.setFontSize(10),e.setTextColor(255,255,255),e.setFillColor(0,51,102);const c=i-a*2,d=c/4;return e.rect(a,l,c,8,"F"),e.text("ID",a+2,l+6),e.text("Description",a+d+2,l+6),e.text("Location",a+d*2+2,l+6),e.text("Status",a+d*3+2,l+6),l+=10,e.setFont("Arial","normal"),e.setFontSize(9),e.setTextColor(0,0,0),t.slice(0,50).forEach((u,p)=>{l>o-30&&(e.addPage(),B4(e,"DETAILED RECORDS (Continued)"),l=50),p%2===0&&(e.setFillColor(240,240,240),e.rect(a,l-5,c,8,"F"));const x=u.id||"N/A",f=u.asset_description||u.description_of_land||u.registration_number||u.hostname||"N/A",y=u.current_location||"N/A",v=u.asset_condition||(u.is_active?"Active":"Inactive");e.text(String(x).substring(0,8),a+2,l),e.text(String(f).substring(0,30),a+d+2,l),e.text(String(y).substring(0,20),a+d*2+2,l),e.text(String(v).substring(0,15),a+d*3+2,l),l+=8}),t.length>50&&(l+=5,e.setFont("Arial","italic"),e.setFontSize(9),e.setTextColor(100,100,100),e.text(`... and ${t.length-50} more records`,a,l)),l},epe=e=>{const{categoryLabel:t,dateRange:r,filteredData:s,summary:a,options:i}=e,o=new Mr;Xme(o,t,r),B4(o,t);let l=50;(i.mode==="summary"||i.mode==="full")&&(l=Jme(o,a,l)),(i.mode==="data"||i.mode==="full")&&(l>200&&(o.addPage(),B4(o,t),l=50),Qme(o,s,e.categoryKey,l));const c=o.getNumberOfPages();for(let u=1;u<=c;u++)o.setPage(u),Zme(o,u);const d=`${t.toLowerCase().replace(/\s+/g,"_")}_report_${r.start}_to_${r.end}.pdf`;o.save(d)},tpe=()=>{const{isLoading:e,getAssetData:t,getFilteredData:r,getUniqueLocations:s}=Wme(),[a,i]=U.useState({dateRange:{start:new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]},status:"all",location:"all"}),[o,l]=U.useState("users"),c=U.useMemo(()=>t(o),[o,t]),d=U.useMemo(()=>r(c,a),[c,a,r]),u=U.useMemo(()=>s(c),[c,s]),p=U.useCallback(()=>{switch(o){case"users":return[{value:"all",label:"All Status"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}];case"devices":return[{value:"all",label:"All Status"},{value:"online",label:"Online"},{value:"offline",label:"Offline"}];default:return[{value:"all",label:"All Conditions"},...ww.map(S=>({value:S.toLowerCase(),label:S}))]}},[o]),x=U.useCallback(()=>{const S=S1.find(T=>T.key===o),M=(S==null?void 0:S.color)||"rgba(59, 130, 246, 0.7)";switch(o){case"users":const T=new Date;return T.setDate(T.getDate()-7),{labels:["Active","Inactive","New (7 days)"],datasets:[{label:"User Statistics",data:[d.filter(C=>C.is_active).length,d.filter(C=>!C.is_active).length,d.filter(C=>new Date(C.created_at)>T).length],backgroundColor:[M,"rgba(239, 68, 68, 0.7)","rgba(34, 197, 94, 0.7)"]}]};case"devices":const O=new Date;return O.setDate(O.getDate()-1),{labels:["Online","Offline","New (7 days)"],datasets:[{label:"Device Statistics",data:[d.filter(C=>new Date(C.last_seen)>O).length,d.filter(C=>new Date(C.last_seen)<=O).length,d.filter(C=>{const N=new Date;return N.setDate(N.getDate()-7),new Date(C.first_seen)>N}).length],backgroundColor:[M,"rgba(239, 68, 68, 0.7)","rgba(34, 197, 94, 0.7)"]}]};case"activity":const A=Array.from({length:7},(C,N)=>{const E=new Date;return E.setDate(E.getDate()-N),E.toISOString().split("T")[0]}).reverse();return{labels:A,datasets:[{label:"Activity Over Time",data:A.map(C=>d.filter(N=>N.timestamp.startsWith(C)).length),borderColor:M,backgroundColor:M.replace("0.7","0.1"),tension:.4,fill:!0}]};default:return{labels:ww,datasets:[{label:`${S==null?void 0:S.label} by Condition`,data:ww.map(C=>d.filter(N=>{var E;return((E=N.asset_condition)==null?void 0:E.toLowerCase())===C.toLowerCase()}).length),backgroundColor:["rgba(34, 197, 94, 0.7)","rgba(245, 158, 11, 0.7)","rgba(239, 68, 68, 0.7)","rgba(107, 114, 128, 0.7)"]}]}}},[o,d]),f=U.useMemo(()=>{const S={totalRecords:d.length};if(o==="users"&&(S.activeCount=d.filter(O=>O.is_active).length,S.inactiveCount=d.filter(O=>!O.is_active).length),o==="devices"){const O=new Date;O.setDate(O.getDate()-1),S.activeCount=d.filter(A=>new Date(A.last_seen)>O).length,S.inactiveCount=d.filter(A=>new Date(A.last_seen)<=O).length}const M={};d.forEach(O=>{if(O.asset_condition){const A=O.asset_condition;M[A]=(M[A]||0)+1}}),Object.keys(M).length>0&&(S.conditionBreakdown=M);const T={};return d.forEach(O=>{if(O.current_location){const A=O.current_location;T[A]=(T[A]||0)+1}}),Object.keys(T).length>0&&(S.locationBreakdown=T),S},[d,o]),y=U.useCallback(()=>{const S=S1.find(A=>A.key===o);let M=[];switch(o){case"users":M=d.map(A=>({id:A.id,name:`${A.first_name} ${A.last_name}`,email:A.email,status:A.is_active?"Active":"Inactive",created_at:A.created_at||""}));break;case"devices":M=d.map(A=>({id:A.id,hostname:A.hostname,lastSeen:A.last_seen,firstSeen:A.first_seen,status:new Date(A.last_seen)>new Date(Date.now()-1440*60*1e3)?"Online":"Offline"}));break;case"activity":M=d.map(A=>{var C,N;return{id:A.id,user:`${((C=A.user)==null?void 0:C.first_name)||"Unknown"} ${((N=A.user)==null?void 0:N.last_name)||"Unknown"}`,action:A.action,timestamp:A.timestamp}});break;default:M=d.map(A=>({id:A.id,description:A.asset_description||A.description_of_land||A.registration_number||"N/A",tag_number:A.tag_number||"N/A",current_location:A.current_location||"N/A",responsible_officer:A.responsible_officer||"N/A",condition:A.asset_condition||"N/A",purchase_amount:A.purchase_amount||A.acquisition_amount||"N/A",created_at:A.created_at||""}));break}const T=Dme.unparse(M),O=new Blob([T],{type:"text/csv;charset=utf-8"});Ome.saveAs(O,`${S==null?void 0:S.label.toLowerCase().replace(/\s+/g,"_")}_report_${a.dateRange.start}_to_${a.dateRange.end}.csv`)},[d,o,a.dateRange]),v=U.useCallback(S=>{const M=S1.find(T=>T.key===o);M&&epe({categoryLabel:M.label,dateRange:a.dateRange,filteredData:d,summary:f,categoryKey:o,options:S})},[o,a.dateRange,d,f]),_=S1.find(S=>S.key===o),k=o==="activity"?"line":"bar";return n.jsxs("div",{className:"px-4 space-y-6 sm:px-6 md:px-8 py-6",children:[n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Asset Management Reports"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Generate comprehensive, government-standard asset reports"})]}),n.jsx("select",{value:o,onChange:S=>l(S.target.value),className:"px-4 py-2 border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary","aria-label":"Select asset category",children:S1.map(S=>n.jsx("option",{value:S.key,children:S.label},S.key))})]}),n.jsx(Hme,{filters:a,onFiltersChange:i,locations:u,statusOptions:p()}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(Kme,{chartData:x(),isLoading:e,chartType:k,title:`${_==null?void 0:_.label} Analysis`})}),n.jsx("div",{children:n.jsx(Vme,{summary:f,isLoading:e,categoryLabel:(_==null?void 0:_.label)||"",dateRange:a.dateRange})})]}),n.jsx(Yme,{onExportPDF:v,onExportCSV:y,isLoading:e,categoryLabel:(_==null?void 0:_.label)||"",recordCount:d.length})]})},rpe=[{value:"admin",label:"Administrator",description:"Full system access"},{value:"user",label:"User",description:"Standard user access"}],spe=()=>{const e=Vr(),[t,r]=U.useState({first_name:"",last_name:"",username:"",email:"",personal_number:"",department:"",role:"",password:"",confirmPassword:""}),[s,a]=U.useState(!1),[i,o]=U.useState(!1),[l,c]=U.useState(!1),d=t.first_name&&t.last_name&&t.username&&t.email&&t.personal_number&&t.department&&t.role&&t.password&&t.password===t.confirmPassword&&t.password.length>=8,u=y=>{const{name:v,value:_}=y.target;r(k=>({...k,[v]:_}))},p=async()=>{a(!0);try{const y=await fetch("https://assets-system-sigma.vercel.app/api/users",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:t.first_name,last_name:t.last_name,username:t.username,email:t.email,personal_number:t.personal_number,department:t.department,role:t.role,password:t.password})});if(!y.ok){const v=await y.json();throw new Error(v.message||"Failed to create user")}Ke.success("User created successfully!"),e("/admin/users")}catch(y){console.error("Error creating user:",y),Ke.error(y instanceof Error?y.message:"Failed to create user")}finally{a(!1)}},x="w-full px-4 py-3 border border-primary-200 dark:border-primary-700 rounded-lg focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400 focus:border-accent-500 dark:focus:border-accent-400 bg-primary-50 dark:bg-primary-800 text-primary-900 dark:text-primary-100 placeholder:text-primary-500 dark:placeholder:text-primary-500 transition-all duration-200",f="block text-sm font-medium text-primary-900 dark:text-primary-100 mb-2";return n.jsxs("div",{className:"min-h-screen bg-primary-50 dark:bg-primary-900 transition-colors duration-200",children:[n.jsx("div",{className:"sticky top-0 z-40 bg-primary-50 dark:bg-primary-900 border-b border-primary-200 dark:border-primary-700 transition-colors duration-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(Be,{variant:"ghost",onClick:()=>e("/admin/users"),className:"flex items-center space-x-2",children:[n.jsx(Pa,{className:"w-4 h-4"}),n.jsx("span",{children:"Back to Users"})]}),n.jsx("div",{className:"h-6 w-px bg-primary-300 dark:bg-primary-700"}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-primary-900 dark:text-primary-50 flex items-center space-x-3",children:[n.jsx(Ik,{className:"w-8 h-8 text-accent-600 dark:text-accent-400"}),n.jsx("span",{children:"Create New User"})]}),n.jsx("p",{className:"mt-1 text-sm text-primary-600 dark:text-primary-400",children:"Add a new user to the system with appropriate permissions"})]})]})})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"bg-white dark:bg-primary-900 rounded-xl shadow-sm border border-primary-200 dark:border-primary-700 overflow-hidden transition-colors duration-200",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-primary-200 dark:border-primary-700 bg-primary-50 dark:bg-primary-800 transition-colors duration-200",children:[n.jsx("h2",{className:"text-lg font-semibold text-primary-900 dark:text-primary-50",children:"User Information"}),n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 mt-1",children:"Please fill in all required fields to create a new user account"})]}),n.jsxs("form",{className:"p-6 sm:p-8",onSubmit:y=>{y.preventDefault(),d&&p()},children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-primary-900 dark:text-primary-100 mb-4 flex items-center space-x-2",children:[n.jsx(_i,{className:"w-5 h-5 text-accent-600 dark:text-accent-400"}),n.jsx("span",{children:"Personal Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"first_name",className:f,children:"First Name *"}),n.jsx("input",{id:"first_name",type:"text",name:"first_name",placeholder:"Enter first name",className:x,value:t.first_name,onChange:u,required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"last_name",className:f,children:"Last Name *"}),n.jsx("input",{id:"last_name",type:"text",name:"last_name",placeholder:"Enter last name",className:x,value:t.last_name,onChange:u,required:!0})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{htmlFor:"personal_number",className:f,children:[n.jsx(f7,{className:"w-4 h-4 inline mr-1"}),"Personal Number *"]}),n.jsx("input",{id:"personal_number",type:"text",name:"personal_number",placeholder:"Enter personal/phone number",className:x,value:t.personal_number,onChange:u,required:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{htmlFor:"department",className:f,children:[n.jsx(yx,{className:"w-4 h-4 inline mr-1"}),"Department *"]}),n.jsx("input",{id:"department",type:"text",name:"department",placeholder:"Enter department name",className:x,value:t.department,onChange:u,required:!0})]})]})}),n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-primary-900 dark:text-primary-100 mb-4 flex items-center space-x-2",children:[n.jsx(La,{className:"w-5 h-5 text-accent-600 dark:text-accent-400"}),n.jsx("span",{children:"Account Information"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"username",className:f,children:"Username *"}),n.jsx("input",{id:"username",type:"text",name:"username",placeholder:"Enter username",className:x,value:t.username,onChange:u,required:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{htmlFor:"email",className:f,children:[n.jsx(lg,{className:"w-4 h-4 inline mr-1"}),"Email Address *"]}),n.jsx("input",{id:"email",type:"email",name:"email",placeholder:"Enter email address",className:x,value:t.email,onChange:u,required:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{htmlFor:"role",className:f,children:[n.jsx(La,{className:"w-4 h-4 inline mr-1"}),"Role *"]}),n.jsxs("select",{id:"role",name:"role",className:x,value:t.role,onChange:u,required:!0,children:[n.jsx("option",{value:"",children:"Select Role"}),rpe.map(y=>n.jsxs("option",{value:y.value,children:[y.label," - ",y.description]},y.value))]})]})]})})]}),n.jsxs("div",{className:"mt-8 pt-6 border-t border-primary-200 dark:border-primary-700 transition-colors duration-200",children:[n.jsxs("h3",{className:"text-lg font-medium text-primary-900 dark:text-primary-100 mb-4 flex items-center space-x-2",children:[n.jsx(Jl,{className:"w-5 h-5 text-accent-600 dark:text-accent-400"}),n.jsx("span",{children:"Security"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:f,children:"Password *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"password",type:i?"text":"password",name:"password",placeholder:"Enter password (min. 8 characters)",className:x,value:t.password,onChange:u,required:!0,minLength:8}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-primary-500 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-200 transition-colors duration-200",onClick:()=>o(!i),children:i?n.jsx(Iv,{className:"h-4 w-4"}):n.jsx(Xl,{className:"h-4 w-4"})})]}),t.password&&t.password.length<8&&n.jsx("p",{className:"mt-1 text-sm text-error-600 dark:text-error-400",children:"Password must be at least 8 characters"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirmPassword",className:f,children:"Confirm Password *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"confirmPassword",type:l?"text":"password",name:"confirmPassword",placeholder:"Confirm password",className:x,value:t.confirmPassword,onChange:u,required:!0}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-primary-500 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-200 transition-colors duration-200",onClick:()=>c(!l),children:l?n.jsx(Iv,{className:"h-4 w-4"}):n.jsx(Xl,{className:"h-4 w-4"})})]}),t.password&&t.confirmPassword&&t.password!==t.confirmPassword&&n.jsx("p",{className:"mt-1 text-sm text-error-600 dark:text-error-400",children:"Passwords do not match"})]})]})]}),n.jsx("div",{className:"mt-8 pt-6 border-t border-primary-200 dark:border-primary-700 transition-colors duration-200",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:justify-end",children:[n.jsx(Be,{type:"button",variant:"secondary",className:"w-full sm:w-auto px-8 py-3",onClick:()=>e("/admin/users"),disabled:s,children:"Cancel"}),n.jsx(Be,{type:"submit",variant:"primary",className:"w-full sm:w-auto px-8 py-3 flex items-center justify-center space-x-2",disabled:!d||s,children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),n.jsx("span",{children:"Creating User..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Ik,{className:"w-4 h-4"}),n.jsx("span",{children:"Create User"})]})})]})})]})]}),n.jsxs("div",{className:"mt-6 bg-accent-50 dark:bg-accent-950 border border-accent-200 dark:border-accent-800 rounded-lg p-4 transition-colors duration-200",children:[n.jsx("h4",{className:"text-sm font-medium text-accent-900 dark:text-accent-300 mb-2",children:"Password Requirements"}),n.jsxs("ul",{className:"text-sm text-accent-800 dark:text-accent-400 space-y-1",children:[n.jsx("li",{children:" Minimum 8 characters long"}),n.jsx("li",{children:" Must match confirmation password"}),n.jsx("li",{children:" User will be required to change password on first login"})]})]})]})]})},ape=()=>{const[e,t]=U.useState([]),[r,s]=U.useState([]),[a,i]=U.useState(null),[o,l]=U.useState(null),[c,d]=U.useState(!1),[u,p]=U.useState(!1),[x,f]=U.useState({}),[y,v]=U.useState(""),[_,k]=U.useState("all"),[S,M]=U.useState([]),T={[cr.DEVICES]:"Devices",[cr.LAND_REGISTER]:"Land Register",[cr.BUILDINGS_REGISTER]:"Buildings Register",[cr.MOTOR_VEHICLES_REGISTER]:"Motor Vehicles Register",[cr.OFFICE_EQUIPMENT]:"Office Equipment",[cr.FURNITURE_FITTINGS_EQUIPMENT]:"Furniture & Fittings Equipment",[cr.PLANT_MACHINERY]:"Plant & Machinery",[cr.PORTABLE_ATTRACTIVE_ITEMS]:"Portable & Attractive Items",[cr.ICT_ASSETS]:"ICT Assets"},O={[Vl.NONE]:{label:"No Access",color:"text-error-600 bg-error-50 border-error-300 dark:text-error-400 dark:bg-error-950 dark:border-error-800",icon:n.jsx(mp,{className:"w-3 h-3"})},[Vl.READ]:{label:"Read Only",color:"text-accent-600 bg-accent-50 border-accent-300 dark:text-accent-400 dark:bg-accent-950 dark:border-accent-800",icon:n.jsx(Jl,{className:"w-3 h-3"})},[Vl.WRITE]:{label:"Read & Write",color:"text-warning-600 bg-warning-50 border-warning-300 dark:text-warning-400 dark:bg-warning-950 dark:border-warning-800",icon:n.jsx(PO,{className:"w-3 h-3"})},[Vl.ADMIN]:{label:"Full Access",color:"text-success-600 bg-success-50 border-success-300 dark:text-success-400 dark:bg-success-950 dark:border-success-800",icon:n.jsx(la,{className:"w-3 h-3"})}},A=async()=>{try{const Y=await fetch("https://assets-system-sigma.vercel.app/api/users",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!Y.ok)throw new Error("Failed to fetch users");const ie=(await Y.json()).filter(se=>se.is_active);t(ie),s(ie);const le=[...new Set(ie.map(se=>se.role))];M(le),ie.length>0&&!a&&(i(ie[0]),E(ie[0].id.toString()))}catch(Y){console.error("Error fetching users:",Y)}},C=()=>{let Y=e;if(_!=="all"&&(Y=Y.filter(te=>te.role===_)),y.trim()){const te=y.toLowerCase().trim();Y=Y.filter(ie=>{var B;const le=`${ie.first_name} ${ie.last_name}`.toLowerCase(),se=ie.email.toLowerCase(),oe=ie.role.toLowerCase(),ee=((B=ie.department)==null?void 0:B.toLowerCase())||"";return le.includes(te)||se.includes(te)||oe.includes(te)||ee.includes(te)})}s(Y),a&&!Y.find(te=>te.id===a.id)&&(Y.length>0?(i(Y[0]),E(Y[0].id.toString())):(i(null),l(null)))},N=()=>{v(""),k("all")},E=async Y=>{try{d(!0);const te=await fetch(`https://assets-system-sigma.vercel.app/api/permissions/user/${Y}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!te.ok)throw new Error("Failed to fetch permissions");const ie=await te.json();l(ie),f({})}catch(te){console.error("Error fetching permissions:",te)}finally{d(!1)}},z=Y=>{i(Y),E(Y.id.toString())},P=(Y,te)=>{f(ie=>({...ie,[Y]:te}))},I=async()=>{if(!(!a||Object.keys(x).length===0))try{p(!0);const Y={user_id:a.id.toString(),permissions:Object.entries(x).map(([ie,le])=>({category:ie,permission_level:le}))};if(!(await fetch("https://assets-system-sigma.vercel.app/api/permissions/bulk-update",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)})).ok)throw new Error("Failed to update permissions");await E(a.id.toString())}catch(Y){console.error("Error updating permissions:",Y)}finally{p(!1)}},W=Y=>{var te;return x[Y]?x[Y]:((te=o==null?void 0:o.permissions[Y])==null?void 0:te.permission_level)||Vl.NONE},Z=Object.keys(x).length>0;return U.useEffect(()=>{A()},[]),U.useEffect(()=>{r.length>0&&!a&&(i(r[0]),E(r[0].id.toString()))},[r,a]),U.useEffect(()=>{C()},[y,_,e]),n.jsxs("div",{className:"p-0 sm:p-0 space-y-2",children:[n.jsxs("div",{className:"sticky top-0 z-40 bg-primary-50 dark:bg-primary-900 border-b border-primary-200 dark:border-primary-700 flex flex-col sm:flex-row sm:items-center justify-between gap-3 p-4 transition-colors duration-200",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(La,{className:"w-5 h-5 text-accent-600 dark:text-accent-400"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg sm:text-xl font-bold text-primary-900 dark:text-primary-50",children:"User Permissions"}),n.jsx("p",{className:"text-xs sm:text-sm text-primary-600 dark:text-primary-400",children:"Manage asset category access permissions for users"})]})]}),n.jsxs(Be,{onClick:()=>A(),variant:"secondary",className:"flex items-center space-x-2",size:"sm",children:[n.jsx(Za,{className:"w-3 h-3"}),n.jsx("span",{children:"Refresh"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3 sm:gap-4 p-4",children:[n.jsxs(it,{className:"lg:col-span-1 lg:max-w-xs",children:[n.jsx("div",{className:"p-2 sm:p-3 border-b border-primary-200 dark:border-primary-700",children:n.jsxs("h2",{className:"text-sm sm:text-base font-semibold text-primary-900 dark:text-primary-50 flex items-center",children:[n.jsx(_i,{className:"w-4 h-4 mr-1.5 text-accent-600 dark:text-accent-400"}),"Select User",n.jsxs("span",{className:"ml-auto text-xs text-primary-600 dark:text-primary-400",children:[r.length," of ",e.length]})]})}),n.jsxs("div",{className:"p-2 sm:p-3 border-b border-primary-200 dark:border-primary-700 space-y-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Lu,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-3 h-3 text-primary-500 dark:text-primary-400"}),n.jsx("input",{type:"text",placeholder:"Search users...",value:y,onChange:Y=>v(Y.target.value),className:`w-full pl-7 pr-8 py-1.5 text-xs border border-primary-200 dark:border-primary-700 rounded-md
                           bg-primary-50 dark:bg-primary-800 text-primary-900 dark:text-primary-100
                           placeholder:text-primary-500 dark:placeholder:text-primary-500
                           focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400
                           focus:border-accent-500 dark:focus:border-accent-400 transition-all duration-200`}),y&&n.jsx("button",{onClick:()=>v(""),className:`absolute right-2 top-1/2 transform -translate-y-1/2 text-primary-500 dark:text-primary-400
                             hover:text-primary-700 dark:hover:text-primary-200 transition-colors duration-200`,children:n.jsx(Bs,{className:"w-3 h-3"})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Nn,{className:"w-3 h-3 text-primary-500 dark:text-primary-400"}),n.jsxs("select",{value:_,onChange:Y=>k(Y.target.value),className:`flex-1 text-xs border border-primary-200 dark:border-primary-700 rounded-md px-2 py-1
                           bg-primary-50 dark:bg-primary-800 text-primary-900 dark:text-primary-100
                           focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400
                           focus:border-accent-500 dark:focus:border-accent-400 transition-all duration-200`,children:[n.jsx("option",{value:"all",children:"All Roles"}),S.map(Y=>n.jsx("option",{value:Y,children:Y.charAt(0).toUpperCase()+Y.slice(1)},Y))]}),(y||_!=="all")&&n.jsx("button",{onClick:N,className:`text-xs text-accent-600 dark:text-accent-400 hover:text-accent-700
                             dark:hover:text-accent-300 font-medium transition-colors duration-200`,children:"Clear"})]})]}),n.jsx("div",{className:"p-2 sm:p-3 overflow-y-auto max-h-[500px]",children:r.length===0?n.jsxs("div",{className:"text-center py-6",children:[n.jsx(_i,{className:"w-6 h-6 text-primary-400 dark:text-primary-500 mx-auto mb-2"}),n.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400",children:y||_!=="all"?"No users match your filters":"No users found"}),(y||_!=="all")&&n.jsx("button",{onClick:N,className:`text-xs text-accent-600 dark:text-accent-400 hover:text-accent-700
                               dark:hover:text-accent-300 mt-1 transition-colors duration-200`,children:"Clear filters"})]}):r.map(Y=>n.jsxs("div",{onClick:()=>z(Y),className:`p-2 rounded-lg cursor-pointer transition-all duration-200 mb-1.5 border ${(a==null?void 0:a.id)===Y.id?"bg-accent-50 dark:bg-accent-950 border-accent-300 dark:border-accent-700 shadow-sm":"border-transparent hover:bg-primary-100 dark:hover:bg-primary-800 hover:border-primary-200 dark:hover:border-primary-700"}`,children:[n.jsxs("div",{className:"text-sm font-medium text-primary-900 dark:text-primary-100",children:[Y.first_name," ",Y.last_name]}),n.jsx("div",{className:"text-xs text-primary-600 dark:text-primary-400",children:Y.email}),Y.department&&n.jsx("div",{className:"text-xs text-primary-500 dark:text-primary-500",children:Y.department}),n.jsx("div",{className:"text-xs text-primary-500 dark:text-primary-500 capitalize",children:Y.role})]},Y.id))})]}),n.jsxs(it,{className:"lg:col-span-3",children:[n.jsxs("div",{className:"p-2 sm:p-3 border-b border-primary-200 dark:border-primary-700",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[n.jsxs("h2",{className:"text-sm sm:text-base font-semibold text-primary-900 dark:text-primary-50 flex items-center",children:[n.jsx(eo,{className:"w-4 h-4 mr-1.5 text-accent-600 dark:text-accent-400"}),"Asset Category Permissions",a&&n.jsxs("span",{className:"ml-2 text-xs font-normal text-primary-600 dark:text-primary-400 hidden sm:inline",children:["for ",a.first_name," ",a.last_name]})]}),Z&&n.jsxs(Be,{onClick:I,disabled:u,variant:"success",size:"sm",className:"flex items-center space-x-1.5",children:[n.jsx(bi,{className:"w-3 h-3"}),n.jsx("span",{children:u?"Saving...":"Save Changes"})]})]}),a&&n.jsxs("div",{className:"text-xs text-primary-600 dark:text-primary-400 mt-1 sm:hidden",children:["for ",a.first_name," ",a.last_name,a.department&&n.jsxs("span",{className:"text-primary-500 dark:text-primary-500",children:[" "," ",a.department]})]})]}),n.jsx("div",{className:"p-2 sm:p-3",children:a?c?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Za,{className:"w-6 h-6 text-accent-600 dark:text-accent-400 animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:"Loading permissions..."})]}):n.jsxs("div",{className:"space-y-3",children:[a.role==="admin"&&n.jsx("div",{className:"p-3 bg-success-50 dark:bg-success-950 border border-success-200 dark:border-success-800 rounded-lg transition-colors duration-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(la,{className:"w-4 h-4 text-success-600 dark:text-success-400 mr-2"}),n.jsx("span",{className:"text-success-800 dark:text-success-300 text-sm font-medium",children:"Admin users have full access to all asset categories"})]})}),Object.values(cr).map(Y=>{const te=W(Y),ie=x[Y]!==void 0;return n.jsxs("div",{className:`p-3 border rounded-lg transition-all duration-200 ${ie?"border-accent-300 dark:border-accent-700 bg-accent-50 dark:bg-accent-950 shadow-sm":"border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-900"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-primary-900 dark:text-primary-100",children:T[Y]}),ie&&n.jsx("span",{className:"text-xs text-accent-600 dark:text-accent-400 font-medium",children:"Modified"})]}),n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-1.5",children:Object.values(Vl).map(le=>{const se=te===le,oe=O[le],ee=a.role==="admin";return n.jsxs("button",{onClick:()=>!ee&&P(Y,le),disabled:ee,className:`p-2 rounded-lg border-2 transition-all duration-200 text-xs font-medium
                                         flex flex-col sm:flex-row items-center justify-center space-y-1
                                         sm:space-y-0 sm:space-x-1.5 ${se?oe.color+" shadow-sm":ee?"text-primary-400 dark:text-primary-500 bg-primary-100 dark:bg-primary-800 border-primary-200 dark:border-primary-700 cursor-not-allowed opacity-60":"text-primary-700 dark:text-primary-300 bg-primary-50 dark:bg-primary-800 border-primary-200 dark:border-primary-700 hover:border-accent-300 dark:hover:border-accent-600 hover:bg-primary-100 dark:hover:bg-primary-700"}`,children:[oe.icon,n.jsx("span",{className:"text-center sm:text-left",children:oe.label})]},le)})})]},Y)}),Z&&n.jsx("div",{className:"p-3 bg-warning-50 dark:bg-warning-950 border border-warning-200 dark:border-warning-800 rounded-lg transition-colors duration-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(aa,{className:"w-4 h-4 text-warning-600 dark:text-warning-400 mr-2"}),n.jsx("span",{className:"text-warning-800 dark:text-warning-300 text-sm",children:'You have unsaved changes. Click "Save Changes" to apply them.'})]})})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(_i,{className:"w-8 h-8 text-primary-400 dark:text-primary-500 mx-auto mb-3"}),n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:"Select a user to manage their permissions"})]})})]})]})]})},npe=()=>{const[e,t]=U.useState(null),[r,s]=U.useState([]),[a,i]=U.useState([]),[o,l]=U.useState(!0),c={[cr.DEVICES]:"Devices",[cr.LAND_REGISTER]:"Land Register",[cr.BUILDINGS_REGISTER]:"Buildings Register",[cr.MOTOR_VEHICLES_REGISTER]:"Motor Vehicles Register",[cr.OFFICE_EQUIPMENT]:"Office Equipment",[cr.FURNITURE_FITTINGS_EQUIPMENT]:"Furniture & Fittings Equipment",[cr.PLANT_MACHINERY]:"Plant & Machinery",[cr.PORTABLE_ATTRACTIVE_ITEMS]:"Portable & Attractive Items"},d=async()=>{l(!0);try{const f={"Content-Type":"application/json"},y=await fetch("https://assets-system-sigma.vercel.app/api/users",{method:"GET",credentials:"include",headers:f});if(!y.ok)throw new Error("Failed to fetch users");const v=await y.json(),_=await fetch("https://assets-system-sigma.vercel.app/api/audit-logs?limit=50",{method:"GET",credentials:"include",headers:f});if(!_.ok)throw new Error("Failed to fetch audit logs");const k=await _.json(),S=await fetch("https://assets-system-sigma.vercel.app/api/dashboard/overview",{method:"GET",credentials:"include",headers:f});if(!S.ok)throw new Error("Failed to fetch dashboard stats");const M=await S.json(),T=v.length,O=v.filter(Y=>Y.is_active).length,A=T-O,C=v.filter(Y=>Y.role!=="admin").length,N=new Date(Date.now()-1440*60*1e3),E=k.filter(Y=>new Date(Y.timestamp)>N&&["LOGIN_FAILED","LOGIN_LOCKED","PERMISSION_GRANTED","PERMISSION_REVOKED","TWO_FACTOR_INITIATED"].includes(Y.action)).length,z=Math.floor(C*.1);t({totalUsers:T,activeUsers:O,inactiveUsers:A,usersWithRestrictions:C,categoriesWithRestrictions:Object.keys(cr).length,expiredPermissions:z,recentSecurityEvents:E});const P=v.filter(Y=>Y.role==="admin").length,I=O-P,W=Object.values(cr).map(Y=>({category:Y,totalUsers:O,noAccess:Math.floor(I*.3),readOnly:Math.floor(I*.4),writeAccess:Math.floor(I*.2),adminAccess:P+Math.floor(I*.1)}));s(W);const Z=k.filter(Y=>["LOGIN_FAILED","LOGIN_SUCCESS","LOGIN_LOCKED","PERMISSION_GRANTED","PERMISSION_REVOKED","TWO_FACTOR_INITIATED","USER_CREATED","USER_UPDATED","USER_DELETED"].includes(Y.action)).slice(0,10).map(Y=>{var le,se,oe,ee;let te="Unknown User";if(Y.user)te=`${Y.user.first_name||""} ${Y.user.last_name||""}`.trim()||Y.user.username||Y.user.email||"Unknown User";else if(Y.user_id){const B=v.find(q=>q.id===Y.user_id);B&&(te=`${B.first_name||""} ${B.last_name||""}`.trim()||B.username||B.email||"Unknown User")}let ie;return(le=Y.entity_type)!=null&&le.includes("permission")||(se=Y.entity_type)!=null&&se.includes("asset")?ie="Asset Permission":(oe=Y.entity_type)!=null&&oe.includes("user")?ie="User Management":(ee=Y.entity_type)!=null&&ee.includes("auth")&&(ie="Authentication"),{id:Y.id,action:Y.action,user:te,category:ie,timestamp:Y.timestamp,details:Y.details||u(Y.action)}});i(Z)}catch(f){console.error("Error fetching security stats:",f),Ke.error("Failed to load security dashboard data")}finally{l(!1)}},u=f=>({LOGIN_SUCCESS:"Successfully logged in",LOGIN_FAILED:"Failed login attempt",LOGIN_LOCKED:"Account locked after failed attempts",PERMISSION_GRANTED:"Permission granted for asset category",PERMISSION_REVOKED:"Permission revoked",TWO_FACTOR_INITIATED:"2FA verification started",LOGOUT:"User logged out",USER_CREATED:"User account created",USER_UPDATED:"User account updated",USER_DELETED:"User account deleted"})[f]||f.replace(/_/g," ").toLowerCase(),p=f=>{const y="w-4 h-4";switch(f){case"PERMISSION_GRANTED":return n.jsx(la,{className:`${y} text-success-600 dark:text-success-400`});case"PERMISSION_REVOKED":return n.jsx(mp,{className:`${y} text-error-600 dark:text-error-400`});case"LOGIN_FAILED":return n.jsx(aa,{className:`${y} text-warning-600 dark:text-warning-400`});case"ACCOUNT_LOCKED":return n.jsx(Jl,{className:`${y} text-error-600 dark:text-error-400`});case"USER_CREATED":return n.jsx($1,{className:`${y} text-success-600 dark:text-success-400`});case"USER_UPDATED":return n.jsx(Ow,{className:`${y} text-accent-600 dark:text-accent-400`});case"USER_DELETED":return n.jsx(mp,{className:`${y} text-error-600 dark:text-error-400`});default:return n.jsx($0,{className:`${y} text-primary-600 dark:text-primary-400`})}},x=f=>{const y=Math.floor((Date.now()-new Date(f).getTime())/6e4);return y<60?`${y}m ago`:y<1440?`${Math.floor(y/60)}h ago`:`${Math.floor(y/1440)}d ago`};return U.useEffect(()=>{d()},[]),o?n.jsx("div",{className:"p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-center justify-center h-64 bg-primary-50 dark:bg-primary-900 rounded-lg",children:[n.jsx(Za,{className:"w-8 h-8 text-accent-600 dark:text-accent-400 animate-spin"}),n.jsx("span",{className:"ml-3 text-sm text-primary-700 dark:text-primary-300",children:"Loading security dashboard..."})]})}):n.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-primary-50 dark:bg-primary-900 border-b border-primary-200 dark:border-primary-700 p-4 rounded-t-lg shadow-sm transition-colors",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(La,{className:"w-6 h-6 text-accent-600 dark:text-accent-400"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-primary-900 dark:text-primary-50",children:"Security Control Dashboard"}),n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:"Monitor and manage system security and access controls"})]})]}),n.jsxs(Be,{onClick:d,variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[n.jsx(Za,{className:"w-4 h-4"}),n.jsx("span",{children:"Refresh"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[n.jsx(it,{className:"p-4 bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-primary-600 dark:text-primary-400",children:"Total Users"}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-primary-900 dark:text-primary-100",children:(e==null?void 0:e.totalUsers)||0})]}),n.jsx(Cu,{className:"w-8 h-8 text-primary-600 dark:text-primary-400"})]})}),n.jsx(it,{className:"p-4 bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-primary-600 dark:text-primary-400",children:"Active Users"}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-success-600 dark:text-success-400",children:(e==null?void 0:e.activeUsers)||0})]}),n.jsx($1,{className:"w-8 h-8 text-success-600 dark:text-success-400"})]})}),n.jsx(it,{className:"p-4 bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-primary-600 dark:text-primary-400",children:"Restricted Users"}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-warning-600 dark:text-warning-400",children:(e==null?void 0:e.usersWithRestrictions)||0})]}),n.jsx(Jl,{className:"w-8 h-8 text-warning-600 dark:text-warning-400"})]})}),n.jsx(it,{className:"p-4 bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-primary-600 dark:text-primary-400",children:"Security Events (24h)"}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-error-600 dark:text-error-400",children:(e==null?void 0:e.recentSecurityEvents)||0})]}),n.jsx(aa,{className:"w-8 h-8 text-error-600 dark:text-error-400"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(it,{className:"bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700",children:[n.jsx("div",{className:"p-4 border-b border-primary-200 dark:border-primary-700",children:n.jsxs("h2",{className:"text-lg font-semibold text-primary-900 dark:text-primary-50 flex items-center",children:[n.jsx(Xl,{className:"w-5 h-5 mr-2 text-accent-600 dark:text-accent-400"}),"Category Access Overview"]})}),n.jsx("div",{className:"p-4 max-h-96 overflow-y-auto space-y-3",children:r.map(f=>n.jsxs("div",{className:"p-3 border border-primary-200 dark:border-primary-700 rounded-lg bg-primary-50 dark:bg-primary-800",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-medium text-primary-900 dark:text-primary-100",children:c[f.category]}),n.jsxs("span",{className:"text-xs text-primary-600 dark:text-primary-400",children:[f.totalUsers," users"]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center text-xs",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-error-600 dark:text-error-400",children:f.noAccess}),n.jsx("div",{className:"text-primary-600 dark:text-primary-400",children:"No Access"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-accent-600 dark:text-accent-400",children:f.readOnly}),n.jsx("div",{className:"text-primary-600 dark:text-primary-400",children:"Read"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-warning-600 dark:text-warning-400",children:f.writeAccess}),n.jsx("div",{className:"text-primary-600 dark:text-primary-400",children:"Write"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-success-600 dark:text-success-400",children:f.adminAccess}),n.jsx("div",{className:"text-primary-600 dark:text-primary-400",children:"Admin"})]})]})]},f.category))})]}),n.jsxs(it,{className:"bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700",children:[n.jsx("div",{className:"p-4 border-b border-primary-200 dark:border-primary-700",children:n.jsxs("h2",{className:"text-lg font-semibold text-primary-900 dark:text-primary-50 flex items-center",children:[n.jsx($0,{className:"w-5 h-5 mr-2 text-accent-600 dark:text-accent-400"}),"Recent Security Events"]})}),n.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:a.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx($0,{className:"w-12 h-12 text-primary-300 dark:text-primary-600 mx-auto mb-3"}),n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:"No recent security events"}),n.jsx("p",{className:"text-xs text-primary-500 dark:text-primary-500 mt-1",children:"Events will appear here as they occur"})]}):n.jsx("div",{className:"space-y-3",children:a.map(f=>n.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-primary-50 dark:bg-primary-800 rounded-lg border border-primary-200 dark:border-primary-700",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:p(f.action)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-primary-900 dark:text-primary-100",children:f.user}),n.jsxs("span",{className:"text-xs text-primary-600 dark:text-primary-400 flex items-center",children:[n.jsx(to,{className:"w-3 h-3 mr-1"}),x(f.timestamp)]})]}),n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:f.details}),f.category&&n.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs bg-accent-100 dark:bg-accent-900 text-accent-800 dark:text-accent-300 rounded",children:f.category})]})]},f.id))})})]})]}),n.jsxs(it,{className:"bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700",children:[n.jsx("div",{className:"p-4 border-b border-primary-200 dark:border-primary-700",children:n.jsxs("h2",{className:"text-lg font-semibold text-primary-900 dark:text-primary-50 flex items-center",children:[n.jsx(aa,{className:"w-5 h-5 mr-2 text-warning-600 dark:text-warning-400"}),"Security Alerts & Recommendations"]})}),n.jsxs("div",{className:"p-4 space-y-3",children:[(e==null?void 0:e.expiredPermissions)&&e.expiredPermissions>0&&n.jsxs("div",{className:"flex items-center p-3 bg-warning-50 dark:bg-warning-950 border border-warning-200 dark:border-warning-800 rounded-lg",children:[n.jsx(aa,{className:"w-5 h-5 text-warning-600 dark:text-warning-400 mr-3"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-warning-800 dark:text-warning-300",children:[e.expiredPermissions," permissions have expired"]}),n.jsx("p",{className:"text-xs text-warning-700 dark:text-warning-400",children:"Review and renew expired permissions to maintain access control"})]})]}),(e==null?void 0:e.inactiveUsers)&&e.inactiveUsers>0&&n.jsxs("div",{className:"flex items-center p-3 bg-accent-50 dark:bg-accent-950 border border-accent-200 dark:border-accent-800 rounded-lg",children:[n.jsx(Ow,{className:"w-5 h-5 text-accent-600 dark:text-accent-400 mr-3"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-accent-800 dark:text-accent-300",children:[e.inactiveUsers," inactive user accounts"]}),n.jsx("p",{className:"text-xs text-accent-700 dark:text-accent-400",children:"Consider archiving or removing unused accounts"})]})]}),n.jsxs("div",{className:"flex items-center p-3 bg-success-50 dark:bg-success-950 border border-success-200 dark:border-success-800 rounded-lg",children:[n.jsx(la,{className:"w-5 h-5 text-success-600 dark:text-success-400 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-success-800 dark:text-success-300",children:"Security monitoring is active"}),n.jsx("p",{className:"text-xs text-success-700 dark:text-success-400",children:"All events are being logged and monitored in real-time"})]})]})]})]})]})},ipe="dd MMM yyyy, hh:mm a",z4=e=>{if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB"],s=Math.floor(Math.log(e)/Math.log(t));return`${(e/Math.pow(t,s)).toFixed(2)} ${r[s]}`},ope=()=>{const[e,t]=U.useState([]),[r,s]=U.useState(!0),[a,i]=U.useState(!1),[o,l]=U.useState(!1),[c,d]=U.useState(null),[u,p]=U.useState(null),x=U.useRef(null),[f,y]=U.useState(!1),[v,_]=U.useState(!1),[k,S]=U.useState({}),[M,T]=U.useState(null),[O,A]=U.useState(""),[C,N]=U.useState(!1),[E,z]=U.useState(""),[P,I]=U.useState(""),[W,Z]=U.useState(null),[Y,te]=U.useState(""),ie=U.useRef(null),le=U.useRef(null),se=U.useRef(!1),[oe,ee]=U.useState(!0),[B,q]=U.useState(null),{user:Q}=ra(),K=()=>({"Content-Type":"application/json",...B&&{"X-Backup-Token":B}});U.useEffect(()=>{const Re=sessionStorage.getItem("backup_token"),pe=sessionStorage.getItem("backup_token_expires");if(Re&&pe&&Date.now()<Number.parseInt(pe)){q(Re),y(!0),ee(!1);const Le=Number.parseInt(pe)-Date.now();ie.current=setTimeout(ae,Le)}else ae();return()=>{ie.current&&clearTimeout(ie.current)}},[]);const ae=()=>{sessionStorage.removeItem("backup_token"),sessionStorage.removeItem("backup_token_expires"),q(null),y(!1),ee(!0),Ke.warning("Session expired. Re-enter master password.")},ge=(Re,pe)=>{const Le=Date.now()+pe*1e3;sessionStorage.setItem("backup_token",Re),sessionStorage.setItem("backup_token_expires",String(Le)),q(Re),y(!0),ee(!1),Ke.success("Access granted"),ie.current=setTimeout(ae,pe*1e3),he()},he=async()=>{if(f)try{s(!0);const Re=await fetch(`${Bt}/backups`,{method:"GET",credentials:"include",headers:K()});if(!Re.ok)throw new Error(Re.status===403?"Access denied":"Load failed");const pe=await Re.json();t(pe),se.current=pe.some(Le=>Le.status==="in_progress")}catch(Re){Re.message==="Access denied"?ae():Ke.error("Failed to load backups")}finally{s(!1)}};U.useEffect(()=>f?(he(),(()=>{le.current&&clearInterval(le.current),le.current=setInterval(()=>{se.current&&he()},3e3)})(),()=>{le.current&&clearInterval(le.current)}):void 0,[f]);const ke=async Re=>{if(Re){N(!0);return}const pe=`temp-${Date.now()}`,Le={id:pe,filename:Re?"encrypted-backup.enc":"backup.sql",file_size:0,backup_type:Re?"encrypted":"full",status:"in_progress",created_by:(Q==null?void 0:Q.email)??"unknown",created_at:new Date().toISOString(),progress_percentage:0,progress_message:"Initializing",encrypted:Re};try{i(!0),l(Re),t(ve=>[Le,...ve]),se.current=!0;const He=await fetch(`${Bt}/backups/create`,{method:"POST",credentials:"include",headers:K(),body:JSON.stringify({encrypt:Re})});if(!He.ok)throw new Error(He.status===403?"Access denied":"Create failed");Ke.success(Re?"Encrypted backup started":"Backup started"),he()}catch(He){He.message==="Access denied"?ae():Ke.error("Failed to create backup"),t(ve=>ve.filter(Ne=>Ne.id!==pe)),se.current=e.some(ve=>ve.status==="in_progress")}finally{i(!1),l(!1)}},Ae=async()=>{if(!E.trim()){I("Password is required");return}const Re=`temp-${Date.now()}`,pe={id:Re,filename:"encrypted-backup.enc",file_size:0,backup_type:"encrypted",status:"in_progress",created_by:(Q==null?void 0:Q.email)??"unknown",created_at:new Date().toISOString(),progress_percentage:0,progress_message:"Initializing",encrypted:!0};try{i(!0),l(!0),I(""),t(He=>[pe,...He]),se.current=!0;const Le=await fetch(`${Bt}/backups/create`,{method:"POST",credentials:"include",headers:K(),body:JSON.stringify({encrypt:!0,password:E})});if(!Le.ok){const He=await Le.json().catch(()=>({}));throw new Error(He.detail||"Create failed")}Ke.success("Encrypted backup started"),N(!1),z(""),he()}catch(Le){Le.message==="Access denied"?ae():(I(Le.message||"Failed to create backup"),Ke.error(Le.message||"Failed to create backup")),t(He=>He.filter(ve=>ve.id!==Re)),se.current=e.some(He=>He.status==="in_progress")}finally{i(!1),l(!1)}},We=async(Re,pe,Le)=>{if(Le){T(Re);return}try{const He=await fetch(`${Bt}/backups/${Re}/download`,{method:"GET",credentials:"include",headers:B?{"X-Backup-Token":B}:{}});if(!He.ok)throw new Error(He.status===403?"Access denied":"Download failed");const ve=await He.blob(),Ne=window.URL.createObjectURL(ve),ze=document.createElement("a");ze.href=Ne,ze.download=pe,ze.click(),window.URL.revokeObjectURL(Ne),Ke.success("Downloaded")}catch(He){He.message==="Access denied"?ae():Ke.error("Download failed")}},fe=async()=>{if(!(!M||!O))try{const Re=await fetch(`${Bt}/backups/${M}/download`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",...B&&{"X-Backup-Token":B}},body:JSON.stringify({password:O})});if(!Re.ok)throw new Error("Invalid password");const pe=await Re.blob(),Le=e.find(Ne=>Ne.id===M),He=window.URL.createObjectURL(pe),ve=document.createElement("a");ve.href=He,ve.download=(Le==null?void 0:Le.filename)||"backup.enc",ve.click(),window.URL.revokeObjectURL(He),Ke.success("Decrypted & downloaded"),T(null),A("")}catch{Ke.error("Wrong password")}},ht=async(Re,pe=!1)=>{if(!(!confirm("Restore this backup? This will overwrite current data.")||!e.find(He=>He.id===Re))){if(pe){Z(Re);return}De(Re,null)}},De=async(Re,pe)=>{try{const Le=e.find(Ne=>Ne.id===Re);if(!Le)return;d(Le),p(Date.now());const He={};pe&&(He.password=pe);const ve=await fetch(`${Bt}/backups/${Re}/restore`,{method:"POST",credentials:"include",headers:K(),body:Object.keys(He).length>0?JSON.stringify(He):void 0});if(!ve.ok){const Ne=await ve.json().catch(()=>({}));throw new Error(Ne.detail||"Restore failed")}x.current=setInterval(()=>{he()},1e3),Ke.success("Restore started. Please do not close this window.")}catch(Le){Le.message==="Access denied"?ae():Ke.error(Le.message||"Restore failed"),d(null),p(null),x.current&&clearInterval(x.current)}},Ee=async()=>{!W||!Y||(De(W,Y),Z(null),te(""))};U.useEffect(()=>()=>{x.current&&clearInterval(x.current)},[]),U.useEffect(()=>{if(!c)return;const Re=e.find(pe=>pe.id===c.id);Re&&Re.status!=="restoring"&&Re.status!=="in_progress"&&(x.current&&clearInterval(x.current),Re.status==="completed"?Ke.success("Database restored successfully!"):Re.status==="failed"&&Ke.error(`Restore failed: ${Re.error_message||"Unknown error"}`),d(null),p(null))},[e,c]);const Ue=async Re=>{if(confirm("Delete this backup?"))try{const pe=await fetch(`${Bt}/backups/${Re}`,{method:"DELETE",credentials:"include",headers:K()});if(!pe.ok)throw new Error(pe.status===403?"Access denied":"Delete failed");Ke.success("Deleted"),he()}catch(pe){pe.message==="Access denied"?ae():Ke.error("Delete failed")}},rt=Re=>Re?yi(AA(Re),ipe):"",ft=U.useMemo(()=>[{header:"Status",accessor:Re=>Re.status,cell:Re=>{const pe=Re==="completed",Le=Re==="failed",He=Re==="in_progress"||Re==="restoring";return n.jsxs("div",{className:"flex items-center space-x-2",children:[pe&&n.jsx(la,{className:"w-4 h-4 text-success-600 dark:text-success-400"}),Le&&n.jsx(ei,{className:"w-4 h-4 text-error-600 dark:text-error-400"}),He&&n.jsx(to,{className:"w-4 h-4 text-accent-600 dark:text-accent-400 animate-spin"}),n.jsx("span",{className:`inline-flex items-center px-2 py-0.5 text-xs font-medium rounded ${pe?"bg-success-100 dark:bg-success-900 text-success-800 dark:text-success-300":Le?"bg-error-100 dark:bg-error-900 text-error-800 dark:text-error-300":He?"bg-accent-100 dark:bg-accent-900 text-accent-800 dark:text-accent-300":"bg-primary-100 dark:bg-primary-800 text-primary-800 dark:text-primary-300"}`,children:Re.replace("_"," ")})]})},sortable:!0},{header:"Filename",accessor:"filename",cell:(Re,pe)=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(U1,{className:"w-4 h-4 text-primary-400 dark:text-primary-500"}),n.jsx("span",{className:"font-medium text-primary-900 dark:text-primary-100",children:Re}),pe.encrypted&&n.jsx(La,{className:"w-4 h-4 text-green-600 dark:text-green-400",title:"Encrypted"})]}),pe.error_message&&n.jsx("p",{className:"mt-1 text-xs text-error-600 dark:text-error-400",children:pe.error_message})]})},{header:"Progress",accessor:Re=>Re.status==="in_progress"||Re.status==="restoring"?Re.progress_percentage||0:null,cell:(Re,pe)=>pe.status!=="in_progress"&&pe.status!=="restoring"?n.jsx("span",{className:"text-xs text-primary-500 dark:text-primary-400",children:""}):n.jsxs("div",{className:"w-32",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"text-xs text-primary-600 dark:text-primary-400",children:pe.progress_message||"Processing..."}),n.jsxs("span",{className:"text-xs font-medium text-primary-700 dark:text-primary-300",children:[Re,"%"]})]}),n.jsx("div",{className:"w-full bg-primary-200 dark:bg-primary-700 rounded-full h-1.5",children:n.jsx("div",{className:"bg-accent-600 dark:bg-accent-500 h-1.5 rounded-full transition-all duration-300",style:{width:`${Re}%`}})})]})},{header:"Size",accessor:"file_size",cell:Re=>n.jsx("span",{className:"text-sm text-primary-700 dark:text-primary-300",children:z4(Re)})},{header:"Type",accessor:"backup_type",cell:Re=>n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-medium rounded bg-primary-100 dark:bg-primary-800 text-primary-800 dark:text-primary-300",children:Re})},{header:"Created",accessor:"created_at",cell:Re=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Tu,{className:"w-4 h-4 text-primary-400 dark:text-primary-500"}),n.jsx("span",{className:"text-xs font-medium text-primary-700 dark:text-primary-300",children:rt(Re)})]}),sortable:!0},{header:"Actions",accessor:"id",cell:(Re,pe)=>n.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[pe.status==="completed"&&n.jsx(Be,{variant:"secondary",size:"sm",onClick:()=>We(pe.id,pe.filename,!!pe.encrypted),leftIcon:n.jsx(Xd,{className:"w-3.5 h-3.5"}),children:"Download"}),pe.status==="completed"&&n.jsx(Be,{variant:"accent",size:"sm",onClick:()=>ht(pe.id,!!pe.encrypted),leftIcon:n.jsx(By,{className:"w-3.5 h-3.5"}),disabled:pe.status==="restoring"||pe.status==="in_progress",children:pe.status==="restoring"||pe.status==="in_progress"?"Restoring...":"Restore"}),n.jsx(Be,{variant:"danger",size:"sm",onClick:()=>Ue(pe.id),leftIcon:n.jsx(ud,{className:"w-3.5 h-3.5"}),disabled:pe.status==="restoring"||pe.status==="in_progress",children:"Delete"})]})}],[B,c]);return n.jsxs(n.Fragment,{children:[n.jsx(lpe,{isOpen:oe,onClose:()=>ee(!1),onSuccess:ge}),C&&n.jsx(ju,{isOpen:!0,onClose:()=>{N(!1),z(""),I("")},title:"Set Encryption Password",size:"sm",footer:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(Be,{variant:"secondary",size:"sm",onClick:()=>{N(!1),z(""),I("")},disabled:a,children:"Cancel"}),n.jsx(Be,{variant:"primary",size:"sm",onClick:Ae,disabled:!E.trim()||a,children:a?"Creating...":"Create Encrypted Backup"})]}),children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-600 dark:text-primary-400",children:[n.jsx(Jl,{className:"w-4 h-4"}),n.jsx("span",{children:"Set a strong password to encrypt this backup."})]}),n.jsx("input",{type:"password",value:E,onChange:Re=>{z(Re.target.value),I("")},placeholder:"Encryption password",className:"w-full px-3 py-2 text-sm rounded-md border border-primary-300 dark:border-primary-600 bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100 focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400 focus:border-accent-500 dark:focus:border-accent-400 transition-all",autoFocus:!0}),P&&n.jsxs("p",{className:"text-xs text-error-600 dark:text-error-400 flex items-center gap-1",children:[n.jsx(aa,{className:"w-3.5 h-3.5"}),P]})]})}),M&&n.jsx(ju,{isOpen:!0,onClose:()=>{T(null),A("")},title:"Enter Backup Password",size:"sm",footer:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(Be,{variant:"secondary",size:"sm",onClick:()=>{T(null),A("")},children:"Cancel"}),n.jsx(Be,{variant:"primary",size:"sm",onClick:fe,disabled:!O,children:"Download"})]}),children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-600 dark:text-primary-400",children:[n.jsx(Rw,{className:"w-4 h-4"}),n.jsx("span",{children:"This backup is encrypted. Enter the password to download."})]}),n.jsx("input",{type:"password",value:O,onChange:Re=>A(Re.target.value),placeholder:"Backup password",className:"w-full px-3 py-2 text-sm rounded-md border border-primary-300 dark:border-primary-600 bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100 focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400 focus:border-accent-500 dark:focus:border-accent-400 transition-all",autoFocus:!0})]})}),W&&n.jsx(ju,{isOpen:!0,onClose:()=>{Z(null),te("")},title:"Enter Backup Password",size:"sm",footer:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(Be,{variant:"secondary",size:"sm",onClick:()=>{Z(null),te("")},children:"Cancel"}),n.jsx(Be,{variant:"primary",size:"sm",onClick:Ee,disabled:!Y,children:"Restore"})]}),children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-600 dark:text-primary-400",children:[n.jsx(Rw,{className:"w-4 h-4"}),n.jsx("span",{children:"This backup is encrypted. Enter the password to restore."})]}),n.jsx("input",{type:"password",value:Y,onChange:Re=>te(Re.target.value),placeholder:"Backup password",className:"w-full px-3 py-2 text-sm rounded-md border border-primary-300 dark:border-primary-600 bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100 focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400 focus:border-accent-500 dark:focus:border-accent-400 transition-all",autoFocus:!0})]})}),c&&n.jsx(cpe,{backup:c,startTime:u,onClose:()=>{d(null),p(null),x.current&&clearInterval(x.current)}}),!f&&n.jsx("div",{className:"min-h-screen bg-primary-50 dark:bg-primary-950 flex items-center justify-center p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Jl,{className:"w-16 h-16 text-primary-400 dark:text-primary-600 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-primary-900 dark:text-primary-50 mb-2",children:"Master Password Required"}),n.jsx("p",{className:"text-primary-600 dark:text-primary-400",children:"Authenticate to access System Backups"})]})}),f&&n.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-primary-900 dark:text-primary-50 flex items-center space-x-2",children:[n.jsx(Xm,{className:"w-7 h-7 text-accent-600 dark:text-accent-400"}),n.jsx("span",{children:"System Backups"})]}),n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 mt-1",children:"Create, restore, and manage encrypted backups"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(Be,{variant:"secondary",size:"sm",leftIcon:n.jsx(Za,{className:`w-4 h-4 ${r?"animate-spin":""}`}),onClick:he,disabled:r,children:"Refresh"}),n.jsx(Be,{variant:"secondary",size:"sm",leftIcon:n.jsx(Nn,{className:"w-4 h-4"}),onClick:()=>_(!0),children:"Filter"}),n.jsx(Be,{variant:"primary",size:"sm",leftIcon:n.jsx(Xm,{className:"w-4 h-4"}),onClick:()=>ke(!1),disabled:a,children:a&&!o?"Creating...":"Create Backup"}),n.jsx(Be,{variant:"success",size:"sm",leftIcon:n.jsx(La,{className:"w-4 h-4"}),onClick:()=>ke(!0),disabled:a,children:a&&o?"Encrypting...":"Encrypted Backup"})]})]}),n.jsx("div",{className:"bg-accent-50 dark:bg-accent-900/20 border border-accent-200 dark:border-accent-800 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(ei,{className:"w-5 h-5 text-accent-600 dark:text-accent-400 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-accent-900 dark:text-accent-100",children:"About System Backups"}),n.jsxs("p",{className:"mt-1 text-sm text-accent-700 dark:text-accent-300",children:["Use ",n.jsx("strong",{children:"Encrypted Backup"})," for sensitive data. Restore will overwrite current database."]})]})]})}),n.jsx(it,{className:"bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700 overflow-hidden",children:r&&e.length===0?n.jsx("div",{className:"p-8 text-center text-sm text-primary-600 dark:text-primary-400",children:"Loading..."}):e.length===0?n.jsxs("div",{className:"p-12 text-center",children:[n.jsx(Xm,{className:"mx-auto h-12 w-12 text-primary-400 dark:text-primary-600"}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-primary-900 dark:text-primary-50",children:"No backups yet"}),n.jsx("p",{className:"mt-2 text-sm text-primary-500 dark:text-primary-400",children:"Create your first backup"}),n.jsxs("div",{className:"mt-6 flex justify-center gap-3",children:[n.jsx(Be,{onClick:()=>ke(!1),disabled:a,children:"Create Backup"}),n.jsx(Be,{variant:"success",onClick:()=>ke(!0),disabled:a,children:"Encrypted Backup"})]})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsx(r0,{data:e,columns:ft,keyField:"id",searchable:!0,pagination:!0,rowClassName:"border-b border-primary-200 dark:border-primary-700 hover:bg-primary-50 dark:hover:bg-primary-800",headerClassName:"bg-primary-50 dark:bg-primary-800 text-primary-900 dark:text-primary-100 font-medium text-xs uppercase tracking-wider",cellClassName:"px-3 py-2.5 text-sm"})})}),e.length>0&&n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[n.jsx(it,{className:"p-4 bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-success-100 dark:bg-success-900 rounded-lg",children:n.jsx(la,{className:"w-6 h-6 text-success-600 dark:text-success-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:"Completed"}),n.jsx("p",{className:"text-2xl font-bold text-primary-900 dark:text-primary-50",children:e.filter(Re=>Re.status==="completed").length})]})]})}),n.jsx(it,{className:"p-4 bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-accent-100 dark:bg-accent-900 rounded-lg",children:n.jsx(to,{className:"w-6 h-6 text-accent-600 dark:text-accent-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:"In Progress"}),n.jsx("p",{className:"text-2xl font-bold text-primary-900 dark:text-primary-50",children:e.filter(Re=>Re.status==="in_progress"||Re.status==="restoring").length})]})]})}),n.jsx(it,{className:"p-4 bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:n.jsx(La,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:"Encrypted"}),n.jsx("p",{className:"text-2xl font-bold text-primary-900 dark:text-primary-50",children:e.filter(Re=>Re.encrypted).length})]})]})}),n.jsx(it,{className:"p-4 bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-800 rounded-lg",children:n.jsx(U1,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:"Total Size"}),n.jsx("p",{className:"text-2xl font-bold text-primary-900 dark:text-primary-50",children:z4(e.filter(Re=>Re.status==="completed").reduce((Re,pe)=>Re+pe.file_size,0))})]})]})})]}),n.jsx(ju,{isOpen:v,onClose:()=>_(!1),title:"Filter Backups",size:"md",footer:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(Be,{variant:"secondary",size:"sm",onClick:()=>{S({}),_(!1),he()},children:"Clear"}),n.jsx(Be,{variant:"secondary",size:"sm",onClick:()=>_(!1),children:"Cancel"}),n.jsx(Be,{variant:"primary",size:"sm",onClick:()=>{_(!1),he()},disabled:r,children:"Apply"})]}),children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-1",children:"Status"}),n.jsxs("select",{value:k.status??"",onChange:Re=>S(pe=>({...pe,status:Re.target.value})),className:"w-full px-3 py-2 text-sm rounded-md border border-primary-300 dark:border-primary-600 bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100 focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400 focus:border-accent-500 dark:focus:border-accent-400 transition-all",children:[n.jsx("option",{value:"",children:"All"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"failed",children:"Failed"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-1",children:"Backup Type"}),n.jsx("input",{type:"text",placeholder:"e.g. full, incremental",value:k.backup_type??"",onChange:Re=>S(pe=>({...pe,backup_type:Re.target.value})),className:"w-full px-3 py-2 text-sm rounded-md border border-primary-300 dark:border-primary-600 bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100 focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400 focus:border-accent-500 dark:focus:border-accent-400 transition-all",autoFocus:!0})]})]})})]})]})},lpe=({isOpen:e,onClose:t,onSuccess:r})=>{const[s,a]=U.useState(""),[i,o]=U.useState(!1),[l,c]=U.useState(""),d=async u=>{u.preventDefault(),c(""),o(!0);try{const p=await fetch(`${Bt}/backups/master-password/verify`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({password:s})});if(!p.ok)throw new Error("Invalid master password");const x=await p.json();r(x.backup_token,x.expires_in),a("")}catch(p){c(p.message),Ke.error(p.message)}finally{o(!1)}};return e?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:n.jsxs("div",{className:"bg-white dark:bg-primary-900 rounded-lg shadow-xl w-full max-w-md border border-primary-200 dark:border-primary-700",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 pb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-error-100 dark:bg-error-900 rounded-lg",children:n.jsx(Jl,{className:"w-6 h-6 text-error-600 dark:text-error-400"})}),n.jsx("h2",{className:"text-xl font-semibold text-primary-900 dark:text-primary-50",children:"Master Password Required"})]}),n.jsx("button",{onClick:t,className:"text-primary-500 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-200",children:n.jsx(Bs,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"mx-6 mb-5 p-4 bg-warning-50 dark:bg-warning-900/20 border border-warning-200 dark:border-warning-800 rounded-lg flex gap-3",children:[n.jsx(aa,{className:"w-5 h-5 text-warning-600 dark:text-warning-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-warning-800 dark:text-warning-300",children:[n.jsx("p",{className:"font-medium mb-1",children:"Restricted Access"}),n.jsx("p",{children:"Enter the master password to access System Backups."})]})]}),n.jsxs("form",{onSubmit:d,className:"px-6 pb-6",children:[n.jsxs("div",{className:"mb-5",children:[n.jsx("label",{htmlFor:"master-password",className:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-2",children:"Master Password"}),n.jsx("input",{id:"master-password",type:"password",value:s,onChange:u=>a(u.target.value),className:"w-full px-3 py-2 text-sm rounded-md border border-primary-300 dark:border-primary-600 bg-white dark:bg-primary-800 text-primary-900 dark:text-primary-100 placeholder:text-primary-500 dark:placeholder:text-primary-500 focus:outline-none focus:ring-2 focus:ring-accent-500 dark:focus:ring-accent-400 focus:border-accent-500 dark:focus:border-accent-400 transition-all",placeholder:"Enter master password",autoFocus:!0,required:!0}),l&&n.jsxs("p",{className:"mt-2 text-sm text-error-600 dark:text-error-400 flex items-center gap-1",children:[n.jsx(aa,{className:"w-3.5 h-3.5"}),l]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(Be,{variant:"secondary",size:"md",onClick:t,disabled:i,className:"flex-1",children:"Cancel"}),n.jsx(Be,{type:"submit",variant:"primary",size:"md",disabled:i||!s.trim(),className:"flex-1",children:i?"Verifying...":"Verify"})]})]}),n.jsx("div",{className:"px-6 pb-6",children:n.jsx("p",{className:"text-xs text-primary-500 dark:text-primary-400 text-center",children:"Access is logged and expires automatically"})})]})}):null},cpe=({backup:e,startTime:t,onClose:r})=>{const[s,a]=U.useState(0),[i,o]=U.useState(0);U.useEffect(()=>{const p=e.file_size/1048576,x=Math.ceil(p/5)+30;o(x)},[e.file_size]),U.useEffect(()=>{if(!t)return;const p=setInterval(()=>{const x=Date.now();a(Math.floor((x-t)/1e3))},500);return()=>clearInterval(p)},[t]);const l=p=>{const x=Math.floor(p/60),f=p%60;return`${x}m ${f}s`},c=e.progress_percentage||0,d=e.status==="completed",u=e.status==="failed";return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:n.jsxs("div",{className:"bg-white dark:bg-primary-900 rounded-lg shadow-2xl w-full max-w-md border border-primary-200 dark:border-primary-700 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 pb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${d?"bg-success-100 dark:bg-success-900":u?"bg-error-100 dark:bg-error-900":"bg-accent-100 dark:bg-accent-900"}`,children:d?n.jsx(la,{className:"w-6 h-6 text-success-600 dark:text-success-400"}):u?n.jsx(ei,{className:"w-6 h-6 text-error-600 dark:text-error-400"}):n.jsx(Za,{className:"w-6 h-6 text-accent-600 dark:text-accent-400 animate-spin"})}),n.jsx("h2",{className:"text-xl font-semibold text-primary-900 dark:text-primary-50",children:d?"Restore Completed":u?"Restore Failed":"Restoring Database"})]}),(d||u)&&n.jsx("button",{onClick:r,className:"text-primary-500 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-200",children:n.jsx(Bs,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"px-6 pb-6 space-y-6",children:[n.jsxs("div",{className:"p-4 bg-primary-50 dark:bg-primary-800 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-primary-700 dark:text-primary-300 mb-2",children:"Backup File"}),n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 font-mono break-all",children:e.filename}),n.jsxs("p",{className:"text-xs text-primary-500 dark:text-primary-400 mt-1",children:["Size: ",z4(e.file_size)]})]}),!u&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-primary-700 dark:text-primary-300",children:e.progress_message||"Processing..."}),n.jsxs("span",{className:"text-sm font-semibold text-accent-600 dark:text-accent-400",children:[c,"%"]})]}),n.jsx("div",{className:"w-full bg-primary-200 dark:bg-primary-700 rounded-full h-3 overflow-hidden",children:n.jsx("div",{className:"bg-gradient-to-r from-accent-500 to-accent-600 dark:from-accent-500 dark:to-accent-400 h-3 rounded-full transition-all duration-500 ease-out",style:{width:`${c}%`}})})]}),u&&e.error_message&&n.jsx("div",{className:"p-4 bg-error-50 dark:bg-error-900/20 border border-error-200 dark:border-error-800 rounded-lg",children:n.jsxs("p",{className:"text-sm text-error-700 dark:text-error-300 flex items-start gap-2",children:[n.jsx(aa,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),n.jsx("span",{children:e.error_message})]})}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{className:"p-3 bg-primary-50 dark:bg-primary-800 rounded-lg text-center",children:[n.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400 mb-1",children:"Elapsed"}),n.jsx("p",{className:"text-sm font-semibold text-primary-900 dark:text-primary-100",children:l(s)})]}),n.jsxs("div",{className:"p-3 bg-primary-50 dark:bg-primary-800 rounded-lg text-center",children:[n.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400 mb-1",children:"Estimated"}),n.jsx("p",{className:"text-sm font-semibold text-primary-900 dark:text-primary-100",children:l(i)})]}),n.jsxs("div",{className:"p-3 bg-primary-50 dark:bg-primary-800 rounded-lg text-center",children:[n.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400 mb-1",children:"Remaining"}),n.jsx("p",{className:"text-sm font-semibold text-primary-900 dark:text-primary-100",children:l(Math.max(0,i-s))})]})]}),!d&&!u&&n.jsxs("div",{className:"p-4 bg-warning-50 dark:bg-warning-900/20 border border-warning-200 dark:border-warning-800 rounded-lg flex gap-3",children:[n.jsx(aa,{className:"w-5 h-5 text-warning-600 dark:text-warning-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-warning-800 dark:text-warning-300",children:[n.jsx("p",{className:"font-medium mb-1",children:"Do Not Close"}),n.jsx("p",{children:"Closing this window may interrupt the restore process and damage your database."})]})]}),d&&n.jsxs("div",{className:"p-4 bg-success-50 dark:bg-success-900/20 border border-success-200 dark:border-success-800 rounded-lg flex gap-3",children:[n.jsx(la,{className:"w-5 h-5 text-success-600 dark:text-success-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-success-800 dark:text-success-300",children:[n.jsx("p",{className:"font-medium",children:"Restore Successful"}),n.jsx("p",{children:"Your database has been restored from the backup."})]})]})]}),(d||u)&&n.jsx("div",{className:"border-t border-primary-200 dark:border-primary-700 px-6 py-4 flex justify-end",children:n.jsx(Be,{variant:"primary",size:"sm",onClick:r,children:"Close"})})]})})},dpe=e=>"";class upe{constructor(){zt(this,"cacheTimeout",3e4);zt(this,"lastFetchTime",0);zt(this,"cachedData",null);zt(this,"currentSessionId",null);zt(this,"sessionExpiryTime",null);zt(this,"sessionRefreshTimer",null)}async initCurrentSessionId(){var t,r;if(!this.currentSessionId)try{console.info("[SessionMonitor] Fetching current session ID ");const s=await ps.get("/auth/sessions/current");this.currentSessionId=s.data.id,console.info("[SessionMonitor] Current session ID set:",this.currentSessionId)}catch(s){((t=s.response)==null?void 0:t.status)===404||((r=s.response)==null?void 0:r.status)===401?(console.info("[SessionMonitor] No active session (expected)"),this.currentSessionId=null):console.warn("[SessionMonitor] Failed to get current session ID:",s)}}mapBackendSession(t,r){const s=Date.now(),i=new Date(t.expiresAt).getTime()<=s,o=!t.isActive;return{id:t.id,userId:t.userId,username:t.username||"Unknown",email:t.email,loginTime:t.createdAt,lastActivityTime:t.createdAt,expiryTime:t.expiresAt,status:i||o?"expired":"active",ipAddress:t.ipAddress,userAgent:`${t.deviceName||"Unknown"}`,isCurrentSession:r}}async refreshSessionFromAuthMe(){var t,r;console.info("[SessionMonitor] Refreshing session from /auth/me ");try{const a=(await ps.get("/auth/me")).data;if(!a.is_active)return console.warn("[SessionMonitor] User is inactive  logout"),this.triggerLogout(),!1;const i=new Date(a.session_metadata.expires_at).getTime(),o=Date.now(),l=i-o,c=60*1e3;return console.info(`[SessionMonitor] Session expires in ${Math.round(l/1e3)}s (${a.session_timeout} min timeout)`),this.sessionExpiryTime=i,l<=c?(console.warn(`[SessionMonitor] Session expiring soon (${Math.round(l/1e3)}s)  logout`),this.triggerLogout(),!1):(this.scheduleNextRefresh(a.session_timeout),!0)}catch(s){return((t=s.response)==null?void 0:t.status)===401||((r=s.response)==null?void 0:r.status)===403?(console.warn("[SessionMonitor] Auth failed (401/403)  logout"),this.triggerLogout()):console.warn("[SessionMonitor] Error refreshing session:",s.message),!1}}scheduleNextRefresh(t){this.sessionRefreshTimer&&clearTimeout(this.sessionRefreshTimer);const r=t*60*1e3*.7;console.info(`[SessionMonitor] Next refresh scheduled in ${Math.round(r/1e3)}s`),this.sessionRefreshTimer=setTimeout(()=>{this.refreshSessionFromAuthMe()},r)}async getActiveSessions(t=!1){var s;await this.initCurrentSessionId();const r=Date.now();if(!t&&this.cachedData&&r-this.lastFetchTime<this.cacheTimeout)return console.info(`[SessionMonitor] Cache hit  ${this.cachedData.sessions.length} session(s)`),this.checkAndLogoutIfInvalid(this.cachedData.sessions),this.cachedData.sessions;console.info("[SessionMonitor] Fetching active sessions from backend ");try{const a=await ps.get("/auth/sessions/active"),i=a.data.sessions.map(o=>this.mapBackendSession(o,o.id===this.currentSessionId));return this.cachedData={sessions:i,totalActiveSessions:a.data.total_active_sessions},this.lastFetchTime=r,console.info(`[SessionMonitor] Received ${i.length} active session(s)`),this.checkAndLogoutIfInvalid(i),i}catch(a){return console.warn("[SessionMonitor] Failed to fetch sessions:",a),((s=this.cachedData)==null?void 0:s.sessions)||[]}}async getCurrentSessionDetails(){var t,r;console.info("[SessionMonitor] Requesting current session details ");try{const s=await ps.get("/auth/sessions/current");this.currentSessionId=s.data.id;const a=this.mapBackendSession(s.data,!0);console.info("[SessionMonitor] Current session:",dpe(a));const i=new Date(s.data.expiresAt).getTime(),o=30*1e3,l=i-o<=Date.now();return(!s.data.isActive||l)&&(console.warn("[SessionMonitor] Current session is expired or inactive  forcing logout"),this.triggerLogout()),a}catch(s){return((t=s.response)==null?void 0:t.status)===404||((r=s.response)==null?void 0:r.status)===401?(console.info("[SessionMonitor] No current session  logout"),this.triggerLogout()):console.warn("[SessionMonitor] Error fetching current session:",s),null}}checkAndLogoutIfInvalid(t){const r=t.find(s=>s.isCurrentSession);if(!r){console.warn("[SessionMonitor] Current session missing from active list  logout"),this.triggerLogout();return}r.status==="expired"&&(console.warn("[SessionMonitor] Current session expired  logout"),this.triggerLogout())}triggerLogout(){const{logout:t}=ra.getState();typeof t=="function"&&t()}clearTimers(){this.sessionRefreshTimer&&(clearTimeout(this.sessionRefreshTimer),this.sessionRefreshTimer=null)}async terminateSession(t){var r;console.info(`[SessionMonitor] Terminating session ${t} `);try{const s=await ps.post(`/auth/sessions/${t}/terminate`);return console.info(`[SessionMonitor] Session ${t} terminated:`,s.data),this.cachedData=null,this.lastFetchTime=0,console.info("[SessionMonitor] Cache cleared after session termination"),!0}catch(s){return console.warn(`[SessionMonitor] Failed to terminate session ${t}:`,((r=s.response)==null?void 0:r.data)||s.message),!1}}clearCache(){console.info("[SessionMonitor] Cache cleared"),this.cachedData=null,this.lastFetchTime=0,this.clearTimers()}}const OL=new upe;function hpe({autoRefreshInterval:e=6e4,enabled:t=!0}={}){const[r,s]=U.useState([]),[a,i]=U.useState(!1),[o,l]=U.useState(null),[c,d]=U.useState(new Date),u=U.useCallback(async(p=!1)=>{if(t){i(!0),l(null);try{const x=await OL.getActiveSessions(p);s(x),d(new Date),console.log("[SessionMonitorData] Fetched sessions:",x.length)}catch(x){const f=x instanceof Error?x.message:"Failed to fetch sessions";l(f),console.error("[SessionMonitorData] Error:",x)}finally{i(!1)}}},[t]);return U.useEffect(()=>{u();const p=setInterval(()=>{u()},e);return()=>clearInterval(p)},[u,e]),{sessions:r,loading:a,error:o,lastRefresh:c,refetch:()=>u(!0)}}function fpe(){const{sessions:e,loading:t,error:r,lastRefresh:s,refetch:a}=hpe({autoRefreshInterval:6e4}),[i,o]=U.useState(null),[l,c]=U.useState(null),d=y=>{try{return new Date(y).toLocaleString()}catch{return y}},u=y=>{try{const v=new Date(y).getTime(),_=Date.now(),k=v-_;if(k<=0)return"Expired";const S=Math.floor(k/6e4),M=Math.floor(S/60),T=Math.floor(M/24);return T>0?`${T}d ${M%24}h`:M>0?`${M}h ${S%60}m`:`${S}m`}catch{return"Unknown"}},p=y=>{const _=u(y.expiryTime)==="Expired";return n.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium transition-colors ${_?"bg-error-50 text-error-800 border border-error-300 dark:bg-error-950 dark:text-error-400 dark:border-error-800":y.status==="active"?"bg-success-50 text-success-800 border border-success-300 dark:bg-success-950 dark:text-success-400 dark:border-success-800":"bg-warning-50 text-warning-800 border border-warning-300 dark:bg-warning-950 dark:text-warning-400 dark:border-warning-800"}`,children:[n.jsx($0,{size:12}),y.status==="active"?"Active":"Idle"]})},x=async y=>{if(!window.confirm("Are you sure you want to terminate this session? The user will be logged out."))return;o(y),await OL.terminateSession(y)?a():alert("Failed to terminate session"),o(null)},f=y=>{c(l===y?null:y)};return n.jsxs("div",{className:"p-0 sm:p-0 space-y-2",children:[n.jsxs("div",{className:"sticky top-0 z-40 bg-primary-50 dark:bg-primary-900 border-b border-primary-200 dark:border-primary-700 flex flex-col sm:flex-row sm:items-center justify-between gap-3 p-4 transition-colors duration-200",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Iw,{className:"w-5 h-5 text-accent-600 dark:text-accent-400"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg sm:text-xl font-bold text-primary-900 dark:text-primary-50",children:"Session Monitor"}),n.jsx("p",{className:"text-xs sm:text-sm text-primary-600 dark:text-primary-400",children:"Monitor all active user sessions in real-time"})]})]}),n.jsxs(Be,{onClick:()=>a(),variant:"secondary",className:"flex items-center space-x-2",size:"sm",disabled:t,children:[n.jsx(Za,{className:`w-3 h-3 ${t?"animate-spin":""}`}),n.jsx("span",{children:"Refresh"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4 p-4",children:[n.jsx(it,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:"Active Sessions"}),n.jsx("p",{className:"text-3xl font-bold text-primary-900 dark:text-primary-50",children:e.length})]}),n.jsx(d7,{className:"text-accent-600 dark:text-accent-400",size:32})]})}),n.jsx(it,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:"Active Users"}),n.jsx("p",{className:"text-3xl font-bold text-primary-900 dark:text-primary-50",children:new Set(e.map(y=>y.userId)).size})]}),n.jsx($0,{className:"text-success-600 dark:text-success-400",size:32})]})}),n.jsx(it,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400",children:"Last Refreshed"}),n.jsx("p",{className:"text-sm font-mono text-primary-900 dark:text-primary-300",children:s.toLocaleTimeString()})]}),n.jsx(to,{className:"text-warning-600 dark:text-warning-400",size:32})]})})]}),r&&n.jsx("div",{className:"mx-4",children:n.jsx(it,{className:"p-3 bg-error-50 dark:bg-error-950 border border-error-300 dark:border-error-800",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ei,{className:"w-4 h-4 text-error-600 dark:text-error-400"}),n.jsx("p",{className:"text-sm text-error-800 dark:text-error-300",children:r})]})})}),n.jsx("div",{className:"mx-4",children:n.jsxs(it,{className:"overflow-hidden",children:[n.jsx("div",{className:"hidden lg:block overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-primary-200 dark:divide-primary-700",children:[n.jsx("thead",{className:"bg-primary-100 dark:bg-primary-800",children:n.jsx("tr",{children:["User","Status","Login Time","Time Remaining","IP Address","Actions"].map(y=>n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-primary-700 dark:text-primary-300 uppercase tracking-wider",children:y},y))})}),n.jsx("tbody",{className:"divide-y divide-primary-200 dark:divide-primary-700",children:t&&e.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-4 py-8 text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary-600 dark:text-primary-400",children:[n.jsx(Za,{className:"w-4 h-4 animate-spin"}),n.jsx("p",{className:"text-sm",children:"Loading sessions..."})]})})}):e.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-primary-600 dark:text-primary-400",children:"No active sessions found"})}):e.map(y=>n.jsxs("tr",{className:"hover:bg-primary-50 dark:hover:bg-primary-800 transition-colors",children:[n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-primary-900 dark:text-primary-100",children:y.username}),n.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400",children:y.email})]})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:p(y)}),n.jsx("td",{className:"px-4 py-3 text-sm text-primary-700 dark:text-primary-300",children:d(y.loginTime)}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx("span",{className:`font-medium ${u(y.expiryTime)==="Expired"?"text-error-600 dark:text-error-400":"text-success-600 dark:text-success-400"}`,children:u(y.expiryTime)})}),n.jsx("td",{className:"px-4 py-3 text-sm font-mono text-primary-700 dark:text-primary-300",children:y.ipAddress}),n.jsx("td",{className:"px-4 py-3 text-sm",children:!y.isCurrentSession&&n.jsxs("button",{onClick:()=>x(y.id),disabled:i===y.id,className:"text-error-600 dark:text-error-400 hover:text-error-700 dark:hover:text-error-300 disabled:opacity-50 flex items-center gap-1 transition-colors",children:[n.jsx(Rv,{size:16}),i===y.id?"...":"Logout"]})})]},y.id))})]})}),n.jsx("div",{className:"lg:hidden",children:t&&e.length===0?n.jsx("div",{className:"p-6 text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary-600 dark:text-primary-400",children:[n.jsx(Za,{className:"w-4 h-4 animate-spin"}),n.jsx("p",{className:"text-sm",children:"Loading sessions..."})]})}):e.length===0?n.jsx("div",{className:"p-6 text-center text-primary-600 dark:text-primary-400",children:"No active sessions found"}):n.jsx("div",{className:"divide-y divide-primary-200 dark:divide-primary-700",children:e.map(y=>{const v=l===y.id;return n.jsxs("div",{className:"p-4 hover:bg-primary-50 dark:hover:bg-primary-800 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>f(y.id),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-800 flex items-center justify-center",children:n.jsx($0,{size:16,className:y.status==="active"?"text-success-600 dark:text-success-400":"text-warning-600 dark:text-warning-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-primary-900 dark:text-primary-100",children:y.username}),n.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400",children:y.email})]})]}),v?n.jsx(Oy,{className:"w-4 h-4 text-primary-500 dark:text-primary-400"}):n.jsx(q0,{className:"w-4 h-4 text-primary-500 dark:text-primary-400"})]}),v&&n.jsxs("div",{className:"mt-4 space-y-3 text-sm border-t border-primary-200 dark:border-primary-700 pt-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"Status"}),p(y)]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"Login Time"}),n.jsx("span",{className:"text-primary-700 dark:text-primary-300",children:d(y.loginTime)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"Time Remaining"}),n.jsx("span",{className:`font-medium ${u(y.expiryTime)==="Expired"?"text-error-600 dark:text-error-400":"text-success-600 dark:text-success-400"}`,children:u(y.expiryTime)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"IP Address"}),n.jsx("span",{className:"font-mono text-primary-700 dark:text-primary-300",children:y.ipAddress})]}),!y.isCurrentSession&&n.jsx("div",{className:"pt-2",children:n.jsxs("button",{onClick:_=>{_.stopPropagation(),x(y.id)},disabled:i===y.id,className:"w-full text-error-600 dark:text-error-400 hover:text-error-700 dark:hover:text-error-300 disabled:opacity-50 flex items-center justify-center gap-1 transition-colors text-sm font-medium",children:[n.jsx(Rv,{size:16}),i===y.id?"Terminating...":"Logout User"]})})]})]},y.id)})})})]})}),n.jsx("div",{className:"mx-4 mt-3",children:n.jsx(it,{className:"p-3 bg-primary-100 dark:bg-primary-800 border border-primary-200 dark:border-primary-700",children:n.jsxs("p",{className:"text-sm text-primary-700 dark:text-primary-300",children:[n.jsx("strong",{className:"text-primary-900 dark:text-primary-100",children:"Note:"})," ","This page auto-refreshes every 60 seconds. Data is cached for 30 seconds to minimize server load. You can manually refresh using the button above. Session expiry times are controlled by the backend."]})})})]})}const mpe=()=>{const e=Vr(),{username:t}=ra(),[r,s]=U.useState(null),[a,i]=U.useState(!0),o=[{id:"user-management",title:"User Management",description:"Create, edit, and manage user accounts and roles",icon:n.jsx(Cu,{className:"w-6 h-6"}),path:"/admin/users",color:"bg-accent-50 dark:bg-accent-900 border-accent-200 dark:border-accent-700",badge:r==null?void 0:r.totalUsers.toString(),badgeColor:"bg-accent-100 dark:bg-accent-800 text-accent-900 dark:text-accent-100"},{id:"permissions",title:"User Permissions",description:"Manage user permissions and asset category access",icon:n.jsx(Jl,{className:"w-6 h-6"}),path:"/admin/permissions",color:"bg-warning-50 dark:bg-warning-900 border-warning-200 dark:border-warning-700"},{id:"security",title:"Security Dashboard",description:"Monitor security metrics and access controls",icon:n.jsx(La,{className:"w-6 h-6"}),path:"/admin/security",color:"bg-success-50 dark:bg-success-900 border-success-200 dark:border-success-700",badge:r==null?void 0:r.securityAlerts.toString(),badgeColor:"bg-success-100 dark:bg-success-800 text-success-900 dark:text-success-100"},{id:"audit-logs",title:"Audit Logs",description:"View comprehensive system activity and events",icon:n.jsx(Ya,{className:"w-6 h-6"}),path:"/admin/audit-logs",color:"bg-primary-50 dark:bg-primary-800 border-primary-200 dark:border-primary-700",badge:r==null?void 0:r.recentAuditLogs.toString(),badgeColor:"bg-primary-100 dark:bg-primary-700 text-primary-900 dark:text-primary-100"},{id:"reports",title:"Reports",description:"Generate and view system reports and analytics",icon:n.jsx(Ya,{className:"w-6 h-6"}),path:"/admin/reports",color:"bg-error-50 dark:bg-error-900 border-error-200 dark:border-error-700"},{id:"system-backups",title:"System Backups",description:"Manage database backups and system recovery",icon:n.jsx(Xm,{className:"w-6 h-6"}),path:"/admin/backups",color:"bg-purple-50 dark:bg-purple-900 border-purple-200 dark:border-purple-700",badge:r==null?void 0:r.systemBackups.toString(),badgeColor:"bg-purple-100 dark:bg-purple-800 text-purple-900 dark:text-purple-100"},{id:"session-monitor",title:"Session Monitor",description:"Track active user sessions and manage logins",icon:n.jsx($0,{className:"w-6 h-6"}),path:"/admin/session-monitor",color:"bg-cyan-50 dark:bg-cyan-900 border-cyan-200 dark:border-cyan-700",badge:r==null?void 0:r.activeSessions.toString(),badgeColor:"bg-cyan-100 dark:bg-cyan-800 text-cyan-900 dark:text-cyan-100"}],l=async()=>{i(!0);try{const c={"Content-Type":"application/json"},d=await fetch("https://assets-system-sigma.vercel.app/api/users",{method:"GET",credentials:"include",headers:c}),u=d.ok?await d.json():[],p=await fetch("https://assets-system-sigma.vercel.app/api/audit-logs?limit=500",{method:"GET",credentials:"include",headers:c}),x=p.ok?await p.json():[],f=u.length,y=u.filter(N=>N.is_active).length,v=f-y,_=new Date(Date.now()-1440*60*1e3),k=x.filter(N=>new Date(N.timestamp)>_).length,S=x.filter(N=>new Date(N.timestamp)>_&&["LOGIN_FAILED","LOGIN_LOCKED","PERMISSION_GRANTED","PERMISSION_REVOKED"].includes(N.action)).length,M={},T={},O={};x.forEach(N=>{if(N.entity_type==="asset_category"&&N.action==="CATEGORY_VIEW"){const E=N.entity_id;E&&(T[E]||(T[E]={count:0,users:new Set}),T[E].count++,N.username&&T[E].users.add(N.username))}N.username&&N.action&&!["LOGIN","LOGOUT"].includes(N.action)&&(O[N.username]=(O[N.username]||0)+1),N.action&&!["LOGIN","LOGOUT"].includes(N.action)&&(M[N.action]=(M[N.action]||0)+1)});const A=Object.entries(T).map(([N,E])=>({category:N,count:E.count,users:E.users.size})).sort((N,E)=>E.count-N.count).slice(0,5),C=Object.entries(O).map(([N,E])=>({username:N,visits:E})).sort((N,E)=>E.visits-N.visits).slice(0,5);s({totalUsers:f,activeUsers:y,inactiveUsers:v,recentAuditLogs:k,systemBackups:5,activeSessions:y,pendingApprovals:2,securityAlerts:S,pageAccessFrequency:M,categoriesVisited:A,topUsers:C})}catch(c){console.error("Error fetching admin stats:",c)}finally{i(!1)}};return U.useEffect(()=>{l()},[]),n.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-primary-900 dark:text-primary-50",children:"Admin Dashboard"}),n.jsxs("p",{className:"text-sm text-primary-600 dark:text-primary-400 mt-2",children:["Welcome back, ",t,". Here's an overview of your admin functions."]})]}),n.jsxs(Be,{onClick:l,variant:"secondary",size:"sm",className:"flex items-center space-x-2",disabled:a,children:[n.jsx(Za,{className:`w-4 h-4 ${a?"animate-spin":""}`}),n.jsx("span",{children:"Refresh"})]})]}),r&&n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[n.jsx(it,{className:"p-4 bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-primary-600 dark:text-primary-400",children:"Total Users"}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-primary-900 dark:text-primary-100 mt-1",children:r.totalUsers}),n.jsxs("p",{className:"text-xs text-success-600 dark:text-success-400 mt-2",children:[r.activeUsers," active"]})]}),n.jsx(Cu,{className:"w-8 h-8 text-accent-600 dark:text-accent-400"})]})}),n.jsx(it,{className:"p-4 bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-primary-600 dark:text-primary-400",children:"Active Sessions"}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-primary-900 dark:text-primary-100 mt-1",children:r.activeSessions}),n.jsx("p",{className:"text-xs text-primary-500 dark:text-primary-500 mt-2",children:"Currently online"})]}),n.jsx($0,{className:"w-8 h-8 text-success-600 dark:text-success-400"})]})}),n.jsx(it,{className:"p-4 bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-primary-600 dark:text-primary-400",children:"Recent Audit Logs"}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-primary-900 dark:text-primary-100 mt-1",children:r.recentAuditLogs}),n.jsx("p",{className:"text-xs text-primary-500 dark:text-primary-500 mt-2",children:"Last 24 hours"})]}),n.jsx(Ya,{className:"w-8 h-8 text-warning-600 dark:text-warning-400"})]})}),n.jsx(it,{className:"p-4 bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs sm:text-sm font-medium text-primary-600 dark:text-primary-400",children:"Security Events"}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-primary-900 dark:text-primary-100 mt-1",children:r.securityAlerts}),n.jsx("p",{className:"text-xs text-error-600 dark:text-error-400 mt-2",children:"Requires attention"})]}),n.jsx(La,{className:"w-8 h-8 text-error-600 dark:text-error-400"})]})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-primary-900 dark:text-primary-50",children:"Admin Functions"}),n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 mt-1",children:"Access all administrative tools and settings"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(c=>n.jsxs(it,{className:`p-4 border cursor-pointer transition-all hover:shadow-lg hover:scale-105 dark:hover:shadow-lg ${c.color}`,onClick:()=>e(c.path),onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&e(c.path)},role:"button",tabIndex:0,children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-white dark:bg-primary-800 rounded-lg",children:c.icon}),n.jsx("div",{children:n.jsx("h3",{className:"font-semibold text-primary-900 dark:text-primary-100",children:c.title})})]}),c.badge&&n.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${c.badgeColor||"bg-primary-100 text-primary-900"}`,children:c.badge})]}),n.jsx("p",{className:"text-sm text-primary-700 dark:text-primary-300 mb-4",children:c.description}),n.jsxs("div",{className:"flex items-center text-accent-600 dark:text-accent-400 text-sm font-medium",children:[n.jsxs("span",{children:["Go to ",c.title]}),n.jsx(Pp,{className:"w-4 h-4 ml-2"})]})]},c.id))})]}),r&&n.jsxs(it,{className:"bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700",children:[n.jsxs("div",{className:"p-4 border-b border-primary-200 dark:border-primary-700",children:[n.jsxs("h2",{className:"text-lg font-semibold text-primary-900 dark:text-primary-50 flex items-center",children:[n.jsx($0,{className:"w-5 h-5 mr-2 text-accent-600 dark:text-accent-400"}),"User Activity & Access Analytics"]}),n.jsx("p",{className:"text-sm text-primary-600 dark:text-primary-400 mt-1",children:"Detailed insights into system usage patterns and user engagement"})]}),n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-base font-semibold text-primary-900 dark:text-primary-100 mb-4 flex items-center",children:[n.jsx(t5,{className:"w-5 h-5 mr-2 text-accent-600 dark:text-accent-400"}),"Most Visited Categories"]}),n.jsx("div",{className:"space-y-3",children:r.categoriesVisited.length>0?r.categoriesVisited.map((c,d)=>{const u=c.count/Math.max(...r.categoriesVisited.map(p=>p.count),1)*100;return n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("span",{className:"inline-flex items-center justify-center h-8 w-8 rounded-lg bg-accent-100 dark:bg-accent-900 text-accent-700 dark:text-accent-300 text-sm font-semibold",children:d+1})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-primary-900 dark:text-primary-100 truncate",children:c.category}),n.jsx("div",{className:"mt-1 w-full bg-primary-200 dark:bg-primary-700 rounded-full h-2",children:n.jsx("div",{className:"bg-accent-500 h-2 rounded-full transition-all",style:{width:`${u}%`}})})]}),n.jsxs("div",{className:"flex-shrink-0 text-right",children:[n.jsx("p",{className:"text-sm font-semibold text-primary-900 dark:text-primary-100",children:c.count}),n.jsxs("p",{className:"text-xs text-primary-600 dark:text-primary-400",children:[c.users," users"]})]})]},d)}):n.jsx("div",{className:"text-sm text-primary-600 dark:text-primary-400 text-center py-4",children:"No category visit data available"})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-base font-semibold text-primary-900 dark:text-primary-100 mb-4 flex items-center",children:[n.jsx(Cu,{className:"w-5 h-5 mr-2 text-success-600 dark:text-success-400"}),"Most Active Users"]}),n.jsx("div",{className:"space-y-3",children:r.topUsers.length>0?r.topUsers.map((c,d)=>{const u=c.visits/Math.max(...r.topUsers.map(p=>p.visits),1)*100;return n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("span",{className:"inline-flex items-center justify-center h-8 w-8 rounded-lg bg-success-100 dark:bg-success-900 text-success-700 dark:text-success-300 text-sm font-semibold",children:d+1})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-primary-900 dark:text-primary-100 truncate",children:c.username}),n.jsx("div",{className:"mt-1 w-full bg-primary-200 dark:bg-primary-700 rounded-full h-2",children:n.jsx("div",{className:"bg-success-500 h-2 rounded-full transition-all",style:{width:`${u}%`}})})]}),n.jsxs("div",{className:"flex-shrink-0 text-right",children:[n.jsx("p",{className:"text-sm font-semibold text-primary-900 dark:text-primary-100",children:c.visits}),n.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400",children:"actions"})]})]},d)}):n.jsx("div",{className:"text-sm text-primary-600 dark:text-primary-400 text-center py-4",children:"No user activity data available"})})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-base font-semibold text-primary-900 dark:text-primary-100 mb-4 flex items-center",children:[n.jsx(Pw,{className:"w-5 h-5 mr-2 text-warning-600 dark:text-warning-400"}),"Page Access Frequency"]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Object.entries(r.pageAccessFrequency).sort(([,c],[,d])=>d-c).slice(0,6).map(([c,d],u)=>n.jsxs("div",{className:"p-3 bg-primary-50 dark:bg-primary-800 rounded-lg border border-primary-200 dark:border-primary-700 text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-primary-900 dark:text-primary-100",children:d}),n.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400 mt-1 truncate",children:c})]},u))})]}),n.jsx("div",{className:"bg-accent-50 dark:bg-accent-950 border border-accent-200 dark:border-accent-800 rounded-lg p-4",children:n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-accent-600 dark:text-accent-400 font-medium",children:"Total Actions"}),n.jsx("p",{className:"text-2xl font-bold text-accent-900 dark:text-accent-100 mt-1",children:Object.values(r.pageAccessFrequency).reduce((c,d)=>c+d,0)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-accent-600 dark:text-accent-400 font-medium",children:"Categories Accessed"}),n.jsx("p",{className:"text-2xl font-bold text-accent-900 dark:text-accent-100 mt-1",children:r.categoriesVisited.length})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-accent-600 dark:text-accent-400 font-medium",children:"Avg Actions/User"}),n.jsx("p",{className:"text-2xl font-bold text-accent-900 dark:text-accent-100 mt-1",children:r.totalUsers>0?(Object.values(r.pageAccessFrequency).reduce((c,d)=>c+d,0)/r.totalUsers).toFixed(1):0})]})]})})]})]}),r&&n.jsxs(it,{className:"bg-white dark:bg-primary-900 border-primary-200 dark:border-primary-700",children:[n.jsx("div",{className:"p-4 border-b border-primary-200 dark:border-primary-700",children:n.jsxs("h2",{className:"text-lg font-semibold text-primary-900 dark:text-primary-50 flex items-center",children:[n.jsx(aa,{className:"w-5 h-5 mr-2 text-warning-600 dark:text-warning-400"}),"System Status & Alerts"]})}),n.jsxs("div",{className:"p-4 space-y-3",children:[r.inactiveUsers>0&&n.jsxs("div",{className:"flex items-center p-3 bg-accent-50 dark:bg-accent-950 border border-accent-200 dark:border-accent-800 rounded-lg",children:[n.jsx(aa,{className:"w-5 h-5 text-accent-600 dark:text-accent-400 mr-3 flex-shrink-0"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-accent-800 dark:text-accent-300",children:[r.inactiveUsers," inactive user accounts"]}),n.jsx("p",{className:"text-xs text-accent-700 dark:text-accent-400",children:"Consider archiving or removing unused accounts"})]})]}),r.securityAlerts>5&&n.jsxs("div",{className:"flex items-center p-3 bg-error-50 dark:bg-error-950 border border-error-200 dark:border-error-800 rounded-lg",children:[n.jsx(aa,{className:"w-5 h-5 text-error-600 dark:text-error-400 mr-3 flex-shrink-0"}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-error-800 dark:text-error-300",children:[r.securityAlerts," security events in last 24 hours"]}),n.jsx("p",{className:"text-xs text-error-700 dark:text-error-400",children:"Review audit logs and security dashboard for details"})]})]}),n.jsxs("div",{className:"flex items-center p-3 bg-success-50 dark:bg-success-950 border border-success-200 dark:border-success-800 rounded-lg",children:[n.jsx(La,{className:"w-5 h-5 text-success-600 dark:text-success-400 mr-3 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-success-800 dark:text-success-300",children:"System is running normally"}),n.jsx("p",{className:"text-xs text-success-700 dark:text-success-400",children:"All critical systems operational"})]})]})]})]})]})};function ppe({children:e}){const{isAuthenticated:t,isLoading:r}=C3();return r?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):t?n.jsx(n.Fragment,{children:e}):n.jsx(Tp,{to:"/login",replace:!0})}function xpe({children:e}){const{isAuthenticated:t,isLoading:r}=C3();return r?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):t?n.jsx(Tp,{to:"/dashboard",replace:!0}):n.jsx(n.Fragment,{children:e})}const gpe=()=>{const{isAdmin:e}=ra();return e?n.jsx(jh,{}):n.jsx(Tp,{to:"/dashboard",replace:!0})},vpe=({message:e="You don't have permission to access this resource.",showBackButton:t=!0})=>{const r=Vr();return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:n.jsx(it,{className:"max-w-md w-full text-center",children:n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-red-100 flex items-center justify-center",children:n.jsx(La,{className:"w-8 h-8 text-red-600"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600 mb-8",children:e}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[t&&n.jsxs(Be,{variant:"secondary",onClick:()=>r(-1),className:"flex items-center justify-center",children:[n.jsx(Pa,{className:"w-4 h-4 mr-2"}),"Go Back"]}),n.jsxs(Be,{variant:"primary",onClick:()=>r("/dashboard"),className:"flex items-center justify-center",children:[n.jsx(ln,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]})]})})})},uh=({children:e,requiredCategory:t,category:r,requiredLevel:s=Vl.READ,fallbackPath:a="/dashboard",showAccessDenied:i=!0})=>{const{isAdmin:o}=ra(),{hasPermission:l}=zy(),c=xd(),d=t||r;return o?e?n.jsx(n.Fragment,{children:e}):n.jsx(jh,{}):d?l(d,s)?e?n.jsx(n.Fragment,{children:e}):n.jsx(jh,{}):i?n.jsx(vpe,{message:`You don't have permission to access ${d.toLowerCase().replace(/_/g," ")} resources.`}):n.jsx(Tp,{to:a,state:{from:c},replace:!0}):e?n.jsx(n.Fragment,{children:e}):n.jsx(jh,{})},ype=CD([{element:n.jsx(xpe,{children:n.jsx(jh,{})}),children:[{element:n.jsx(sz,{}),children:[{path:"/login",element:n.jsx(Ofe,{})},{path:"/forgot-password",element:n.jsx(zfe,{})},{path:"/reset-password",element:n.jsx(Ufe,{})},{path:"/verify-2fa",element:n.jsx(yme,{})},{path:"/2fa",element:n.jsx(_me,{})},{path:"/auth/secure-password-change",element:n.jsx(kme,{})}]}]},{element:n.jsx(ppe,{children:n.jsx(jh,{})}),children:[{element:n.jsx(tz,{}),children:[{path:"/",element:n.jsx(Tp,{to:"/dashboard",replace:!0})},{path:"/dashboard",element:n.jsx(QH,{})},{path:"/settings",element:n.jsx(Pfe,{})},{path:"/profile",element:n.jsx(Ffe,{})},{path:"/notifications",element:n.jsx(wme,{})},{path:"/asset-categories",element:n.jsx(Nme,{})},{path:"/change-password",element:n.jsx(gme,{})},{path:"/register",element:n.jsx(Bfe,{})},{element:n.jsx(uh,{requiredCategory:cr.ICT_ASSETS}),children:[{path:"/categories/ict-assets",element:n.jsx(Ghe,{})},{path:"/categories/ict-assets/new",element:n.jsx(T8,{})},{path:"/categories/ict-assets/:id",element:n.jsx(ife,{})},{path:"/categories/ict-assets/:id/edit",element:n.jsx(T8,{})},{path:"/categories/ict-assets/:id/transfer",element:n.jsx(ofe,{})}]},{element:n.jsx(uh,{requiredCategory:cr.LAND_REGISTER}),children:[{path:"/categories/land-register",element:n.jsx(yle,{})},{path:"/categories/land-register/new",element:n.jsx(s8,{})},{path:"/categories/land-register/:id",element:n.jsx(She,{})},{path:"/categories/land-register/:id/edit",element:n.jsx(s8,{})}]},{element:n.jsx(uh,{requiredCategory:cr.BUILDINGS_REGISTER}),children:[{path:"/categories/buildings",element:n.jsx(nle,{})},{path:"/categories/buildings/new",element:n.jsx(YS,{})},{path:"/categories/buildings/:id",element:n.jsx(SG,{})},{path:"/categories/buildings/:id/edit",element:n.jsx(YS,{})}]},{element:n.jsx(uh,{requiredCategory:cr.FURNITURE_FITTINGS_EQUIPMENT}),children:[{path:"/categories/furniture-equipment",element:n.jsx(Lhe,{})},{path:"/categories/furniture-equipment/new",element:n.jsx(C8,{})},{path:"/categories/furniture-equipment/:id",element:n.jsx(Mhe,{})},{path:"/categories/furniture-equipment/:id/edit",element:n.jsx(C8,{})},{path:"/categories/furniture-equipment/:id/transfer",element:n.jsx(Phe,{})}]},{element:n.jsx(uh,{requiredCategory:cr.PLANT_MACHINERY}),children:[{path:"/categories/plant-machinery",element:n.jsx(Ahe,{})},{path:"/categories/plant-machinery/new",element:n.jsx(j8,{})},{path:"/categories/plant-machinery/:id",element:n.jsx(Ehe,{})},{path:"/categories/plant-machinery/:id/edit",element:n.jsx(j8,{})},{path:"/categories/plant-machinery/:id/transfer",element:n.jsx(The,{})}]},{element:n.jsx(uh,{requiredCategory:cr.PORTABLE_ATTRACTIVE_ITEMS}),children:[{path:"/categories/portable-items",element:n.jsx(Fhe,{})},{path:"/categories/portable-items/new",element:n.jsx(S8,{})},{path:"/categories/portable-items/:id",element:n.jsx(Dhe,{})},{path:"/categories/portable-items/:id/edit",element:n.jsx(S8,{})},{path:"/categories/portable-items/:id/transfer",element:n.jsx(Ihe,{})}]},{element:n.jsx(uh,{requiredCategory:cr.MOTOR_VEHICLES_REGISTER}),children:[{path:"/categories/vehicles",element:n.jsx(Rhe,{})},{path:"/categories/vehicles/new",element:n.jsx(E8,{})},{path:"/categories/vehicles/:id",element:n.jsx($he,{})},{path:"/categories/vehicles/:id/edit",element:n.jsx(E8,{})}]},{element:n.jsx(uh,{requiredCategory:cr.OFFICE_EQUIPMENT}),children:[{path:"/categories/office-equipment",element:n.jsx(Whe,{})},{path:"/categories/office-equipment/new",element:n.jsx(A8,{})},{path:"/categories/office-equipment/:id",element:n.jsx(Hhe,{})},{path:"/categories/office-equipment/:id/edit",element:n.jsx(A8,{})},{path:"/categories/office-equipment/:id/transfer",element:n.jsx(Vhe,{})}]},{element:n.jsx(gpe,{}),children:[{path:"/admin",element:n.jsx(mpe,{})},{path:"/admin/users",element:n.jsx(Ame,{})},{path:"/admin/permissions",element:n.jsx(ape,{})},{path:"/admin/security",element:n.jsx(npe,{})},{path:"/admin/audit-logs",element:n.jsx(Mme,{})},{path:"/admin/reports",element:n.jsx(tpe,{})},{path:"/admin/users/add",element:n.jsx(spe,{})},{path:"/admin/backups",element:n.jsx(ope,{})},{path:"/admin/session-monitor",element:n.jsx(fpe,{})}]}]}]},{path:"*",element:n.jsx($fe,{})}]);function bpe(){return U.useEffect(()=>{const{initializeTheme:e}=e5.getState();e()},[]),n.jsx(ER,{children:n.jsx(RD,{router:ype})})}CP.createRoot(document.getElementById("root")).render(n.jsx(U.StrictMode,{children:n.jsx(bpe,{})}));export{wa as _,l2 as c,Qx as g};
